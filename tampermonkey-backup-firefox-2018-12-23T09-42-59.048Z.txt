{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Muxxu Kingdom - Expand Troop Transfer","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["http://kingdom.en.muxxu.com/general*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":false,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1545471787195,"data":{}},"enabled":true,"position":1,"uuid":"0b9d6a7e-24db-4a21-ab6f-616fc79ce0a1","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBNdXh4dSBLaW5nZG9tIC0gRXhwYW5kIFRyb29wIFRyYW5zZmVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgdHJ5IHRvIHRha2Ugb3ZlciB0aGUgd29ybGQhCi8vIEBhdXRob3IgICAgICAgWW91Ci8vIEBpbmNsdWRlICAgICAgaHR0cDovL2tpbmdkb20uZW4ubXV4eHUuY29tL2dlbmVyYWwqCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtb3JlbWludXMiKTsKICAgIHZhciBhcnJheSA9IFsic29sZCIsImFyY2giLCJjYXYiLCJwYWwiLCJwaXEiLCJjaGV2IiwiY2FhIiwiYmFsIiwiY2F0Il07CiAgICBjb25zdCBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9yZW1pbnVzJyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwbHVzMTAwID0gIjxsaT48YSBocmVmPVwiI1wiIGlkPVwicHNvbGRcIiBjbGFzcz1cInBsdXN0ZW5cIiBvbmNsaWNrPVwicmV0dXJuIGRlbHRhKCciK2FycmF5W2ldKyInLDEwMClcIiBzdHlsZT1cIm9wYWNpdHk6IDE7XCI+PC9hPjwvbGk+IjsKICAgICAgICB2YXIgbWludXMxMDAgPSAiPGxpPjxhIGhyZWY9XCIjXCIgaWQ9XCJtbXNvbGRcIiBjbGFzcz1cIm1pbnVzdGVuXCIgb25jbGljaz1cInJldHVybiBkZWx0YSgnIithcnJheVtpXSsiJywtMTAwKVwiIHN0eWxlPVwib3BhY2l0eTogMTtcIj48L2E+PC9saT4iOwogICAgICAgIHZhciBwbHVzMTAwMCA9ICI8bGk+PGEgaHJlZj1cIiNcIiBpZD1cInBzb2xkXCIgY2xhc3M9XCJwbHVzdGVuXCIgb25jbGljaz1cInJldHVybiBkZWx0YSgnIithcnJheVtpXSsiJywxMDAwKVwiIHN0eWxlPVwib3BhY2l0eTogMTtcIj48L2E+PC9saT4iOwogICAgICAgIHZhciBtaW51czEwMDAgPSAiPGxpPjxhIGhyZWY9XCIjXCIgaWQ9XCJtbXNvbGRcIiBjbGFzcz1cIm1pbnVzdGVuXCIgb25jbGljaz1cInJldHVybiBkZWx0YSgnIithcnJheVtpXSsiJywtMTAwMClcIiBzdHlsZT1cIm9wYWNpdHk6IDE7XCI+PC9hPjwvbGk+IjsKICAgICAgICB2YXIgdHIxID0gIjx0cj48dGQgc3R5bGU9XCJib3JkZXI6IDBweDsgcGFkZGluZzowcHg7XCI+IitwbHVzMTAwKyI8L3RkPjx0ZCBzdHlsZT1cImJvcmRlcjogMHB4OyBwYWRkaW5nOjBweDtcIj4iK21pbnVzMTAwKyI8L3RkPjwvdHI+IjsKICAgICAgICB2YXIgdHIyID0gIjx0cj48dGQgc3R5bGU9XCJib3JkZXI6IDBweDsgcGFkZGluZzowcHg7XCI+IitwbHVzMTAwMCsiPC90ZD48dGQgc3R5bGU9XCJib3JkZXI6IDBweDsgcGFkZGluZzowcHg7XCI+IittaW51czEwMDArIjwvdGQ+PC90cj4iOwogICAgICAgIHZhciB0YWJsZT0gIjx0YWJsZSBzdHlsZT1cImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtcIj4iK3RyMSt0cjIrIjwvdGFibGU+IjsKICAgICAgICBsaXN0SXRlbXNbaV0uaW5uZXJIVE1MICs9IHRhYmxlOwp9CgoKCn0pKCk7"},{"name":"CTRL+W","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["http://mush.vg/*","http://mush.twinoid.com/*","http://mush.twinoid.es/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":["ctrl-w.badconker.fr"]}},"storage":{"ts":1536858701563,"data":{}},"enabled":true,"position":2,"file_url":"https://raw.github.com/badconker/ctrl-w/release/CTRLW.user.js","uuid":"c01715d6-13f3-454f-8258-b1b6c985a0d4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENUUkwrVwovLyBAbmFtZXNwYWNlICAgTXVzaAovLyBAbGljZW5zZSAgICAgTUlUIExpY2Vuc2UgKEV4cGF0KQovLyBAaW5jbHVkZSAgICAgaHR0cDovL211c2gudmcvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL211c2gudHdpbm9pZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL211c2gudHdpbm9pZC5lcy8qCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3Jhdy5naXRodWIuY29tL2JhZGNvbmtlci9jdHJsLXcvcmVsZWFzZS9DVFJMVy51c2VyLmpzCi8vIEBjb25uZWN0ICAgICBjdHJsLXcuYmFkY29ua2VyLmZyCi8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgIEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgICAgICAgdW5zYWZlV2luZG93Ci8vIEByZXF1aXJlICAgICBsaWIvanF1ZXJ5LTEuMTEuMS5taW4uanMKLy8gQHJlcXVpcmUgICAgIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vYmFkY29ua2VyL2N0cmwtdy9yZWxlYXNlL2xpYi9HZXR0ZXh0LmpzCi8vIEByZXNvdXJjZSAgICBtdXNoIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vYmFkY29ua2VyL2N0cmwtdy9yZWxlYXNlL2xpYi9NdXNoLmpzCi8vIEByZXNvdXJjZSAgICB0cmFuc2xhdGlvbjpmciBodHRwczovL3Jhdy5naXRodWIuY29tL2JhZGNvbmtlci9jdHJsLXcvcmVsZWFzZS90cmFuc2xhdGlvbnMvZnIvTENfTUVTU0FHRVMvY3RybC13LnBvCi8vIEByZXNvdXJjZSAgICBjc3M6amdyb3dsIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vYmFkY29ua2VyL2N0cmwtdy9yZWxlYXNlL2xpYi9qcXVlcnkuamdyb3dsLmNzcwovLyBAcmVzb3VyY2UgICAgamdyb3dsIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vYmFkY29ua2VyL2N0cmwtdy9yZWxlYXNlL2xpYi9qcXVlcnkuamdyb3dsLmpzCi8vIEByZXNvdXJjZSAgICB0cmFuc2xhdGlvbjplbiBodHRwczovL3Jhdy5naXRodWIuY29tL2JhZGNvbmtlci9jdHJsLXcvcmVsZWFzZS90cmFuc2xhdGlvbnMvZW4vTENfTUVTU0FHRVMvY3RybC13LnBvCi8vIEByZXNvdXJjZSAgICB0cmFuc2xhdGlvbjplcyBodHRwczovL3Jhdy5naXRodWIuY29tL2JhZGNvbmtlci9jdHJsLXcvcmVsZWFzZS90cmFuc2xhdGlvbnMvZXMvTENfTUVTU0FHRVMvY3RybC13LnBvCi8vIEB2ZXJzaW9uICAgICAwLjM2LjkKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgTWFpbiA9IHVuc2FmZVdpbmRvdy5NYWluOwp2YXIgX3RpZCA9IHVuc2FmZVdpbmRvdy5fdGlkOwogIC8qdmFyIEFycmF5RXggPSB1bnNhZmVXaW5kb3cuQXJyYXlFeDsKdmFyIENoYXRUeXBlID0gdW5zYWZlV2luZG93LkNoYXRUeXBlOwp2YXIgQ2xpZW50cyA9IHVuc2FmZVdpbmRvdy5DbGllbnRzOwp2YXIgQ3Jvc3NDb25zdHMgPSB1bnNhZmVXaW5kb3cuQ3Jvc3NDb25zdHM7CnZhciBoYXhlID0gdW5zYWZlV2luZG93LmhheGU7CnZhciBIeE92ZXJyaWRlcyA9IHVuc2FmZVdpbmRvdy5IeE92ZXJyaWRlczsqLwp2YXIganMgPSB1bnNhZmVXaW5kb3cuanM7CmpzLkpRdWVyeSA9ICQ7Ci8qdmFyIExhbWJkYSA9IHVuc2FmZVdpbmRvdy5MYW1iZGE7CnZhciBSZWZsZWN0ID0gdW5zYWZlV2luZG93LlJlZmxlY3Q7CnZhciBTZWxlY3Rpb24gPSB1bnNhZmVXaW5kb3cuU2VsZWN0aW9uOwp2YXIgU3RkID0gdW5zYWZlV2luZG93LlN0ZDsKdmFyIFN0cmluZ0J1ZiA9IHVuc2FmZVdpbmRvdy5TdHJpbmdCdWY7CnZhciBTdHJpbmdUb29scyA9IHVuc2FmZVdpbmRvdy5TdHJpbmdUb29sczsKdmFyIFRhZyA9IHVuc2FmZVdpbmRvdy5UYWc7CnZhciBUb29scyA9IHVuc2FmZVdpbmRvdy5Ub29sczsKdmFyIFV0aWxzID0gdW5zYWZlV2luZG93LlV0aWxzOyovCnZhciBtdCA9IHVuc2FmZVdpbmRvdy5tdDsKdmFyIG11c2hfanF1ZXJ5ID0gdW5zYWZlV2luZG93LiQ7CgppZiAodHlwZW9mKGV4cG9ydEZ1bmN0aW9uKSA9PSAndW5kZWZpbmVkJykgewoJdmFyIGV4cG9ydEZ1bmN0aW9uID0gZnVuY3Rpb24oZm9vLCBzY29wZSwgZGVmQXMpewoJCXJldHVybiBmb287Cgl9Cn0KaWYgKHR5cGVvZihjcmVhdGVPYmplY3RJbikgPT0gJ3VuZGVmaW5lZCcpIHsKCXZhciBjcmVhdGVPYmplY3RJbiA9IGZ1bmN0aW9uKG9iaixvcHRpb25zKXsKCQlyZXR1cm4ge307Cgl9Cn0KaWYgKHR5cGVvZihjbG9uZUludG8pID09ICd1bmRlZmluZWQnKSB7Cgl2YXIgY2xvbmVJbnRvID0gZnVuY3Rpb24ob2JqLHRhcmdldFNjb3BlLG9wdGlvbnMpewoJCXJldHVybiBvYmo7Cgl9Cn0KTWFpbi5rID0gY3JlYXRlT2JqZWN0SW4odW5zYWZlV2luZG93Lk1haW4sIHtkZWZpbmVBczogImsifSk7CgpNYWluLmsud2luZG93ID0gdW5zYWZlV2luZG93OwpNYWluLmsudmVyc2lvbiA9IEdNX2luZm8uc2NyaXB0LnZlcnNpb247Ck1haW4uay53ZWJzaXRlID0gImh0dHA6Ly9rczI2NzgyLmtpbXN1ZmkuY29tL2N0cmx3IjsKTWFpbi5rLnNlcnZ1cmwgPSAiaHR0cDovL2N0cmwtdy5iYWRjb25rZXIuZnIiOwpNYWluLmsud2luZG93ID0gd2luZG93OwpNYWluLmsuZG9tYWluID0gZG9jdW1lbnQuZG9tYWluOwpNYWluLmsubXVzaHVybCA9ICdodHRwOi8vJyArIGRvY3VtZW50LmRvbWFpbjsKTWFpbi5rLmRlYnVnID0gZmFsc2U7Ck1haW4uay5lcnJvckxpc3QgPSBbXTsKaWYoTWFpbi5rLmRlYnVnKXsKCXZhciBjb25zb2xlID0gdW5zYWZlV2luZG93LmNvbnNvbGU7Cn1lbHNlewoJdmFyIGNvbnNvbGUgPSB7fTsKCWNvbnNvbGUubG9nID0gY29uc29sZS5lcnJvciA9IGNvbnNvbGUuaW5mbyA9IGNvbnNvbGUuZGVidWcgPSBjb25zb2xlLndhcm4gPSBjb25zb2xlLnRyYWNlID0gY29uc29sZS5kaXIgPSBjb25zb2xlLmRpcnhtbCA9IGNvbnNvbGUuZ3JvdXAgPSBjb25zb2xlLmdyb3VwRW5kID0gY29uc29sZS50aW1lID0gY29uc29sZS50aW1lRW5kID0gY29uc29sZS5hc3NlcnQgPSBjb25zb2xlLnByb2ZpbGUgPSBmdW5jdGlvbigpIHt9Owp9CgoKU3RyaW5nLnByb3RvdHlwZS5odG1sRW5jb2RlID0gZnVuY3Rpb24oKSB7CglyZXR1cm4gJCgnPGRpdi8+JykudGV4dCh0aGlzKS5odG1sKCk7Cn07ClN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKCkgewoJcmV0dXJuIHRoaXMucmVwbGFjZSgvKD86XnxccylcUy9nLCBmdW5jdGlvbihhKSB7CgkJcmV0dXJuIGEudG9VcHBlckNhc2UoKTsKCX0pOwp9OwpTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VGcm9tT2JqID0gZnVuY3Rpb24ob2JqKSB7CiAgdmFyIHJldFN0ciA9IHRoaXM7CiAgZm9yICh2YXIgeCBpbiBvYmopIHsKCWlmKG9iai5oYXNPd25Qcm9wZXJ0eSh4KSl7CgkJcmV0U3RyID0gcmV0U3RyLnJlcGxhY2UobmV3IFJlZ0V4cCh4LCAnZycpLCBvYmpbeF0pOwoJfQogIH0KICByZXR1cm4gcmV0U3RyOwp9OwpTdHJpbmcucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24oKSB7Cgl2YXIgaGFzaCA9IDA7CglpZiAodGhpcy5sZW5ndGggPT0gMCkgcmV0dXJuIGhhc2g7Cglmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewoJCWNoYXIgPSB0aGlzLmNoYXJDb2RlQXQoaSk7CgkJaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hhcjsKCQloYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlcgoJfQoJcmV0dXJuIGhhc2g7Cn07ClJlZ0V4cC5lc2NhcGUgPSBmdW5jdGlvbihzKSB7CglyZXR1cm4gcy5yZXBsYWNlKC9bLVwvXFxeJCorPy4oKXxbXF17fV0vZywgJ1xcJCYnKTsKfTsKZnVuY3Rpb24gYWRkRmN0VG9QYWdlICh0ZXh0LCBuYW1lKSB7Cgl2YXIgRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBkb2N1bWVudDsKCXZhciBzY3JpcHROb2RlICAgICAgICAgICAgICAgICAgICAgICAgICA9IEQuY3JlYXRlRWxlbWVudCAoJ3NjcmlwdCcpOwoJc2NyaXB0Tm9kZS50eXBlICAgICAgICAgICAgICAgICAgICAgICAgID0gInRleHQvamF2YXNjcmlwdCI7CglpZiAodGV4dCkgICAgICAgc2NyaXB0Tm9kZS50ZXh0Q29udGVudCAgPSB0ZXh0OwoJaWYgKG5hbWUpCQlzY3JpcHROb2RlLnRleHRDb250ZW50ICA9IG5hbWUgKyAnID0gJyArIHRleHQ7CgoJdmFyIHRhcmcgPSBELmdldEVsZW1lbnRzQnlUYWdOYW1lICgnaGVhZCcpWzBdIHx8IEQuYm9keSB8fCBELmRvY3VtZW50RWxlbWVudDsKCXRhcmcuYXBwZW5kQ2hpbGQgKHNjcmlwdE5vZGUpOwp9Ck1haW4uay5pbml0RGF0YSA9IGZ1bmN0aW9uKCkgewoJLy8gRGVmaW5lIGlmIHdlIGFyZSBpbmdhbWUKCU1haW4uay5wbGF5aW5nID0gTWFpbi5oZXJvZXMuaXRlcmF0b3IoKS5oYXNOZXh0KCk7CgoJTWFpbi5rLkJNQVhXSURUSCA9IDExNjA7CgkvL3RoaXMgdmFyaWFibGUgY2FuIGJlIG1vZGlmaWVkIGR1cmluZyBzY3JpcHQgZXhlY3V0aW9uCglNYWluLmsuSEVST0VTID0gICBbImppbl9zdSIsICJmcmllZGEiLCAia3Vhbl90aSIsICJqYW5pY2UiLCAicm9sYW5kIiwgImh1YSIsICJwYW9sYSIsICJjaGFvIiwgImZpbm9sYSIsICJzdGVwaGVuIiwgImlhbiIsICJjaHVuIiwgInJhbHVjYSIsICJnaW9lbGUiLCAiZWxlZXNoYSIsICJ0ZXJyZW5jZSIsICJhbmRpZSIsICJkZXJlayJdOwoJTWFpbi5rLkhFUk9FU19BTEwgPSBNYWluLmsuSEVST0VTLnNsaWNlKCk7CglNYWluLmsuQ09NTUFOREVSUyA9IFsiamluX3N1IiwgImNoYW8iLCAiZ2lvZWxlIiwgInN0ZXBoZW4iLCAiZnJpZWRhIiwgImt1YW5fdGkiLCAiaHVhIiwgImRlcmVrIiwgInJvbGFuZCIsICJyYWx1Y2EiLCAiZmlub2xhIiwgInBhb2xhIiwgInRlcnJlbmNlIiwgImVsZWVzaGEiLCAiYW5kaWUiLCAiaWFuIiwgImphbmljZSIsICJjaHVuIl07CglNYWluLmsuQ09NTVMgPSBbInBhb2xhIiwgImVsZWVzaGEiLCAiYW5kaWUiLCAic3RlcGhlbiIsICJqYW5pY2UiLCAicm9sYW5kIiwgImh1YSIsICJkZXJlayIsICJqaW5fc3UiLCAia3Vhbl90aSIsICJnaW9lbGUiLCAiY2h1biIsICJpYW4iLCAiZmlub2xhIiwgInRlcnJlbmNlIiwgImZyaWVkYSIsICJjaGFvIiwgInJhbHVjYSJdOwoJTWFpbi5rLkFETUlOUyA9ICAgWyJqYW5pY2UiLCAidGVycmVuY2UiLCAiZWxlZXNoYSIsICJyYWx1Y2EiLCAiZmlub2xhIiwgImFuZGllIiwgImZyaWVkYSIsICJpYW4iLCAic3RlcGhlbiIsICJwYW9sYSIsICJqaW5fc3UiLCAiaHVhIiwgImt1YW5fdGkiLCAiZ2lvZWxlIiwgImNodW4iLCAicm9sYW5kIiwgImNoYW8iLCAiZGVyZWsiXTsKCglNYWluLmsuSEVST0VTX1JFUExBQ0UgPSB7CgkJZmlub2xhOidhbmRpZScsCgkJY2hhbzonZGVyZWsnCgl9OwoJTWFpbi5rLmggPSB7CgkJbXVzaDp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOm11c2giKQoJCX0sCgkJamluX3N1OnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJDb21tYW5kYW50IHN1cHLDqm1lIGR1IERhZWRhbHVzLiIpLAoJCQkvKiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLiAqLwoJCQl0dXRvcmlhbDpNYWluLmsudGV4dC5nZXR0ZXh0KCJ0dXRvcmlhbF9pZDpqaW5fc3UiKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzona2ltX2ppbl9zdScKCQl9LAoJCWZyaWVkYTp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCXNob3J0X2Rlc2M6TWFpbi5rLnRleHQuZ2V0dGV4dCgiU2NpZW50aWZpcXVlIG1pbGzDqW5haXJlLiIpLAoJCQkvKiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLiAqLwoJCQl0dXRvcmlhbDpNYWluLmsudGV4dC5nZXR0ZXh0KCJ0dXRvcmlhbF9pZDpmcmllZGEiKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzonZnJpZWRhX2JlcmdtYW5uJwoJCX0sCgkJa3Vhbl90aTp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCXNob3J0X2Rlc2M6TWFpbi5rLnRleHQuZ2V0dGV4dCgiR3JhbmQgYXJjaGl0ZWN0ZSBkdSBEYWVkYWx1cy4iKSwKCQkJLyogVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4gKi8KCQkJdHV0b3JpYWw6TWFpbi5rLnRleHQuZ2V0dGV4dCgidHV0b3JpYWxfaWQ6a3Vhbl90aSIpLAoJCQlkZXZfc3VybmFtZV9sb25nOidsYWlfa3Vhbl90aScKCQl9LAoJCWphbmljZTp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCXNob3J0X2Rlc2M6TWFpbi5rLnRleHQuZ2V0dGV4dCgiUHN5Y2hvbG9ndWUgRGlnaXRhbGUgYXV4IGF0b3V0cyBjZXJ0YWlucy4iKSwKCQkJLyogVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4gKi8KCQkJdHV0b3JpYWw6TWFpbi5rLnRleHQuZ2V0dGV4dCgidHV0b3JpYWxfaWQ6amFuaWNlIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J2phbmljZV9rZW50JwoJCX0sCgkJcm9sYW5kOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJIdW1vcmlzdGUgcGlsb3RlIGRlIGNoYXNzZSDDoCBzZXMgaGV1cmVzLiIpLAoJCQkvKiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLiAqLwoJCQl0dXRvcmlhbDpNYWluLmsudGV4dC5nZXR0ZXh0KCJ0dXRvcmlhbF9pZDpyb2xhbmQiKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzoncm9sYW5kX3p1Y2NhbGknCgkJfSwKCQlodWE6ewoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQlzaG9ydF9kZXNjOk1haW4uay50ZXh0LmdldHRleHQoIkV4cGxvcmF0cmljZSBkZSBsJ0VYVFLDik1FLiIpLAoJCQkvKiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLiAqLwoJCQl0dXRvcmlhbDpNYWluLmsudGV4dC5nZXR0ZXh0KCJ0dXRvcmlhbF9pZDpodWEiKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzonamlhbmdfaHVhJwoJCX0sCgkJcGFvbGE6ewoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQlzaG9ydF9kZXNjOk1haW4uay50ZXh0LmdldHRleHQoIk9mZmljaWVyIHByaW5jaXBhbCBkZXMgQ29tbXVuaWNhdGlvbnMgZHUgRGFlZGFsdXMuIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOnBhb2xhIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J3Bhb2xhX3JpbmFsZG8nCgkJfSwKCQljaGFvOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJDaGVmIGRlIGxhIHPDqWN1cml0w6kgZHUgRGFlZGFsdXMuIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOmNoYW8iKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzond2FuZ19jaGFvJwoJCX0sCgkJZmlub2xhOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJCaW9sb2dpc3RlIGRlIHJlbm9tbcOpZSBpbnRlcm5hdGlvbmFsZSwgcGlvbm5pw6hyZSBkYW5zIGwnw6l0dWRlIGR1IE11c2guIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOmZpbm9sYSIpLAoJCQlkZXZfc3VybmFtZV9sb25nOidmaW5vbGFfa2VlZ2FuJwoJCX0sCgkJc3RlcGhlbjp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCXNob3J0X2Rlc2M6TWFpbi5rLnRleHQuZ2V0dGV4dCgiQ3Vpc2luaWVyIGxlIHBsdXMgZGFuZ2VyZXV4IGRlIGxhIGdhbGF4aWUuIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOnN0ZXBoZW4iKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzonc3RlcGhlbl9zZWFndWxsJwoJCX0sCgkJaWFuOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJDaGVyY2hldXIgZnJ1Z2l2b3JlIGZsZXhpYmxlLiIpLAoJCQkvKiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLiAqLwoJCQl0dXRvcmlhbDpNYWluLmsudGV4dC5nZXR0ZXh0KCJ0dXRvcmlhbF9pZDppYW4iKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzonaWFuX3NvdWx0b24nCgkJfSwKCQljaHVuOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJEZXJuaWVyIGVzcG9pciBkZSBsJ0h1bWFuaXTDqS4iKSwKCQkJLyogVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4gKi8KCQkJdHV0b3JpYWw6TWFpbi5rLnRleHQuZ2V0dGV4dCgidHV0b3JpYWxfaWQ6Y2h1biIpLAoJCQlkZXZfc3VybmFtZV9sb25nOid6aG9uZ19jaHVuJwoJCX0sCgkJcmFsdWNhOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJHw6luaWUgZGUgbGEgcGh5c2lxdWUgcXVhbnRpcXVlIGbDqWxpbm9waGlsZS4iKSwKCQkJLyogVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4gKi8KCQkJdHV0b3JpYWw6TWFpbi5rLnRleHQuZ2V0dGV4dCgidHV0b3JpYWxfaWQ6cmFsdWNhIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J3JhbHVjYV90b21lc2N1JwoJCX0sCgkJZ2lvZWxlOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJBcm1hdGV1ciBwaGlsYW50cm9waG9iZS4iKSwKCQkJLyogVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4gKi8KCQkJdHV0b3JpYWw6TWFpbi5rLnRleHQuZ2V0dGV4dCgidHV0b3JpYWxfaWQ6Z2lvZWxlIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J2dpb2VsZV9yaW5hbGRvJwoJCX0sCgkJZWxlZXNoYTp7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCXNob3J0X2Rlc2M6TWFpbi5rLnRleHQuZ2V0dGV4dCgiSW52ZXN0aWdhdHJpY2UgZMOpY2h1ZSBkZSBwcmVtaWVyIHBsYW4uIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOmVsZWVzaGEiKSwKCQkJZGV2X3N1cm5hbWVfbG9uZzonZWxlZXNoYV93aWxsaWFtcycKCQl9LAoJCXRlcnJlbmNlOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJUZWNobm9waGlsZSBtb3Rvcmlzw6kuIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOnRlcnJlbmNlIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J3RlcnJlbmNlX2FyY2hlcicKCQl9LAoJCWFuZGllOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJGYXlvdCBkZSBsYSBmw6lkw6lyYXRpb24uIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOmFuZGllIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J2FuZGllX2dyYWhhbScKCQl9LAoJCWRlcmVrOnsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJc2hvcnRfZGVzYzpNYWluLmsudGV4dC5nZXR0ZXh0KCJIw6lyb3MgbWFsZ3LDqSBsdWkuIiksCgkJCS8qIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuICovCgkJCXR1dG9yaWFsOk1haW4uay50ZXh0LmdldHRleHQoInR1dG9yaWFsX2lkOmRlcmVrIiksCgkJCWRldl9zdXJuYW1lX2xvbmc6J2RlcmVrX2hvZ2FuJwoJCX0KCgl9OwoJJC5lYWNoKE1haW4uay5oLGZ1bmN0aW9uKGssaCl7CgkJdmFyICR0aGlzID0gJCh0aGlzKVswXTsKCQlpZih0eXBlb2YoJHRoaXMuZGV2X3N1cm5hbWVfbG9uZykgIT0gJ3VuZGVmaW5lZCcpewoJCQkkdGhpcy5uYW1lID0gJHRoaXMuZGV2X3N1cm5hbWVfbG9uZy5yZXBsYWNlKCJfIiwgIiAiKS5jYXBpdGFsaXplKCk7CgkJfQoJfSk7CgoJTWFpbi5rLmNzc1RvSGVyb2VzID0gW107CglNYWluLmsuY3NzVG9IZXJvZXNbIi0xMDU2cHgiXSA9ICJyb2xhbmQiOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTE4NXB4Il0gPSAiamFuaWNlIjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTEyMzNweCJdID0gImlhbiI7CglNYWluLmsuY3NzVG9IZXJvZXNbIi0xMjgycHgiXSA9ICJjaGFvIjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTEzMzVweCJdID0gImVsZWVzaGEiOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTM5MXB4Il0gPSAicmFsdWNhIjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTE0NDRweCJdID0gInRlcnJlbmNlIjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTE0OTlweCJdID0gImppbl9zdSI7CglNYWluLmsuY3NzVG9IZXJvZXNbIi0xNTU0cHgiXSA9ICJodWEiOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTYwNHB4Il0gPSAiamluX3N1IjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTE2ODFweCJdID0gInN0ZXBoZW4iOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTcyOHB4Il0gPSAicGFvbGEiOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTg3NXB4Il0gPSAia3Vhbl90aSI7CglNYWluLmsuY3NzVG9IZXJvZXNbIi0xOTIxcHgiXSA9ICJmaW5vbGEiOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMTk3MHB4Il0gPSAiZ2lvZWxlIjsKCU1haW4uay5jc3NUb0hlcm9lc1siLTIwMTdweCJdID0gImNodW4iOwoJTWFpbi5rLmNzc1RvSGVyb2VzWyItMjA2M3B4Il0gPSAiZnJpZWRhIjsKCglNYWluLmsuY29tcEFjdGl2ZU11c2ggPSBbXTsKCglNYWluLmsuY29tcEluYWN0aXZlTXVzaCA9IFtdOwoJTWFpbi5rLmNvbXBJbmFjdGl2ZU11c2hbImNvbGRfYmxvb2QiXSA9IHRydWU7CglNYWluLmsuY29tcEluYWN0aXZlTXVzaFsib3Bwb3J0dW5pc3QiXSA9IHRydWU7CglNYWluLmsuY29tcEluYWN0aXZlTXVzaFsib3B0aW1pc3RpYyJdID0gdHJ1ZTsKCU1haW4uay5jb21wSW5hY3RpdmVNdXNoWyJteWNvbG9naXN0Il0gPSB0cnVlOwoJTWFpbi5rLmNvbXBJbmFjdGl2ZU11c2hbInBhbmljIl0gPSB0cnVlOwoJTWFpbi5rLmNvbXBJbmFjdGl2ZU11c2hbImNhZmZlaW5vbWFuaWFjIl0gPSB0cnVlOwoJTWFpbi5rLmNvbXBJbmFjdGl2ZU11c2hbImZydWdpdm9yZSJdID0gdHJ1ZTsKCglNYWluLmsucmVzZWFyY2hHbG9yeSA9IFtdOwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbImRydWdfZGlzcGVuc2VyIl0gPSAwOy8vCglNYWluLmsucmVzZWFyY2hHbG9yeVsiaGVhbGluZ19vaW50bWFudCJdID0gMDsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbIm5hdGFteV9ndW4iXSA9IDA7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJuY2NfbGVucyJdID0gMDsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbInNwb3JlX2V4dHJhY3RvciJdID0gMDsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbInN0ZXJvaWRzIl0gPSAwOy8vCglNYWluLmsucmVzZWFyY2hHbG9yeVsidGVzbGFfc3VwMngiXSA9IDA7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJhbnRpc3BvcmVfZ2F6Il0gPSAzOy8vCglNYWluLmsucmVzZWFyY2hHbG9yeVsiY29uc3RpcGFzcG9yZV9zZXJ1bSJdID0gMzsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbImZ1bmd1c19zY3JhbWJsZXIiXSA9IDM7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJpbmZpbml0ZV93YXRlciJdID0gMzsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbIm11c2hpY2lkZV9zb2FwIl0gPSAzOwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbIm11c2hvcGhhZ2VfYmFjdGVyaWEiXSA9IDM7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJteWNvX2FsYXJtIl0gPSAzOy8vCglNYWluLmsucmVzZWFyY2hHbG9yeVsibXljb3NjYW4iXSA9IDM7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJwYXR1bGluZV9zY3JhbWJsZXIiXSA9IDM7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJwaGVyb21vZGVtIl0gPSAzOy8vCglNYWluLmsucmVzZWFyY2hHbG9yeVsibXVzaF9icmVlZGluZ19zeXN0ZW0iXSA9IDY7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJtdXNoX2JyZWVkcyJdID0gNjsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbIm15Y29fZGlhbGVjdCJdID0gNjsvLwoJTWFpbi5rLnJlc2VhcmNoR2xvcnlbIm11c2hfcHJlZGF0b3IiXSA9IDY7Ly8KCU1haW4uay5yZXNlYXJjaEdsb3J5WyJhbnRpX211c2hfc2VydW0iXSA9IDE2Oy8vCgoJTWFpbi5rLnN0YXR1c0ltYWdlcyA9IFtdOwoJTWFpbi5rLnN0YXR1c0ltYWdlc1snYnJvbnplJ10gPSAnaHR0cDovL2ltZ3VwLm1vdGlvbi10d2luLmNvbS90d2lub2lkLzYvYi84YjhhZTRkNV80MDMwLmpwZyc7CglNYWluLmsuc3RhdHVzSW1hZ2VzWydzaWx2ZXInXSA9ICdodHRwOi8vaW1ndXAubW90aW9uLXR3aW4uY29tL3R3aW5vaWQvYS9lLzNjMzQxNzc3XzQwMzAuanBnJzsKCU1haW4uay5zdGF0dXNJbWFnZXNbJ2dvbGQnXSA9ICdodHRwOi8vaW1ndXAubW90aW9uLXR3aW4uY29tL3R3aW5vaWQvYy8xLzRlNDNlMTVjXzQwMzAuanBnJzsKCglNYWluLmsuc3RhdHVzZXMgPSB7CgkJJ2luYWN0aXZlJzogewoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQknZGVzYycgOiBNYWluLmsudGV4dC5nZXR0ZXh0KCdWb3VzIG5lIHZvdXMgw6p0ZXMgcGFzIGNvbm5lY3TDqSBkZXB1aXMgMjRoLiBCb25uZSBjaGFuY2UgcG91ciBsYSBzdWl0ZS4uLicpLAoJCQknaW1nJyA6ICdzbGVlcHknLAoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQknbmFtZScgOiBNYWluLmsudGV4dC5nZXR0ZXh0KCdJbmFjdGlmJykKCQl9LAoJCSdoaW5hY3RpdmUnOiB7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCSdkZXNjJyA6IE1haW4uay50ZXh0LmdldHRleHQoJ0Rlc2NyaXB0aW9uIGdyYW5kIGluYWN0aWYnKSwKCQkJJ2ltZycgOiAnbm9vYicsCgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCSduYW1lJyA6IE1haW4uay50ZXh0LmdldHRleHQoJ0dyYW5kIGluYWN0aWYnKQoJCX0sCgkJJ211c2gnOiB7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCSdkZXNjJyA6IE1haW4uay50ZXh0LmdldHRleHQoJ1ZvdXMgZmFpdGVzIHBhcnRpZSBkdSBNdXNoLicpLAoJCQknaW1nJyA6ICdtdXNoJywKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJJ25hbWUnIDogTWFpbi5rLnRleHQuZ2V0dGV4dCgnTXVzaCcpCgkJfQoJfTsKfTsKTWFpbi5rLmluaXRMYW5nID0gZnVuY3Rpb24oKSB7CgkvLyBMYW5ndWFnZSBkZXRlY3Rpb24KCXN3aXRjaChNYWluLmsuZG9tYWluKSB7CgkJY2FzZSAibXVzaC50d2lub2lkLmNvbSI6CgkJCU1haW4uay5sYW5nID0gImVuIjsKCQkJYnJlYWs7CgkJY2FzZSAibXVzaC50d2lub2lkLmVzIjoKCQkJTWFpbi5rLmxhbmcgPSAiZXMiOwoJCQlicmVhazsKCQlkZWZhdWx0OgoJCQlNYWluLmsubGFuZyA9ICJmciI7Cgl9CgkvKk1haW4uay50ZXh0ID0gbmV3IEdldHRleHQoewoJCWRvbWFpbjogImN0cmwtdyIKCX0pOyovCgkvKmZvciAodmFyIGlkIGluIE1haW4uay50ZXh0KSB7CgkJaWYgKHR5cGVvZihNYWluLmsudGV4dFtpZF0pID09ICJmdW5jdGlvbiIpIHsKCQkJY29uc29sZS5sb2coJ2V4cG9ydCBNYWluLmsudGV4dC4nK2lkKQoJCQlleHBvcnRGdW5jdGlvbihNYWluLmsudGV4dFtpZF0sIHVuc2FmZVdpbmRvdy5NYWluLmsudGV4dCwge2RlZmluZUFzOiBpZH0pOwoJCX0KCX0qLwoJTWFpbi5rLnRleHRJbml0ID0gZXhwb3J0RnVuY3Rpb24oZnVuY3Rpb24oKXtNYWluLmsudGV4dCA9IG5ldyBHZXR0ZXh0KHsKCQlkb21haW46ICJjdHJsLXciCgl9KTt9LCB1bnNhZmVXaW5kb3cpOwoJLy9jb25zb2xlLndhcm4oTWFpbi5rLnRleHQpOwoJTWFpbi5rLnRleHRJbml0KCk7CgkvL3Vuc2FmZVdpbmRvdy5NYWluLmsudGV4dCA9IGNsb25lSW50byhNYWluLmsudGV4dCx1bnNhZmVXaW5kb3cse2Nsb25lRnVuY3Rpb25zOnRydWV9KTsKCS8vY29uc29sZS53YXJuKE1haW4uay50ZXh0KTsKCXRyeSB7CgkJdmFyIHRyYW5zbGF0aW9uRGF0YVRleHQgPSBHTV9nZXRSZXNvdXJjZVRleHQoInRyYW5zbGF0aW9uOiIrTWFpbi5rLmxhbmcpOwoJCWlmKHR5cGVvZiB0cmFuc2xhdGlvbkRhdGFUZXh0ID09ICd1bmRlZmluZWQnKSB7CgkJCWNvbnNvbGUud2FybigiTm8gdHJhbnNsYXRpb25zIGZvciAnIitNYWluLmsubGFuZysiJyIpOwoJCQlyZXR1cm47CgkJfQoJCXZhciB0cmFuc2xhdGlvbkRhdGEgPSBNYWluLmsudGV4dC5wYXJzZV9wbyh0cmFuc2xhdGlvbkRhdGFUZXh0KTsKCQlNYWluLmsudGV4dC5wYXJzZV9sb2NhbGVfZGF0YSh7ImN0cmwtdyI6IHRyYW5zbGF0aW9uRGF0YX0pOyAvLyBjdHJsLXcgaXMgdGhlIGRvbWFpbi4KCX0gY2F0Y2goZXJyKSB7IC8vIEdNX2dldFJlc291cmNlVGV4dCB0aHJvd3MgZXJyb3JzIGlmIHRoaW5ncyBkb24ndCBleGlzdAoJCWNvbnNvbGUuZXJyb3IoIkVycm9yIGdldHRpbmcgdHJhbnNsYXRpb24gZGF0YToiLCBlcnIpOwoJfQp9OwpNYWluLmsuaW5pdCA9IGZ1bmN0aW9uKCl7CgoJTWFpbi5rLmluaXRMYW5nKCk7CglNYWluLmsuT3B0aW9ucy5pbml0KCk7CglNYWluLmsuR2FtZS5pbml0KCk7CglNYWluLmsuaW5pdERhdGEoKTsKCU1haW4uay5kaXNwbGF5TWFpbk1lbnUoKTsKCS8vSW50ZWdyYXRpb24gd2l0aCBvdGhlcnMgc2NyaXB0cwoJJCggd2luZG93ICkubG9hZChmdW5jdGlvbigpIHsKCgkJLy9Gb3Igc2NyaXB0cyB3aGljaCB1c2UgbG9hZCBldmVudAoJCSQoJ2ltZ1tkYXRhLWFzeW5jX3NyY10nKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCSQodGhpcykuYXR0cignc3JjJywkKHRoaXMpLmF0dHIoJ2RhdGEtYXN5bmNfc3JjJykpOwoJCQkkKHRoaXMpLnJlbW92ZUF0dHIoJ2RhdGEtYXN5bmNfc3JjJyk7CgkJfSk7CgoJfSk7Cn07Ck1haW4uay5nZXRGdWxsTmFtZSA9IGZ1bmN0aW9uKGRldl9zdXJuYW1lKSB7CglyZXR1cm4gZGV2X3N1cm5hbWUucmVwbGFjZSgvXy9nLCAiICIpLmNhcGl0YWxpemUoKTsKfTsKTWFpbi5rLmdldEhlcm9CeVN1cm5hbWUgPSBmdW5jdGlvbihkZXZfc3VybmFtZSkgewoJY29uc29sZS5pbmZvKCdNYWluLmhlcm9lcycsTWFpbi5oZXJvZXMpOwoJdmFyICRpdCA9IE1haW4uaGVyb2VzLml0ZXJhdG9yKCk7Cgl3aGlsZSAoJGl0Lmhhc05leHQoKSkgewoJCXZhciBoZXJvID0gJGl0Lm5leHQoKTsKCQljb25zb2xlLmxvZyhkZXZfc3VybmFtZSxoZXJvLmRldl9zdXJuYW1lKTsKCQlpZiAoaGVyby5kZXZfc3VybmFtZSA9PSBkZXZfc3VybmFtZSkgcmV0dXJuIGhlcm87Cgl9CglyZXR1cm4gbnVsbDsKfTsKTWFpbi5rLk1ha2VCdXR0b24gPSBmdW5jdGlvbihjb250ZW50LCBocmVmLCBvbmNsaWNrLCB0aXB0aXRsZSwgdGlwZGVzYykgewoJdmFyIGJ1dCA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImFjdGlvbiBidXQiKTsKCXZhciBidXRiciA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImJ1dHJpZ2h0IikuYXBwZW5kVG8oYnV0KTsKCXZhciBidXRiZyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImJ1dGJnIikuYXBwZW5kVG8oYnV0YnIpOwoKCXZhciBidXRhID0gJCgiPGE+IikuYXR0cigiaHJlZiIsIGhyZWYgPyBocmVmIDogIiMiKS5odG1sKGNvbnRlbnQpLmFwcGVuZFRvKGJ1dGJnKQoJLm9uKCJjbGljayIsIG9uY2xpY2sgPyBvbmNsaWNrIDogaHJlZiA/IG51bGwgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9KTsKCgkvKiBUcmFuc2xhdG9yczogZG9tYWluIG5hbWUqLwoJaWYoaHJlZiAhPW51bGwgJiYgaHJlZi5pbmRleE9mKE1haW4uay50ZXh0LmdldHRleHQoJ211c2gudmcnKSkpewoJCWJ1dGEuYXR0cigndGFyZ2V0JywnX2JsYW5rJyk7Cgl9CgoJaWYgKHRpcHRpdGxlIHx8IHRpcGRlc2MpIHsKCQlpZiAodGlwdGl0bGUpIGJ1dGEuYXR0cigiX3RpdGxlIiwgdGlwdGl0bGUpOwoJCWlmICh0aXBkZXNjKSBidXRhLmF0dHIoIl9kZXNjIiwgdGlwZGVzYyk7CgkJYnV0YS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCk7CgkJYnV0YS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7Cgl9CgoJcmV0dXJuIGJ1dDsKfTsKTWFpbi5rLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbigpewoJTWFpbi5rLnNob3dMb2FkaW5nKCk7CglNYWluLmsuR2FtZS5jbGVhcigpOwoJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N0cmx3X3VwZGF0ZV9jYWNoZScpOwoJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N0cmx3X3JlbWFpbmluZ19jeWNsZXMnKTsKCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKfTsKTWFpbi5rLmNvdW50ZG93blRpbWVyID0ge307Ck1haW4uay5jb3VudGRvd25UaW1lci5jb3VudGVycyA9IHt9OwpNYWluLmsuY291bnRkb3duVGltZXIuZ28gPSBmdW5jdGlvbihzZWNvbmRzLCBpZCwgY2FsbGJhY2spewoJdmFyIGNvdW50ID0gc2Vjb25kczsKCXZhciAkdGhpcyA9IHRoaXM7Cgl0aGlzLmNvdW50ZXJzW2lkXSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJY291bnQtLTsKCQljYWxsYmFjayhjb3VudCk7CgkJaWYoY291bnQgPD0gMCl7CgkJCWNsZWFySW50ZXJ2YWwoJHRoaXMuY291bnRlcnNbaWRdKTsKCQl9Cgl9LCAxMDAwKTsgLy8xMDAwIHdpbGwgIHJ1biBpdCBldmVyeSAxIHNlY29uZAp9OwoKTWFpbi5rLmNvdW50ZG93blRpbWVyLnN0b3AgPSBmdW5jdGlvbiAoaWQpewoJaWYodHlwZW9mKHRoaXMuY291bnRlcnNbaWRdKSAhPSAidW5kZWZpbmVkIil7CgkJY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZXJzW2lkXSk7Cgl9Cn07Ci8vIEJVRwpNYWluLmsudHJlYXRpbmdCdWcgPSBmdW5jdGlvbihlKXsKCU1haW4uay5lcnJvckxpc3QgKz0gZTsKfTsKTWFpbi5rLmRpc3BsYXlCdWcgPSBmdW5jdGlvbihlKXsKCXZhciBkaXNwbGF5QnVnID0gIiI7Cgl2YXIgZXJyb3IgPSBbXTsKCWlmKE1haW4uay5lcnJvckxpc3QgIT0gdW5kZWZpbmVkKXsKCQllcnJvciA9IE1haW4uay5lcnJvckxpc3Q7Cgl9CgoJZm9yKHZhciBpZEJ1ZyA9IDA7aWRCdWcgPCBlcnJvci5sZW5ndGg7aWRCdWcrKyl7CgkJZGlzcGxheUJ1ZyArPSAiTmFtZSA6ICIrZXJyb3JbaWRCdWddLm5hbWUrIk1lc3NhZ2UgOiAiK2Vycm9yW2lkQnVnXS5tZXNzYWdlKyJcbiI7Cgl9CglpZihlcnJvci5sZW5ndGggPiAwKSB7YWxlcnQoIm5iRXJyb3IgOiAiK2Vycm9yLmxlbmd0aCsiXG5cbiIrZGlzcGxheUJ1Zyk7fQp9OwpNYWluLmsuc2hvd0xvYWRpbmcgPSBmdW5jdGlvbigpewoJaWYoJCgnLmN0cmx3X292ZXJsYXlfbG9hZGluZycpLmxlbmd0aCA9PSAwKXsKCQl2YXIgb3ZlcmxheSA9ICQoJzxkaXYgY2xhc3M9ImN0cmx3X292ZXJsYXlfbG9hZGluZyI+PC9kaXY+Jyk7CgkJJCgnYm9keScpLmFwcGVuZChvdmVybGF5KTsKCQlvdmVybGF5LmFmdGVyKCc8ZGl2IGNsYXNzPSJjdHJsd19sb2FkaW5nX2JhbGxfd3JhcHBlciI+PGRpdiBjbGFzcz0iY3RybHdfbG9hZGluZ19iYWxsIj48L2Rpdj48ZGl2IGNsYXNzPSJjdHJsd19sb2FkaW5nX2JhbGwxIj48L2Rpdj48L2Rpdj4nKTsKCgl9Cn07Ck1haW4uay5oaWRlTG9hZGluZyA9IGZ1bmN0aW9uKCl7CgkkKCcuY3RybHdfb3ZlcmxheV9sb2FkaW5nLC5jdHJsd19sb2FkaW5nX2JhbGxfd3JhcHBlcicpLnJlbW92ZSgpOwp9OwovLyAqKioqKioqKioqKiogTkVXOiBDQVNUSU5HIFNVQk1FTlUgKioqKioqKioqKioqCk1haW4uay5kaXNwbGF5TWFpbk1lbnUgPSBmdW5jdGlvbigpIHsKCU1haW4uay5jc3MuY3VzdG9tTWVudSgpOwoKCS8vIEZpeCBwb3NpdGlvbgoJdmFyIGZpeCA9ICQoInVsLm10YWJzIikubGVuZ3RoID4gMCA/IDcwIDogMjA7CgkkKCIjbWFpbmNvbnRhaW5lciwgLmJveGNvbnRhaW5lciIpLmNzcygibWFyZ2luIiwgZml4ICsgInB4IGF1dG8gMCIpOwoKCU1haW4uay5vd25IZXJvID0gKCQoIi5oZXJvIGgxLndobyIpLmxlbmd0aCA+IDAgKSA/ICQoIi53aG8iKS5odG1sKCkudG9Mb3dlckNhc2UoKS50cmltKCkucmVwbGFjZSgvKFxzKS9nLCAiXyIpIDogZmFsc2U7CglNYWluLmsuc2lsdmVyID0gdHJ1ZTsgLy9UT0RPCglNYWluLmsuZmRzID0gKCQoImEuYnV0bWluaVtocmVmPScvZmRzJ10iKS5sZW5ndGggPiAwKTsKCXZhciBtZW51ID0gJCgiPHVsPiIpLmFkZENsYXNzKCJrbWVudSIpLmluc2VydEJlZm9yZSgiI21haW5jb250YWluZXIsIC5ib3hjb250YWluZXIiKTsKCXZhciBwbGF5ID0gJCgiPGxpIGNsYXNzPSdrbWVudWVsIGFjdGl2ZSBmaXJzdCc+PGEgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL2Nob29zZUhlcm8nPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiSm91ZXIiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8obWVudSk7Cgl2YXIgYWNjb3VudCA9ICQoIjxsaSBjbGFzcz0na21lbnVlbCc+PGEgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL21lJz4iK01haW4uay50ZXh0LmdldHRleHQoIk1vbiBjb21wdGUiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8obWVudSk7CgoJaWYoTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1DYXN0aW5nc0lkIikgIT0gIkZvcnVtQ2FzdGluZ3NJZCIpIHsKCQl2YXIgY2FzdGluZyA9ICQoIjxsaSBjbGFzcz0na21lbnVlbCcgaWQ9J2N0cmx3LW1haW4tbWVudS1jYXN0aW5ncyc+PGEgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL2dyb3VwL2xpc3QnPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2FzdGluZ3MiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8obWVudSk7CgoJfQoJdmFyIHJhbmtpbmdzID0gJCgiPGxpIGNsYXNzPSdrbWVudWVsJz48YSBocmVmPSciK01haW4uay5tdXNodXJsKyIvcmFua2luZyc+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJDbGFzc2VtZW50cyIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhtZW51KTsKCXZhciBmb3J1bSA9ICQoIjxsaSBjbGFzcz0na21lbnVlbCc+PGEgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL3RpZC9mb3J1bSc+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJGb3J1bSIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhtZW51KTsKCXZhciBoZWxwID0gJCgiPGxpIGNsYXNzPSdrbWVudWVsIGxhc3QnPjxhIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9oZWxwJz4iK01haW4uay50ZXh0LmdldHRleHQoIkFpZGUiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8obWVudSk7CgoJdmFyIHBsYXlfc3MgPSAkKCI8dWw+IikuYXBwZW5kVG8ocGxheSk7CgoJdmFyIGFjY291bnRfc3MgPSAkKCI8dWw+IikuYXR0cigiaWQiLCAiYWNjb3VudG1lbnUiKS5hcHBlbmRUbyhhY2NvdW50KTsKCSQoIjxsaT48YSBjbGFzcz0na3NzbWVudWVsJyBocmVmPSciK01haW4uay5tdXNodXJsKyIvbWUnPjxpbWcgc3JjPScvaW1nL2ljb25zL3NraWxscy9wZXJzaXN0ZW50LnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIkV4cMOpcmllbmNlIikrIjwvYT48L2xpPiIpLmFwcGVuZFRvKGFjY291bnRfc3MpOwoJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwnIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9tZT9wcm9maWxlJz48aW1nIHNyYz0nL2ltZy9pY29ucy9za2lsbHMvb3Bwb3J0dW5pc3QucG5nJyAvPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiTWEgZmljaGUiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oYWNjb3VudF9zcyk7CgkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCcgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL21lP2NvbmZpZyc+PGltZyBzcmM9Jy9pbWcvaWNvbnMvc2tpbGxzL2VuZ2luZWVyLnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIk1lcyByw6lnbGFnZXMiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oYWNjb3VudF9zcyk7CgkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCcgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL21lP25ld3MnPjxpbWcgc3JjPScvaW1nL2ljb25zL3NraWxscy9yYWRpb19leHBlcnQucG5nJyAvPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiTmV3cyIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhhY2NvdW50X3NzKTsKCgl2YXIgcmFua2luZ3Nfc3MgPSAkKCI8dWw+IikuYXBwZW5kVG8ocmFua2luZ3MpOwoJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwnIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9yYW5raW5nJz48aW1nIHNyYz0nL2ltZy9pY29ucy9za2lsbHMvcGVyc2lzdGVudC5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJDbGFzc2VtZW50cyIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhyYW5raW5nc19zcyk7CgkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCBleHQnIGhyZWY9J2h0dHA6Ly90d2lub3Jhbmsua3ViZWdiLmZyL2pldXgvTXVzaCcgdGFyZ2V0PSdfYmxhbmsnPjxpbWcgc3JjPScvaW1nL2ljb25zL3NraWxscy9wZXJzaXN0ZW50LnBuZycgLz5Ud2luLU8tUmFuazwvYT48L2xpPiIpLmFwcGVuZFRvKHJhbmtpbmdzX3NzKTsKCgl2YXIgZm9ydW1fc3MgPSAkKCI8dWw+IikuYXBwZW5kVG8oZm9ydW0pOwoJaWYoTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1EaXNjdXNzaW9uSWQiKSAhPSAiRm9ydW1EaXNjdXNzaW9uSWQiKSB7CgkJLyogVHJhbnNsYXRvcnM6IEZvcnVtIERpc2N1c3Npb24gaWQgKi8KCQkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCBleHQnIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi90aWQvZm9ydW0jIXZpZXcvIitNYWluLmsudGV4dC5nZXR0ZXh0KCJGb3J1bURpc2N1c3Npb25JZCIpKwoJCS8qIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGxhYmVsICovCgkJIic+PGltZyBzcmM9JyIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3JhZGlvaC5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJEaXNjdXNzaW9uIikrIjwvYT48L2xpPiIpLmFwcGVuZFRvKGZvcnVtX3NzKTsKCX0KCWlmKE1haW4uay50ZXh0LmdldHRleHQoIkZvcnVtQWR2aWNlSWQiKSAhPSAiRm9ydW1BZHZpY2VJZCIpIHsKCQkvKiBUcmFuc2xhdG9yczogRm9ydW0gQWR2aWNlIGlkICovCgkJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyBocmVmPSciK01haW4uay5tdXNodXJsKyIvdGlkL2ZvcnVtIyF2aWV3LyIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1BZHZpY2VJZCIpKwoJCS8qIFRyYW5zbGF0b3JzOiBGb3J1bSBBZHZpY2UgbGFiZWwgKi8KCQkiJz48aW1nIHNyYz0nIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvcmFkaW9oLnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIkVudHJhaWRlIikrIjwvYT48L2xpPiIpLmFwcGVuZFRvKGZvcnVtX3NzKTsKCX0KCWlmKE1haW4uay50ZXh0LmdldHRleHQoIkZvcnVtTG91bmdlSWQiKSAhPSAiRm9ydW1Mb3VuZ2VJZCIpIHsKCQkvKiBUcmFuc2xhdG9yczogRm9ydW0gTG91bmdlIGlkICovCgkJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyBocmVmPSciK01haW4uay5tdXNodXJsKyIvdGlkL2ZvcnVtIyF2aWV3LyIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1Mb3VuZ2VJZCIpKwoJCS8qIFRyYW5zbGF0b3JzOiBGb3J1bSBMb3VuZ2UgbGFiZWwgKi8KCQkiJz48aW1nIHNyYz0nIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvcmFkaW9oLnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIkTDqXRlbnRlIikrIjwvYT48L2xpPiIpLmFwcGVuZFRvKGZvcnVtX3NzKTsKCX0KCWlmKE1haW4uay50ZXh0LmdldHRleHQoIkZvcnVtQ2FzdGluZ3NJZCIpICE9ICJGb3J1bUNhc3RpbmdzSWQiKSB7CgkJLyogVHJhbnNsYXRvcnM6IEZvcnVtIENhc3RpbmdzIGlkICovCgkJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyBocmVmPSciK01haW4uay5tdXNodXJsKyIvdGlkL2ZvcnVtIyF2aWV3LyIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1DYXN0aW5nc0lkIikrCgkJLyogVHJhbnNsYXRvcnM6IEZvcnVtIENhc3RpbmdzIGxhYmVsICovCgkJIic+PGltZyBzcmM9JyIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3JhZGlvaC5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJDYXN0aW5ncyIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhmb3J1bV9zcyk7Cgl9CglpZihNYWluLmsudGV4dC5nZXR0ZXh0KCJGb3J1bU9mZmljZXJzSWQiKSAhPSAiRm9ydW1PZmZpY2Vyc0lkIikgewoJCS8qIFRyYW5zbGF0b3JzOiBGb3J1bSBPZmZpY2VycyBpZCAqLwoJCSQoIjxsaT48YSBjbGFzcz0na3NzbWVudWVsIGV4dCcgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL3RpZC9mb3J1bSMhdmlldy8iK01haW4uay50ZXh0LmdldHRleHQoIkZvcnVtT2ZmaWNlcnNJZCIpKyInPjxpbWcgc3JjPScvaW1nL2ljb25zL3NraWxscy9yZWJlbC5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJPZmZpY2llcnMiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oZm9ydW1fc3MpOwoJfQoKCXZhciBoZWxwX3NzID0gJCgiPHVsPiIpLmFwcGVuZFRvKGhlbHApOwoJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwnIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9oZWxwJz48aW1nIHNyYz0nL2ltZy9pY29ucy9za2lsbHMvZ2VuaXVzLnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIkFpZGUgTXVzaCIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhoZWxwX3NzKTsKCSQoIjxsaT48YSBjbGFzcz0na3NzbWVudWVsJyBocmVmPSciK01haW4uay5tdXNodXJsKyIvcGF0Y2hsb2cnPjxpbWcgc3JjPScvaW1nL2ljb25zL3NraWxscy9wZXJzaXN0ZW50LnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIlBhdGNobG9nIikrIjwvYT48L2xpPiIpLmFwcGVuZFRvKGhlbHBfc3MpOwoKCWlmIChNYWluLmsub3duSGVybyAmJiB0eXBlb2YoTWFpbi5rLmhbTWFpbi5rLm93bkhlcm9dKSAhPSAndW5kZWZpbmVkJykgewoJCXZhciBjaGFybmFtZSA9IE1haW4uay5vd25IZXJvLnJlcGxhY2UoIl8iLCAiIik7CgkJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyBocmVmPSciK01haW4uay5tdXNodXJsKyIvdGlkL2ZvcnVtIyF2aWV3LyIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW1BZHZpY2VJZCIpKyJ8dGhyZWFkLyIgKyBNYWluLmsuaFtNYWluLmsub3duSGVyb10udHV0b3JpYWwgKyAiJz48aW1nIHNyYz0nL2ltZy9pY29ucy91aS8iICsgY2hhcm5hbWUgKyAiLnBuZycgLz4iICsgTWFpbi5rLnRleHQuc3RyYXJncyhNYWluLmsudGV4dC5nZXR0ZXh0KCJUdXRvICUxIiksIFtNYWluLmsub3duSGVyby5jYXBpdGFsaXplKCldKSArICI8L2E+PC9saT4iKS5hcHBlbmRUbyhoZWxwX3NzKTsKCX0KCS8qIFRyYW5zbGF0b3JzOiBXaWtpIHVybCAqLwoJJCgiPGxpPjxhIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nIitNYWluLmsudGV4dC5nZXR0ZXh0KCJodHRwOi8vd3d3LnR3aW5wZWRpYS5jb20vbXVzaCIpKwoJLyogVHJhbnNsYXRvcnM6IFdpa2kgZmF2aWNvbiB1cmwgKi8KCSInPjxpbWcgZGF0YS1hc3luY19zcmM9JyIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiaHR0cDovL3d3dy50d2lucGVkaWEuY29tL19tZWRpYS9mYXZpY29uLmljbyIpKyInIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJUd2lucGVkaWEiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oaGVscF9zcyk7CgkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCBleHQnIGhyZWY9J2h0dHA6Ly9waWN0b2lkLmJhZGNvbmtlci5mci8iK2VuY29kZVVSSUNvbXBvbmVudChNYWluLmsubGFuZykrIi9nYW1lLyIrZW5jb2RlVVJJQ29tcG9uZW50KE1haW4uay50ZXh0LmdldHRleHQoIm11c2hfZ2FtZV9pZCIpKSsiJyB0YXJnZXQ9J19ibGFuayc+PGltZyBkYXRhLWFzeW5jX3NyYz0naHR0cDovL3BpY3RvaWQuYmFkY29ua2VyLmZyL2Zhdmljb24uaWNvJyAvPlBpY3RvaWQ8L2E+PC9saT4iKS5hcHBlbmRUbyhoZWxwX3NzKTsKCglpZiAoTWFpbi5rLmZkcykgewoJCSQoIjxsaT48YSBjbGFzcz0na3NzbWVudWVsIGV4dCcgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL3RpZC9mb3J1bSMhdmlldy8iK01haW4uay50ZXh0LmdldHRleHQoIkZvcnVtRkRTSWQiKSsiJz48aW1nIHNyYz0nL2ltZy9pY29ucy9za2lsbHMvanVnZS5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJNYWdpc3RyYXR1cmUiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oZm9ydW1fc3MpOwoKCQkkKCI8bGk+PGEgY2xhc3M9J2tzc21lbnVlbCcgaHJlZj0nIitNYWluLmsubXVzaHVybCsiL2Zkcyc+PGltZyBzcmM9Jy9pbWcvaWNvbnMvc2tpbGxzL2p1Z2UucG5nJyAvPkZEUzwvYT48L2xpPiIpLmFwcGVuZFRvKHBsYXlfc3MpOwoJfQoJTWFpbi5rLnVwZGF0ZU1haW5NZW51KCk7Cn07Ck1haW4uay51cGRhdGVNYWluTWVudSA9IGZ1bmN0aW9uICgpewoJdmFyIGNhc3RpbmcgPSAkKCcjY3RybHctbWFpbi1tZW51LWNhc3RpbmdzJyk7CgoJLy8gKioqKioqKioqKioqIENBU1RJTkcgU1VCTUVOVSAqKioqKioqKioqKioKCXZhciBjYXN0aW5nX3NzID0gY2FzdGluZy5maW5kKCcgPiB1bCcpOwoJaWYoY2FzdGluZ19zcy5sZW5ndGggPiAwKXsKCQljYXN0aW5nX3NzLnJlbW92ZSgpOwoJfQoJY2FzdGluZ19zcyA9ICQoIjx1bD4iKS5hcHBlbmRUbyhjYXN0aW5nKTsKCgl2YXIgY2FzdGluZ3MgPSBNYWluLmsuR2FtZS5kYXRhLmNhc3RpbmdzOwoKCWlmKCEkLmlzRW1wdHlPYmplY3QoY2FzdGluZ3MpKSB7CS8vIENoZWNrIGhhdmluZyBjYXN0aW5nCgkJdmFyIGNhc3RpbmdfbWVudSwgY2FzdF9zczsKCQkkLmVhY2goY2FzdGluZ3MsZnVuY3Rpb24oaWQsIGNhc3RpbmcpewoJCQljYXN0aW5nX21lbnUgPSAkKCI8bGk+PC9saT4iKQoJCQkJLmFwcGVuZFRvKGNhc3Rpbmdfc3MpOwoKCQkJdmFyIGEgPSAkKCI8YSBjbGFzcz0na3NzbWVudWVsJyBocmVmPSciK01haW4uay5tdXNodXJsKyIvZ3JvdXAvIitjYXN0aW5nLmlkKyInPjxpbWcgc3JjPSciK2Nhc3RpbmcuaWNvbisiJyAvPiIrY2FzdGluZy5zaG9ydF9uYW1lKyI8L2E+IikKCQkJCS5hcHBlbmRUbyhjYXN0aW5nX21lbnUpOwoKCQkJaWYoY2FzdGluZy5sb25nX25hbWUgIT0gY2FzdGluZy5zaG9ydF9uYW1lKXsKCQkJCWEKCQkJCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTm9tIGNvbXBsZXQiKSkKCQkJCQkuYXR0cigiX2Rlc2MiLCAiPHN0cm9uZz4iK2Nhc3RpbmcubG9uZ19uYW1lKyI8L3N0cm9uZz4iKQoJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCX0KCgkJCWNhc3Rfc3MgPSAkKCI8dWw+IikuYXBwZW5kVG8oY2FzdGluZ19tZW51KTsKCQkJJCgiPGxpPjxhIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9ncm91cC9wYWdlLyIrY2FzdGluZy5pZCsiJz48aW1nIHNyYz0nIiArIE1haW4uay5tdXNodXJsICsgIi9pbWcvaWNvbnMvc2tpbGxzL2NvbmNlcHRvci5wbmcnIC8+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJNw6ltb2lyZSIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhjYXN0X3NzKTsgLy8gUGFnZXMKCQkJJCgiPGxpPjxhIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9ncm91cC9uZXh1cy8iK2Nhc3RpbmcuaWQrIic+PGltZyBzcmM9JyIgKyBNYWluLmsubXVzaHVybCArICIvaW1nL2ljb25zL3NraWxscy9sb2dpc3RpY3MucG5nJyAvPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiTmV4dXMiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oY2FzdF9zcyk7IC8vIE5leHVzCgkJCSQoIjxsaT48YSBocmVmPSciK01haW4uay5tdXNodXJsKyIvZ3JvdXAvZm9ydW0vIitjYXN0aW5nLmlkKyInPjxpbWcgc3JjPSciICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9yYWRpb2gucG5nJyAvPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiRm9ydW0iKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oY2FzdF9zcyk7IC8vIEZvcnVtCgkJCSQoIjxsaT48YSBocmVmPSciK01haW4uay5tdXNodXJsKyIvZ3JvdXAvbWVtYmVycy8iK2Nhc3RpbmcuaWQrIic+PGltZyBzcmM9JyIgKyBNYWluLmsubXVzaHVybCArICIvaW1nL2ljb25zL3NraWxscy9vcHRpbWlzdGljLnBuZycgLz4iK01haW4uay50ZXh0LmdldHRleHQoIk1lbWJyZXMiKSsiPC9hPjwvbGk+IikuYXBwZW5kVG8oY2FzdF9zcyk7IC8vIE1lbWJlcnMKCQkJJCgiPGxpPjxhIGhyZWY9JyIrTWFpbi5rLm11c2h1cmwrIi9ncm91cC9oaXN0b3J5LyIrY2FzdGluZy5pZCsiJz48aW1nIHNyYz0nIiArIE1haW4uay5tdXNodXJsICsgIi9pbWcvaWNvbnMvc2tpbGxzL2h1bnQucG5nJyAvPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiSGlzdG9yaXF1ZSIpKyI8L2E+PC9saT4iKS5hcHBlbmRUbyhjYXN0X3NzKTsgLy8gSGlzdG9yeQoJCX0pOwoJCSQoIjxsaSBzdHlsZT0naGVpZ2h0OjJweCc+Jm5ic3A8L2xpPiIpLmFwcGVuZFRvKGNhc3Rpbmdfc3MpOwoJfQoJJCgiPGxpPjxhIGhyZWY9J2h0dHA6Ly9tdHJnLmt1YmVnYi5mci8nIGNsYXNzPSdrc3NtZW51ZWwgZXh0JyB0aXRsZT0nTXVzaCBUcml1bXBoIFJlbWFwIEdlbmVyYXRvcic+PGltZyBzcmM9JyIrTWFpbi5rLm11c2h1cmwrIi9pbWcvaWNvbnMvdWkvdHJpdW1waC5wbmcnIC8+TVRSRzwvYT48L2xpPiIpLmFwcGVuZFRvKGNhc3Rpbmdfc3MpOyAvLyBNdXNoIFRyaXVtcGggUmVtYXAgR2VuZXJhdG9yCgkvLyAqKioqKioqKioqKiogTkVXOiBDQVNUSU5HIFNVQk1FTlUgKioqKioqKioqKioqCn07Ck1haW4uay5DcmVhdGVOZXJvbkFsZXJ0ID0gZnVuY3Rpb24obWVzc2FnZSl7CgkJdmFyIG5lcm9uQWxlcnQgPSBNYWluLmsuQ3JlYXRlUG9wdXAoKTsKCQluZXJvbkFsZXJ0LmNvbnRlbnQuY3NzKHsKCQkJImhlaWdodCI6ICJhdXRvIiwKCQkJIm1heC1oZWlnaHQiOiAiOTAlIiwKCQkJIndpZHRoIjogIjUwMHB4IiwKCQkJImNvbG9yIjogIiNGRkYiCgkJfSk7CgoJCXZhciBjb250ZW50ID0gIjxpbWcgY2xhc3M9XCJpbWdfbmVyb25cIiBhbHQ9J25lcm9uJyBzcmM9Jy9pbWcvZGVzaWduL25lcm9uX2NoYXQucG5nJyAvPjxwPiIrIG1lc3NhZ2UgKyI8L3A+IjsKCQkvLyBGaWxsIG5lcm9uQWxlcnQgY29udGVudAoJCXZhciBjYW5jZWxBYyA9ICInTWFpbi5rLkNsb3NlUG9wdXAoKTsnIjsKCQl2YXIgb2sgPSAiPGRpdiBpZD1cImNhbmNlbFwiIGNsYXNzPVwiYnV0IHVwZGF0ZXNidG5cIiBvbmNsaWNrPSIgKyBjYW5jZWxBYyArICI+PGRpdiBjbGFzcz1cImJ1dHJpZ2h0XCI+PGRpdiBjbGFzcz1cImJ1dGJnXCI+PGEgaHJlZj1cIiNcIj4iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgib2siKSArICI8L2E+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+IjsKCQl2YXIgYnV0dG9ucyA9ICQoJzxkaXYgY2xhc3M9Im5lcm9uX2FsZXJ0X2J1dHRvbnMiPjwvZGl2PicpOwoJCWJ1dHRvbnMuYXBwZW5kKG9rKTsKCQkkKCc8ZGl2PicpCgkJCS5hdHRyKCJpZCIsIm5lcm9uX2FsZXJ0X2NvbnRlbnQiKQoJCQkuYXBwZW5kKGNvbnRlbnQpCgkJCS5hcHBlbmQoYnV0dG9ucykKCQkJLmFwcGVuZFRvKG5lcm9uQWxlcnQuY29udGVudCk7CgoJCS8vIERpc3BsYXkgbmVyb25BbGVydAoJCU1haW4uay5PcGVuUG9wdXAobmVyb25BbGVydC5kb20pOwp9OwpNYWluLmsuQ3JlYXRlTmVyb25Qcm9tcHQgPSBmdW5jdGlvbigpewoJCXZhciBOZXJvblByb21wdCA9IE1haW4uay5DcmVhdGVQb3B1cCgpOwoJCU5lcm9uUHJvbXB0LmNvbnRlbnQuY3NzKHsKCQkJImhlaWdodCI6ICJhdXRvIiwKCQkJIm1heC1oZWlnaHQiOiAiOTAlIiwKCQkJIndpZHRoIjogIjUwMHB4IiwKCQkJImNvbG9yIjogIiNGRkYiCgkJfSk7CgoJCXZhciBjYW5jZWxBYyA9ICInTWFpbi5rLkNsb3NlUG9wdXAoKTsnIjsKCQkvLyBGaWxsIHByb21wdCBjb250ZW50CgkJdmFyIHZhbGlkYXRlID0gIjxkaXYgaWQ9XCJ2YWxpZGF0ZVwiIGNsYXNzPVwiYnV0IHVwZGF0ZXNidG5cIiA+PGRpdiBjbGFzcz1cImJ1dHJpZ2h0XCI+PGRpdiBjbGFzcz1cImJ1dGJnXCI+PGEgaHJlZj1cIiNcIj4iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgidmFsaWRlciIpICsgIjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4iOwoJCXZhciBjYW5jZWwgPSAiPGRpdiBpZD1cImNhbmNlbFwiIGNsYXNzPVwiYnV0IHVwZGF0ZXNidG5cIiBvbmNsaWNrPSIrY2FuY2VsQWMrIj48ZGl2IGNsYXNzPVwiYnV0cmlnaHRcIj48ZGl2IGNsYXNzPVwiYnV0YmdcIj48YSBocmVmPVwiI1wiPiIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJhbm51bGVyIikgKyAiPC9hPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiI7CgkJdmFyIGlucHV0ID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduZXJvbl9wcm9tcHQnPiI7CgkJdmFyIGNvbnRlbnQgPSAiPGltZyBjbGFzcz1cImltZ19uZXJvblwiIGFsdD0nbmVyb24nIHNyYz0nL2ltZy9kZXNpZ24vbmVyb25fY2hhdC5wbmcnIC8+PHA+IiArIE1haW4uay50ZXh0LmdldHRleHQoIlNhaXNpc3NleiBsZSB0aXRyZSBkdSBtZXNzYWdlIikgKyAiIDogPC9wPiI7CgoKCQkkKCI8ZGl2PiIpCgkJLmF0dHIoImlkIiwibmVyb25fYWxlcnRfY29udGVudCIpCgkJLmh0bWwoY29udGVudCArIGlucHV0ICsgIjxici8+IiArIHZhbGlkYXRlICsgY2FuY2VsKQoJCS5hcHBlbmRUbyhOZXJvblByb21wdC5jb250ZW50KTsKCgkJLy8gRGlzcGxheSBwcm9tcHQKCQlNYWluLmsuT3BlblBvcHVwKE5lcm9uUHJvbXB0LmRvbSk7Cn07CgpNYWluLmsucXVpY2tOb3RpY2UgPSBmdW5jdGlvbihtc2csdHlwZSl7CglpZih0eXBlb2YodHlwZSkgPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZSA9PSAnaW5mbycpewoJCSQuakdyb3dsKCI8aW1nIHNyYz0naHR0cDovL2ltZ3VwLm1vdGlvbi10d2luLmNvbS90d2lub2lkLzgvNS9hYjdhY2VkOV80MDMwLmpwZycgaGVpZ2h0PScxNicgYWx0PSdub3RpY2UnLz4gIittc2cpOwoJfWVsc2UgaWYodHlwZSA9PSAnZXJyb3InKXsKCQkkLmpHcm93bCgiPGltZyBzcmM9J2h0dHA6Ly9pbWd1cC5tb3Rpb24tdHdpbi5jb20vdHdpbm9pZC85L2EvODQyOWMwMjhfNDAzMC5qcGcnIGhlaWdodD0nMTYnIGFsdD0nbm90aWNlJy8+ICIrbXNnLHsKCQkJdGhlbWU6J2N0cmx3LWVycm9yJywKCQkJbGlmZTogNjAwMAoJCX0pOwoJfQp9OwpNYWluLmsucXVpY2tOb3RpY2VFcnJvciA9IGZ1bmN0aW9uKG1zZyl7CglNYWluLmsucXVpY2tOb3RpY2UobXNnLCdlcnJvcicpOwp9OwpNYWluLmsuQ3JlYXRlUG9wdXAgPSBmdW5jdGlvbigpIHsKCXZhciBwb3B1cCA9IHt9OwoKCXBvcHVwLmRvbSA9ICQoIjx0ZD4iKS5hdHRyKCJpZCIsICJ1c1BvcHVwIikuYWRkQ2xhc3MoInVzUG9wdXAgY2hhdF9ib3giKTsKCXBvcHVwLm1hc2sgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJ1c1BvcHVwTWFzayIpLmF0dHIoJ29uY2xpY2snLCdNYWluLmsuQ2xvc2VQb3B1cCgpOycpLmFwcGVuZFRvKHBvcHVwLmRvbSk7Cglwb3B1cC5jb250ZW50ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygidXNQb3B1cENvbnRlbnQgY2hhdHRleHQiKS5jc3MoewoJCSJ3aWR0aCI6IChNYWluLmsud2luZG93LmlubmVyV2lkdGggLSAzMDApICsgInB4IiwKCQkiaGVpZ2h0IjogKE1haW4uay53aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDApICsgInB4IgoJfSkuYXBwZW5kVG8ocG9wdXAuZG9tKTsKCglyZXR1cm4gcG9wdXA7Cn07Ck1haW4uay5PcGVuUG9wdXAgPSBmdW5jdGlvbihwb3B1cCkgeyAkKCJib2R5IikuYXBwZW5kKHBvcHVwKTsgfTsKTWFpbi5rLkNsb3NlUG9wdXAgPSBmdW5jdGlvbigpIHsKCXZhciBwb3B1cCA9ICQoIiN1c1BvcHVwIik7CglpZiAoIXBvcHVwLmdldCgpKSByZXR1cm47CgoJcG9wdXAucmVtb3ZlKCk7Cgl2YXIgdGd0ID0gJCgiI2Zvcm1hdHRpbmdwb3B1cHRndCIpOwoJaWYgKHRndC5nZXQoKSkgewoJCXRndC5mb2N1cygpOwoJCXRndC5hdHRyKCJpZCIsICIiKTsKCX0KfTsKZXhwb3J0RnVuY3Rpb24oTWFpbi5rLkNsb3NlUG9wdXAsIHVuc2FmZVdpbmRvdy5NYWluLmssIHtkZWZpbmVBczogIkNsb3NlUG9wdXAifSk7Ck1haW4uay5TeW5jQXN0cm9wYWQgPSBmdW5jdGlvbih0Z3QpewoJaWYodHlwZW9mKE1haW4uQXN0cm9QYWQpICE9ICd1bmRlZmluZWQnKXsKCQlNYWluLkFzdHJvUGFkLnVwZGF0ZUludmVudG9yeShmYWxzZSwgTWFpbi5rLlN5bmNBc3Ryb3BhZE5vdGljZSk7Cgl9ZWxzZXsKCQl2YXIgJGFzdHJvX21hal9pbnZlbnRhaXJlID0gJCgnI2FzdHJvX21hal9pbnZlbnRhaXJlJyk7CgkJaWYoJGFzdHJvX21hal9pbnZlbnRhaXJlLmxlbmd0aCA+IDApewoJCQkkYXN0cm9fbWFqX2ludmVudGFpcmVbMF0uY2xpY2soKTsKCQkJTWFpbi5rLlN5bmNBc3Ryb3BhZE5vdGljZSgpOwoJCX0KCX0KfTsKTWFpbi5rLlN5bmNBc3Ryb3BhZE5vdGljZSA9IGZ1bmN0aW9uKCl7CglNYWluLmsucXVpY2tOb3RpY2UoTWFpbi5rLnRleHQuZ2V0dGV4dCgiQXN0cm9wYWQgc3luY2hyb25pc8OpLiIpKTsKfTsKZXhwb3J0RnVuY3Rpb24oTWFpbi5rLlN5bmNBc3Ryb3BhZE5vdGljZSwgdW5zYWZlV2luZG93Lk1haW4uaywgeyBkZWZpbmVBczogJ1N5bmNBc3Ryb3BhZE5vdGljZScgfSk7CgoKTWFpbi5rLkN1c3RvbVRpcCA9IGZ1bmN0aW9uKGUpIHsKCXZhciB0Z3QgPSAoZSB8fCBldmVudCkudGFyZ2V0OwoJdmFyIHRpdGxlID0gdGd0LmdldEF0dHJpYnV0ZSgiX3RpdGxlIik7Cgl2YXIgZGVzYyA9IHRndC5nZXRBdHRyaWJ1dGUoIl9kZXNjIik7CglpZiAoZGVzYykgZGVzYyA9IGRlc2MucmVwbGFjZSgvKFxccnxcXG4pL2csICIiKTsKCXZhciBtYXggPSAzLCBjdXJyZW50ID0gMCwgdCA9IHRndDsKCXdoaWxlICghdGl0bGUgJiYgIWRlc2MgJiYgY3VycmVudDxtYXgpIHsKCQl0ID0gdC5wYXJlbnROb2RlOwoJCXRpdGxlID0gdC5nZXRBdHRyaWJ1dGUoIl90aXRsZSIpOwoJCWRlc2MgPSB0LmdldEF0dHJpYnV0ZSgiX2Rlc2MiKTsKCQlpZiAoZGVzYykgZGVzYyA9IGRlc2MucmVwbGFjZSgvKFxccnxcXG4pL2csICIiKTsKCQljdXJyZW50Kys7Cgl9CgoJTWFpbi5zaG93VGlwKHRndCwKCQkiPGRpdiBjbGFzcz0ndGlwdG9wJyA+PGRpdiBjbGFzcz0ndGlwYm90dG9tJz48ZGl2IGNsYXNzPSd0aXBiZyc+PGRpdiBjbGFzcz0ndGlwY29udGVudCc+IiArCgkJKHRpdGxlID8gIjxoMT4iICsgdGl0bGUgKyAiPC9oMT4iIDogIiIpICsKCQkoZGVzYyA/ICI8cD4iICsgZGVzYy5yZXBsYWNlKCJcbiIsICIiKSArICI8L3A+IiA6ICIiKSArCgkJIjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiIKCSk7Cn07Ck1haW4uay5oaWRlVGlwID0gZnVuY3Rpb24oKXsKCU1haW4uaGlkZVRpcCgpOwp9OwovL1RPRE8gbWFrZSBhbiBVdGlscyBvYmplY3QKCi8qKgogKgogKiBAcGFyYW0gYXJyCiAqIEBwYXJhbSBvCiAqIEByZXR1cm5zIHtib29sZWFufQogKi8KTWFpbi5rLkFycmF5Q29udGFpbnMgPSBmdW5jdGlvbihhcnIsIG8pIHsKCWZvciAodmFyIGEgaW4gYXJyKSB7CgkJaWYgKGEgPT0gbykgcmV0dXJuIHRydWU7Cgl9Cglmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7CgkJaWYgKGFycltpXSA9PSBvKSByZXR1cm4gdHJ1ZTsKCX0KCXJldHVybiBmYWxzZTsKfTsKCk1haW4uay5FbGltaW5hdGVEdXBsaWNhdGVzID0gZnVuY3Rpb24oYXJyKSB7Cgl2YXIgaSwgbGVuPWFyci5sZW5ndGgsIG91dD1bXSwgb2JqPXt9OwoJZm9yIChpPTA7aTxsZW47aSsrKSBvYmpbYXJyW2ldXT0wOwoJZm9yIChpIGluIG9iail7CgkJaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkgewoJCQlvdXQucHVzaChpKTsKCQl9Cgl9CglyZXR1cm4gb3V0Owp9OwoKLyoqCiAqIEBwYXJhbSB7b2JqZWN0fSB0b3BpYwogKiBAcmV0dXJuIHN0cmluZwogKi8KTWFpbi5rLkdldEhlcm9OYW1lRnJvbVRvcGljID0gZnVuY3Rpb24odG9waWMpIHsKCXZhciBoZXJvID0gJyc7Cgl2YXIgZGl2ID0gbnVsbDsKCgkvLyBGaXJzdCB0cmllcyB0byBnZXQgdGhlIGNoYXJhY3Rlci1zcGVjaWZpYyBjc3MgY2xhc3MgbmFtZQoJaWYgKHRvcGljLmZpbmQoIi5jaGFyLC50aWRfY2hhciIpLmxlbmd0aCA+MCkgewoJCWRpdiA9IHRvcGljLmZpbmQoIi5jaGFyLC50aWRfY2hhciIpOwoJCWhlcm8gPSBkaXYuYXR0cignY2xhc3MnKS5yZXBsYWNlKCJjaGFyICIsICIiKS5yZXBsYWNlKCJ0aWRfY2hhciB0aWRfIiwgIiIpOwoJfQoKCS8vIElmIGl0IGZhaWxlZCwgY29tcGFyZSB0aGUgaW1hZ2UgcG9zaXRpb24gd2l0aCBjdXN0b20gb3V0Zml0cwoJaWYgKGRpdiAhPSBudWxsICYmIGhlcm8gPT0gJycpIHsKCQl2YXIgc3AgPSBkaXYuY3NzKCdiYWNrZ3JvdW5kUG9zaXRpb24nKS5zcGxpdCgiICIpOwoJCXZhciBwb3NfeSA9IHNwWzFdOwoKCQlpZihwb3NfeSBpbiBNYWluLmsuY3NzVG9IZXJvZXMpewoJCQloZXJvID0gTWFpbi5rLmNzc1RvSGVyb2VzW3Bvc195XTsKCQl9ZWxzZXsKCQkJdmFyIHN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdHJsd19jc3Nfb3V0Zml0JyArIHBvc195KTsKCQkJaWYoc3RvcmFnZSA9PSBudWxsKXsKCQkJCUdNX3htbGh0dHBSZXF1ZXN0KHsKCQkJCQltZXRob2Q6ICdQT1NUJywKCQkJCQl1cmw6IE1haW4uay5zZXJ2dXJsICsgIi9taXNjL2Nzcy1vdXRmaXQiLAoJCQkJCWRhdGE6ICQucGFyYW0oewoJCQkJCQljc3M6IHBvc195CgkJCQkJfSksCgkJCQkJaGVhZGVyczogewoJCQkJCQkiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKCQkJCQl9CgkJCQl9KTsKCQkJCXNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2N0cmx3X2Nzc19vdXRmaXQnICsgcG9zX3ksMSk7CgkJCX0KCQl9Cgl9CglyZXR1cm4gaGVybzsKfTsKCk1haW4uay5JbnZlcnRPYmplY3QgPSBmdW5jdGlvbihvYmopewoJdmFyIG5ld19vYmogPSB7fTsKCWZvciAodmFyIHByb3AgaW4gb2JqKSB7CgkJaWYob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7CgkJCW5ld19vYmpbb2JqW3Byb3BdXSA9IHByb3A7CgkJfQoJfQoJcmV0dXJuIG5ld19vYmo7Cn07CgoKTWFpbi5rLmNzcyA9IHt9OwpNYWluLmsuY3NzLmJ1YmJsZXMgPSBmdW5jdGlvbigpIHsKCXZhciBkID0gIjNweCI7Cgl2YXIgY3VzdG9tYnViYmxlc19nbG93ID0gInRleHQtc2hhZG93OiAwIDAgIiArIGQgKyAiICNGRkYsIDAgMCAiICsgZCArICIgI0ZGRiwgMCAwICIgKyBkICsgIiAjRkZGLCAwIDAgIiArIGQgKyAiICNGRkYsIDAgMCAiICsgZCArICIgI0ZGRiwgMCAwICIgKyBkICsgIiAjRkZGLCAwIDAgIiArIGQgKyAiICNGRkY7IjsKCgkkKCI8c3R5bGU+IikuYXR0cigidHlwZSIsICJ0ZXh0L2NzcyIpLmh0bWwoIlwKCS5idWJibGVfc3RlcGhlbiB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX3N0ZXBoZW4ucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgI2I0OGQ3NTsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfaHVhIHtcCgkJYmFja2dyb3VuZDogdXJsKCIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3RpbGVfaHVhLnBuZykgY2VudGVyIHJlcGVhdCAjRkZGISBpbXBvcnRhbnQ7XAoJCWJvcmRlcjogMXB4IHNvbGlkICM2YzU0M2U7IiArIGN1c3RvbWJ1YmJsZXNfZ2xvdyArICJcCgkJcGFkZGluZzogM3B4IDVweCEgaW1wb3J0YW50O1wKCX1cCgkuYnViYmxlX2ZyaWVkYSB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2ZyaWVkYS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjMjA0NTYzOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9yb2xhbmQge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9yb2xhbmQucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgI2RjM2Q4ZDsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfcGFvbGEge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9wYW9sYS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjNzkyYjcwOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9qaW5fc3Uge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9qaW5fc3UucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgI2E0MTgzNDsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfY2hhbyB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2NoYW8ucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgIzU0NTdiMDsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfZGVyZWsge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9jaGFvLnBuZykgY2VudGVyIHJlcGVhdCAjRkZGISBpbXBvcnRhbnQ7XAoJCWJvcmRlcjogMXB4IHNvbGlkICM1NDU3YjA7IiArIGN1c3RvbWJ1YmJsZXNfZ2xvdyArICJcCgkJcGFkZGluZzogM3B4IDVweCEgaW1wb3J0YW50O1wKCX1cCgkuYnViYmxlX2Zpbm9sYSB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2Zpbm9sYS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjMzVhZGJjOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9hbmRpZSB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2Zpbm9sYS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjMzVhZGJjOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9rdWFuX3RpIHtcCgkJYmFja2dyb3VuZDogdXJsKCIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3RpbGVfa3Vhbl90aS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjZTg5NDEzOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9pYW4ge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9pYW4ucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgIzY0N2MyNzsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfZWxlZXNoYSB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2VsZWVzaGEucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgI2RjYTMxMjsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfdGVycmVuY2Uge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV90ZXJyZW5jZS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjNTUxNDFjOyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmJ1YmJsZV9qYW5pY2Uge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9qYW5pY2UucG5nKSBjZW50ZXIgcmVwZWF0ICNGRkYhIGltcG9ydGFudDtcCgkJYm9yZGVyOiAxcHggc29saWQgI2RmMmI0ZTsiICsgY3VzdG9tYnViYmxlc19nbG93ICsgIlwKCQlwYWRkaW5nOiAzcHggNXB4ISBpbXBvcnRhbnQ7XAoJfVwKCS5idWJibGVfcmFsdWNhIHtcCgkJYmFja2dyb3VuZDogdXJsKCIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3RpbGVfcmFsdWNhLnBuZykgY2VudGVyIHJlcGVhdCAjRkZGISBpbXBvcnRhbnQ7XAoJCWJvcmRlcjogMXB4IHNvbGlkICM0YzRlNGM7IiArIGN1c3RvbWJ1YmJsZXNfZ2xvdyArICJcCgkJcGFkZGluZzogM3B4IDVweCEgaW1wb3J0YW50O1wKCX1cCgkuYnViYmxlX2NodW4ge1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGlsZV9jaHVuLnBuZykgY2VudGVyIHJlcGVhdCAjRkZGISBpbXBvcnRhbnQ7XAoJCWJvcmRlcjogMXB4IHNvbGlkICMzYWE2Njk7IiArIGN1c3RvbWJ1YmJsZXNfZ2xvdyArICJcCgkJcGFkZGluZzogM3B4IDVweCEgaW1wb3J0YW50O1wKCX1cCgkuYnViYmxlX2dpb2VsZSB7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy90aWxlX2dpb2VsZS5wbmcpIGNlbnRlciByZXBlYXQgI0ZGRiEgaW1wb3J0YW50O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjY2I1YjI5OyIgKyBjdXN0b21idWJibGVzX2dsb3cgKyAiXAoJCXBhZGRpbmc6IDNweCA1cHghIGltcG9ydGFudDtcCgl9XAoJLmN1c3RvbWJ1YmJsZXNfbm9iYWNrZ3JvdW5kIHtcCgkJYmFja2dyb3VuZDogI0ZGRiEgaW1wb3J0YW50O1wKCX1cCgkuYnViYmxlX3N0ZXBoZW4gc3Bhbi5idWRkeSwgLmNvbG9yZWRfc3RlcGhlbiB7IGNvbG9yOiAjYjQ4ZDc1ISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX2h1YSBzcGFuLmJ1ZGR5LCAuY29sb3JlZF9odWEgeyBjb2xvcjogIzZjNTQzZSEgaW1wb3J0YW50OyB9XAoJLmJ1YmJsZV9mcmllZGEgc3Bhbi5idWRkeSwgLmNvbG9yZWRfZnJpZWRhIHsgY29sb3I6ICMyMDQ1NjMhIGltcG9ydGFudDsgfVwKCS5idWJibGVfcm9sYW5kIHNwYW4uYnVkZHksIC5jb2xvcmVkX3JvbGFuZCB7IGNvbG9yOiAjZGMzZDhkISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX3Bhb2xhIHNwYW4uYnVkZHksIC5jb2xvcmVkX3Bhb2xhIHsgY29sb3I6ICM3OTJiNzAhIGltcG9ydGFudDsgfVwKCS5idWJibGVfamluX3N1IHNwYW4uYnVkZHksIC5jb2xvcmVkX2ppbl9zdSB7IGNvbG9yOiAjYTQxODM0ISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX2NoYW8gc3Bhbi5idWRkeSwgLmNvbG9yZWRfY2hhbyB7IGNvbG9yOiAjNTQ1N2IwISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX2RlcmVrIHNwYW4uYnVkZHksIC5jb2xvcmVkX2RlcmVrIHsgY29sb3I6ICM1NDU3YjAhIGltcG9ydGFudDsgfVwKCS5idWJibGVfZmlub2xhIHNwYW4uYnVkZHksIC5jb2xvcmVkX2Zpbm9sYSB7IGNvbG9yOiAjMzVhZGJjISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX2FuZGllIHNwYW4uYnVkZHksIC5jb2xvcmVkX2FuZGllIHsgY29sb3I6ICMzNWFkYmMhIGltcG9ydGFudDsgfVwKCS5idWJibGVfa3Vhbl90aSBzcGFuLmJ1ZGR5LCAuY29sb3JlZF9rdWFuX3RpIHsgY29sb3I6ICNlODk0MTMhIGltcG9ydGFudDsgfVwKCS5idWJibGVfaWFuIHNwYW4uYnVkZHksIC5jb2xvcmVkX2lhbiB7IGNvbG9yOiAjNjQ3YzI3ISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX2VsZWVzaGEgc3Bhbi5idWRkeSwgLmNvbG9yZWRfZWxlZXNoYSB7IGNvbG9yOiAjZGNhMzEyISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX3RlcnJlbmNlIHNwYW4uYnVkZHksIC5jb2xvcmVkX3RlcnJlbmNlIHsgY29sb3I6ICM1NTE0MWMhIGltcG9ydGFudDsgfVwKCS5idWJibGVfamFuaWNlIHNwYW4uYnVkZHksIC5jb2xvcmVkX2phbmljZSB7IGNvbG9yOiAjZGYyYjRlISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlX3JhbHVjYSBzcGFuLmJ1ZGR5LCAuY29sb3JlZF9yYWx1Y2EgeyBjb2xvcjogIzRjNGU0YyEgaW1wb3J0YW50OyB9XAoJLmJ1YmJsZV9jaHVuIHNwYW4uYnVkZHksIC5jb2xvcmVkX2NodW4geyBjb2xvcjogIzNhYTY2OSEgaW1wb3J0YW50OyB9XAoJLmJ1YmJsZV9naW9lbGUgc3Bhbi5idWRkeSwgLmNvbG9yZWRfZ2lvZWxlIHsgY29sb3I6ICNjYjViMjkhIGltcG9ydGFudDsgfVwKCS5idWJibGUgLnJlcGx5YnV0dG9ucyB7IHRleHQtc2hhZG93OiBub25lISBpbXBvcnRhbnQ7IH1cCgkuYnViYmxlIDo6LW1vei1zZWxlY3Rpb24ge1wKCQl0ZXh0LXNoYWRvdzogbm9uZSEgaW1wb3J0YW50O1wKCQliYWNrZ3JvdW5kOiAjMzhGO1wKCQljb2xvcjogI2ZmZjtcCgl9XAoJLmJ1YmJsZSA6Oi13ZWJraXQtc2VsZWN0aW9uIHtcCgkJdGV4dC1zaGFkb3c6IG5vbmUhIGltcG9ydGFudDtcCgkJYmFja2dyb3VuZDogIzM4RjtcCgkJY29sb3I6ICNmZmY7XAoJfVwKCS5idWJibGUgOjpzZWxlY3Rpb24ge1wKCQl0ZXh0LXNoYWRvdzogbm9uZSEgaW1wb3J0YW50O1wKCQliYWNrZ3JvdW5kOiAjMzhGO1wKCQljb2xvcjogI2ZmZjtcCgl9XAoJLnBsYW5ldCAuYW5hbHlzZSAuYnV0dG9ucyAuc2hhcmUtcGxhbmV0LmJ1dHtcCgkJd2lkdGg6MjBweDtcCgl9XAoJIikuYXBwZW5kVG8oImhlYWQiKTsKfTsKTWFpbi5rLmNzcy5jdXN0b21NZW51ID0gZnVuY3Rpb24oKSB7CgkkKCI8c3R5bGU+IikuYXR0cigidHlwZSIsICJ0ZXh0L2NzcyIpLmh0bWwoIlwKCWJvZHkuZ29sZCAjbWFpbmNvbnRhaW5lcnttYXJnaW4tdG9wOjU0M3B4ICFpbXBvcnRhbnQ7fVwKCSNtZW51QmFyIHsgZGlzcGxheTogbm9uZTsgfVwKCS5teGhlYWQgYVtjbGFzc149bG9nb10geyBwb3NpdGlvbjogcmVsYXRpdmUhIGltcG9ydGFudDsgZGlzcGxheTogYmxvY2s7IH1cCgkubXhoZWFkIHtwYWRkaW5nOjB9XAoJLmttZW51IHtcCgkJbWFyZ2luOiAxMHB4IGF1dG8gMjBweDtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkua21lbnVlbCB7XAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgkJZGlzcGxheTogaW5saW5lLWJsb2NrO1wKCQlib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE5LDMyLDg1LDAuOCk7XAoJCWJvcmRlci1sZWZ0OiBub25lO1wKCQliYWNrZ3JvdW5kOiAjMDAzYmFmO1wKCQlib3gtc2hhZG93OiAwIDJweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4zKSwgaW5zZXQgMHB4IC0xNXB4IDE1cHggLTEwcHggcmdiYSgwLDAsMCwwLjUpO1wKCX1cCgkua21lbnVlbCBhIHtcCgkJZGlzcGxheTogYmxvY2s7XAoJCXdpZHRoOiAxNjBweDtcCgkJaGVpZ2h0OiAyNHB4O1wKCQlwYWRkaW5nOiA0cHggNXB4O1wKCQljb2xvcjogI0RERCEgaW1wb3J0YW50O1wKCQl0ZXh0LWRlY29yYXRpb246IG5vbmUhIGltcG9ydGFudDtcCgkJdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwMDtcCgl9XAoJLmttZW51ZWw6aG92ZXIgYSB7IGNvbG9yOiAjRkZGISBpbXBvcnRhbnQ7IH1cCgkua21lbnVlbCBhOmhvdmVyIHsgY29sb3I6IHJnYigyNTUsIDc4LCAxMDApISBpbXBvcnRhbnQ7IH1cCgkua21lbnVlbCBhOmhvdmVyIGxpIHtcCgkJY29sb3I6ICNGRkYhIGltcG9ydGFudDtcCgkJdGV4dC1zaGFkb3c6IDAgMCAxcHggIzAwMDtcCgl9XAoJLmttZW51ZWw6aG92ZXIge1wKCQlib3JkZXItY29sb3I6IHJnYigxOSwzMiw4NSk7XAoJCWJhY2tncm91bmQ6ICMwMDQ0YmQ7XAoJCWJveC1zaGFkb3c6IDAgMnB4IDNweCAxcHggcmdiYSgwLDAsMCwwLjMpLCBpbnNldCAwcHggNXB4IDE1cHggMHB4IHJnYmEoMCwwLDAsMC40KTtcCgl9XAoJLmttZW51ZWwuZmlyc3Qge1wKCQlib3JkZXItbGVmdDogMXB4IHNvbGlkIHJnYmEoMTksMzIsODUsMC44KTtcCgkJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogOHB4O1wKCQlib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA4cHg7XAoJfVwKCS5rbWVudWVsLmxhc3Qge1wKCQlib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogOHB4O1wKCQlib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1wKCX1cCgkua21lbnVlbCB1bCB7IGRpc3BsYXk6IG5vbmU7IH1cCgkua21lbnVlbCB1bCBhIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiBhdXRvOyBwYWRkaW5nOiAwcHggNXB4IH1cCgkua21lbnVlbDpob3ZlciA+IHVsIHtcCgkJZGlzcGxheTogYmxvY2s7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJd2lkdGg6IDEwMCU7XAoJCXRvcDogMzNweDtcCgkJbGVmdDogMDtcCgkJdGV4dC1hbGlnbjogcmlnaHQ7XAoJCXotaW5kZXg6IDk7XAoJCXBhZGRpbmc6IDA7XAoJfVwKCS5rbWVudWVsIHVsIGxpOmhvdmVyIHVsIHtcCgkJZGlzcGxheTogYmxvY2s7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJd2lkdGg6IDEwMCU7XAoJCXRleHQtYWxpZ246IHJpZ2h0O1wKCQl6LWluZGV4OiA5O1wKCQlwYWRkaW5nOiAwO1wKCX1cCgkua21lbnVlbCB1bCBsaSB7XAoJCXRleHQtYWxpZ246IGxlZnQ7XAoJCW1hcmdpbjogMCAzcHg7XAoJCWRpc3BsYXk6IGJsb2NrISBpbXBvcnRhbnQ7XAoJCWJvcmRlcjogMXB4IHNvbGlkIHJnYigyLDE2LDY2KTtcCgkJYm9yZGVyLXRvcDogbm9uZSEgaW1wb3J0YW50O1wKCQloZWlnaHQ6IGF1dG87XAoJCWJhY2tncm91bmQ6ICMwMDcxZTM7XAoJCWNvbG9yOiAjRUVFO1wKCQl0ZXh0LXNoYWRvdzogMCAwIDFweCAjMDAwO1wKCQl0ZXh0LWRlY29yYXRpb246IG5vbmUhIGltcG9ydGFudDtcCgkJYm94LXNoYWRvdzogMCAycHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMyksIGluc2V0IDBweCAtOHB4IDhweCAtNXB4IHJnYmEoMCwwLDAsMC4zKTtcCgl9XAoJLmttZW51ZWwgdWwgbGk6aG92ZXIge1wKCQliYWNrZ3JvdW5kOiAjMDA5NGZmO1wKCQl0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDAwO1wKCQlib3gtc2hhZG93OiAwIDJweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4zKSwgaW5zZXQgMHB4IDRweCA4cHggMHB4IHJnYmEoMCwwLDAsMC4zKTtcCgl9XAoJLmttZW51ZWwgdWwgbGkgdWwge1wKCQlyaWdodDogLTE2MHB4O1wKCQl0b3A6IDBweDtcCgl9XAoJLmttZW51ZWwgdWwgbGkgaW1nIHtcCgkJbWFyZ2luLXJpZ2h0IDogNXB4O1wKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJCXRvcDogMnB4O1wKCQloZWlnaHQ6IDE2cHg7XAoJfVwKCS5rbWVudWVsIC5rc3NtZW51ZWx7XAoJCWRpc3BsYXk6YmxvY2s7XAoJCWxpbmUtaGVpZ2h0OiAyMnB4O1wKCX1cCgkiKS5hcHBlbmRUbygiaGVhZCIpOwp9OwpNYWluLmsuY3NzLmluZ2FtZSA9IGZ1bmN0aW9uKCkgewoJTWFpbi5rLmNzcy5idWJibGVzKCk7CgoJJCgiPHN0eWxlPiIpLmF0dHIoInR5cGUiLCAidGV4dC9jc3MiKS5odG1sKCJcCgkudGlkX2VkaXRvckNvbnRlbnQge1wKCSAgdmlzaWJpbGl0eTogdmlzaWJsZTtcCgkgfVwKCS5ibGluay1saW1pdGVkIHtcCgkJLW1vei1hbmltYXRpb246IGJsaW5rIDFzIDMgbGluZWFyO1wKCQktd2Via2l0LWFuaW1hdGlvbjogYmxpbmsgMXMgMyBsaW5lYXI7XAoJfVwKCUAtbW96LWtleWZyYW1lcyBibGluayB7XAoJCWZyb20geyBvcGFjaXR5OiAxOyB9XAoJCTUwJSB7IG9wYWNpdHk6IDA7IH1cCgkJdG8geyBvcGFjaXR5OiAxOyB9XAoJfVwKCUAtd2Via2l0LWtleWZyYW1lcyBibGluayB7XAoJCWZyb20geyBvcGFjaXR5OiAxOyB9XAoJCTUwJSB7IG9wYWNpdHk6IDA7IH1cCgkJdG8geyBvcGFjaXR5OiAxOyB9XAoJfVwKCS5idXQubG9hZGluZ3tcCgkJb3ZlcmZsb3c6aGlkZGVuO1wKCX1cCgkuYnV0LmxvYWRpbmc6YmVmb3Jle1wKCQliYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChsZWZ0LCByZ2JhKDI1NSwyNTUsMjU1LDApIDAlLCByZ2JhKDI1NSwyNTUsMjU1LDAuNjUpIDUwJSwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpIDk1JSwgcmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTsgLyogRkYzLjYrICovXAoJCWJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgcmlnaHQgdG9wLCBjb2xvci1zdG9wKDAlLHJnYmEoMjU1LDI1NSwyNTUsMCkpLCBjb2xvci1zdG9wKDUwJSxyZ2JhKDI1NSwyNTUsMjU1LDAuNjUpKSwgY29sb3Itc3RvcCg5NSUscmdiYSgyNTUsMjU1LDI1NSwwLjEpKSwgY29sb3Itc3RvcCgxMDAlLHJnYmEoMjU1LDI1NSwyNTUsMCkpKTsgLyogQ2hyb21lLFNhZmFyaTQrICovXAoJCWJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUscmdiYSgyNTUsMjU1LDI1NSwwLjY1KSA1MCUscmdiYSgyNTUsMjU1LDI1NSwwLjEpIDk1JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDEwMCUpOyAvKiBDaHJvbWUxMCssU2FmYXJpNS4xKyAqL1wKCQliYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQobGVmdCwgcmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDAuNjUpIDUwJSxyZ2JhKDI1NSwyNTUsMjU1LDAuMSkgOTUlLHJnYmEoMjU1LDI1NSwyNTUsMCkgMTAwJSk7IC8qIE9wZXJhIDExLjEwKyAqL1wKCQliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUscmdiYSgyNTUsMjU1LDI1NSwwLjY1KSA1MCUscmdiYSgyNTUsMjU1LDI1NSwwLjEpIDk1JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDEwMCUpOyAvKiBXM0MgKi9cCgkJY29udGVudDogJyc7XAoJCWhlaWdodDogMjFweDtcCgkJbGVmdDogMDtcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQl3aWR0aDogNzBweDtcCgkJLW1vei1hbmltYXRpb246IGxvYWRpbmctYnV0dG9uIDFzIGluZmluaXRlIGxpbmVhcjtcCgkJLXdlYmtpdC1hbmltYXRpb246IGxvYWRpbmctYnV0dG9uIDFzIGluZmluaXRlIGxpbmVhcjtcCgl9XAoJQC1tb3ota2V5ZnJhbWVzIGxvYWRpbmctYnV0dG9ue1wKCQlmcm9tIHsgbWFyZ2luLWxlZnQ6IC03MHB4OyB9XAoJCXRvIHttYXJnaW4tbGVmdDogMTAwJTsgfVwKCX1cCglALXdlYmtpdC1rZXlmcmFtZXMgbG9hZGluZy1idXR0b257XAoJCWZyb20geyBtYXJnaW4tbGVmdDogLTcwcHg7IH1cCgkJdG8ge21hcmdpbi1sZWZ0OiAxMDAlOyB9XAoJfVwKCS5jdHJsd19vdmVybGF5X2xvYWRpbmd7XAoJCWJhY2tncm91bmQtY29sb3I6ICM0RTUxNjI7XAoJCWJhY2tncm91bmQtaW1hZ2U6IHVybCgnaHR0cDovL2RhdGEudHdpbm9pZC5jb20vaW1nL2Rlc2lnbi9tYXNrLnBuZycpO1wKCQloZWlnaHQgOiAxMDAlO1wKCQlsZWZ0IDogMDtcCgkJb3BhY2l0eTowLjk7XAoJCXBvc2l0aW9uIDogZml4ZWQ7XAoJCXRvcCA6IDA7XAoJCXdpZHRoIDogMTAwJTtcCgkJei1pbmRleDoxMDAwO1wKCX1cCgkuY3RybHdfbG9hZGluZ19iYWxsX3dyYXBwZXJ7XAoJCXBvc2l0aW9uOmZpeGVkO1wKCQlsZWZ0OjUwJTtcCgkJdG9wOjUwJTtcCgkJei1pbmRleDoxMDAxO1wKCX1cCgkuY3RybHdfbG9hZGluZ19iYWxsIHtcCgkJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwKTtcCgkJYm9yZGVyOiA1cHggc29saWQgcmdiYSgwLDE4MywyMjksMC45KTtcCgkJb3BhY2l0eTogMTtcCgkJYm9yZGVyLXRvcDogNXB4IHNvbGlkIHJnYmEoMCwwLDAsMCk7XAoJCWJvcmRlci1sZWZ0OiA1cHggc29saWQgcmdiYSgwLDAsMCwwKTtcCgkJYm9yZGVyLXJhZGl1czogNTBweDtcCgkJYm94LXNoYWRvdzogMCAwIDM1cHggIzIxODdlNztcCgkJd2lkdGg6IDUwcHg7XAoJCWhlaWdodDogNTBweDtcCgkJbWFyZ2luOiAwIGF1dG87XAoJCS1tb3otYW5pbWF0aW9uOiBzcGluIC41cyBpbmZpbml0ZSBsaW5lYXI7XAoJCS13ZWJraXQtYW5pbWF0aW9uOiBzcGluIC41cyBpbmZpbml0ZSBsaW5lYXI7XAoJfVwKCS5jdHJsd19sb2FkaW5nX2JhbGwxIHtcCgkJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwKTtcCgkJYm9yZGVyOiA1cHggc29saWQgcmdiYSgwLDE4MywyMjksMC45KTtcCgkJb3BhY2l0eTogMTtcCgkJYm9yZGVyLXRvcDogNXB4IHNvbGlkIHJnYmEoMCwwLDAsMCk7XAoJCWJvcmRlci1sZWZ0OiA1cHggc29saWQgcmdiYSgwLDAsMCwwKTtcCgkJYm9yZGVyLXJhZGl1czogNTBweDtcCgkJYm94LXNoYWRvdzogMCAwIDE1cHggIzIxODdlNztcCgkJd2lkdGg6IDMwcHg7XAoJCWhlaWdodDogMzBweDtcCgkJbWFyZ2luOiAwIGF1dG87XAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgkJdG9wOiAtNTBweDtcCgkJLW1vei1hbmltYXRpb246IHNwaW5vZmYgLjVzIGluZmluaXRlIGxpbmVhcjtcCgkJLXdlYmtpdC1hbmltYXRpb246IHNwaW5vZmYgLjVzIGluZmluaXRlIGxpbmVhcjtcCgl9XAoJQC1tb3ota2V5ZnJhbWVzIHNwaW4ge1wKCQkwJSB7XAoJCQktbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1wKCQl9XAoJCTEwMCUge1wKCQkJLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1wKCQl9O1wKCX1cCglALW1vei1rZXlmcmFtZXMgc3Bpbm9mZiB7XAoJCTAlIHtcCgkJCS1tb3otdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XAoJCX1cCglcCgkJMTAwJSB7XAoJCQktbW96LXRyYW5zZm9ybTogcm90YXRlKC0zNjBkZWcpO1wKCQl9O1wKCX1cCglALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7XAoJCTAlIHtcCgkJCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XAoJCX1cCgkJMTAwJSB7XAoJCQktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XAoJCX07XAoJfVwKCUAtd2Via2l0LWtleWZyYW1lcyBzcGlub2ZmIHtcCgkJMCUge1wKCQkJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcCgkJfVwKCQkxMDAlIHtcCgkJCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTM2MGRlZyk7XAoJCX07XAoJfVwKCS5teGhlYWQgeyBoZWlnaHQ6IDA7IH1cCgkuY2RSZWFkTWVIb29rIHsgZGlzcGxheTogbm9uZSEgaW1wb3J0YW50OyB9XAoJLnRhYm9uIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3RhYm9uLnBuZykhIGltcG9ydGFudDsgfVwKCS50YWJvZmYgeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGFib2ZmLnBuZykhIGltcG9ydGFudDsgfVwKCS50YWJvZmY6aG92ZXIgeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdGFib24ucG5nKSEgaW1wb3J0YW50OyB9XAoJdGQuY2hhdF9ib3ggLnJpZ2h0IHtcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvY2hhdGJndG9wLnBuZykgbm8tcmVwZWF0IHNjcm9sbCByaWdodCB0b3A7XAoJfVwKCXRkLmNoYXRfYm94IC5yaWdodDpiZWZvcmUge1wKCQljb250ZW50OiAnJztcCgkJZGlzcGxheTogYmxvY2s7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogNnB4O1wKCQloZWlnaHQ6IDVweDtcCgkJYmFja2dyb3VuZDogcmdiKDE5NCwgMjQzLCAyNTIpO1wKCX1cCgl0ZC5jaGF0X2JveCAuY2hhdHRleHQgLmJ1YmJsZSAudGFsa3MgLmZyb20geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvY2hhdF9mcm9tX2xlZnQucG5nKSEgaW1wb3J0YW50OyB9XAoJLmN1c3RvbXRhYnMgbGkgeyBtYXJnaW4tcmlnaHQ6IDNweDsgbWFyZ2luLWJvdHRvbTogMCEgaW1wb3J0YW50OyB9XAoJaHRtbCB7IG92ZXJmbG93LXg6IGF1dG87IHdpZHRoOiAxMDAlOyB9XAoJYm9keSB7IGJhY2tncm91bmQtcG9zaXRpb246IDUwJSAtMTAwcHg7IG92ZXJmbG93LXg6IGhpZGRlbiEgaW1wb3J0YW50OyBtaW4td2lkdGg6ICIgKyBNYWluLmsuQk1BWFdJRFRIICsgInB4OyB3aWR0aDogMTAwJTsgfVwKCXVsLm10YWJzIGxpIHsgbWFyZ2luLXJpZ2h0OiA1cHghIGltcG9ydGFudDsgfVwKCS5oZWxwZ3VpZGUgeyBkaXNwbGF5OiBub25lOyB9XAoJI3RpZF9iYXJfZG93biB7IGNsZWFyOiBib3RoOyB9XAoJI2NkTWFpbkNoYXQgeyBwb3NpdGlvbjogcmVsYXRpdmU7IH1cCgkjY2RUYWJzQ2hhdCB7IG1hcmdpbjogMDsgdG9wOiAtMjRweDsgfVwKCSN0b3BpbmZvX2JhciB7IG1hcmdpbi10b3A6IDVweDsgfVwKCSN0b29sdGlwIHsgei1pbmRleDogMTAwISBpbXBvcnRhbnQ7IH1cCgkjZmxvYXRpbmdfdWlfc3RhcnQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNDJweDsgbGVmdDogNXB4OyB6LWluZGV4OiAyMDsgfVwKCS5tdGFicyBhIHsgY29sb3I6ICNGRkYhIGltcG9ydGFudDsgfVwKCSNjaGFyX2NvbCAuc2hlZXRtYWluIHsgcG9zaXRpb246IHJlbGF0aXZlOyB9XAoJI2NoYXJfY29sIC5zdGF0dXNlcyB7IG1hcmdpbjogMCEgaW1wb3J0YW50OyB0b3A6IDEwcHg7IGxlZnQ6IDdweDsgfVwKCSNjaGFyX2NvbCAuc2tpbGxzIHsgbWFyZ2luOiAwISBpbXBvcnRhbnQ7IHRvcDogMHB4OyBsZWZ0OiAxNzdweDsgfVwKCXNwYW4uaGlnaGxpZ2h0IHtcCgkJYmFja2dyb3VuZDogI0ZGNjtcCgkJcGFkZGluZzogMCAycHg7XAoJCW1hcmdpbjogMCAtMnB4O1wKCX1cCgkuZXhwbG9yaW5nIHtcCgkJdG9wOiAtMzBweCEgaW1wb3J0YW50O1wKCQlyaWdodDogMTVweCEgaW1wb3J0YW50O1wKCQl3aWR0aDogMjAwcHghIGltcG9ydGFudDtcCgkJaGVpZ2h0OiAyNHB4ISBpbXBvcnRhbnQ7XAoJCXotaW5kZXg6IDIwO1wKCQlvdmVyZmxvdzogaGlkZGVuISBpbXBvcnRhbnQ7XAoJfVwKCS5leHBsb3JpbmcgLmV4cGxvcmluZzIge1wKCQloZWlnaHQ6IDIycHghIGltcG9ydGFudDtcCgl9XAoJLmV4cGxvcmluZzpob3ZlciB7XAoJCXdpZHRoOiBhdXRvISBpbXBvcnRhbnQ7XAoJCWhlaWdodDogYXV0byEgaW1wb3J0YW50O1wKCX1cCgkuZXhwbG9yaW5nOmhvdmVyIC5leHBsb3JpbmcyIHtcCgkJaGVpZ2h0OiBhdXRvISBpbXBvcnRhbnQ7XAoJfVwKCWEuYnV0bWluaSB7IFwKCQlvdXRsaW5lOiBub25lISBpbXBvcnRhbnQ7IFwKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJfVwKCWEuYnV0bWluaTphZnRlciB7IFwKCQlkaXNwbGF5OiBibG9jaztcCgkJY29udGVudDogJyc7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAwcHg7IGJvdHRvbTogMHB4OyBsZWZ0OiAwcHg7IHJpZ2h0OiAwcHg7XAoJCWJvcmRlcjogMXB4IHNvbGlkICMxRDIwMjg7XAoJCXotaW5kZXg6IDM7XAoJfVwKCS5jdXN0b21yZXBseSB7IFwKCQlyaWdodDogLTdweCEgaW1wb3J0YW50O1wKCQlib3R0b206IDJweCEgaW1wb3J0YW50O1wKCQl0ZXh0LWFsaWduOiByaWdodDtcCgl9XAoJLmN1c3RvbXJlcGx5IGEgeyBcCgkJb3BhY2l0eTogMC44O1wKCX1cCgkuY3VzdG9tcmVwbHkgYTpob3ZlciB7IFwKCQlvcGFjaXR5OiAxO1wKCX1cCgkuY2hhdGZvcm1hdGJ0biB7IFwKCQlmbG9hdDogcmlnaHQ7XAoJCW1hcmdpbi1yaWdodDogNXB4ISBpbXBvcnRhbnQ7XAoJCW1hcmdpbi10b3A6IDdweCEgaW1wb3J0YW50O1wKCQl3aWR0aDogYXV0byEgaW1wb3J0YW50O1wKCX1cCgkuY2hhdGZvcm1hdGJ0biBpbWcgeyBcCgkJdmVydGljYWwtYWxpZ246IG1pZGRsZSEgaW1wb3J0YW50O1wKCX1cCgkuYWxlcnRuYndyYXBwZXIgeyBcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQl0b3A6IDE2cHg7XAoJCWxlZnQ6IC0zcHg7XAoJCWhlaWdodDogMTdweDtcCgkJd2lkdGg6IDIycHg7XAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJb3ZlcmZsb3c6IHZpc2libGU7XAoJCWN1cnNvcjogZGVmYXVsdDtcCgkJei1pbmRleDogMTtcCgl9XAoJLmFsZXJ0bmJ3cmFwcGVyIC5hbGVydG5iIHsgXAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgkJZGlzcGxheTogaW5saW5lLWJsb2NrO1wKCQliYWNrZ3JvdW5kOiB1cmwoL2ltZy9kZXNpZ24vYWxhcm1fb25fYmcuZ2lmKSByZXBlYXQteCBib3R0b207XAoJCWNvbG9yOiByZ2IoMjU1LCA3OCwgMTAwKTtcCgkJcGFkZGluZzogMCAwcHg7XAoJCWZvbnQtc2l6ZTogMTBweDtcCgkJbGluZS1oZWlnaHQ6IDE2cHg7XAoJCWhlaWdodDogMTdweDtcCgkJbWluLXdpZHRoOiAxMHB4O1wKCX1cCgkuYWxlcnRuYndyYXBwZXIgLmFsZXJ0bmI6YmVmb3JlIHsgXAoJCWNvbnRlbnQ6ICcnO1wKCQlkaXNwbGF5OiBibG9jaztcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlsZWZ0OiAtNHB4O1wKCQl0b3A6IDBweDtcCgkJYm90dG9tOiAwcHg7XAoJCXdpZHRoOiA0cHg7XAoJCWJhY2tncm91bmQ6IHVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9hbGVydGxlZnQuZ2lmKSBib3R0b20gbGVmdDtcCgl9XAoJLmFsZXJ0bmJ3cmFwcGVyIC5hbGVydG5iOmFmdGVyIHsgXAoJCWNvbnRlbnQ6ICcnO1wKCQlkaXNwbGF5OiBibG9jaztcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlyaWdodDogLTRweDtcCgkJdG9wOiAwcHg7XAoJCWJvdHRvbTogMHB4O1wKCQl3aWR0aDogNHB4O1wKCQliYWNrZ3JvdW5kOiB1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvYWxlcnRyaWdodC5naWYpIGJvdHRvbSByaWdodDtcCgl9XAoJLnVzTGVmdGJhciB7IFwKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJCWZsb2F0OiBsZWZ0O1wKCQliYWNrZ3JvdW5kLWNvbG9yOiAjMTcxOTVCO1wKCQliYWNrZ3JvdW5kOiB1cmwoJy9pbWcvZGVzaWduL2JnX3JpZ2h0LnBuZycpIHJpZ2h0IHJlcGVhdC15O1wKCQlib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMSk7XAoJCWJveC1zaGFkb3c6IDFweCAwIDNweCAxcHggcmdiYSgwLDAsMCwwLjIpO1wKCQltaW4taGVpZ2h0OiA3MjVweDtcCgkJbWFyZ2luLXJpZ2h0OiAxNXB4O1wKCQlwYWRkaW5nOiA4cHggMDtcCgkJd2lkdGg6IDEyNXB4O1wKCX1cCgkudXNMZWZ0YmFyOmJlZm9yZSB7IFwKCQlkaXNwbGF5OiBibG9jaztcCgkJY29udGVudDogJyc7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAwOyBib3R0b206IDA7IHJpZ2h0OiAxMTNweDtcCgkJd2lkdGg6IDEwMDAwcHg7XAoJCWJhY2tncm91bmQtY29sb3I6ICMxNzE5NUI7XAoJCXotaW5kZXg6IC0xO1wKCX1cCgkudXNMZWZ0YmFyIGgzIHsgXAoJCWNsZWFyOiBib3RoO1wKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJCW1hcmdpbjogMjBweCAwIDEwcHg7XAoJCXBhZGRpbmc6IDAgMTZweCAycHggNHB4O1wKCQljb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1wKCQlmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHM7XAoJCWZvbnQtc2l6ZTogMTVweDtcCgkJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcCgl9XAoJLnVzTGVmdGJhciBoMzpiZWZvcmUgeyBcCgkJZGlzcGxheTogYmxvY2s7XAoJCWNvbnRlbnQ6ICcnO1wKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCWJvdHRvbTogLTNweDsgbGVmdDogMDsgcmlnaHQ6IDA7XAoJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuNik7XAoJfVwKCS51c0xlZnRiYXIgaDMuZmlyc3QgeyBcCgkJbWFyZ2luOiAwIDAgMTBweCAwISBpbXBvcnRhbnQ7XAoJfVwKCS51c0xlZnRiYXIgaDMgc3BhbiB7IFwKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCXdpZHRoOiAxNnB4O1wKCQloZWlnaHQ6IDE2cHg7XAoJCXRvcDogMXB4OyByaWdodDogNHB4O1wKCQljdXJzb3I6IHBvaW50ZXI7XAoJCW9wYWNpdHk6IDAuNDtcCgl9XAoJLnVzTGVmdGJhciBoMyBzcGFuOmhvdmVyIHsgXAoJCW9wYWNpdHk6IDE7XAoJfVwKCS51c0xlZnRiYXIgaDMgLmRpc3BsYXltb3JlIHsgXAoJCWJhY2tncm91bmQ6IHVybCgvaW1nL2ljb25zL3VpL21vcmUucG5nKTtcCgl9XAoJLnVzTGVmdGJhciBoMyAuZGlzcGxheWxlc3MgeyBcCgkJYmFja2dyb3VuZDogdXJsKC9pbWcvaWNvbnMvdWkvbGVzcy5wbmcpO1wKCX1cCgkudXNMZWZ0YmFyIC5oZXJvIHsgXAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgkJY2xlYXI6IGJvdGg7XAoJCW1hcmdpbjogMTBweCAwO1wKCQloZWlnaHQ6IDM2cHg7XAoJCXBhZGRpbmctcmlnaHQ6IDIwcHg7XAoJCWJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7XAoJCWJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7XAoJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7XAoJfVwKCS51c0xlZnRiYXIgLm1pc3NpbmdoZXJvZXMgeyBcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQljbGVhcjogYm90aDtcCgkJbWFyZ2luOiAxMHB4IDA7XAoJCXBhZGRpbmc6IDFweCAzcHggM3B4O1wKCQlsaW5lLWhlaWdodDogMHB4O1wKCQliYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpO1wKCQlib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpO1wKCQlib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpO1wKCX1cCgkudXNMZWZ0YmFyIGltZyB7IFwKCQlvcGFjaXR5OiAwLjc7XAoJfVwKCS5idXRiZyBpbWcuYWxlcnRlZCB7XAoJCXZlcnRpY2FsLWFsaWduOiAtMjAlO1wKCQltYXJnaW4tcmlnaHQ6IC0xMHB4O1wKCX1cCgkuYnV0YmcgaW1nLmFsZXJ0IHtcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQlsZWZ0OiAwcHg7XAoJCXRvcDogMnB4O1wKCQl0cmFuc2Zvcm06IHNjYWxlKDEpO1wKCX1cCgkudXNMZWZ0YmFyIC5pbnZlbnRvcnkgeyBcCgkJcGFkZGluZy1sZWZ0OiA0cHg7XAoJfVwKCS51c0xlZnRiYXIgLml0ZW0geyBcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQl0cmFuc2Zvcm06IHNjYWxlKDAuNSk7XAoJCS13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjUpO1wKCQltYXJnaW46IC0xNHB4O1wKCX1cCgkudXNMZWZ0YmFyIC5pdGVtIGltZy5icm9rZW4geyBcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlyaWdodDogMnB4OyB0b3A6IDFweDtcCgkJdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1wKCQktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4yKTtcCgkJb3BhY2l0eTogMSEgaW1wb3J0YW50O1wKCX1cCgkudXNMZWZ0YmFyIC5pdGVtIHNwYW4uY2hhcmdlcyB7IFwKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCXBhZGRpbmc6IDBweCAycHg7XAoJCWxlZnQ6IDJweDsgYm90dG9tOiAxcHg7XAoJCWJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTtcCgkJdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1wKCQktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4yKTtcCgl9XAoJLnVzTGVmdGJhciAuaXRlbSBzcGFuLmNoYXJnZXMgaW1nIHsgXAoJCXdpZHRoOiAxMnB4OyBoZWlnaHQ6IDEycHg7XAoJfVwKCS51c0xlZnRiYXIgLmJvZHkgeyBcCgkJZmxvYXQ6IGxlZnQ7XAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgkJb3BhY2l0eTogMTtcCgkJbGVmdDogLTVweDtcCgkJdG9wOiAtNXB4O1wKCQl3aWR0aDogMjhweDtcCgkJaGVpZ2h0OiA0NHB4O1wKCQliYWNrZ3JvdW5kOiB1cmwoJy9pbWcvYXJ0L2NoYXIucG5nJykgbm8tcmVwZWF0O1wKCQl6LWluZGV4OiAyO1wKCX1cCgkudXNMZWZ0YmFyIC5taXNzaW5naGVyb2VzIC5ib2R5IHsgXAoJCWhlaWdodDogMjRweDtcCgkJb3BhY2l0eTogMC43O1wKCQlwb3NpdGlvbjogc3RhdGljISBpbXBvcnRhbnQ7XAoJCWZsb2F0OiBub25lISBpbXBvcnRhbnQ7XAoJCW1hcmdpbjogMCAtM3B4ISBpbXBvcnRhbnQ7XAoJfVwKCS51c0xlZnRiYXIgLmhlcm8gLmljb25ze1wKCQl3aGl0ZS1zcGFjZTogbm93cmFwO1wKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJCWxlZnQ6IC0ycHg7XAoJfVwKCS51c0xlZnRiYXIgaW1nOmhvdmVyIHsgXAoJCW9wYWNpdHk6IDEgIWltcG9ydGFudDtcCgl9XAoJLnVzTGVmdGJhciAuYnV0LFwKCS5jdHJsdy5idXR7IFwKCQltYXJnaW46IDAgMnB4O1wKCX1cCgkudXNMZWZ0YmFyIC5idXQgaW1nIHsgXAoJCW9wYWNpdHk6IDE7XAoJfVwKCS51c0xlZnRiYXIgLmhlcm8gLnNraWxscyB7IFwKCQl0b3A6IDJweDtcCgl9XAoJLnVzTGVmdGJhciAuaGVybyAuc2tpbGxzIHNwYW4uc2tpbGwgeyBcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCX1cCgkuaWNvbnMuc2tpbGxzIC5za2lsbHtcCgkJZGlzcGxheTogaW5saW5lLWJsb2NrO1wKCQlmb250LXNpemU6IDA7XAoJCXBvc2l0aW9uOiByZWxhdGl2ZTtcCgl9XAoJLmljb25zLnNraWxsc3tcCgkJaGVpZ2h0OiAxOHB4O1wKCQltYXJnaW4tYm90dG9tOjNweDtcCgl9XAoJLnVzTGVmdGJhciAuaGVybyAuc2tpbGxzIHNwYW4uc2tpbGwgaW1nLmFjdG11c2gsXAoJLmljb25zLnNraWxscyAuc2tpbGwgaW1nLmFjdG11c2hcCgkgeyBcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlib3R0b206IC0zcHg7XAoJCXJpZ2h0OiAwcHg7XAoJCW9wYWNpdHk6IDEhIGltcG9ydGFudDtcCgl9XAoJLnVzTGVmdGJhciAuaGVybyAudGl0bGVzIHsgXAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAtM3B4O1wKCQlyaWdodDogMnB4O1wKCQl3aWR0aDogMTZweDtcCgkJbGluZS1oZWlnaHQ6IDEycHg7XAoJCXotaW5kZXg6IDI7XAoJfVwKCS51c0xlZnRiYXIgLnRpdGxlc19saXN0IC5pY29uIHsgXAoJCW1hcmdpbjogMHB4IDVweCAzcHggNHB4O1wKCQlvcGFjaXR5OiAxO1wKCX1cCgkudXNMZWZ0YmFyIC50aXRsZXNfbGlzdCAuYm9keSB7IFwKCQloZWlnaHQ6IDI0cHg7XAoJCW9wYWNpdHk6IDAuNTtcCgkJcG9zaXRpb246IHN0YXRpYyEgaW1wb3J0YW50O1wKCQlmbG9hdDogbm9uZSEgaW1wb3J0YW50O1wKCQltYXJnaW46IDAgLTNweCEgaW1wb3J0YW50O1wKCX1cCgkudXNMZWZ0YmFyIC5wcm9qZWN0c3ByZXZpZXcgeyBcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkudXNMZWZ0YmFyIC5sYWJwcmV2aWV3IHsgXAoJCW1heC13aWR0aDogMTIwcHg7XAoJfVwKCS51c0xlZnRiYXIgLnByb2plY3RwcmV2aWV3IHsgXAoJCWRpc3BsYXk6IGlubGluZS1ibG9jaztcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQltYXJnaW46IDAgMXB4O1wKCQl3aWR0aDogMzRweDtcCgkJaGVpZ2h0OiA0M3B4O1wKCQlvdmVyZmxvdzogaGlkZGVuO1wKCQlib3JkZXI6IDFweCBzb2xpZCAjNDU4ZGRmO1wKCX1cCgkudXNMZWZ0YmFyIC5wcm9qZWN0cHJldmlldyBpbWcucHJvamVjdGltZyB7IFwKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCXRvcDogLTE1cHg7XAoJCWxlZnQ6IC03cHg7XAoJCXotaW5kZXg6IDE7XAoJfVwKCS51c0xlZnRiYXIgLnByb2plY3RwcmV2aWV3OmhvdmVyIGltZy5wcm9qZWN0aW1nIHsgXAoJCW9wYWNpdHk6IDE7XAoJfVwKCS51c0xlZnRiYXIgLnByb2plY3RwcmV2aWV3IC5wcm9qZWN0cGN0IHsgXAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiA2cHg7XAoJCWxlZnQ6IDBweDtcCgkJd2lkdGg6IDM0cHg7XAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJZm9udC13ZWlnaHQ6IGJvbGQ7XAoJCWZvbnQtc2l6ZTogMTRweDtcCgkJdGV4dC1zaGFkb3c6IDAgMCA2cHggYmxhY2s7XAoJCWN1cnNvcjogZGVmYXVsdDtcCgkJei1pbmRleDogMztcCgl9XAoJLnVzTGVmdGJhciAucHJvamVjdHByZXZpZXcgLnByb2plY3Rib251cyB7IFwKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCWJvdHRvbTogMHB4O1wKCQlsZWZ0OiAwcHg7XAoJCXdpZHRoOiAzNHB4O1wKCQloZWlnaHQ6IDE2cHg7XAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJei1pbmRleDogMztcCgl9XAoJLnVzTGVmdGJhciAucHJvamVjdHByZXZpZXcgLnByb2plY3Rib251cyBpbWcgeyBcCgkJaGVpZ2h0OiAxNnB4O1wKCQlvcGFjaXR5OiAxO1wKCX1cCgl0ZC5jaGF0X2JveCAuY2hhdHRleHQgLndhbGwgLm1haW5tZXNzYWdlLm5lcm9uX3RhbGtzIHtcCgkJYmFja2dyb3VuZC1jb2xvciA6ICM3NENCRjMhIGltcG9ydGFudDtcCgkJZm9udC12YXJpYW50OiBzbWFsbC1jYXBzO1wKCX1cCgkjdGFicmVwbHlfY29udGVudCAubG9hZGluZywgI3RhYmN1c3RvbV9jb250ZW50IC5sb2FkaW5nIHsgXAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJbWFyZ2luLXRvcDogNDJweDtcCgl9XAoJI3RhYnJlcGx5X2NvbnRlbnQgLndhbGwsICN0YWJjdXN0b21fY29udGVudCAud2FsbCB7IFwKCQlyZXNpemU6IG5vbmU7XAoJfVwKCSN0YWJyZXBseV9jb250ZW50IC50aWRfYnV0dG9ucywgI3RhYmN1c3RvbV9jb250ZW50IC50aWRfYnV0dG9ucyB7IFwKCQl3aWR0aDogMTAwJTtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCQltYXJnaW46IDVweCAwO1wKCX1cCgkjdGFicmVwbHlfY29udGVudCAudGlkX2J1dHRvbiwgI3RhYmN1c3RvbV9jb250ZW50IC50aWRfYnV0dG9uIHsgXAoJCW1pbi13aWR0aDogMCEgaW1wb3J0YW50O1wKCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XAoJCW1hcmdpbjogMTBweCA0cHg7XAoJCXBhZGRpbmc6IDNweCA4cHg7XAoJfVwKCSN0YWJyZXBseV9jb250ZW50IHRleHRhcmVhLCAjdGFiY3VzdG9tX2NvbnRlbnQgdGV4dGFyZWEsICN0YWJyZXBseV9jb250ZW50IC5yZXBseSwgI3RhYmN1c3RvbV9jb250ZW50IC5yZXBseSB7IFwKCQl3aWR0aDogOTUlO1wKCQloZWlnaHQ6IDgwcHghIGltcG9ydGFudDtcCgkJcmVzaXplOiBub25lISBpbXBvcnRhbnQ7XAoJCW1hcmdpbjogM3B4IGF1dG8hIGltcG9ydGFudDtcCgkJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcCgkJYm94LXNoYWRvdzogaW5zZXQgMCAwIDNweCAjYWFkNGU1LCAwcHggMXB4IDBweCAjZmZmO1wKCQlib3JkZXI6IDFweCBzb2xpZCAjYWFkNGU1O1wKCQlib3JkZXItcmFkaXVzIDogM3B4O1wKCQljb2xvcjogcmdiKDEwLDQwLDgwKTtcCgkJcGFkZGluZzogM3B4IDVweDtcCgkJZm9udC1zaXplOiAxMHB0O1wKCQlvdmVyZmxvdzogYXV0bztcCgkJdGV4dC1hbGlnbjogbGVmdDtcCgl9XAoJI3RhYnJlcGx5X2NvbnRlbnQgZm9ybSwgI3RhYmN1c3RvbV9jb250ZW50IGZvcm0gIHsgXAoJCWhlaWdodDogMTAwJSEgaW1wb3J0YW50O1wKCX1cCgkjdGFicmVwbHlfY29udGVudCAudGlkX3dyYXBwZXIsICN0YWJjdXN0b21fY29udGVudCAudGlkX3dyYXBwZXIgeyBcCgkJaGVpZ2h0OiAxMDAlISBpbXBvcnRhbnQ7XAoJCXBhZGRpbmc6IDRweDtcCgl9XAoJI3RhYnJlcGx5X2NvbnRlbnQgLnRpZF9zbWlsZXlQYW5lbCwgI3RhYmN1c3RvbV9jb250ZW50IC50aWRfc21pbGV5UGFuZWwgeyBcCgkJbWFyZ2luOiAycHggYXV0bztcCgl9XAoJI3RhYnJlcGx5X2NvbnRlbnQgLnRpZF9zbWlsZXlQb3BVcCAudGlkX3dyYXBwZXIsICN0YWJjdXN0b21fY29udGVudCAudGlkX3NtaWxleVBvcFVwIC50aWRfd3JhcHBlciAgeyBcCgkJbWF4LWhlaWdodDogODBweCEgaW1wb3J0YW50O1wKCX1cCgkjdGFiY3VzdG9tX2NvbnRlbnQgLmFycmF5X21lc3NhZ2VzX3ByZXJlY29yZGVkIHsgXAoJCXBhZGRpbmc6IDEwcHggMTBweCAxMHB4IDM1cHg7XAoJCWJhY2tncm91bmQtY29sb3I6ICNlMWY5ZmU7XAoJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYWFkNGU1O1wKCQlib3JkZXItdG9wOiAxcHggc29saWQgI2FhZDRlNTtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkjdGFiY3VzdG9tX2NvbnRlbnQgLm1lc3NhZ2VfcHJlcmVjb3JkZWQgeyBcCgkJbWFyZ2luOiAycHg7XAoJCXBhZGRpbmc6IDJweCA0cHg7XAoJCWJveC1zaGFkb3c6IGluc2V0IDAgMCAzcHggI2FhZDRlNSwgMHB4IDFweCAwcHggI2ZmZjtcCgkJYm9yZGVyOiAxcHggc29saWQgI2FhZDRlNTtcCgkJYm9yZGVyLXJhZGl1cyA6IDNweDtcCgkJY3Vyc29yOiAgcG9pbnRlcjtcCgl9XAoJI3RhYmN1c3RvbV9jb250ZW50IC5zZWxlY3RlZHsgXAoJCWJhY2tncm91bmQtY29sb3I6ICNhMWM5Y2U7XAoJfVwKCS5yZWNhcCBwIHsgXAoJCWJvcmRlcjogMXB4IHNvbGlkIHJnYig5LDEwLDk3KTtcCgkJYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjMpO1wKCQltYXJnaW46IDEwcHggMjBweDtcCgkJcGFkZGluZzogMnB4O1wKCQl0ZXh0LWFsaWduOiBjZW50ZXI7XAoJfVwKCS5yZWNhcCAuY2hhcnMgeyBcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkucmVjYXAgLmNoYXJzIC5oZXJvIHsgXAoJCWRpc3BsYXk6IGlubGluZS1ibG9jaztcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCQl3aWR0aDogMjZweDtcCgkJaGVpZ2h0OiAzMHB4O1wKCX1cCgkucmVjYXAgLmNoYXJzIC5oZXJvIGltZyB7IFwKCQlwb3NpdGlvbjogYWJzb2x1dGU7XAoJCXRvcDogMDsgbGVmdDogNHB4O1wKCX1cCgkucmVjYXAgLmNoYXJzIC5oZXJvIHNwYW4geyBcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlib3R0b206IDA7IGxlZnQ6IDA7XAoJCXdpZHRoOiAxMDAlO1wKCQl0ZXh0LWFsaWduOiBjZW50ZXI7XAoJCWZvbnQtc2l6ZTogMTBweDtcCgl9XAoJLnJlY2FwIC5jaGFycyAuaGlnaGxpZ2h0IHsgXAoJCXdpZHRoOiAxMDVweDtcCgkJaGVpZ2h0OiAxNnB4O1wKCQltYXJnaW4tYm90dG9tOiA2cHg7XAoJfVwKCS5yZWNhcCAuY2hhcnMgLmhpZ2hsaWdodCBzcGFuIHsgXAoJCXRvcDogMHB4OyBsZWZ0OiAyNHB4O1wKCQl3aWR0aDogYXV0bztcCgkJbGluZS1oZWlnaHQ6IDE2cHg7XAoJCXRleHQtYWxpZ246IGxlZnQ7XAoJCWZvbnQtc2l6ZTogMTJweDtcCgl9XAoJLnJlY2FwIHRleHRhcmVhIHsgXAoJCWRpc3BsYXk6IGJsb2NrO1wKCQloZWlnaHQ6IDQwcHg7XAoJCXdpZHRoOiA5MCU7XAoJCWJvcmRlcjogMXB4IHNvbGlkIHJnYigxMCw0MCw4MCk7XAoJCXBhZGRpbmc6IDJweDtcCgkJbWFyZ2luOiA1cHggYXV0bztcCgkJZm9udC1zaXplOiAxMHB4O1wKCQljb2xvcjogcmdiKDEwLDQwLDgwKTtcCgkJb3BhY2l0eTogMC40O1wKCQlyZXNpemU6IG5vbmU7XAoJfVwKCS5yZWNhcCB0ZXh0YXJlYTphY3RpdmUgeyBcCgkJb3BhY2l0eTogMTtcCgl9XAoJLnJlY2FwIHRleHRhcmVhOmZvY3VzIHsgXAoJCW9wYWNpdHk6IDE7XAoJfVwKCSN0YWJ0b3BpY19jb250ZW50IC5tYWlubWVzc2FnZSB7IFwKCQltYXJnaW46IDNweCA1cHg7XAoJfVwKCSN0YWJ0b3BpY19jb250ZW50IHRhYmxlLnRyZWVyZXBseSB7IFwKCQl3aWR0aDogOTIlO1wKCX1cCgkjdGFidG9waWNfY29udGVudCB0ZC50cmVlIHsgXAoJCXdpZHRoOiAxNXB4O1wKCX1cCgkjdGFiZmF2X2NvbnRlbnQgLnJlcGx5LCAjdGFic2VhcmNoX2NvbnRlbnQgLnJlcGx5LCAjdGFibmV3X2NvbnRlbnQgLnJlcGx5LCAjdGFid2FsbF9jb250ZW50IC5yZXBseSB7IFwKCQltYXgtaGVpZ2h0OiA2NXB4O1wKCQlvdmVyZmxvdy15OiBoaWRkZW4hIGltcG9ydGFudDtcCgkJd2lkdGg6IDkyJTtcCgkJbWFyZ2luOiA1cHggNXB4IDAhIGltcG9ydGFudDtcCgl9XAoJI3RhYmZhdl9jb250ZW50IC50b3BpY2FjdCwgI3RhYnNlYXJjaF9jb250ZW50IC50b3BpY2FjdCwgI3RhYm5ld19jb250ZW50IC50b3BpY2FjdCwgI3RhYndhbGxfY29udGVudCAudG9waWNhY3QgeyBcCgkJZGlzcGxheTogYmxvY2s7XAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJY29sb3I6IHJnYigxNTAsMjIsMTIpISBpbXBvcnRhbnQ7XAoJCW1hcmdpbjogMCAyMHB4IDhweDtcCgl9XAoJI3RhYnNlYXJjaF9jb250ZW50IHsgXAoJCXBhZGRpbmctdG9wOiAzMHB4O1wKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJfVwKCSN0YWJzZWFyY2hfY29udGVudCAuYmFyIHsgXAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAwcHg7XAoJCWxlZnQ6IDBweDtcCgkJcmlnaHQ6IDBweDtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCQlwYWRkaW5nOiA0cHggMDtcCgkJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU7XAoJfVwKCSN0YWJzZWFyY2hfY29udGVudCAuYmFyIGlucHV0W3R5cGU9dGV4dF0geyBcCgkJY29sb3I6IGJsYWNrO1wKCQlwYWRkaW5nOiAxcHggM3B4O1wKCQlib3JkZXI6IDFweCBzb2xpZCAjNTU1O1wKCX1cCgkjdGFic2VhcmNoX2NvbnRlbnQgLmJhciAuYnV0bWluaSB7IFwKCQltYXJnaW46IDBweCAycHggLTZweDtcCgkJcGFkZGluZzogM3B4IDRweDtcCgl9XAoJI3NlYXJjaHJlc3VsdHMgaDQgeyBcCgkJbWFyZ2luOiA0cHggOHB4OyBcCgkJZm9udC1zaXplOiAxNHB4OyBcCgl9XAoJI3NlYXJjaHJlc3VsdHMgcC5oZWxwIHsgXAoJCW1hcmdpbjogNHB4IDhweDsgXAoJfVwKCSNzZWFyY2hyZXN1bHRzIHAuaGVscCBpIHsgXAoJCWNvbG9yOiByZ2IoODAsMTAsMTApOyBcCgl9XAoJLnVzUG9wdXAgeyBcCgkJZGlzcGxheTogYmxvY2shIGltcG9ydGFudDtcCgkJcG9zaXRpb246IGZpeGVkO1wKCQl0b3A6IDIzcHg7XAoJCWJvdHRvbTogMHB4O1wKCQlsZWZ0OiAwcHg7XAoJCXJpZ2h0OiAwcHg7XAoJCXotaW5kZXg6IDk4O1wKCX1cCgkudXNQb3B1cCAudXNQb3B1cE1hc2sgeyBcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQl0b3A6IDA7IGJvdHRvbTogMDsgcmlnaHQ6IDA7IGxlZnQ6IDA7XAoJCWJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC44KTtcCgkJei1pbmRleDogLTE7XAoJfVwKCS51c1BvcHVwIC51c1BvcHVwQ29udGVudCB7IFwKCQlwb3NpdGlvbjogcmVsYXRpdmU7XAoJCW1hcmdpbjogMTAwcHggYXV0byAwIGF1dG87XAoJCWJhY2tncm91bmQ6IHJnYmEoMjgsIDU2LCAxMjYsIDAuOTc2KTtcCgkJYm94LXNoYWRvdzogMHB4IDBweCAzcHggM3B4IHJnYmEoNTcsIDEwMSwgMjUxLCAwLjUpLCAwcHggMHB4IDNweCAzcHggcmdiYSg1NywgMTAxLCAyNTEsIDAuNSkgaW5zZXQ7XAoJCXJlc2l6ZTogbm9uZSEgaW1wb3J0YW50O1wKCX1cCgkucG9wdXAtY29udGVudHtcCgkJbWFyZ2luOiAzMHB4O1wKCX1cCgkucG9wdXAtYWN0aW9uc3tcCgkJbWFyZ2luLWJvdHRvbTogMTBweDtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkudXBkYXRlc2NvbnRlbnQgeyBcCgkJbWFyZ2luOiAzMHB4O1wKCX1cCgkudXBkYXRlc2NvbnRlbnQgdWwudXBkYXRlc2xpc3QgeyBcCgkJZm9udC1zaXplOiAxMnB4O1wKCQltYXJnaW46IDEwcHg7XAoJfVwKCS51cGRhdGVzY29udGVudCB1bC51cGRhdGVzbGlzdCBsaSB7IFwKCQltYXJnaW4tbGVmdDogMjBweDtcCgkJbGlzdC1zdHlsZS10eXBlOiBzcXVhcmU7XAoJfVwKCS51cGRhdGVzYWN0aW9uc3sgXAoJCXRleHQtYWxpZ246IGNlbnRlcjtcCgkJbWFyZ2luLWJvdHRvbTogMTBweDtcCgl9XAoJLnVwZGF0ZXNidG4geyBcCgkJZGlzcGxheTogaW5saW5lLWJsb2NrO1wKCQltYXJnaW46IDAgM3B4O1wKCX1cCgkjbmVyb25fYWxlcnRfY29udGVudCB7XAoJCXBhZGRpbmc6IDEwcHg7XAoJfVwKCSNuZXJvbl9hbGVydF9jb250ZW50IC5pbWdfbmVyb257XAoJCWZsb2F0OmxlZnQ7XAoJCWhlaWdodDo0NXB4O1wKCQltYXJnaW46MCA4cHggNXB4IDA7XAoJfVwKCSNuZXJvbl9hbGVydF9jb250ZW50IHB7XAoJCW1hcmdpbjogMTBweCAwO1wKCX1cCgkjbmVyb25fYWxlcnRfY29udGVudCBpbnB1dHtcCgkJY29sb3I6IGJsYWNrO1wKCQltYXJnaW4tYm90dG9tOiAxMHB4O1wKCX1cCgkubmVyb25fYWxlcnRfYnV0dG9uc3tcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkjY2hhcl9jb2wsICNyb29tX2NvbCwgI2NoYXRfY29sLCAjdG9waWNzX2NvbCwgI3RvcGljX2NvbCwgI3JlcGx5X2NvbCwgI29wdGlvbnNfY29sLCAjYWJvdXRfY29sLCAjcHJvZmlsZV9jb2wge1wKCQl0cmFuc2l0aW9uOiBhbGwgMjAwbXM7XAoJCS13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDIwMG1zO1wKCQktby10cmFuc2l0aW9uOiBhbGwgMjAwbXM7XAoJfVwKCSNwcm9maWxlX2NvbCAuaGVyby1kZXRhaWxze1wKCQloZWlnaHQ6IDk1cHg7XAoJCW1hcmdpbi1sZWZ0OiA5NXB4O1wKCQltYXJnaW4tcmlnaHQ6IDVweDtcCgkJcG9zaXRpb246IHJlbGF0aXZlO1wKCX1cCgkucHJvZmlsZS1jdXN0b20taW5mb3N7XAoJCWJvcmRlci10b3A6IDFweCBzb2xpZCAjRkZGO1wKCQlib3R0b206IDA7XAoJCXBhZGRpbmctdG9wOiAzcHg7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJd2lkdGg6IDEwMCU7XAoJfVwKCS5wcm9maWxlLWN1c3RvbS1pbmZvcyBsYWJlbHtcCgkJbWFyZ2luLXJpZ2h0OiAxMHB4O1wKCX1cCgkjcHJvZmlsZS1ub3Rlc3tcCgl9XAoJI3Byb2ZpbGUtbm90ZXMgdGV4dGFyZWF7XAoJCWhlaWdodDo0MHB4O1wKCQlkaXNwbGF5OiBibG9jaztcCgkJbWFyZ2luLWJvdHRvbTogMTJweDtcCgkJbWFyZ2luLXRvcDogNXB4O1wKCQlyZXNpemU6IG5vbmU7XAoJfVwKCSNwcm9maWxlLW5vdGVzIHRleHRhcmVhOmxhc3QtY2hpbGR7XAoJCWhlaWdodDoxNDZweDtcCgkJb3ZlcmZsb3c6IGhpZGRlbjtcCgl9XAoJI3Byb2ZpbGUtbm90ZXMgLmFjdGlvbnMge1wKCQlib3R0b206IDNweDtcCgkJbGVmdDogMDtcCgkJcG9zaXRpb246IGFic29sdXRlO1wKCQlyaWdodDogMDtcCgkJdGV4dC1hbGlnbjogY2VudGVyO1wKCX1cCgkjcHJvZmlsZS1ub3RlcyAucHJvZmlsZS1jb250ZW50e1wKCQloZWlnaHQ6IDI2MHB4O1wKCQlvdmVyZmxvdzogaGlkZGVuO1wKCQlwYWRkaW5nOiAwIDEwcHg7XAoJfVwKCS8qKiBwb3VyIHLDqWdsZXIgbGVzIHByb2JsZW1lIGR1IGF1IHNjYWxlIGNzczMgc3VyIGZpcmVmb3gqKi9cCgkjY2hhcl9jb2wgLnNoZWV0Ymdjb250ZW50IHRhYmxlIHRkLnR3byAuZXh0cmFwYXtcCgkJcG9zaXRpb246cmVsYXRpdmU7XAoJfVwKCSNjZE1haW5Db250ZW50e1wKCQlwb3NpdGlvbjpyZWxhdGl2ZTtcCgl9XAoJLmN0cmx3X2NvbCBpbnB1dCxcCgkuY3RybHdfY29sIHRleHRhcmVhe1wKCQljb2xvcjogIzA5MEE2MTtcCgl9XAoJLmN0cmx3LXJvdy1vcHRpb25ze1wKCQliYWNrZ3JvdW5kOiBub25lIHJlcGVhdCBzY3JvbGwgMCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcCgkJYm9yZGVyOiAxcHggZGFzaGVkICNFRUVFRUU7XAoJCWNsZWFyOiBib3RoO1wKCQljb2xvcjogI0VFRUVFRTtcCgkJbWFyZ2luOiAxMHB4IDIwcHg7XAoJCXBhZGRpbmc6IDVweDtcCgl9XAoJLmN0cmx3X2NvbHtcCgkJY29sb3I6IHJnYig5LDEwLDk3KTtcCgl9XAoJLmN0cmx3X2NvbCBwe1wKCQltYXJnaW46IDEwcHggMDtcCgl9XAoJIikuYXBwZW5kVG8oImhlYWQiKTsKCWlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKT09LTEpICQoIi51c0xlZnRiYXIgLmhlcm8gLmljb25zIikuY3NzKCJwYWRkaW5nLXJpZ2h0IiwgIjMwcHgiKTsKfTsKLy8gPT0gR2FtZSBNYW5hZ2VyCk1haW4uay5HYW1lID0ge307Ck1haW4uay5HYW1lLmRhdGEgPSB7fTsKTWFpbi5rLkdhbWUuZGF0YS5kYXkgPSAwOwpNYWluLmsuR2FtZS5kYXRhLmN5Y2xlID0gMDsKTWFpbi5rLkdhbWUuZGF0YS54cCA9IDE7Ck1haW4uay5HYW1lLmRhdGEucGxheWVyX3N0YXR1cyA9ICdicm9uemUnOwpNYWluLmsuR2FtZS5kYXRhLmNhc3RpbmdzID0ge307Ck1haW4uay5HYW1lLmluaXQgPSBmdW5jdGlvbigpIHsKCXZhciBjdHJsd19nYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN0cmx3X2dhbWUiKTsKCWlmIChjdHJsd19nYW1lID09IG51bGwpewoJCXJldHVybjsKCX0KCU1haW4uay5HYW1lLmRhdGEgPSBKU09OLnBhcnNlKGN0cmx3X2dhbWUpOwp9OwpNYWluLmsuR2FtZS5jbGVhciA9IGZ1bmN0aW9uKCl7CglNYWluLmsuR2FtZS5kYXRhLmRheSA9IDA7Cgl0aGlzLnNhdmUoKTsKfTsKLy8gU2hvd3MgdGhlIGFjdHVhbCBudW1iZXIgb2YgcmVtYWluaW5nIGN5Y2xlcwpNYWluLmsuZGlzcGxheVJlbWFpbmluZ0N5Y2xlc1RvTmV4dExldmVsID0gZnVuY3Rpb24gKCl7CgkkKCcubGV2ZWxpbmdhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7CgkJdmFyIGF0dHIsIHhwX2J5X2N5Y2xlOwoJCXZhciByZWdleCA9IC8oPHA+Lio+W14wLTldPykoWzAtOV0rKShbYS16QS1aIF0qKSg8KSguKjxcL3A+KS87CgkJaWYoJCh0aGlzKS5hdHRyKCdvbm1vdXNlb3Zlcl9zYXZlJykgIT09IHVuZGVmaW5lZCl7CgkJCWF0dHIgPSAkKHRoaXMpLmF0dHIoJ29ubW91c2VvdmVyX3NhdmUnKTsKCQl9ZWxzZXsKCQkJYXR0ciA9ICQodGhpcykuYXR0cignb25tb3VzZW92ZXInKTsKCQkJJCh0aGlzKS5hdHRyKCdvbm1vdXNlb3Zlcl9zYXZlJyxhdHRyKTsKCQl9CgkJaWYocmVnZXguZXhlYyhhdHRyKSAhPSBudWxsKXsKCQkJaWYoTWFpbi5rLkdhbWUuZGF0YS5wbGF5ZXJfc3RhdHVzID09ICdnb2xkJyl7CgkJCQl4cF9ieV9jeWNsZSA9IDI7CgkJCX1lbHNlewoJCQkJeHBfYnlfY3ljbGUgPSAxOwoJCQl9CgkJCXZhciBpX2N5Y2xlcyA9IFJlZ0V4cC4kMjsKCQkJdmFyIGlfY3ljbGVzX3NhdmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3RybHdfcmVtYWluaW5nX2N5Y2xlcycpOwoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfcmVtYWluaW5nX2N5Y2xlcycsaV9jeWNsZXMpOwoJCQlpZihpX2N5Y2xlc19zYXZlICE9IGlfY3ljbGVzICYmIGlfY3ljbGVzX3NhdmUgIT0gbnVsbCl7CgkJCQlNYWluLmsuR2FtZS51cGRhdGVQbGF5ZXJJbmZvcygpOwoJCQl9CgkJCXZhciByZW1haW5pbmdfY3ljbGVzID0gTWF0aC5jZWlsKGlfY3ljbGVzIC0gTWFpbi5rLkdhbWUuZGF0YS54cCAvIHhwX2J5X2N5Y2xlKTsKCQkJdmFyIGlfZGFpbHlfY3ljbGUgPSA4OwoJCQlpZigkKCcubWluaUNvbmYgaW1nW3NyYyo9ImZhc3RfY3ljbGUiXScpLmxlbmd0aCA+IDApewoJCQkJaV9kYWlseV9jeWNsZSA9IDEyOwoJCQl9ZWxzZSBpZigkKCcubWluaUNvbmYgaW1nW3NyYyQ9ImJsaXR6X2N5Y2xlLnBuZyJdJykubGVuZ3RoID4gMCl7CgkJCQlpX2RhaWx5X2N5Y2xlID0gMjQ7CgkJCX0KCgkJCXZhciBuYl9kYXlzID0gTWF0aC5yb3VuZChyZW1haW5pbmdfY3ljbGVzIC8gaV9kYWlseV9jeWNsZSk7CgkJCXZhciBzX2RheXMgPSAnJzsKCQkJaWYobmJfZGF5cyA+IDApewoJCQkJc19kYXlzID0gTWFpbi5rLnRleHQuc3RyYXJncyhNYWluLmsudGV4dC5uZ2V0dGV4dCgiKH4lMSBqb3VyKSIsIih+JTEgam91cnMpIixuYl9kYXlzKSxbbmJfZGF5c10pOwoJCQkJc19kYXlzID0gJyAnK3NfZGF5czsKCQkJfQoJCQkkKHRoaXMpLmF0dHIoJ29ubW91c2VvdmVyJyxhdHRyLnJlcGxhY2UocmVnZXgsIiQxIityZW1haW5pbmdfY3ljbGVzKyIkMyIrc19kYXlzKyIkNCIrIiQ1IikpOwoJCX0KCX0pOwoJaWYoJCgnLmxldmVsaW5nYW1lX25vX2FuaW0nKS5sZW5ndGggPiAwKXsKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfcmVtYWluaW5nX2N5Y2xlcycsMCk7Cgl9Cn07Ck1haW4uay5vbkN5Y2xlQ2hhbmdlID0gZnVuY3Rpb24oKXsKCS8vIFNjcmlwdCB1cGRhdGVzCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N0cmx3X3VwZGF0ZV9jYWNoZScpOwoJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N0cmx3X3JlbWFpbmluZ19jeWNsZXMnLDApOwoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KfTsKTWFpbi5rLkdhbWUuc2F2ZSA9IGZ1bmN0aW9uKCkgewoJbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN0cmx3X2dhbWUiLEpTT04uc3RyaW5naWZ5KE1haW4uay5HYW1lLmRhdGEpKTsKfTsKTWFpbi5rLkdhbWUudXBkYXRlRGF5QW5kQ3ljbGUgPSBmdW5jdGlvbihkYXksY3ljbGUpIHsKCWlmKGRheSAhPSB0aGlzLmRhdGEuZGF5IHx8IGN5Y2xlICE9IHRoaXMuZGF0YS5jeWNsZSl7CgkJdGhpcy5kYXRhLmRheSA9IGRheTsKCQl0aGlzLmRhdGEuY3ljbGUgPSBjeWNsZTsKCQlNYWluLmsub25DeWNsZUNoYW5nZSgpOwoJCXRoaXMudXBkYXRlUGxheWVySW5mb3MoKTsKCQl0aGlzLnNhdmUoKTsKCX0KfTsKTWFpbi5rLkdhbWUudXBkYXRlUGxheWVySW5mb3MgPSBmdW5jdGlvbigpIHsKCXZhciAkdGhpcyA9IHRoaXM7Cgljb25zb2xlLmluZm8oJ01pc2Ugw6Agam91ciBkZXMgaW5mb3Mgam91ZXVycyAtIGVudm9pJyk7CglUb29scy5waW5nKCcvbWUnLGZ1bmN0aW9uKGNvbnRlbnQpIHsKCQljb25zb2xlLmdyb3VwKCdNaXNlIMOgIGpvdXIgZGVzIGluZm9zIGpvdWV1cnMgLSByZXRvdXInKTsKCQl2YXIgYm9keSA9ICc8ZGl2IGlkPSJib2R5LW1vY2siPicgKyBjb250ZW50LnJlcGxhY2UoL15bXHNcU10qPGJvZHkuKj8+fDxcL2JvZHk+W1xzXFNdKiQvZywgJycpICsgJzwvZGl2Pic7CgkJdmFyIGpvYmplY3QgPSAkKGJvZHkpOwoJCWNvbnNvbGUubG9nKCdyw6ljdXDDqXJhdGlvbiBkZSBsXCd4cCcpOwoJCWlmKGpvYmplY3QuZmluZCgnI2NkQWN0dWFsWHAnKS5sZW5ndGggPiAwKXsKCQkJJHRoaXMuZGF0YS54cCA9IGpvYmplY3QuZmluZCgnI2NkQWN0dWFsWHAnKS50ZXh0KCk7CgkJCWNvbnNvbGUubG9nKCd4cCcsJHRoaXMuZGF0YS54cCk7CgkJfQoJCWNvbnNvbGUubG9nKCdyw6ljdXDDqXJhdGlvbiBkdSBzdGF0dXQgZHUgam91ZXVyJyk7CgkJaWYoam9iamVjdC5maW5kKCcjZXhwZXJpZW5jZSAuYm91Z2h0LmdvbGRhY3RpdmUnKS5sZW5ndGggPiAwKXsKCQkJJHRoaXMuZGF0YS5wbGF5ZXJfc3RhdHVzID0gJ2dvbGQnOwoJCQljb25zb2xlLmxvZygnbGUgam91ZXVyIGVzdCBnb2xkJyk7CgkJfWVsc2UgaWYoam9iamVjdC5maW5kKCcjZXhwZXJpZW5jZSAuYm91Z2h0JykubGVuZ3RoID4gMCl7CgkJCSR0aGlzLmRhdGEucGxheWVyX3N0YXR1cyA9ICdzaWx2ZXInOwoJCQljb25zb2xlLmxvZygnbGUgam91ZXVyIGVzdCBzaWx2ZXInKTsKCQl9ZWxzZXsKCQkJJHRoaXMuZGF0YS5wbGF5ZXJfc3RhdHVzID0gJ2Jyb256ZSc7CgkJCWNvbnNvbGUubG9nKCdsZSBqb3VldXIgZXN0IGJyb256ZScpOwoJCX0KCgkJJHRoaXMuZGF0YS5jYXN0aW5ncyA9IHt9OwoJCWpvYmplY3QuZmluZCgnI3Byb2ZpbGUgLmJndGFibGVzdW1tYXI6bGFzdCBsaScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHsKCQkJdmFyIGNhc3RpbmcgPSB7fTsKCQkJY2FzdGluZy5pZCA9ICQodGhpcykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKCcvZ3JvdXAvJywnJyk7CgkJCWNhc3RpbmcuaWNvbiA9ICQodGhpcykuZmluZCgnaW1nJykuYXR0cignc3JjJyk7CgkJCXZhciBzdHIgPSBqb2JqZWN0LmZpbmQoJy5uYW1lQ2FzdCBhOmVxKCcraW5kZXgrJyknKS50ZXh0KCk7CgkJCWNhc3RpbmcubG9uZ19uYW1lID0gY2FzdGluZy5zaG9ydF9uYW1lID0gc3RyOwoJCQlpZihzdHIubGVuZ3RoID4gMTgpewoJCQkJY2FzdGluZy5zaG9ydF9uYW1lID0gc3RyLm1hdGNoKC9cYihcdykvZykuam9pbignLicpLmNvbmNhdCgnLicpOwoJCQl9CgkJCSR0aGlzLmRhdGEuY2FzdGluZ3NbY2FzdGluZy5pZF0gPSBjYXN0aW5nOwoJCX0pOwoKCQkkdGhpcy5zYXZlKCk7CgkJTWFpbi5rLk11c2hVcGRhdGUoKTsKCQlNYWluLmsudXBkYXRlTWFpbk1lbnUoKTsKCQlNYWluLmsucXVpY2tOb3RpY2UoTWFpbi5rLnRleHQuZ2V0dGV4dCgnSW5mb3MgZHUgam91ZXVyIG1pc2VzIMOgIGpvdXIuJykpOwoJfSk7Cn07CgoKLy8gPT0gT3B0aW9ucyBNYW5hZ2VyICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ck1haW4uay5PcHRpb25zID0ge307Ck1haW4uay5PcHRpb25zLmluaXRpYWxpemVkID0gZmFsc2U7Ck1haW4uay5PcHRpb25zLmNidWJibGVzID0gZmFsc2U7Ck1haW4uay5PcHRpb25zLmNidWJibGVzTkIgPSBmYWxzZTsKTWFpbi5rLk9wdGlvbnMuZGxvZ28gPSBmYWxzZTsKTWFpbi5rLk9wdGlvbnMuc3BsaXRwanQgPSB0cnVlOwpNYWluLmsuT3B0aW9ucy5hbHRwYSA9IGZhbHNlOwpNYWluLmsuT3B0aW9ucy5tdXNoTm9Db25mID0gZmFsc2U7Ck1haW4uay5PcHRpb25zLm9wdGlvbnMgPSBbXTsKCk1haW4uay5PcHRpb25zLmluaXQgPSBmdW5jdGlvbigpIHsKCU1haW4uay5PcHRpb25zLm9wdGlvbnMgPSBbCgkvLyAgT3B0aW9uIE5hbWUsCU9wdGlvbiBPYmplY3QsCQkJCU5lZWQgcmVmcmVzaCwJQWZ0ZXIoKSwJCQkJRGVzYwoJCVsiY2J1YmJsZXMiLAlNYWluLmsuT3B0aW9ucy5jYnViYmxlcywJZmFsc2UsCQkJTWFpbi5rLmN1c3RvbUJ1YmJsZXMsCU1haW4uay50ZXh0LmdldHRleHQoIkFjdGl2ZXIgbGEgbWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8OpZSBkZXMgbWVzc2FnZXMgKGJvcmR1cmUgKyBjb3VsZXVyIG5vbSArIGltYWdlIGRlIGZvbmQpLiIpXSwKCQlbImNidWJibGVzTkIiLAlNYWluLmsuT3B0aW9ucy5jYnViYmxlc05CLAlmYWxzZSwJCQlNYWluLmsuY3VzdG9tQnViYmxlcywJTWFpbi5rLnRleHQuZ2V0dGV4dCgiU2ltcGxpZmllciBsYSBtaXNlIGVuIGZvcm1lIHBlcnNvbm5hbGlzw6llIGRlcyBtZXNzYWdlcyAoc3VwcHJlc3Npb24gZGUgbCdpbWFnZSBkZSBmb25kKS4iKV0sCgkJWyJkbG9nbyIsCQlNYWluLmsuT3B0aW9ucy5kbG9nbywJCXRydWUsCQkJbnVsbCwJCQkJCU1haW4uay50ZXh0LmdldHRleHQoIkFmZmljaGVyIGxlIGxvZ28gTXVzaCBhdSBkZXNzdXMgZGVzIG9uZ2xldHMuIildLAoJCVsic3BsaXRwanQiLAlNYWluLmsuT3B0aW9ucy5zcGxpdHBqdCwJZmFsc2UsCQkJTWFpbi5rLnVwZGF0ZUJvdHRvbSwJTWFpbi5rLnRleHQuZ2V0dGV4dCgiU8OpcGFyZXIgbGVzIHByb2pldHMgLyByZWNoZXJjaGVzIC8gcGlsZ3JlZCBzb3VzIGxhIHpvbmUgZGUgamV1LiIpXQoJCS8vWyJhbHRwYSIsCQlNYWluLmsuT3B0aW9ucy5hbHRwYSwJCXRydWUsCQkJbnVsbCwJCQkJCSJVdGlsaXNlciBkZXMgaW1hZ2VzIGFsdGVybmF0aXZlcyBwb3VyIGxlcyBwYSAvIHBtLiJdCgldOwoKCXZhciBjb29rID0ganMuQ29va2llLmdldCgiY3RybHdvcHRpb25zIik7CglpZiAoIWNvb2spIHJldHVybjsKCgl2YXIgcGFydHMgPSBjb29rLnNwbGl0KCJ8Iik7Cglmb3IgKHZhciBpPTA7IGk8cGFydHMubGVuZ3RoOyBpKyspIHsKCQl2YXIgcGFydCA9IHBhcnRzW2ldLnNwbGl0KCI6Iik7CgkJdmFyIGtleSA9IHBhcnRbMF07CgkJdmFyIHZhbCA9IHBhcnRbMV07CgoJCU1haW4uay5PcHRpb25zLnVwZGF0ZU9wdChrZXksdmFsKTsKCX0KfTsKLy8gPT0gL09wdGlvbnMgTWFuYWdlciAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ck1haW4uay5PcHRpb25zLm9wZW4gPSBmdW5jdGlvbigpIHsKCWlmIChNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgPT0gIm9wdGlvbnMiKSB7CgkJTWFpbi5rLmZvbGRpbmcuZGlzcGxheUdhbWUoKTsKCQlyZXR1cm47Cgl9CgoJaWYgKCFNYWluLmsuT3B0aW9ucy5pbml0aWFsaXplZCkgewoJCU1haW4uay5PcHRpb25zLmluaXRpYWxpemVkID0gdHJ1ZTsKCgkJdmFyIHRkID0gJCgiPHRkPiIpLmFkZENsYXNzKCJjaGF0X2JveCIpLmNzcyh7CgkJCSJwYWRkaW5nLXJpZ2h0IjogIjZweCIsCgkJCSJwYWRkaW5nLXRvcCI6ICIxcHgiLAoJCQl0cmFuc2Zvcm06ICJzY2FsZSgwLDEpIiwKCQkJY29sb3I6ICJyZ2IoOSwxMCw5NykiCgkJfSkuYXR0cigiaWQiLCAib3B0aW9uc19jb2wiKS5hcHBlbmRUbygkKCJ0YWJsZS5pbnRlciB0ciIpLmZpcnN0KCkpOwoKCQkkKCI8cD4iKS5hZGRDbGFzcygid2FybmluZyIpLnRleHQoTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGx1cyBkJ29wdGlvbnMgZGlzcG9uaWJsZXMgcHJvY2hhaW5lbWVudC4iKSkuYXBwZW5kVG8odGQpOwoKCgkJZm9yICh2YXIgaT0wOyBpPE1haW4uay5PcHRpb25zLm9wdGlvbnMubGVuZ3RoOyBpKyspIHsKCQkJdmFyIG9wdCA9IE1haW4uay5PcHRpb25zLm9wdGlvbnNbaV07CgkJCXZhciBodG1sID0gb3B0WzRdOwoJCQlpZiAob3B0WzJdKSBodG1sICs9ICIgIitNYWluLmsudGV4dC5nZXR0ZXh0KCJOw6ljZXNzaXRlIHVuIHJlY2hhcmdlbWVudCBkZSBsYSBwYWdlLiIpOwoKCQkJdmFyIHAgPSAkKCI8cD4iKS5jc3MoewoJCQkJY29sb3I6ICIjRUVFIiwKCQkJCXBhZGRpbmc6ICI1cHgiLAoJCQkJYm9yZGVyOiAiMXB4IGRhc2hlZCAjRUVFIiwKCQkJCWJhY2tncm91bmQ6ICJyZ2JhKDI1NSwyNTUsMjU1LDAuMSkiLAoJCQkJbWFyZ2luOiAiMTBweCAyMHB4IiwKCQkJCWNsZWFyOiAiYm90aCIKCQkJfSkKCQkJLmh0bWwoJzxsYWJlbCBzdHlsZT0ibWFyZ2luLWxlZnQ6IDMwcHg7ZGlzcGxheTpibG9jayIgZm9yPSJjdHJsd18nK29wdFswXSsnIj4nICsgaHRtbCArICc8L2xhYmVsPicpCgkJCS5hcHBlbmRUbyh0ZCk7CgoJCQl2YXIgY2hrID0gJCgiPGlucHV0PiIpLmNzcyh7CgkJCQkiZmxvYXQiOiAibGVmdCIKCQkJfSkKCQkJLmF0dHIoInR5cGUiLCAiY2hlY2tib3giKQoJCQkuYXR0cigib3B0bmFtZSIsIG9wdFswXSkKCQkJLmF0dHIoImlkIiwgJ2N0cmx3Xycrb3B0WzBdKQoJCQkuYXR0cigib3B0aSIsIGkpCgkJCS5vbigiY2hhbmdlIiwgTWFpbi5rLk9wdGlvbnMudXBkYXRlKQoJCQkucHJlcGVuZFRvKHApOwoJCQlpZiAob3B0WzFdKSBjaGsuYXR0cigiY2hlY2tlZCIsICJjaGVja2VkIik7CgkJfQoKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvcmVwb3J0ZWQucG5nJyBzdHlsZT0ndmVydGljYWwtYWxpZ246IC0yMCUnIC8+ICIrIE1haW4uay50ZXh0LmdldHRleHQoIlZpZGVyIGxlIGNhY2hlIGR1IHNjcmlwdCIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJWaWRlciBsZSBjYWNoZSBkdSBzY3JpcHQiKSwKCQkJTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2UgYm91dG9uIHZvdXMgcGVybWV0IGRlIHZpZGVyIGxlIGNhY2hlIGR1IHNjcmlwdCBwb3VyLCBwYXIgZXhlbXBsZSwgcHJlbmRyZSBlbiBjb21wdGUgdG91dCBkZSBzdWl0ZSB2b3RyZSBtb2RlIE9yIG91IGZvcmNlciB1bmUgdsOpcmlmaWNhdGlvbiBkZSBtaXNlIMOgIGpvdXIuIEEgdXRpbGlzZXIgYXZlYyBwYXJjaW1vbmllIHN2cC4iKSkKCQkuYXBwZW5kVG8odGQpLmZpbmQoImEiKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24oKXsKCQkJTWFpbi5rLmNsZWFyQ2FjaGUoKTsKCQl9KTsKCX0KCglNYWluLmsuZm9sZGluZy5kaXNwbGF5KFtudWxsLG51bGwsICIjb3B0aW9uc19jb2wiXSwgIm9wdGlvbnMiKTsKfTsKTWFpbi5rLk9wdGlvbnMudXBkYXRlID0gZnVuY3Rpb24oZSkgewoJdmFyIHRndCA9ICQoZS50YXJnZXQpOwoJdmFyIGtleSA9ICQodGd0KS5hdHRyKCJvcHRuYW1lIik7Cgl2YXIgdmFsID0gJCh0Z3QpLmlzKCI6Y2hlY2tlZCIpID8gInkiIDogIm4iOwoJdmFyIGkgPSAkKHRndCkuYXR0cigib3B0aSIpOwoKCU1haW4uay5PcHRpb25zLnVwZGF0ZU9wdChrZXksdmFsKTsKCU1haW4uay5PcHRpb25zLnVwZGF0ZUNvb2tpZSgpOwoJaWYgKE1haW4uay5PcHRpb25zLm9wdGlvbnNbaV1bM10pIE1haW4uay5PcHRpb25zLm9wdGlvbnNbaV1bM10oKTsKfTsKTWFpbi5rLk9wdGlvbnMudXBkYXRlQ29va2llID0gZnVuY3Rpb24oKSB7Cgl2YXIgY29vayA9ICIiOwoJZm9yICh2YXIgaT0wOyBpPE1haW4uay5PcHRpb25zLm9wdGlvbnMubGVuZ3RoOyBpKyspIHsKCQlpZiAoaT4wKSBjb29rICs9ICJ8IjsKCQljb29rICs9IE1haW4uay5PcHRpb25zLm9wdGlvbnNbaV1bMF0gKyAiOiI7CgkJY29vayArPSBNYWluLmsuT3B0aW9ucy5vcHRpb25zW2ldWzFdID8gInkiIDogIm4iOwoJfQoKCWpzLkNvb2tpZS5zZXQoImN0cmx3b3B0aW9ucyIsY29vayw0MjAwMDAwMDApOwp9OwpNYWluLmsuT3B0aW9ucy51cGRhdGVPcHQgPSBmdW5jdGlvbihrZXksIHZhbCkgewoJc3dpdGNoKGtleSkgewoJCWNhc2UgImN1c3RvbWJ1YmJsZXMiOgoJCWNhc2UgImNidWJibGVzIjoKCQkJTWFpbi5rLk9wdGlvbnMuY2J1YmJsZXMgPSAodmFsID09ICJ5Iik7CgkJCU1haW4uay5PcHRpb25zLm9wdGlvbnNbMF1bMV0gPSAodmFsID09ICJ5Iik7CgkJCWJyZWFrOwoJCWNhc2UgImN1c3RvbWJ1YmJsZXNfbm9iYWNrZ3JvdW5kIjoKCQljYXNlICJjYnViYmxlc05CIjoKCQkJTWFpbi5rLk9wdGlvbnMuY2J1YmJsZXNOQiA9ICh2YWwgPT0gInkiKTsKCQkJTWFpbi5rLk9wdGlvbnMub3B0aW9uc1sxXVsxXSA9ICh2YWwgPT0gInkiKTsKCQkJYnJlYWs7CgkJY2FzZSAiZGlzcGxheWxvZ28iOgoJCWNhc2UgImRsb2dvIjoKCQkJTWFpbi5rLk9wdGlvbnMuZGxvZ28gPSAodmFsID09ICJ5Iik7CgkJCU1haW4uay5PcHRpb25zLm9wdGlvbnNbMl1bMV0gPSAodmFsID09ICJ5Iik7CgkJCWJyZWFrOwoJCWNhc2UgInNwbGl0cGp0IjoKCQkJTWFpbi5rLk9wdGlvbnMuc3BsaXRwanQgPSAodmFsID09ICJ5Iik7CgkJCU1haW4uay5PcHRpb25zLm9wdGlvbnNbM11bMV0gPSAodmFsID09ICJ5Iik7CgkJCWJyZWFrOwoJCS8vY2FzZSAiYWx0cGEiOgoJCS8vCU1haW4uay5PcHRpb25zLmFsdHBhID0gKHZhbCA9PSAieSIpOwoJCS8vCU1haW4uay5PcHRpb25zLm9wdGlvbnNbNF1bMV0gPSAodmFsID09ICJ5Iik7CgkJLy8JYnJlYWs7Cgl9Cn07CgoKCgpNYWluLmsudGFicyA9IHt9OwpNYWluLmsudGFicy5jcmVkaXRzID0gZnVuY3Rpb24oKSB7CgkkKCJibG9ja3F1b3RlIikuY3NzKCJvdmVyZmxvdyIsICJ2aXNpYmxlIik7CgkkKCJibG9ja3F1b3RlIHAiKS5jc3MoewoJCWhlaWdodDogImF1dG8iLAoJCSJmb250LXNpemUiOiAiMTBwdCIsCgkJIm1hcmdpbi10b3AiOiAiMTBweCIKCX0pOwoJJCgiI2V4dHJhIikuZmluZCgiLm5vdmEiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwoKCS8vIEFkZCBtZW51CgkkKCI8ZGl2PiIpLmFkZENsYXNzKCJtYWlubWVudSIpLmh0bWwoJzx1bCBpZD0ibWVudUJhciI+XAoJCTxsaSBjbGFzcz0iZGFlZCI+PGEgaHJlZj0iLyI+Sm91ZXI8L2E+PC9saT5cCgkJPGxpPjxhIGhyZWY9Ii9tZSI+TW9uIENvbXB0ZTwvYT48L2xpPlwKCQk8bGk+PGEgaHJlZj0iL3JhbmtpbmciPkNsYXNzZW1lbnQ8L2E+PC9saT5cCgkJPGxpPjxhIGhyZWY9Ii90aWQvZm9ydW0iPkZvcnVtPC9hPjwvbGk+XAoJPC91bD4nKS5hcHBlbmRUbygiLm14aGVhZCIpOwoKCS8vIEVuaGFuY2UgbXVzaHMKCSQoIi5zY29yZW11c2giKS5zaWJsaW5ncygiaDMiKS5jc3MoImNvbG9yIiwgInJnYigyNTUsIDY0LCA4OSkiKTsKCSQoIi50cml1bXBobXVzaCIpLnNpYmxpbmdzKCIuZHVkZSIpLmZpbmQoImgzIikuY3NzKCJjb2xvciIsICJyZ2IoMjU1LCA2NCwgODkpIik7Cn07Ck1haW4uay50YWJzLmV4cFBlcm1hID0gZnVuY3Rpb24oKSB7CglpZiAoTWFpbi5rLk9wdGlvbnMuY2J1YmJsZXMpIHsKCQlNYWluLmsuY3NzLmJ1YmJsZXMoKTsKCgkJJCgiZGl2LmV4cGxvcmVldmVudCBwIikuZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyIGhlcm9lcyA9IFtdOwoJCQl2YXIgaGVyb2VzX3JlcGxhY2UgPSBbXTsKCQkJJCgidWwuYWR2ZW50dXJlcnMgLmNoYXIiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJdmFyIGhlcm8gPSBNYWluLmsuR2V0SGVyb05hbWVGcm9tVG9waWMoJCh0aGlzKS5wYXJlbnQoKSk7CgkJCQl2YXIgaGVyb2YgPSBoZXJvLnJlcGxhY2UoIl8iLCAiICIpLmNhcGl0YWxpemUoKTsKCQkJCWhlcm9lc19yZXBsYWNlLnB1c2goJzxzcGFuIGNsYXNzPSJjb2xvcmVkXycgKyBoZXJvICsgJyI+PGltZyBzcmM9Ii9pbWcvaWNvbnMvdWkvJyArIGhlcm8ucmVwbGFjZSgiXyIsICIiKSArICcucG5nIiAvPiAnICsgaGVyb2YgKyAnPC9zcGFuPicpOwoJCQkJaGVyb2VzLnB1c2goaGVyb2YpOwoJCQl9KTsKCgkJCXZhciBodG1sID0gJCh0aGlzKS5odG1sKCk7CgkJCWZvciAodmFyIGk9MDsgaTxoZXJvZXMubGVuZ3RoOyBpKyspIHsKCQkJCXZhciByZWdleCA9IG5ldyBSZWdFeHAoaGVyb2VzW2ldLCdnJyk7CgkJCQlodG1sID0gaHRtbC5yZXBsYWNlKHJlZ2V4LCBoZXJvZXNfcmVwbGFjZVtpXSk7CgkJCX0KCQkJJCh0aGlzKS5odG1sKGh0bWwpOwoJCX0pCgl9Cn07Ck1haW4uay50YWJzLmdhbWVvdmVyID0gZnVuY3Rpb24oKSB7CgkvLyBUcml1bXBoIGxvZ3MKCXZhciBsb2dzID0gJCgiI2xvZ3RyaSBsaSBzcGFuLCAjbG9ndHJpIGRpdiBkaXYgbGkiKTsKCXZhciBsb2djb3VudCA9IHsKCQlodW1hbkM6IDAsCQkJLy8gMQoJCXJlc2VhcmNoTWluOiAwLAkJLy8gMwoJCXJlc2VhcmNoOiAwLAkJLy8gNgoJCWh1bnRlcjogMCwJCQkvLyAxCgkJZXhwZTogMCwJCQkvLyAzCgkJcGxhbmV0OiAwCQkJLy8gNQoJfTsKCgl2YXIgcmVnID0gLyhbMC05XSspXHN4XHMoW15cKF0rKVxzXChccyg/OlwrfC0pXHMoWzAtOV0rKVxzXCkvOwoJdmFyICRsb2d0cmkgPSAkKCIjbG9ndHJpIik7CgkkbG9ndHJpLmZpbmQoImRpdiIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJJGxvZ3RyaS5maW5kKCIucnJlYWRtb3JlIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCWxvZ3MuZWFjaChmdW5jdGlvbigpIHsKCQl2YXIgY291bnRlZCA9IGZhbHNlOwoJCXZhciBkYXRhID0gcmVnLmV4ZWMoJCh0aGlzKS5odG1sKCkpOwoJCXN3aXRjaCAoZGF0YVsyXS50cmltKCkpIHsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJY2FzZSBNYWluLmsudGV4dC5nZXR0ZXh0KCJDeWNsZSBIdW1haW4iKToKCQkJCWNvdW50ZWQgPSB0cnVlOwoJCQkJbG9nY291bnQuaHVtYW5DICs9IHBhcnNlSW50KGRhdGFbMV0pOwoJCQkJYnJlYWs7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCWNhc2UgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmVjaGVyY2hlIE1pbmV1ciIpOgoJCQkJY291bnRlZCA9IHRydWU7CgkJCQlsb2djb3VudC5yZXNlYXJjaE1pbiArPSBwYXJzZUludChkYXRhWzFdKTsKCQkJCWJyZWFrOwoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQljYXNlIE1haW4uay50ZXh0LmdldHRleHQoIlJlY2hlcmNoZSIpOgoJCQkJY291bnRlZCA9IHRydWU7CgkJCQlsb2djb3VudC5yZXNlYXJjaCArPSBwYXJzZUludChkYXRhWzFdKTsKCQkJCWJyZWFrOwoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQljYXNlIE1haW4uay50ZXh0LmdldHRleHQoIkTDqWZlbnNldXIgRHUgRGFlZGFsdXMiKToKCQkJCWNvdW50ZWQgPSB0cnVlOwoJCQkJbG9nY291bnQuaHVudGVyICs9IHBhcnNlSW50KGRhdGFbMV0pOwoJCQkJYnJlYWs7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCWNhc2UgTWFpbi5rLnRleHQuZ2V0dGV4dCgiRXhww6lkaXRpb24iKToKCQkJCWNvdW50ZWQgPSB0cnVlOwoJCQkJbG9nY291bnQuZXhwZSArPSBwYXJzZUludChkYXRhWzFdKTsKCQkJCWJyZWFrOwoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQljYXNlIE1haW4uay50ZXh0LmdldHRleHQoIk5vdXZlbCBQbGFuw6h0ZSIpOgoJCQkJY291bnRlZCA9IHRydWU7CgkJCQlsb2djb3VudC5wbGFuZXQgKz0gcGFyc2VJbnQoZGF0YVsxXSk7CgkJCQlicmVhazsKCQl9CgoJCWlmIChjb3VudGVkKSB7CgkJCXZhciB0Z3QgPSAoJCh0aGlzKS50YWdOYW1lID09ICJTUEFOIikgPyAkKHRoaXMpLnBhcmVudCgpIDogJCh0aGlzKTsKCQkJdGd0LmNzcygiZGlzcGxheSIsICJub25lIik7CgkJfQoJfSk7CglpZiAobG9nY291bnQucGxhbmV0KSB7CgkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkkKCI8bGk+IikuaHRtbChsb2djb3VudC5wbGFuZXQgKyAiIHggIitNYWluLmsudGV4dC5nZXR0ZXh0KCJOb3V2ZWxsZSBQbGFuw6h0ZSIpICsgIiAoICsgIiArIGxvZ2NvdW50LnBsYW5ldCAqIDUgKyAiICkiKQoJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJOb3V2ZWxsZSBQbGFuw6h0ZSIpKQoJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkdhZ27DqSDDoCBjaGFxdWUgcGxhbsOodGUgKGFycml2w6llIGVuIG9yYml0ZSkuIikpCgkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkucHJlcGVuZFRvKCIjbG9ndHJpIik7Cgl9CglpZiAobG9nY291bnQuZXhwZSkgewoJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJJCgiPGxpPiIpLmh0bWwobG9nY291bnQuZXhwZSArICIgeCAiKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJFeHDDqWRpdGlvbiIpICsiICggKyAiICsgbG9nY291bnQuZXhwZSAqIDMgKyAiICkiKQoJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJFeHDDqWRpdGlvbiIpKQoJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkdhZ27DqSDDoCBjaGFxdWUgZXhwbG9yYXRpb24uIikpCgkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkucHJlcGVuZFRvKCIjbG9ndHJpIik7Cgl9CglpZiAobG9nY291bnQucmVzZWFyY2hNaW4pIHsKCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCSQoIjxsaT4iKS5odG1sKGxvZ2NvdW50LnJlc2VhcmNoTWluICsgIiB4ICIrIE1haW4uay50ZXh0LmdldHRleHQoIlJlY2hlcmNoZSBNaW5ldXJlIikgKyIgKCArICIgKyBsb2djb3VudC5yZXNlYXJjaE1pbiAqIDMgKyAiICkiKQoJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJSZWNoZXJjaGUgTWluZXVyZSIpKQoJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkdhZ27DqSBsb3JzcXVlIGxhIHJlY2hlcmNoZSBlc3QgdGVybWluw6llIGFpbnNpIHF1J3VuZSBzZWNvbmRlIGZvaXMgbG9ycyBkdSByZXRvdXIgc3VyIFNPTC4iKSkKCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKQoJCS5wcmVwZW5kVG8oIiNsb2d0cmkiKTsKCX0KCWlmIChsb2djb3VudC5yZXNlYXJjaCkgewoJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJJCgiPGxpPiIpLmh0bWwobG9nY291bnQucmVzZWFyY2ggKyAiIHggIisgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmVjaGVyY2hlIikgKyAiICggKyAiICsgbG9nY291bnQucmVzZWFyY2ggKiA2ICsgIiApIikKCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmVjaGVyY2hlIikpCgkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiR2FnbsOpIGxvcnNxdWUgbGEgcmVjaGVyY2hlIGVzdCB0ZXJtaW7DqWUgYWluc2kgcXUndW5lIHNlY29uZGUgZm9pcyBsb3JzIGR1IHJldG91ciBzdXIgU09MLiIpKQoJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJLnByZXBlbmRUbygiI2xvZ3RyaSIpOwoJfQoJaWYgKGxvZ2NvdW50Lmh1bnRlcikgewoJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJJCgiPGxpPiIpLmh0bWwobG9nY291bnQuaHVudGVyICsgIiB4ICIrIE1haW4uay50ZXh0LmdldHRleHQoIkTDqWZlbnNldXIgZHUgRGFlZGFsdXMiKSArICIgKCArICIgKyBsb2djb3VudC5odW50ZXIgKyAiICkiKQoJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJEw6lmZW5zZXVyIGR1IERhZWRhbHVzIikpCgkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiR2FnbsOpIHBvdXIgY2hhcXVlIEh1bnRlciBhYmF0dHUuIikpCgkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkucHJlcGVuZFRvKCIjbG9ndHJpIik7Cgl9CglpZiAobG9nY291bnQuaHVtYW5DKSB7CgkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkkKCI8bGk+IikuaHRtbChsb2djb3VudC5odW1hbkMgKyAiIHggIisgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ3ljbGUgSHVtYWluIikgKyAiICggKyAiICsgbG9nY291bnQuaHVtYW5DICsgIiApIikKCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ3ljbGUgSHVtYWluIikpCgkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiR2FnbsOpIMOgIGNoYXF1ZSBjeWNsZS4iKSkKCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKQoJCS5wcmVwZW5kVG8oIiNsb2d0cmkiKTsKCX0KCgkvL0xvYWRpbmcgb24gbGlrZSBjbGljawoJJChkb2N1bWVudCkub24oJ2NsaWNrJywnYS5saWtlJyxmdW5jdGlvbigpewoJCSQodGhpcykucmVwbGFjZVdpdGgoJzxpbWcgY2xhc3M9ImNkTG9hZGluZyIgc3JjPSIvaW1nL2ljb25zL3VpL2xvYWRpbmcxLmdpZiIgYWx0PSJsb2FkaW5nLi4uIiAvPicpOwoJfSk7Cn07Ck1haW4uay50YWJzLnBsYXllclByb2ZpbGUgPSBmdW5jdGlvbigpIHsKCgkvKiogT25seSBvbiBjb25uZWN0ZWQgcGxheWVyIHByb2ZpbGUgcGFnZSAqKi8KCWlmKCQoIiNleHBlcmllbmNlLmNkVGFiVGd0IikubGVuZ3RoID4gMCl7CgoJCS8vIEZpeCBFeHBlcmllbmNlCgkJJCgiLmNoYXJib29zdGJnIHVsLnNsb3RzIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCQkkKCJ1bC5ib29zdCBsaS5jaGFyYm9vc3QiKS5jc3MoImhlaWdodCIsICIyMDBweCIpOwoKCQkvLyBGaXggbWVudQoJCSQoIiNhY2NvdW50bWVudSIpLmZpbmQoImEiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkkKHRoaXMpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJdmFyIHIgPSAvXD8oW2Etel0rKSQvOwoJCQkJaWYgKHIudGVzdCh0aGlzLmhyZWYpKSB7CgkJCQkJJCgnLmNkVGFiVGd0JykuaGlkZSgpOwoJCQkJCSQoIiMiICsgci5leGVjKHRoaXMuaHJlZilbMV0pLnNob3coKTsKCQkJCQl2YXIgc2VsID0gJCgiIyIgKyByLmV4ZWModGhpcy5ocmVmKVsxXSArICJ0YWIiKTsKCQkJCQlzZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJCXNlbC5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKCQkJCX0gZWxzZSB7CgkJCQkJJCgnLmNkVGFiVGd0JykuaGlkZSgpOwoJCQkJCSQoIiNleHBlcmllbmNlIikuc2hvdygpOwoJCQkJCXZhciAkZXhwZXJpZW5jZXRhYiA9ICQoIiNleHBlcmllbmNldGFiIik7CgkJCQkJJGV4cGVyaWVuY2V0YWIuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJCSRleHBlcmllbmNldGFiLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJfQoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KQoJCX0pOwoKCQkvLyBBdXRvc2VsZWN0IHRhYgoJCXZhciB1cmwgPSBNYWluLmsud2luZG93LmxvY2F0aW9uOwoJCXZhciByID0gL1w/KFthLXpdKykkLzsKCQlpZiAoci50ZXN0KHVybCkpIHsKCQkJJCgnLmNkVGFiVGd0JykuaGlkZSgpOwoJCQkkKCIjIiArIHIuZXhlYyh1cmwpWzFdKS5zaG93KCk7CgkJCXZhciBzZWwgPSAkKCIjIiArIHIuZXhlYyh1cmwpWzFdICsgInRhYiIpOwoJCQlzZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQlzZWwuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CgkJfQoJfQoKCS8qKiBGb3IgYWxsIHByb2ZpbGUgcGFnZXMgKiovCgkvKioqKiBNWSBGSUxFICoqKiovCgkkKCcuY2RUcmlwRW50cnkgdGQgLmNoYXInKS5jc3MoJ21hcmdpbicsJzVweCAwJyk7CgkkKCcuY2RUcmlwRW50cnknKS5lYWNoKGZ1bmN0aW9uKCl7CgkJJCh0aGlzKS5maW5kKCd0ZCcpLmVxKC0yKS5jc3MoJ3dpZHRoJywnNzFweCcpOwoJfSk7CgkkKCcuY2RUcmlwRW50cnkgLm5ldycpLnJlbW92ZSgpOwoJJCgnLmNkVHJpcFByZXZpb3VzJykub24oJ2NsaWNrJyxmdW5jdGlvbigpewoJCWlmKCQoJy5jZFRyaXBQYWdlJykudGV4dCgpID4gMSl7CgkJCSQoJy5jZFRyaXBQcmV2aW91cycpLnNob3coKTsKCQl9Cgl9KTsKCn07Ck1haW4uay50YWJzLnBsYXlpbmcgPSBmdW5jdGlvbigpIHsKCXZhciBjYWxsYmFja3Nfc3RvcmFnZV9zeW5jID0gJC5DYWxsYmFja3MoKTsKCU1haW4uay5jc3MuaW5nYW1lKCk7CgoJLy8gT3BlbiBsaW5rcyBpbiBhIG5ldyB0YWIKCSQoInVsLmttZW51IGEuZXh0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7IE1haW4uay53aW5kb3cub3Blbih0aGlzLmhyZWYpOyByZXR1cm4gZmFsc2U7IH0pOwoJTWFpbi5rLmhhc1RhbGtpZSA9ICQoIiN3YWxsdGFiIikubGVuZ3RoID4gMDsKCgkkKCcjc3dmX0lTT19NT0RVTEUnKS5jbGljayhmdW5jdGlvbigpewoJCXZhciBmYWtlX29uID0gJCgnLmZha2VpdGVtLm9uJyk7CgkJaWYoZmFrZV9vbi5sZW5ndGggPT0gMSl7CgkJCU1haW4uay5mYWtlU2VsZWN0SXRlbShmYWtlX29uKTsKCQl9Cgl9KTsKCgkvLyA9PSBFeHRlbmQgUHJvdG90eXBlICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCS8qU2VsZWN0aW9uLnByb3RvdHlwZS5jYW5jZWxTZWxlY3Rpb24gPSBmdW5jdGlvbihub2RlKSB7CgkJdmFyIGRvSGVyb0ludiA9IG5vZGUgIT0gbnVsbD9ub2RlLnBhcmVudHMoIiNteUludmVudG9yeSIpLmxlbmd0aCA+IDA6dHJ1ZTsKCQl2YXIgZG9Sb29tSW52ID0gbm9kZSAhPSBudWxsP25vZGUucGFyZW50cygiLmludmVudG9yeSIpLmxlbmd0aCA+IDA6dHJ1ZTsKCQlpZihkb0hlcm9JbnYpIHsKCQkJanMuQ29va2llLnNldChDcm9zc0NvbnN0cy5DT09LX1NFTCxudWxsLDM2MDApOwoJCQl2YXIgYWxsSXRlbXMgPSBTZWxlY3Rpb24uaigiI215SW52ZW50b3J5IC5pdGVtIikubm90KCIuY2RFbXB0eVNsb3QiKTsKCQkJU2VsZWN0aW9uLmooIi5jZENoYXJDb2xTZWwiKS5yZW1vdmUoKTsKCQkJU2VsZWN0aW9uLmooIiNteUludmVudG9yeSAuc2VsZWN0ZWQiKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygib24iKTsKCQkJU2VsZWN0aW9uLmooIiNteUludmVudG9yeSAuc2VsZWN0ZWQiKS5yZW1vdmUoKTsKCQkJTGFtYmRhLml0ZXIoYWxsSXRlbXMudG9BcnJheSgpLGZ1bmN0aW9uKGgpIHsKCQkJCWgub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlNYWluLnNlbGVjdEl0ZW0oaCk7CgkJCQl9OwoJCQl9KTsKCQkJdGhpcy5jdXJyZW50SW52U2VsZWN0aW9uID0gbnVsbDsKCQkJTWFpbi5hY0xpc3RNYWludGFpbmVyLnJlZnJlc2hIZXJvSW52KCk7CgkJCW51bGw7CgkJfQoJCWlmKGRvUm9vbUludikgewoJCQlqcy5Db29raWUuc2V0KENyb3NzQ29uc3RzLkNPT0tfU0VMLG51bGwsMzYwMCk7CgkJCXZhciBhbGxJdGVtcyA9IFNlbGVjdGlvbi5qKCIuaW52ZW50b3J5IC5pdGVtIikubm90KCIuY2RFbXB0eVNsb3QiKTsKCQkJU2VsZWN0aW9uLmooIi5pbnZlbnRvcnkgLnNlbGVjdGVkIikucGFyZW50KCkucmVtb3ZlQ2xhc3MoIm9uIik7CgkJCVNlbGVjdGlvbi5qKCIuaW52ZW50b3J5IC5zZWxlY3RlZCIpLnJlbW92ZSgpOwoJCQlTZWxlY3Rpb24uaigiI3R0X2l0ZW1uYW1lIikudGV4dCgiIik7CgkJCUxhbWJkYS5pdGVyKGFsbEl0ZW1zLnRvQXJyYXkoKSxmdW5jdGlvbihoMSkgewoJCQkJaDEub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlNYWluLnNlbGVjdEl0ZW0oaDEpOwoJCQkJfTsKCQkJfSk7CgkJCXRoaXMuY3VycmVudFJvb21TZWxlY3Rpb24gPSBudWxsOwoJCQlNYWluLmFjTGlzdE1haW50YWluZXIucmVmcmVzaFJvb21JbnYoKTsKCQkJbnVsbDsKCQl9CgkJaWYoIU1haW4uY2xvc2V0LnZpc2libGUpIHsKCQkJdmFyIHByeCA9IE1haW4ucm1NYW4uZ2V0UHJveHkoQ2xpZW50cy5JU09fTU9EVUxFKTsKCQkJaWYocHJ4ICE9IG51bGwpIHByeC5fc2V0QmFzZUxpbmUoNDM5KTsKCQkJU2VsZWN0aW9uLmooIi5pbnYiKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKTsKCQl9Cgl9CglDbG9zZXQucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbihmb3JjZWQsaW1tZWRpYXRlKSB7CgkJdmFyIF9nID0gdGhpczsKCQl2YXIgZG9JdCA9IGZ1bmN0aW9uKCkgewoJCQkkKCIuaW52Y29sb3JiZyIpLnNob3coKTsKCQkJJCgiLmludiNjZEludmVudG9yeSIpLmFkZENsYXNzKCJwbGFjYXJkX29uIik7CgkJCV9nLnZpc2libGUgPSB0cnVlOwoJCQlpZighZm9yY2VkKSBNYWluLmNhbmNlbFNlbGVjdGlvbigpOwoJCQkkKCIuaW52IikuY3NzKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpOwoJCQkkKCIuaW52IikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CgkJCSQoIi5pbnYiKS5jc3MoIm1hcmdpbi10b3AiLCAiLTE5NHB4Iik7CgkJCXZhciBpbnZibG9jID0gJCgiI2NkSW52ZW50b3J5IC5pbnZjb2xvcmJnIik7CgkJCWludmJsb2MuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CgkJCWludmJsb2MuZmluZCgiLmV4Y2VlZCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCQlpbnZibG9jLmZpbmQoIi5hcnJvd2xlZnQiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCQkJaW52YmxvYy5maW5kKCIuYXJyb3dyaWdodCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCQkkKCIjY2RJdGVtQWN0aW9ucyIpLnJlbW92ZUNsYXNzKCJzZWxlY3RwbGF5ZXIiKTsKCQkJdmFyIHByeCA9IE1haW4ucm1NYW4uZ2V0UHJveHkoQ2xpZW50cy5JU09fTU9EVUxFKTsKCQkJaWYocHJ4ICE9IG51bGwpIHByeC5fc2V0QmFzZUxpbmUoQ3Jvc3NDb25zdHMuQkFTRUxJTkVfQ0xPU0VUKTsKCQl9OwoJCWlmKE1haW4uaXNUdXRvKCkgJiYgIWZvcmNlZCAmJiAoTWFpbi51aUZsYWdzKCkucmVwICYgMSA8PCBVSV9GTEFHUy5VRl9FWFBFQ1RfQ0xPU0VUX09QRU5FRFsxXSkgIT0gMCkgVG9vbHMudXBkYXRlQ29udGVudCgiL2NvIixNYWluLnNlbFVwZHRBcnIsbnVsbCxmdW5jdGlvbigpIHsKCQkJTWFpbi5yZXNldEpzKCk7CgkJCWRvSXQoKTsKCQl9KTsgZWxzZSBkb0l0KCk7Cgl9Ki8KCSQuZm4uaW5zZXJ0QXRDYXJldCA9IGZ1bmN0aW9uKHRleHQpIHsKCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQlpZiAodGhpcy5zZWxlY3Rpb25TdGFydCB8fCB0aGlzLnNlbGVjdGlvblN0YXJ0ID09ICcwJykgewoJCQkJdmFyIHN0YXJ0UG9zID0gdGhpcy5zZWxlY3Rpb25TdGFydDsKCQkJCXZhciBlbmRQb3MgPSB0aGlzLnNlbGVjdGlvbkVuZDsKCQkJCXZhciBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcDsKCQkJCXRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cmluZygwLCBzdGFydFBvcykgKyB0ZXh0ICsgdGhpcy52YWx1ZS5zdWJzdHJpbmcoZW5kUG9zLCB0aGlzLnZhbHVlLmxlbmd0aCk7CgkJCQl0aGlzLmZvY3VzKCk7CgkJCQl0aGlzLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnRQb3MgKyB0ZXh0Lmxlbmd0aDsKCQkJCXRoaXMuc2VsZWN0aW9uRW5kID0gc3RhcnRQb3MgKyB0ZXh0Lmxlbmd0aDsKCQkJCXRoaXMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wOwoJCQl9IGVsc2UgewoJCQkJdGhpcy52YWx1ZSArPSB0ZXh0OwoJCQkJdGhpcy5mb2N1cygpOwoJCQkJdGhpcy52YWx1ZSA9IHRoaXMudmFsdWU7CgkJCX0KCQl9KTsKCX07CgkkLmZuLmluc2VydEFyb3VuZENhcmV0ID0gZnVuY3Rpb24oYiwgYSkgewoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCWlmICh0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IHRoaXMuc2VsZWN0aW9uU3RhcnQgPT0gJzAnKSB7CgkJCQl2YXIgc3RhcnRQb3MgPSB0aGlzLnNlbGVjdGlvblN0YXJ0OwoJCQkJdmFyIGVuZFBvcyA9IHRoaXMuc2VsZWN0aW9uRW5kOwoJCQkJdmFyIHNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wOwoJCQkJdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0UG9zKSArIGIgKyB0aGlzLnZhbHVlLnN1YnN0cmluZyhzdGFydFBvcywgZW5kUG9zKSArIGEgKyB0aGlzLnZhbHVlLnN1YnN0cmluZyhlbmRQb3MsIHRoaXMudmFsdWUubGVuZ3RoKTsKCQkJCXRoaXMuZm9jdXMoKTsKCQkJCXRoaXMuc2VsZWN0aW9uU3RhcnQgPSBzdGFydFBvcyArIGIubGVuZ3RoOwoJCQkJdGhpcy5zZWxlY3Rpb25FbmQgPSBlbmRQb3MgKyBhLmxlbmd0aDsKCQkJCXRoaXMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wOwoJCQl9IGVsc2UgewoJCQkJdGhpcy52YWx1ZSArPSBiICsgYTsgLy8gVE9ETzogbW92ZSBjYXJldD8KCQkJCXRoaXMuZm9jdXMoKTsKCQkJCXRoaXMudmFsdWUgPSB0aGlzLnZhbHVlOwoJCQl9CgkJfSk7Cgl9OwoJJC5mbi5hZGRIZXJvRGVzY1Rvb2xUaXAgPSBmdW5jdGlvbihkZXZfc3VybmFtZSl7CgkJdmFyICRkZXNjID0gJCgnPGRpdi8+Jyk7CgkJdmFyICR0b29sdGlwX3RpdGxlID0gJCgnPGRpdi8+Jyk7CgkJdmFyIG5hbWU7CgkJdmFyIG9faGVybyA9IE1haW4uay5Qcm9maWxlcy5nZXQoZGV2X3N1cm5hbWUpOwoJCSR0b29sdGlwX3RpdGxlLmFwcGVuZChvX2hlcm8ubmFtZSk7CgoJCSQuZWFjaChvX2hlcm8udGl0bGVzLGZ1bmN0aW9uKGssdGl0bGUpewoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpLyIgKyB0aXRsZS5pbWcgKyAiLnBuZyIpCgkJCQkuY3NzKHsKCQkJCQknbWFyZ2luLWxlZnQnOiAnNXB4JywKCQkJCQknbGluZS1oZWlnaHQnOiAnN3B4JwoJCQkJfSkKCQkJCS5hdHRyKCJhbHQiLCB0aXRsZS5pbWcpCgkJCQkuYXBwZW5kVG8oJHRvb2x0aXBfdGl0bGUpOwoJCX0pOwoJCXZhciAkc3RhdHVzZXMgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJpY29ucyBzdGF0dXNlcyIpLmNzcygnZmxvYXQnLCdyaWdodCcpOwoJCSRkZXNjLmFwcGVuZCgkc3RhdHVzZXMpOwoJCWlmKG9faGVyby5zdGF0dXNlcy5sZW5ndGggPiAwKXsKCQkJJC5lYWNoKG9faGVyby5zdGF0dXNlcyxmdW5jdGlvbihrLHN0YXR1cyl7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3N0YXR1cy8iICsgc3RhdHVzLmltZyArICIucG5nIikKCQkJCQkuYXR0cigiaGVpZ2h0IiwgIjE2IikuYXR0cigiYWx0Iiwgc3RhdHVzLmltZykKCQkJCQkuYXBwZW5kVG8oJHN0YXR1c2VzKTsKCQkJfSk7CgkJfQoJCWlmKHR5cGVvZihvX2hlcm8uc3BvcmVzKSAhPSAndW5kZWZpbmVkJyAmJiBvX2hlcm8uc3BvcmVzICE9IG51bGwpewoJCQl2YXIgJHNwb3JlcyA9ICQoJzxkaXY+JykKCQkJCS5jc3MoewoJCQkJCXBvc2l0aW9uOiAncmVsYXRpdmUnLAoJCQkJCWRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAoJCQkJCSdtYXJnaW4tbGVmdCc6ICcycHgnLAoJCQkJCXRvcDogJzJweCcKCQkJCX0pCgkJCQkuYXBwZW5kVG8oJHN0YXR1c2VzKTsKCgkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvc3BvcmUucG5nIikKCQkJCS5hdHRyKCJoZWlnaHQiLCAiMTYiKS5hdHRyKCJhbHQiLCBvX2hlcm8uc3BvcmVzLm5hbWUpCgkJCQkuYXR0cigiX3RpdGxlIiwgb19oZXJvLnNwb3Jlcy5uYW1lKQoJCQkJLmF0dHIoIl9kZXNjIiwgb19oZXJvLnNwb3Jlcy5kZXNjKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKQoJCQkJLmFwcGVuZFRvKCRzcG9yZXMpOwoKCQkJJCgnPHNwYW4+JykKCQkJCS50ZXh0KG9faGVyby5zcG9yZXMubmIpCgkJCQkuY3NzKHsKCQkJCQljb2xvcjogJyNGRkYnLAoJCQkJCSdmb250LXNpemUnOiAiMTBweCIsCgkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCgkJCQkJbGVmdDogJzRweCcsCgkJCQkJdG9wOiAnMXB4JywKCQkJCQlvcGFjaXR5OiAwLjcsCgkJCQkJJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnCgoJCQkJfSkKCQkJCS5hcHBlbmRUbygkc3BvcmVzKTsKCQl9CgkJaWYob19oZXJvLnNraWxscy5sZW5ndGggPiAwKSB7CgkJCXZhciAkc2tpbGxzID0gJCgiPHA+IikuYWRkQ2xhc3MoImljb25zIHNraWxscyIpOwoJCQkkLmVhY2gob19oZXJvLnNraWxscywgZnVuY3Rpb24gKGssIHNraWxsKSB7CgkJCQl2YXIgJHNraWxsZG9tID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoInNraWxsIikuYXBwZW5kVG8oJHNraWxscyk7CgoJCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy9za2lsbHMvIiArIHNraWxsLmltZyArICIucG5nIikKCQkJCQkuYXR0cigiaGVpZ2h0IiwgIjE5IikuYXR0cigiYWx0Iiwgc2tpbGwuaW1nKQoJCQkJCS5hcHBlbmRUbygkc2tpbGxkb20pOwoKCQkJCWlmIChNYWluLmsuY29tcEluYWN0aXZlTXVzaFtza2lsbC5pbWddKSB7CgkJCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCBNYWluLmsuc2VydnVybCArICIvaW1nL25vbi1tdXNoLnBuZyIpLmFkZENsYXNzKCJhY3RtdXNoIikKCQkJCQkJLmF0dHIoIndpZHRoIiwgIjEwIikuYXR0cigiaGVpZ2h0IiwgIjEwIikKCQkJCQkJLmFwcGVuZFRvKCRza2lsbGRvbSk7CgkJCQl9CgkJCQkkZGVzYy5hcHBlbmQoJHNraWxscyk7CgkJCX0pOwoJCX0KCgkJJGRlc2MuYXBwZW5kKCc8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+Jyk7CgkJJGRlc2MuYXBwZW5kKCc8cD4nICsgb19oZXJvLnNob3J0X2Rlc2MuaHRtbEVuY29kZSgpLnJlcGxhY2UoLyhbXHJcbl0rKS9nLCAiPGJyLz4iKSArICc8L3A+Jyk7CgoKCQkkZGVzYy5hcHBlbmQoJzxwPjxzdHJvbmc+JyArIE1haW4uay50ZXh0LmdldHRleHQoIkNsaXF1ZXogcG91ciBwbHVzIGQnaW5mb3JtYXRpb25zIikgKyAnPC9zdHJvbmc+PC9wPicpOwoJCSQodGhpcykKCQkJLmF0dHIoIl90aXRsZSIsICR0b29sdGlwX3RpdGxlLmh0bWwoKSkKCQkJLmF0dHIoIl9kZXNjIiwgJGRlc2MuaHRtbCgpKQoJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJcmV0dXJuICQodGhpcyk7Cgl9OwoJJC5mbi5hZGRUb29sdGlwID0gZnVuY3Rpb24odGl0bGUsdGV4dCl7CgkJJCh0aGlzKQoJCQkuYXR0cigiX3RpdGxlIiwgdGl0bGUpCgkJCS5hdHRyKCJfZGVzYyIsIHRleHQpCgkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCQlyZXR1cm4gJCh0aGlzKTsKCX07CgkvKmhheGUucmVtb3RpbmcuRXh0ZXJuYWxDb25uZWN0aW9uLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24ocGFyYW1zKSB7CgkJdmFyIHMgPSBuZXcgaGF4ZS5TZXJpYWxpemVyKCk7CgkJcy5zZXJpYWxpemUocGFyYW1zKTsKCQl2YXIgcGFyYW1zMSA9IHMudG9TdHJpbmcoKTsKCQl2YXIgZGF0YSA9IG51bGw7CgkJdmFyIGZvYmogPSBNYWluLmsud2luZG93LmRvY3VtZW50W3RoaXMuX19kYXRhLmZsYXNoXTsKCQlpZihmb2JqID09IG51bGwpIHsKCQkJZm9iaiA9IE1haW4uay53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fX2RhdGEuZmxhc2gpOwoJCX0KCQlpZihmb2JqID09IG51bGwpIHsKCQkJdGhyb3cgIkNvdWxkIG5vdCBmaW5kIGZsYXNoIG9iamVjdCAnIiArIHRoaXMuX19kYXRhLmZsYXNoICsgIiciOwoJCX0KCQl0cnkgewoJCQlpZiAoZm9iai5leHRlcm5hbFJlbW90aW5nQ2FsbCkgewoJCQkJZGF0YSA9IGZvYmouZXh0ZXJuYWxSZW1vdGluZ0NhbGwodGhpcy5fX2RhdGEubmFtZSx0aGlzLl9fcGF0aC5qb2luKCIuIikscGFyYW1zMSk7CgkJCX0KCQl9IGNhdGNoKCBlICkgewoJCX0KCQlpZihkYXRhID09IG51bGwpIHsKCQkJdmFyIGRvbWFpbiwgcGFnZURvbWFpbjsKCQkJdHJ5IHsKCQkJCWRvbWFpbiA9IGZvYmouc3JjLnNwbGl0KCIvIilbMl07CgkJCQlwYWdlRG9tYWluID0ganMuTGliLndpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQl9IGNhdGNoKCBlICkgewoJCQkJZG9tYWluID0gbnVsbDsKCQkJCXBhZ2VEb21haW4gPSBudWxsOwoJCQl9CgkJCWlmKGRvbWFpbiAhPSBwYWdlRG9tYWluKSB0aHJvdyAiRXh0ZXJuYWxDb25uZWN0aW9uIGNhbGwgZmFpbHVyZSA6IFNXRiBuZWVkIGFsbG93RG9tYWluKCciICsgcGFnZURvbWFpbiArICInKSI7CgkJCXRocm93ICJDYWxsIGZhaWx1cmUgOiBFeHRlcm5hbENvbm5lY3Rpb24gaXMgbm90IGluaXRpYWxpemVkIGluIEZsYXNoIjsKCQl9CgkJcmV0dXJuIG5ldyBoYXhlLlVuc2VyaWFsaXplcihkYXRhKS51bnNlcmlhbGl6ZSgpOwoJfSovCgkvLyA9PSAvRXh0ZW5kIFByb3RvdHlwZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCgoJLy8gPT0gRXh0ZW5kIFJlZmxlY3QgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgkvKnZhciBSZWZsZWN0ID0gZnVuY3Rpb24oKSB7fTsKCSRoeENsYXNzZXNbIlJlZmxlY3QiXSA9IFJlZmxlY3Q7CglSZWZsZWN0Ll9fbmFtZV9fID0gWyJSZWZsZWN0Il07CglSZWZsZWN0LmZpZWxkID0gZnVuY3Rpb24obyxmaWVsZCkgewoJCXZhciB2ID0gbnVsbDsKCQl0cnkgewoJCQl2ID0gb1tmaWVsZF07CgkJfSBjYXRjaCggZSApIHsKCQl9CgkJcmV0dXJuIHY7Cgl9CglSZWZsZWN0LmZpZWxkcyA9IGZ1bmN0aW9uKG8pIHsKCQl2YXIgYSA9IFtdOwoJCWlmKG8gIT0gbnVsbCkgewoJCQl2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoJCQlmb3IoIHZhciBmIGluIG8gKSB7CgkJCWlmKGhhc093blByb3BlcnR5LmNhbGwobyxmKSkgYS5wdXNoKGYpOwoJCQl9CgkJfQoJCXJldHVybiBhOwoJfQoJUmVmbGVjdC5jb3B5ID0gZnVuY3Rpb24obykgewoJCXZhciBvMiA9IHsgfTsKCQl2YXIgX2cgPSAwLCBfZzEgPSBSZWZsZWN0LmZpZWxkcyhvKTsKCQl3aGlsZShfZyA8IF9nMS5sZW5ndGgpIHsKCQkJdmFyIGYgPSBfZzFbX2ddOwoJCQkrK19nOwoJCQlvMltmXSA9IFJlZmxlY3QuZmllbGQobyxmKTsKCQl9CgkJcmV0dXJuIG8yOwoJfQoJUmVmbGVjdC5jb21wYXJlID0gZnVuY3Rpb24oYSxiKSB7IHJldHVybiBhID09IGI/MDphID4gYj8xOi0xOyB9Ki8KCS8vID09IC9FeHRlbmQgUmVmbGVjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKCgkvLyA9PSBFeHRlbmQgTWFpbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCU1haW4uay5leHRlbmQgPSBjcmVhdGVPYmplY3RJbih1bnNhZmVXaW5kb3cuTWFpbi5rLCB7ZGVmaW5lQXM6ICJleHRlbmQifSk7CglNYWluLmsuZXh0ZW5kLnVwZGF0ZUNvbnRlbnQgPSAgTWFpbi51cGRhdGVDb250ZW50OwoJTWFpbi51cGRhdGVDb250ZW50ID0gZnVuY3Rpb24odXJsLHNlZWssZGVzdCxjYikgewoJCWNvbnNvbGUubG9nKCd1cGRhdGUgY29udGVudCcpOwoJCU1haW4uay5leHRlbmQudXBkYXRlQ29udGVudCh1cmwsc2VlayxkZXN0LGZ1bmN0aW9uKCl7CgkJCXRyeSB7CgkJCQlpZiAoY2IgIT0gbnVsbCkgY2IoKTsKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5lcnJvcignZXJyZXVyJyxlKTsKCQkJCU1haW4uay5NdXNoVXBkYXRlKCk7CgkJCX0KCgkJCWlmKC9cL2Nob29zZVBlZXJcP2NoYXJJZD1bMC05XSsmaWR4PShbMC05XSspLy50ZXN0KHVybCkpewoJCQkJdmFyIHRhYl9jbGFzcyA9ICcuY2RQcml2YXRlVGFiJyArIFJlZ0V4cC4kMTsKCQkJCU1haW4uay5NdXNoVXBkYXRlKCk7CgkJCQlpZigkKHRhYl9jbGFzcykubGVuZ3RoID4gMCl7CgkJCQkJJCh0YWJfY2xhc3MpLnRyaWdnZXIoJ2NsaWNrJyk7CgkJCQl9CgkJCX0KCQl9KTsKCX07CglhZGRGY3RUb1BhZ2UoTWFpbi51cGRhdGVDb250ZW50LCdNYWluLnVwZGF0ZUNvbnRlbnQnKTsKCgkvL01haW4uay5leHRlbmQub25DaGF0Rm9jdXMgPSBNYWluLm9uQ2hhdEZvY3VzOwoJTWFpbi5rLmV4dGVuZC5vbkNoYXRGb2N1cyA9IGZ1bmN0aW9uKHQsaSkgewoJCS8vTWFpbi5rLmV4dGVuZC5vbkNoYXRGb2N1cyh0LGkpOwoJCWNvbnNvbGUubG9nKCdNYWluLnJzdCcsTWFpbi5yc3QpOwoJCWlmICgwID09IChNYWluLnJzdCAmIDEgPDwgaSkpIHsKCQkJY29uc29sZS5sb2coJ01haW4ucnN0IGlmJyk7CgkJCU1haW4ucnN0IHw9IDEgPDwgaTsKCgkJCWlmICghdC5wYXJlbnQoKS5maW5kKCIuZm9ybWF0YnRuIikuZ2V0KDApKSB7CgoJCQkJLy8gQWRkIGZvcm1hdHRpbmcKCQkJCSQoIjxhPiIpLmFkZENsYXNzKCJidXRtaW5pIGNoYXRmb3JtYXRidG4iKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9wYW0ucG5nJyAvPiBGb3JtYXRlciIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKHQucGFyZW50KCkpCgkJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKCQkJCQkJdmFyIHRndCA9ICQodGhpcyk7CgkJCQkJCWlmICh0Z3QuaGFzQ2xhc3MoImJ1dG1pbmkiKSkgdGd0ID0gdGd0LnBhcmVudCgpLmZpbmQoInRleHRhcmVhIik7CgoJCQkJCQlNYWluLmsuTWFuYWdlci5vcGVuT24oIm5ld3RvcGljIiwgdGd0LnZhbCgpKTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0pOwoKCQkJCS8vIERpc3BsYXkgY2hhdCBidXR0b24gJiBmaXggdGFiaW5kZXgKCQkJCXQuc2libGluZ3MoImlucHV0Iikuc2hvdygpOwoJCQkJdC5zaWJsaW5ncygiaW5wdXQiKS5hdHRyKCJ0YWJpbmRleCIsIDEpOwoJCQl9CgkJfQoJCWNvbnNvbGUubG9nKCdvbmNoYXRmb2N1cyBlbmQnKTsKCX07CglNYWluLmsuZXh0ZW5kLm9uQ2hhdElucHV0ID0gZnVuY3Rpb24oZXZlbnQpIHsKCQl2YXIganEgPSAkKHRoaXMpOwoJCXZhciB0Z3QgPSBuZXcgbXVzaF9qcXVlcnkoZXZlbnQudGFyZ2V0KTsKCQl0Z3Quc2libGluZ3MoImlucHV0Iikuc2hvdygpOwoJCWlmKGV2ZW50LmtleUNvZGUgPT0gMTMpIHsKCQkJaWYoIWV2ZW50LmN0cmxLZXkpIHsKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQl2YXIgcHIgPSB0Z3QucGFyZW50KCk7CgkJCQlwci5zdWJtaXQoKTsKCQkJCVRvb2xzLnNlbmQyU3RvcmUoIm11c2hfY2hhdENvbnRlbnRfIiArIGpxLmF0dHIoImlkIiksIiIpOwoJCQkJLy9qcS52YWwoJycpOwoJCQkJdGd0LmRhdGEoImRlZmF1bHQiLHRydWUpOwoJCQl9IGVsc2UgewoJCQkJLy8gSW5zZXJ0IGxpbmUgYnJlYWsgYXQgY2FyZXQsIG5vdCBhdCB0aGUgZW5kLi4uCgkJCQkkKHRndCkuaW5zZXJ0QXRDYXJldCgiXG4iKTsKCQkJCVRvb2xzLnNlbmQyU3RvcmUoIm11c2hfY2hhdENvbnRlbnRfIiArIGpxLmF0dHIoImlkIiksdGd0LnZhbCgpKTsKCQkJfQoJCX0gZWxzZSBUb29scy5zZW5kMlN0b3JlKCJtdXNoX2NoYXRDb250ZW50XyIgKyBqcS5hdHRyKCJpZCIpLHRndC52YWwoKSk7Cgl9OwoJTWFpbi5rLmV4dGVuZC5vbldhbGxJbnB1dCA9IGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIHRndCA9IG5ldyBtdXNoX2pxdWVyeShldmVudC50YXJnZXQpOwoJCXZhciB2YWwgPSB0Z3QudmFsKCk7CgkJaWYoZXZlbnQua2V5Q29kZSA9PSAxMykgewoJCQlpZighZXZlbnQuY3RybEtleSAmJiB2YWwubGVuZ3RoID4gMSkgewoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCXZhciB1cGR0QXJyID0gWyJjZFRhYnNDaGF0IiwiY2hhdEJsb2NrIiwiY2hhcl9jb2wiXTsKCQkJCXZhciBzY3IgPSBuZXcganMuSlF1ZXJ5KCIuY2RXYWxsQ2hhbm5lbCIpLnNjcm9sbFRvcCgpOwoJCQkJdmFyIHNlbmRDaGF0UHJvYyA9IGZ1bmN0aW9uKCkgewoJCQkJCU1haW4ucmVzZXRKcygpOwoJCQkJCXZhciBqcSA9IG5ldyAkKCIuY2RXYWxsQ2hhbm5lbCIpOwoJCQkJCWpxLnNjcm9sbFRvcChzY3IgKyAxMDApOwoJCQkJfTsKCQkJCXVuc2FmZVdpbmRvdy5zZW5kQ2hhdFByb2MgPSBleHBvcnRGdW5jdGlvbihzZW5kQ2hhdFByb2MsIHVuc2FmZVdpbmRvdywge2RlZmluZUFzOiAic2VuZENoYXRQcm9jIn0pOwoJCQkJaWYoTWFpbi5pc1R1dG8oKSkgewoJCQkJCXVwZHRBcnIudW5zaGlmdCgiZmxvYXRpbmdfdWlfc3RhcnQiKTsKCQkJCQl1cGR0QXJyLnVuc2hpZnQoImNkRGlhbG9ncyIpOwoJCQkJCXVwZHRBcnIucHVzaCgib2RlIik7CgkJCQl9CgkJCQl2YXIgc3RWYWwgPSBlbmNvZGVVUklDb21wb25lbnQodmFsKTsKCQkJCXZhciB1cmwgPSAiL3dhbGxSZXBseT9rPSIgKyBTdGQuc3RyaW5nKHRndC5jbG9zZXN0KCIudW5pdCIpLmRhdGEoImsiKSkgKyAiJm1zZz0iICsgc3RWYWw7CgkJCQlNYWluLnVwZGF0ZUNvbnRlbnQodXJsLGNsb25lSW50byh1cGR0QXJyLHVuc2FmZVdpbmRvdyksbnVsbCx1bnNhZmVXaW5kb3cuc2VuZENoYXRQcm9jKTsKCQkJCVRvb2xzLnNlbmQyU3RvcmUoIm11c2hfd2FsbFJlcGx5XyIgKyB0Z3QuYXR0cigiaWQiKSwiIik7CgkJCQl0Z3QudmFsKCcnKTsKCQkJCXRndC5kYXRhKCJkZWZhdWx0Iix0cnVlKTsKCQkJfSBlbHNlIHsKCQkJCS8vIEluc2VydCBsaW5lIGJyZWFrIGF0IGNhcmV0LCBub3QgYXQgdGhlIGVuZC4uLgoJCQkJJCh0Z3QpLmluc2VydEF0Q2FyZXQoIlxuIik7CgkJCQlUb29scy5zZW5kMlN0b3JlKCJtdXNoX3dhbGxSZXBseV8iICsgdGd0LmF0dHIoImlkIiksdGd0LnZhbCgpKTsKCQkJfQoJCX0gZWxzZSBUb29scy5zZW5kMlN0b3JlKCJtdXNoX3dhbGxSZXBseV8iICsgdGd0LmF0dHIoImlkIiksdGd0LnZhbCgpKTsKCX07CglNYWluLmsuZXh0ZW5kLm9uV2FsbEZvY3VzID0gZnVuY3Rpb24oKSB7Ly9UT0RPOiBNVUxUSUxBTkcKCQlqcSA9ICQodGhpcyk7CgkJY29uc29sZS5pbmZvKCdNYWluLm9uV2FsbEZvY3VzJyk7CgkJaWYgKCFqcS5wYXJlbnQoKS5maW5kKCIuZm9ybWF0YnRuIikuZ2V0KDApKSB7CgkJCWpxLmF0dHIoIm9uYmx1ciIsICIiKTsKCgkJCXZhciB0ZCA9IGpxLnBhcmVudCgpLnBhcmVudCgpLnNpYmxpbmdzKCJ0ZCIpLmZpcnN0KCk7CgkJCXZhciBzaGFyZWRpdiA9ICQoIjxkaXY+IikuY3NzKHsKCQkJCSJtYXJnaW4tdG9wIjogIjIwcHgiLAoJCQkJIm1hcmdpbi1sZWZ0IjogIjVweCIKCQkJfSkuYXBwZW5kVG8odGQpOwoKCQkJLy8gTGlmZQoJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8aW1nIHNyYz0nIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvdmllbW9yYWwucG5nJyAvPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKHNoYXJlZGl2KQoJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0TGlmZSgpOwoJCQkJCSQodGhpcykucGFyZW50KCkucGFyZW50KCkuc2libGluZ3MoInRkIikuZmlyc3QoKS5maW5kKCJ0ZXh0YXJlYSIpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KQoJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIHNvbiDDqXRhdCBkZSBzYW50w6kiKSkKCQkJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIjxwPkluc8OocmUgdm90cmUgbm9tYnJlIGRlIHBvaW50cyBkZSB2aWUgZXQgZGUgbW9yYWwgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPlRPRE86IGV4YW1wbGU8L3A+IikpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkJLy8gSW52ZW50b3J5CgkJCSQoIjxhPiIpLmFkZENsYXNzKCJidXRtaW5pIGZvcm1hdGJ0biIpLmh0bWwoIjxpbWcgc3JjPSdodHRwOi8vZGF0YS5ob3JkZXMuZnIvZ2Z4L2ljb25zL2l0ZW1fYmFnLmdpZicgLz4iKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhzaGFyZWRpdikKCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRJbnZlbnRvcnkoKTsKCQkJCQkkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnNpYmxpbmdzKCJ0ZCIpLmZpcnN0KCkuZmluZCgidGV4dGFyZWEiKS5pbnNlcnRBdENhcmV0KHR4dCk7CgkJCQkJTWFpbi5rLlN5bmNBc3Ryb3BhZChlKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KQoJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGwnaW52ZW50YWlyZSIpKQoJCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiSW5zw6hyZSBsJ2ludmVudGFpcmUgZGUgbGEgcGnDqGNlIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48c3Ryb25nPkNvdWxvaXIgY2VudHJhbCA6PC9zdHJvbmc+IDxpPkNvbWJpbmFpc29uPC9pPiwgPGk+Q291dGVhdTwvaT4sIDxpPk3DqWRpa2l0PC9pPiwgPGk+RXh0aW5jdGV1cjwvaT48L3A+PHA+PHN0cm9uZz5QYXJ0YWdlIGF1c3NpIHN1ciBBc3Ryb3BhZCBzaSBjZWx1aS1jaSBlc3QgaW5zdGFsbMOpLjwvc3Ryb25nPjwvcD4iKSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoJCQkvLyBDb25zbwoJCQlpZiAoJCgiI3BoYXJtYXNoYXJlIikuY3NzKCJkaXNwbGF5IikgIT0gIm5vbmUiKSB7CgkJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9zYXQucG5nJyAvPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKHNoYXJlZGl2KQoJCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQaGFybWEoKTsKCQkJCQkJJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5zaWJsaW5ncygidGQiKS5maXJzdCgpLmZpbmQoInRleHRhcmVhIikuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSk7CgkJCX0KCgkJCS8vIFBsYW50cwoJCQlpZiAoJCgiI3BsYW50bWFuYWdlciIpLmxlbmd0aCA+IDApIHsKCQkJCSQoIjxhPiIpLmFkZENsYXNzKCJidXRtaW5pIGZvcm1hdGJ0biIpLmh0bWwoIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3BsYW50X3lvdW5nbGluZy5wbmcnIC8+IikuYXR0cigiaHJlZiIsICIjIikuYXBwZW5kVG8oc2hhcmVkaXYpCgkJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdHh0ID0gTWFpbi5rLkZvcm1hdFBsYW50cygpOwoJCQkJCQkkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnNpYmxpbmdzKCJ0ZCIpLmZpcnN0KCkuZmluZCgidGV4dGFyZWEiKS5pbnNlcnRBdENhcmV0KHR4dCk7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9KQoJCQkJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJQYXJ0YWdlciBsJ8OpdGF0IGRlcyBwbGFudGVzIikpCgkJCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiPHA+SW5zw6hyZSBsJ8OpdGF0IGRlcyBwbGFudGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUuPC9wPjxwPlRPRE86IEV4ZW1wbGU8L3A+IikpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJCX0KCgkJCS8vIFByb2plY3RzCgkJCWlmICgkKCIuc2hhcmVwcm9qZWN0YnRuIikubGVuZ3RoID4gMCkgewoJCQkJJCgiPGE+IikuYWRkQ2xhc3MoImJ1dG1pbmkgZm9ybWF0YnRuIikuaHRtbCgiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvY29uY2VwdG9yLnBuZycgLz4iKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhzaGFyZWRpdikKCQkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0UHJvamVjdHMoKTsKCQkJCQkJJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5zaWJsaW5ncygidGQiKS5maXJzdCgpLmZpbmQoInRleHRhcmVhIikuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSkKCQkJCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIgbGVzIHByb2pldHMiKSkKCQkJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJJbnPDqHJlIGxhIGxpc3RlIGRlIHByb2pldHMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPiIgKwoJCQkJCQkiPGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+IiArCgkJCQkJCSI8bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT4iICsKCQkJCQkJIjxsaT48c3Ryb25nPk5vbSBkdSBwcm9qZXQ8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZHUgcHJvamV0PGJyLz5Cb251cyA6IDxpPlRpcmV1cjwvaT4sIDxpPlBpbG90ZTwvaT48L2xpPiIpKQoJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoJCQl9CgoJCQkvLyBSZXNlYXJjaAoJCQlpZiAoJCgiLnNoYXJlcmVzZWFyY2hidG4iKS5sZW5ndGggPiAwKSB7CgkJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9taWNyb3NjLnBuZycgLz4iKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhzaGFyZWRpdikKCQkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0UmVzZWFyY2goKTsKCQkJCQkJJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5zaWJsaW5ncygidGQiKS5maXJzdCgpLmZpbmQoInRleHRhcmVhIikuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSkKCQkJCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIgbGVzIHJlY2hlcmNoZXMiKSkKCQkJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJJbnPDqHJlIGxhIGxpc3RlIGRlIHJlY2hlcmNoZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPiIgKwoJCQkJCQkiPGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3DqWRlY2luPC9pPjwvbGk+IiArCgkJCQkJCSI8bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcOpZGVjaW48L2k+PC9saT4iICsKCQkJCQkJIjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw6lkZWNpbjwvaT48L2xpPiIpKQoJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoJCQl9CgoJCQkvLyBCSU9TCgkJCWlmICgkKCIjYmlvc01vZHVsZSIpLmxlbmd0aCA+IDApIHsKCQkJCSQoIjxhPiIpLmFkZENsYXNzKCJidXRtaW5pIGZvcm1hdGJ0biIpLmh0bWwoIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3BhX2NvcmUucG5nJyAvPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKHNoYXJlZGl2KQoJCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRCSU9TKCk7CgkJCQkJCSQodGhpcykucGFyZW50KCkucGFyZW50KCkuc2libGluZ3MoInRkIikuZmlyc3QoKS5maW5kKCJ0ZXh0YXJlYSIpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0pCgkJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGxlcyBwYXJhbcOodHJlcyBCSU9TIikpCgkJCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiSW5zw6hyZSBsYSBsaXN0ZSBkZSBwYXJhbcOodHJlcyBCSU9TIE5lcm9uIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBhcGVyw6d1IikpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJCX0KCgkJCS8vIFBsYW5ldHMKCQkJaWYgKCQoIiNuYXZNb2R1bGUiKS5sZW5ndGggPiAwKSB7CgkJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9wbGFuZXQucG5nJyAvPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKHNoYXJlZGl2KQoJCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQbGFuZXRzKCk7CgkJCQkJCSQodGhpcykucGFyZW50KCkucGFyZW50KCkuc2libGluZ3MoInRkIikuZmlyc3QoKS5maW5kKCJ0ZXh0YXJlYSIpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0pCgkJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGxlcyBwbGFuw6h0ZXMiKSkKCQkJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCI8cD5JbnPDqHJlIGxlcyBkw6l0YWlscyBkZXMgcGxhbsOodGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUuPC9wPjxwPlRPRE86IEV4ZW1wbGU8L3A+IikpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJCX0KCgoKCQkJLy8gRm9ybWF0dGluZwoJCQl2YXIgZm9ybWF0ZGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicmVwbHlidXR0b25zIGN1c3RvbXJlcGx5IikuYXBwZW5kVG8oanEucGFyZW50KCkpOwoJCQlmb3JtYXRkaXYuc2libGluZ3MoInRleHRhcmVhIikuY3NzKHsicGFkZGluZy1ib3R0b20iOiAiMjJweCIsIGhlaWdodDogIjEzMHB4In0pOwoKCQkJLy8gQm9sZAoJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8c3Ryb25nPkI8L3N0cm9uZz4iKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhmb3JtYXRkaXYpCgkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCJ0ZXh0YXJlYSIpLmluc2VydEFyb3VuZENhcmV0KCIqKiIsIioqIik7CgkJCQl9KTsKCgkJCS8vIEl0YWxpYwoJCQkkKCI8YT4iKS5hZGRDbGFzcygiYnV0bWluaSBmb3JtYXRidG4iKS5odG1sKCI8aT5JPC9pPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKGZvcm1hdGRpdikKCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoInRleHRhcmVhIikuaW5zZXJ0QXJvdW5kQ2FyZXQoIi8vIiwiLy8iKTsKCQkJCX0pOwoKCQkJLy8gQWRkIHNtaWxlCgkJCSQoIjxhPiIpLmFkZENsYXNzKCJidXRtaW5pIGZvcm1hdGJ0biIpLmh0bWwoIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL21vcmFsLnBuZycgLz4iKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhmb3JtYXRkaXYpCgkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJLy8gVE9ETwoJCQkJfSkKCQkJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJJbnPDqXJlciB1biBzbWlsZXkiKSkKCQkJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkJpZW50w7R0IGRpc3BvbmlibGUuIikpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkJLy8gRW1wdHkgdGV4dGFyZWEKCQkJJCgiPGE+IikuYWRkQ2xhc3MoImJ1dG1pbmkiKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9iaW4ucG5nJyAvPiIpLmF0dHIoImhyZWYiLCAiIyIpLmFwcGVuZFRvKGZvcm1hdGRpdikKCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgdCA9ICQodGhpcykuY2xvc2VzdCgiLnVuaXQiKS5maW5kKCJ0ZXh0YXJlYSIpOwoJCQkJCXQudmFsKCIiKTsKCQkJCQl0LmZvY3VzKCk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfSkKCQkJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIlZpZGVyIGxhIHpvbmUgZGUgdGV4dGUuIikpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkJLy8gQ2xvc2UgdGV4dGFyZWEKCQkJJCgiPGE+IikuYWRkQ2xhc3MoImJ1dG1pbmkiKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9zdGF0dXMvdW5zb2NpYWJsZS5wbmcnIC8+IikuYXR0cigiaHJlZiIsICIjIikuYXBwZW5kVG8oZm9ybWF0ZGl2KQoJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBqcSA9ICQodGhpcyk7CgkJCQkJdmFyIGpxcCA9IGpxLmNsb3Nlc3QoIi51bml0Iik7CgkJCQkJanFwLmZpbmQoIi50cmVlIikubm90KCIuY2RUcmVlUmVwbHkiKS5sYXN0KCkuYWRkQ2xhc3MoInRyZWVsYXN0Iik7CgkJCQkJanFwLmZpbmQoIi5ibG9ja3JlcGx5IikuYWRkQ2xhc3MoImhpZGUiKTsKCQkJCQlqcXAuZmluZCgidGV4dGFyZWEiKS52YWwoIiIpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pCgkJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJGZXJtZXIgbGEgem9uZSBkZSB0ZXh0ZS4iKSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoJCQkvLyBBZGQgZm9ybWF0dGluZyBsaW5rIChtYW5hZ2VyKQoJCQkkKCI8c3Bhbj4mbmJzcDs8L3NwYW4+IikuYXBwZW5kVG8oZm9ybWF0ZGl2KTsKCQkJJCgiPGE+IikuYWRkQ2xhc3MoImJ1dG1pbmkgZm9ybWF0YnRuIikuaHRtbCgiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvcGFtLnBuZycgLz4gRm9ybWF0ZXIiKS5hdHRyKCJocmVmIiwgIiMiKS5hcHBlbmRUbyhmb3JtYXRkaXYpCgkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIHRndCA9ICQodGhpcyk7CgkJCQkJaWYgKHRndC5oYXNDbGFzcygiYnV0bWluaSIpKSB0Z3QgPSB0Z3QucGFyZW50KCkucGFyZW50KCkuZmluZCgidGV4dGFyZWEiKTsKCgkJCQkJTWFpbi5rLk1hbmFnZXIub3Blbk9uKCJyZXBseSIsIHRndC52YWwoKSwgdGd0LmNsb3Nlc3QoIi51bml0IikuYXR0cigiZGF0YS1rIikpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pCgkJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJPdXZyaXIgbGUgbWFuYWdlci4iKSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJfQoJfTsKCU1haW4uay5leHRlbmQub25DaGF0U2Nyb2xsID0gZnVuY3Rpb24oKSB7CgkJdmFyIGpxID0gJCh0aGlzKTsKCQl2YXIgY3VyQ2hhbiA9IE1haW4uY3VyQ2hhdEluZGV4KCk7CgkJTWFpbi5jdXJTY3JvbGwuc2V0KGN1ckNoYW4sanEuc2Nyb2xsVG9wKCkpOwoJCWlmKGN1ckNoYW4gPT0gQ2hhdFR5cGUuV2FsbFsxXSkgewoJCQlpZihqcS5zY3JvbGxUb3AoKSArIGpxLmhlaWdodCgpICsgOCA+PSBqcS50b0FycmF5KClbMF0uc2Nyb2xsSGVpZ2h0KSBNYWluLmsuZXh0ZW5kLmxvYWRNb3JlV2FsbCgpOwoJCX0KCX07CglNYWluLmxvYWRNb3JlV2FsbCA9IGZ1bmN0aW9uKCl7CgoJfTsKCWFkZEZjdFRvUGFnZShNYWluLmxvYWRNb3JlV2FsbCwnTWFpbi5sb2FkTW9yZVdhbGwnKTsKCU1haW4uay5leHRlbmQubG9hZE1vcmVXYWxsID0gZnVuY3Rpb24oKXsKCQlpZihNYWluLmxtd1Byb2Nlc3NpbmcpIHJldHVybjsKCQlNYWluLmxtd1Byb2Nlc3NpbmcgPSB0cnVlOwoJCU1haW4ubG13X3NwaW4rKzsKCQl2YXIgY2hhbiA9IE1haW4uZ2V0Q2hhbm5lbChNYWluLmN1ckNoYXRJbmRleCgpKS5maW5kKCJkaXYud2FsbCBkaXYudW5pdCIpOwoJCXZhciB3ID0gY2hhbi5sYXN0KCk7CgkJdmFyIHdwID0gdy5jbG9zZXN0KCIud2FsbCIpOwoJCWlmKHcubGVuZ3RoID4gMCkgewoJCQlKcUV4LnBvc3RMb2FkaW5nKHdwKTsKCQkJdmFyIHVybCA9ICIvcmV0cldhbGxBZnRlci8iICsgU3RkLnN0cmluZyh3LmRhdGEoImsiKSk7CgkJCVRvb2xzLnBpbmcodXJsLGZ1bmN0aW9uKGNvbnRlbnQpIHsKCQkJCXZhciBqcSA9IG5ldyBqcy5KUXVlcnkoY29udGVudCk7CgkJCQlKcUV4LnJlbUxvYWRpbmcod3ApOwoJCQkJdmFyIHN1YldhbGwgPSBMYW1iZGEubGlzdChqcS5maW5kKCIud2FsbCBmb3JtIikpOwoJCQkJdmFyICRpdDAgPSBzdWJXYWxsLml0ZXJhdG9yKCk7CgkJCQl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJCQkJdmFyIGUgPSAkaXQwLm5leHQoKTsKCQkJCQl2YXIgdSA9IGUuZmluZCgiLnVuaXQiKTsKCQkJCQlpZih1ID09IG51bGwpIGNvbnRpbnVlOwoJCQkJCXZhciAkaXQxID0gKGZ1bmN0aW9uKCR0aGlzKSB7CgkJCQkJCXZhciAkcjsKCQkJCQkJdmFyIF90aGlzID0gd3AuZmluZCgiLnVuaXQiKTsKCQkJCQkJJHIgPSAoX3RoaXMuaXRlcmF0b3IpKCk7CgkJCQkJCXJldHVybiAkcjsKCQkJCQl9KHRoaXMpKTsKCQkJCQl3aGlsZSggJGl0MS5oYXNOZXh0KCkgKSB7CgkJCQkJCXZhciB3ZSA9ICRpdDEubmV4dCgpOwoJCQkJCQl2YXIgdWsgPSB1LmRhdGEoImsiKTsKCQkJCQkJdmFyIHdrID0gd2UuZGF0YSgiayIpOwoJCQkJCQloYXhlLkxvZy50cmFjZSh1ayArICIgPD4gICIgKyB3ayx7IGZpbGVOYW1lIDogIk1haW4uaHgiLCBsaW5lTnVtYmVyIDogMzg0MSwgY2xhc3NOYW1lIDogIk1haW4iLCBtZXRob2ROYW1lIDogImxvYWRNb3JlV2FsbCJ9KTsKCQkJCQkJaWYod2sgPT0gdWspIHN1YldhbGwucmVtb3ZlKGUpOwoJCQkJCX0KCQkJCX0KCQkJCXZhciAkaXQyID0gc3ViV2FsbC5pdGVyYXRvcigpOwoJCQkJd2hpbGUoICRpdDIuaGFzTmV4dCgpICkgewoJCQkJCXZhciB3MSA9ICRpdDIubmV4dCgpOwoJCQkJCXdwLmFwcGVuZCh3MS5odG1sKCkpOwoJCQkJfQoJCQkJTWFpbi5sbXdQcm9jZXNzaW5nID0gZmFsc2U7CgoJCQkJLyoqKioqKioqKioqKioqKiogQ1RSTCtXICoqKioqKioqKioqKiovCgkJCQlpZiAoTWFpbi5rLk9wdGlvbnMuY2J1YmJsZXMpIE1haW4uay5jdXN0b21CdWJibGVzKCk7CgkJCQkvLyBOZXZlciBoaWRlIHVucmVhZCBtc2cKCQkJCSQoInRhYmxlLnRyZWVyZXBseSB0ci5ub3RfcmVhZC5jZFJlcGwiKS5jc3MoImRpc3BsYXkiLCAidGFibGUtcm93Iik7CgkJCQkvKioqKioqKioqKioqKioqKiBDVFJMK1cgKioqKioqKioqKioqKi8KCgkJCX0pOwoJCX0gZWxzZSBNYWluLmxtd1Byb2Nlc3NpbmcgPSBmYWxzZTsKCgl9OwoKCU1haW4uay5leHRlbmQucmVzZXRKcyA9IE1haW4ucmVzZXRKczsKCU1haW4ucmVzZXRKcyA9IGZ1bmN0aW9uKGRvQWN0aW9ucywgc2tpcEspIHsKCQlNYWluLmsuZXh0ZW5kLnJlc2V0SnMoZG9BY3Rpb25zKTsKCQlpZiAoIXNraXBLKSBNYWluLmsuTXVzaFVwZGF0ZSgpOwoJfTsKCWV4cG9ydEZ1bmN0aW9uKE1haW4ucmVzZXRKcywgdW5zYWZlV2luZG93Lk1haW4sIHtkZWZpbmVBczogJ3Jlc2V0SnMnfSk7CgoJLy8gPT0gL0V4dGVuZCBNYWluID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgoKCgoJLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgkvLyA9PSBVc2VyIFNjcmlwdCAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCS8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJTWFpbi5rLlVwZGF0ZURhdGEgPSB7Y3VycnZlcnNpb246IDAsIGNoYW5nZWxvZzogW119OwoJTWFpbi5rLlVwZGF0ZUNoZWNrID0gZnVuY3Rpb24oKSB7CgkJdmFyIHZlcnNpb25fdXBkYXRlOwoJCWlmKE1haW4uay5VcGRhdGVDaGVjay5iX2luX3Byb2dyZXNzID09IHVuZGVmaW5lZCl7CgkJCU1haW4uay5VcGRhdGVDaGVjay5iX2luX3Byb2dyZXNzID0gZmFsc2U7CgkJfQoJCWlmKE1haW4uay5VcGRhdGVDaGVjay5iX2luX3Byb2dyZXNzID09IHRydWUpewoJCQlyZXR1cm47CgkJfQoJCXZhciBsYXN0VmVyc2lvbiA9IGpzLkNvb2tpZS5nZXQoJ2N0cmx3VmVyc2lvbicpOwoJCWlmKHR5cGVvZihsYXN0VmVyc2lvbikgIT0gJ3VuZGVmaW5lZCcgJiYgbGFzdFZlcnNpb24gPCBNYWluLmsudmVyc2lvbil7CgkJCXZlcnNpb25fdXBkYXRlID0gbGFzdFZlcnNpb247CgkJfWVsc2V7CgkJCXZlcnNpb25fdXBkYXRlID0gTWFpbi5rLnZlcnNpb247CgkJfQoJCWlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdHJsd191cGRhdGVfY2FjaGUnKSA9PSBudWxsKXsKCQkJTWFpbi5rLlVwZGF0ZUNoZWNrLmJfaW5fcHJvZ3Jlc3MgPSB0cnVlOwoJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQltZXRob2Q6ICdHRVQnLAoJCQkJdXJsIDpNYWluLmsuc2VydnVybCArICIvdmVyc2lvbnMvdXBkYXRlLyIrIHZlcnNpb25fdXBkYXRlLAoJCQkJaGVhZGVyczogewoJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgoJCQkJfSwKCQkJCW9ubG9hZDogZnVuY3Rpb24oanNvbikgewoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWNvbnNvbGUud2FybigndXBkYXRlX2pzb24nLGpzb24pOwoJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfdXBkYXRlX2NhY2hlJyxKU09OLnN0cmluZ2lmeShqc29uKSk7CgkJCQkJCU1haW4uay5VcGRhdGVDaGVjay5iX2luX3Byb2dyZXNzID0gZmFsc2U7CgkJCQkJfSwgMCk7CgoKCQkJCQlNYWluLmsuVXBkYXRlQ2hlY2tTY3JpcHRWZXJzaW9uKGpzb24sbGFzdFZlcnNpb24pOwoJCQkJfSwKCQkJCW9uZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXQsaHR0cCl7CgkJCQkJY29uc29sZS53YXJuKHhocixzdGF0dXQsaHR0cCk7CgkJCQl9CgkJCX0pOwoKCQl9ZWxzZXsKCQkJTWFpbi5rLlVwZGF0ZUNoZWNrU2NyaXB0VmVyc2lvbihKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdHJsd191cGRhdGVfY2FjaGUnKSksbGFzdFZlcnNpb24pOwoJCX0KCgl9OwoJLyoqCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGpzb24gaW5mb3MgYWJvdXQgY3VycmVudCB2ZXJzaW9uCgkgKiBAcGFyYW0ge3N0cmluZ30ganNvbi5udW1lcm8gVmVyc2lvbiBudW1iZXIKCSAqIEBwYXJhbSB7c3RyaW5nfSBqc29uLmNoYW5nZWxvZ19sb25nIENoYW5nZWxvZwoJICogQHBhcmFtIHtzdHJpbmd9IGpzb24udXNlcl9udW1fdmVyc2lvbiBWZXJzaW9uIG51bWJlciBvZiB0aGUgaW5zdGFsbGVkIHNjcmlwdAoJICogQHBhcmFtIHtpbnR9IGpzb24udXNlcl9jb2RlX3ZlcnNpb24gVmVyc2lvbiBjb2RlIG9mIHRoZSBpbnN0YWxsZWQgc2NyaXB0CgkgKiBAcGFyYW0gbGFzdFZlcnNpb24KCSAqLwoJTWFpbi5rLlVwZGF0ZUNoZWNrU2NyaXB0VmVyc2lvbiA9IGZ1bmN0aW9uKGpzb24sbGFzdFZlcnNpb24pewoJCXRyeSB7CgkJCWpzb24gPSBKU09OLnBhcnNlKGpzb24ucmVzcG9uc2UpOwoJCX0gY2F0Y2ggKGUpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlNYWluLmsuVXBkYXRlRGF0YS5jdXJydmVyc2lvbiA9IGpzb24ubnVtZXJvOwoJCWlmKHR5cGVvZihqc29uWydjaGFuZ2Vsb2dfbG9uZ18nK01haW4uay5sYW5nXSkgIT0gJ3VuZGVmaW5lZCcpewoJCQlNYWluLmsuVXBkYXRlRGF0YS5jaGFuZ2Vsb2cgPSBqc29uWydjaGFuZ2Vsb2dfbG9uZ18nK01haW4uay5sYW5nXTsKCQl9ZWxzZXsKCQkJTWFpbi5rLlVwZGF0ZURhdGEuY2hhbmdlbG9nID0ganNvbi5jaGFuZ2Vsb2dfbG9uZzsKCQl9CgkJTWFpbi5rLlVwZGF0ZURhdGEudXJsID0ganNvbi51cmw7CgkJaWYgKGpzb24udXNlcl9jb2RlX3ZlcnNpb24gPCBqc29uLmNvZGUgJiYganNvbi51c2VyX251bV92ZXJzaW9uID09IEdNX2luZm8uc2NyaXB0LnZlcnNpb24pIHsKCQkJJCgiI3VwZGF0ZWJ0biIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCX0gZWxzZSB7CgkJCWlmKHR5cGVvZihsYXN0VmVyc2lvbikgIT0gJ3VuZGVmaW5lZCcgJiYgbGFzdFZlcnNpb24gIT0gR01faW5mby5zY3JpcHQudmVyc2lvbil7CgkJCQlNYWluLmsuQXV0b1VwZGF0ZURpYWxvZygpOwoJCQl9CgkJCWpzLkNvb2tpZS5zZXQoJ2N0cmx3VmVyc2lvbicsR01faW5mby5zY3JpcHQudmVyc2lvbiw0MjAwMDAwMDApOwoJCQkkKCIjdXBkYXRlYnRuIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCQl9Cgl9OwoJTWFpbi5rLlVwZGF0ZURpYWxvZyA9IGZ1bmN0aW9uKCkgewoJCXZhciBva0hyZWYgPSBNYWluLmsuVXBkYXRlRGF0YS51cmw7CgkJLy8gQ3JlYXRlIHBvcHVwCgkJdmFyIHBvcHVwID0gTWFpbi5rLkNyZWF0ZVBvcHVwKCk7CgkJcG9wdXAuY29udGVudC5jc3MoewoJCQkiaGVpZ2h0IjogImF1dG8iLAoJCQkibWF4LWhlaWdodCI6ICI5MCUiLAoJCQkid2lkdGgiOiAiNjAwcHgiLAoJCQkiY29sb3IiOiAiI0ZGRiIKCQl9KTsKCgkJLy9jb25mLnRpdGxlID0gIk1pc2Ugw6Agam91ciBkdSBzY3JpcHQgQ1RSTCtXIjsKCQl2YXIgbWFqX2NvbnRlbnQgPSBNYWluLmsudGV4dC5nZXR0ZXh0KCJWZXJzaW9uICIgKyBNYWluLmsuVXBkYXRlRGF0YS5jdXJydmVyc2lvbiArICIgZGlzcG9uaWJsZSA6IikrIiA8YnIvPiA8dWwgY2xhc3M9J3VwZGF0ZXNsaXN0Jz4iOwoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuVXBkYXRlRGF0YS5jaGFuZ2Vsb2cubGVuZ3RoOyBpKyspIHsKCQkJdmFyIGxvZyA9IE1haW4uay5VcGRhdGVEYXRhLmNoYW5nZWxvZ1tpXTsKCQkJbWFqX2NvbnRlbnQgKz0gIjxsaT4iK2xvZysiPC9saT4iOwoJCX0KCQltYWpfY29udGVudCArPSAiPC91bD4iOwoKCQkvLyBGaWxsIHBvcHVwIGNvbnRlbnQKCQl2YXIgY29udGVudCA9ICI8ZGl2IGNsYXNzPSd1cGRhdGVzY29udGVudCc+IiArIG1hal9jb250ZW50ICsgIjwvZGl2PiI7CgkJdmFyIG9rID0gIjxkaXYgY2xhc3M9J3VwZGF0ZXNhY3Rpb25zJz48ZGl2IGlkPVwib2tcIiBjbGFzcz1cImJ1dCB1cGRhdGVzYnRuXCIgPjxkaXYgY2xhc3M9XCJidXRyaWdodFwiPjxkaXYgY2xhc3M9XCJidXRiZ1wiPjxhIG9uY2xpY2s9XCIkKCcjZmluYWwnKS5zaG93KCk7XCIgaHJlZj1cIiIrb2tIcmVmKyJcIj4iK01haW4uay50ZXh0LmdldHRleHQoIk1ldHRyZSDDoCBqb3VyIikrIjwvYT48L2Rpdj48L2Rpdj48L2Rpdj4iOwoJCXZhciBjYW5jZWxBYyA9ICInTWFpbi5rLkNsb3NlUG9wdXAoKTsnIjsKCQl2YXIgY2FuY2VsID0gIjxkaXYgaWQ9XCJjYW5jZWxcIiBjbGFzcz1cImJ1dCB1cGRhdGVzYnRuXCIgb25jbGljaz0iICsgY2FuY2VsQWMgKyAiPjxkaXYgY2xhc3M9XCJidXRyaWdodFwiPjxkaXYgY2xhc3M9XCJidXRiZ1wiPjxhIGhyZWY9XCIjXCI+IiArIE1haW4uZ2V0VGV4dCgiY2FuY2VsIikgKyAiPC9hPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiI7CgkJdmFyIGZpbmFsaXNhdGlvbiA9ICc8ZGl2IGlkPSJmaW5hbCIgY2xhc3M9InVwZGF0ZXNhY3Rpb25zIiBzdHlsZT0iZGlzcGxheTpub25lIj48ZGl2PjxzdHJvbmc+JytNYWluLmsudGV4dC5nZXR0ZXh0KCJQb3VyIGZpbmFsaXNlciBsYSBtaXNlIMOgIGpvdXIsIGFwcsOocyBhdm9pciBpbnN0YWxsw6kgbGUgc2NyaXB0LCB2ZXVpbGxleiBjbGlxdWVyIHN1ciBsZSBib3V0b24gY2ktZGVzc291cy4iKSsnPC9zdHJvbmc+PC9kaXY+PGRpdiBjbGFzcz0iYnV0IHVwZGF0ZXNidG4iIG9uY2xpY2s9Ik1haW4uay5DbG9zZVBvcHVwKCk7d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyI+PGRpdiBjbGFzcz0iYnV0cmlnaHQiPjxkaXYgY2xhc3M9ImJ1dGJnIj48YSBocmVmPSIjIj4nK01haW4uay50ZXh0LmdldHRleHQoIkZpbmFsaXNlciBsYSBtaXNlIMOgIGpvdXIiKSsnPC9hPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7CgkJJCgiPGRpdj4iKS5odG1sKGNvbnRlbnQgKyBvayArIGNhbmNlbCArIGZpbmFsaXNhdGlvbikuYXBwZW5kVG8ocG9wdXAuY29udGVudCk7CgoJCS8vIERpc3BsYXkgcG9wdXAKCQlNYWluLmsuT3BlblBvcHVwKHBvcHVwLmRvbSk7Cgl9OwoJTWFpbi5rLkF1dG9VcGRhdGVEaWFsb2cgPSBmdW5jdGlvbigpIHsKCQkvLyBDcmVhdGUgcG9wdXAKCQl2YXIgcG9wdXAgPSBNYWluLmsuQ3JlYXRlUG9wdXAoKTsKCQlwb3B1cC5jb250ZW50LmNzcyh7CgkJCSJoZWlnaHQiOiAiYXV0byIsCgkJCSJtYXgtaGVpZ2h0IjogIjkwJSIsCgkJCSJ3aWR0aCI6ICI2MDBweCIsCgkJCSJjb2xvciI6ICIjRkZGIgoJCX0pOwoKCQkvL2NvbmYudGl0bGUgPSAiTWlzZSDDoCBqb3VyIGR1IHNjcmlwdCBDVFJMK1ciOwoJCXZhciBtYWpfY29udGVudCA9IE1haW4uay50ZXh0LnN0cmFyZ3MoTWFpbi5rLnRleHQuZ2V0dGV4dCgiRGVybmnDqHJlIHZlcnNpb24gZGUgQ1RSTCtXIGluc3RhbGzDqWUgKCUxKSA6IiksIFtHTV9pbmZvLnNjcmlwdC52ZXJzaW9uXSk7CgkJbWFqX2NvbnRlbnQgKz0gIiA8YnIvPiA8dWwgY2xhc3M9J3VwZGF0ZXNsaXN0Jz4iOwoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuVXBkYXRlRGF0YS5jaGFuZ2Vsb2cubGVuZ3RoOyBpKyspIHsKCQkJdmFyIGxvZyA9IE1haW4uay5VcGRhdGVEYXRhLmNoYW5nZWxvZ1tpXTsKCQkJbWFqX2NvbnRlbnQgKz0gIjxsaT4iK2xvZysiPC9saT4iOwoJCX0KCQltYWpfY29udGVudCArPSAiPC91bD4iOwoKCQkvLyBGaWxsIHBvcHVwIGNvbnRlbnQKCQl2YXIgY29udGVudCA9ICI8ZGl2IGNsYXNzPSd1cGRhdGVzY29udGVudCc+IiArIG1hal9jb250ZW50ICsgIjwvZGl2PiI7CgkJdmFyIG9rID0gIjxkaXYgY2xhc3M9J3VwZGF0ZXNhY3Rpb25zJz48ZGl2IGlkPVwib2tcIiBjbGFzcz1cImJ1dCB1cGRhdGVzYnRuXCIgPjxkaXYgY2xhc3M9XCJidXRyaWdodFwiPjxkaXYgY2xhc3M9XCJidXRiZ1wiPjxhIG9uY2xpY2s9XCJNYWluLmsuQ2xvc2VQb3B1cCgpO1wiIGhyZWY9XCIjXCI+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJUcsOocyBiaWVuLCBtZXJjaSAhIikrIjwvYT48L2Rpdj48L2Rpdj48L2Rpdj4iOwoJCSQoIjxkaXY+IikuaHRtbChjb250ZW50ICsgb2spLmFwcGVuZFRvKHBvcHVwLmNvbnRlbnQpOwoKCQkvLyBEaXNwbGF5IHBvcHVwCgkJTWFpbi5rLk9wZW5Qb3B1cChwb3B1cC5kb20pOwoJfTsKCU1haW4uay5DT01QTEVURV9TVVJOQU1FID0gZnVuY3Rpb24obikgeyByZXR1cm4gbi5yZXBsYWNlKCJfIiwgIiAiKS5jYXBpdGFsaXplKCk7IH07CglNYWluLmsuTG9hZEpTID0gZnVuY3Rpb24odXJsLCBwYXJhbXMsIGFmdGVyKSB7CgkJdmFyIHMgPSBqcy5MaWIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CgkJcy5hc3luYyA9IHRydWU7CgkJdmFyIHAgPSBSZWZsZWN0LmNvcHkocGFyYW1zKTsKCQlwLmpzbSA9ICIxIjsKCQlwLmxhbmcgPSAiRlIiOwoJCXMuc3JjID0gX3RpZC5tYWtlVXJsKHVybCxjbG9uZUludG8ocCx1bnNhZmVXaW5kb3cpKTsKCQlpZiAoYWZ0ZXIgIT0gbnVsbCkgcy5vbmxvYWQgPSBhZnRlcjsKCQlqcy5MaWIuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKCX07CglNYWluLmsucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbihrLCBtc2csIGFmdGVyKSB7CgkJLy8gU2F2ZSBtc2cKCQl2YXIgc3RWYWwgPSBTdHJpbmdUb29scy51cmxFbmNvZGUobXNnKTsKCQlqcy5Db29raWUuc2V0KCJsYXN0c2VudG1zZyIsIHN0VmFsKTsKCQlNYWluLmsuZGlzcGxheUxhc3RTZW50KHRydWUpOwoKCQl2YXIgc2VuZENoYXRQcm9jID0gZnVuY3Rpb24oKSB7CgkJCU1haW4ucmVzZXRKcygpOwoKCQkJLy8gTWVzc2FnZSBzZW50CgkJCU1haW4uay5kaXNwbGF5TGFzdFNlbnQoZmFsc2UpOwoJCQlpZiAoYWZ0ZXIpIGFmdGVyKCk7CgkJfTsKCgkJdmFyIHVwZHRBcnIgPSBbImNkVGFic0NoYXQiLCJjaGF0QmxvY2siLCJjaGFyX2NvbCJdOwoJCXZhciB1cmwgPSAiL3dhbGxSZXBseT9rPSIgKyBrICsgIiZtc2c9IiArIHN0VmFsOwoJCU1haW4udXBkYXRlQ29udGVudCh1cmwsdXBkdEFycixudWxsLHNlbmRDaGF0UHJvYyk7Cgl9OwoJTWFpbi5rLm5ld1RvcGljID0gZnVuY3Rpb24obXNnLCBhZnRlcikgewoJCS8vIFNhdmUgbXNnCgkJdmFyIHN0VmFsID0gU3RyaW5nVG9vbHMudXJsRW5jb2RlKG1zZyk7CgkJanMuQ29va2llLnNldCgibGFzdHNlbnRtc2ciLCBzdFZhbCk7CgkJTWFpbi5rLmRpc3BsYXlMYXN0U2VudCh0cnVlKTsKCgkJdmFyIHNlbmRDaGF0UHJvYyA9IGZ1bmN0aW9uKCkgewoJCQlNYWluLnJlc2V0SnMoKTsKCgkJCS8vIE1lc3NhZ2Ugc2VudAoJCQlNYWluLmsuZGlzcGxheUxhc3RTZW50KGZhbHNlKTsKCQkJaWYgKGFmdGVyKSBhZnRlcigpOwoJCX07CgoJCXZhciB1cGR0QXJyID0gWyJjZFRhYnNDaGF0IiwiY2hhdEJsb2NrIiwiY2hhcl9jb2wiXTsKCQl2YXIgdXJsID0gIi9uZXdXYWxsVGhyZWFkP21lc3NhZ2U9IiArIHN0VmFsOwoJCU1haW4udXBkYXRlQ29udGVudCh1cmwsdXBkdEFycixudWxsLHNlbmRDaGF0UHJvYyk7Cgl9OwoJTWFpbi5rLmRpc3BsYXlMYXN0U2VudCA9IGZ1bmN0aW9uKHNob3cpIHsKCQl2YXIgYnRuID0gJCgiI2xhc3RzZW50bXNnIik7CgkJaWYgKHNob3cpIHsKCQkJYnRuLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCQl2YXIgY29vayA9IGpzLkNvb2tpZS5nZXQoImxhc3RzZW50bXNnIik7CgkJfSBlbHNlIHsKCQkJYnRuLmNzcygiZGlzcGxheSIsICJub25lIik7CgkJCWpzLkNvb2tpZS5zZXQoImxhc3RzZW50bXNnIiwgIiIpOwoJCX0KCX07CgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCU1haW4uay5Gb3JtYXRJbnZlbnRvcnkgPSBmdW5jdGlvbigpIHsKCQkvLyBSb29tIG5hbWUKCQl2YXIgaW52ID0gIioqIiArICQoIiNpbnB1dCIpLmF0dHIoImRfbmFtZSIpICsgIiA6KiogIjsKCgkJLy8gT2JqZWN0cwoJCXZhciBvYmplY3RzID0gJCgiI3Jvb20iKS5jbG9uZSgpOwoJCW9iamVjdHMuZmluZCgiLmNkRW1wdHlTbG90IikucmVtb3ZlKCk7CgkJdmFyIGZpcnN0ID0gdHJ1ZTsKCQlvYmplY3RzLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbihpKSB7CgkJCS8vIElnbm9yZSBoaWRkZW4gb2JqZWN0cwoJCQlpZiAoJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKS5pbmRleE9mKCIvaW1nL2ljb25zL3VpL2hpZGRlbi5wbmciKSAhPSAtMSkgcmV0dXJuOwoJCQl2YXIgbmFtZSA9ICQodGhpcykuYXR0cigiZGF0YS1uYW1lIik7CgoJCQkvLyBJZ25vcmUgcGVyc29uYWwgb2JqZWN0cwoJCQl2YXIgcGVyc28gPSBbIml0cmFraWUiLCJpdHJhY2tpZSIsICJ0YWxraWUiLCAid2Fsa2llIiwgInRyYXF1ZXVyIiwgInRyYWNrZXIiXTsgLy8gVE9ETzogYWRkIG90aGVyIHRyYW5zbGF0aW9ucyAoaXRyYWNraWUgZXhpc3RzIG9yIGl0J3MgYSBtaXN0YWtlID8pCgkJCWZvciAodmFyIGEgPSAwIDsgYSA8IHBlcnNvLmxlbmd0aCA7IGErKykgaWYgKG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHBlcnNvW2FdLnRvTG93ZXJDYXNlKCkpICE9IC0xKSByZXR1cm47CgoJCQkvLyBIYW5kbGUgYnJva2VuIG9iamVjdHMKCQkJdmFyIGJyb2tlbiA9IChuYW1lLmluZGV4T2YoIi9pbWcvaWNvbnMvdWkvYnJva2VuLnBuZyIpID4gLTEpOwoKCQkJLy8gUmVtb3ZlIGltZyBmcm9tIGRlc2MKCQkJbmFtZSA9IG5hbWUucmVwbGFjZSgvKDxpbWcuK1wvPikvaWcsICIiKS50cmltKCk7CgoJCQkvLyBIYW5kbGUgbWFnZSBib29rcwoJCQlpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09IE1haW4uay50ZXh0LmdldHRleHQoImFwcHJlbnRyb24iKSkgewoJCQkJbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudCgvbmFtZXlbMC05XSs6KC4rKWckLy5leGVjKCQodGhpcykuYXR0cigiZGF0YS10aXAiKSlbMV0pLnJlcGxhY2UoLyhcc1xzKS8sICIgIik7CgkJCX0KCgkJCS8vIEhhbmRsZSBxdWFudGl0eQoJCQl2YXIgcXR5ID0gIiI7CgkJCWlmICgkKHRoaXMpLmZpbmQoIi5xdHkiKS5nZXQoMCkpIHsKCQkJCXF0eSA9ICIgeCIgKyAkKHRoaXMpLmZpbmQoIi5xdHkiKS5odG1sKCkudHJpbSgpOwoJCQl9CgoJCQkvLyBIYW5kbGUgbG9hZHMKCQkJdmFyIHJlZyA9IC94KFswLTldKykkLzsKCQkJaWYgKHJlZy50ZXN0KG5hbWUpKSBuYW1lICs9ICIgIiArIE1haW4uay50ZXh0LmdldHRleHQoImNoYXJnZXMiKTsKCgkJCWlmICghZmlyc3QpIGludiArPSAiLCAiOwoJCQlpbnYgKz0gIi8vIiArIG5hbWUgKyAiLy8iICsgcXR5OwoJCQlpZiAoYnJva2VuKSBpbnYgKz0gIiA6YWxlcnQ6IjsKCQkJZmlyc3QgPSBmYWxzZTsKCQl9KTsKCQlpZiAoZmlyc3QpIGludiArPSAiLy8iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgidmlkZSIpICsgIi8vIjsKCgkJLy8gQ2FtZXJhIC8gRHJvbmUKCQl2YXIgbmNhbWVyYSA9IDA7CgkJdmFyIG5kcm9uZXMgPSAwOwoJCXZhciAkaXQgPSBNYWluLml0ZW1zLml0ZXJhdG9yKCk7CgkJd2hpbGUoICRpdC5oYXNOZXh0KCkgKSB7CgkJCS8qKiBAdHlwZSB7e2lpZDpzdHJpbmd9fSAqKi8KCQkJdmFyIGl0ZW0gPSAkaXQubmV4dCgpOwoJCQlpZiAoaXRlbS5paWQgPT0gIkNBTUVSQSIpIG5jYW1lcmErKzsKCQkJZWxzZSBpZiAoaXRlbS5paWQgPT0gIkhFTFBfRFJPTkUiKSBuZHJvbmVzKys7CgkJfQoJCWlmIChuY2FtZXJhIHx8IG5kcm9uZXMpIGludiArPSAiIFsiOwoJCWlmIChuY2FtZXJhKSBpbnYgKz0gbmNhbWVyYSArICIgIiArIE1haW4uay50ZXh0LmdldHRleHQoImNhbcOpcmEiKSArIChuY2FtZXJhICE9IDEgPyAicyIgOiAiIik7CgkJaWYgKG5jYW1lcmEgJiYgbmRyb25lcykgaW52ICs9ICIgLSAiOwoJCWlmIChuZHJvbmVzKSBpbnYgKz0gbmRyb25lcyArICIgIiArIE1haW4uay50ZXh0LmdldHRleHQoImRyb25lIikgKyAobmRyb25lcyAhPSAxID8gInMiIDogIiIpOwoJCWlmIChuY2FtZXJhIHx8IG5kcm9uZXMpIGludiArPSAiXSI7CgoJCXJldHVybiBpbnY7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglNYWluLmsuRm9ybWF0UGxhbnRzID0gZnVuY3Rpb24oKSB7CgkJdmFyIHJldCA9ICIqKi8vIiArIE1haW4uay50ZXh0LmdldHRleHQoInBsYW50ZXMiKS5jYXBpdGFsaXplKCkgKyAiIDogLy8qKiI7CgoJCSQoIiNyb29tIikuZmluZCgiW2RhdGEtaWQ9J1RSRUVfUE9UJ10iKS5lYWNoKGZ1bmN0aW9uKGkpIHsKCQkJdmFyIG5hbWUgPSAvXihbXjxdKykvLmV4ZWMoJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKSlbMV0udHJpbSgpOwoJCQl2YXIgZGlzZWFzZWQgPSAoJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKS5pbmRleE9mKCJwbGFudF9kaXNlYXNlZCIpICE9IC0xKTsKCQkJdmFyIHRoaXJzdHkgPSAoJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKS5pbmRleE9mKCJwbGFudF90aGlyc3R5IikgIT0gLTEpOwoJCQl2YXIgZHJ5ID0gKCQodGhpcykuYXR0cigiZGF0YS1uYW1lIikuaW5kZXhPZigicGxhbnRfZHJ5IikgIT0gLTEpOwoJCQl2YXIgYWR1bHQgPSB0cnVlOyAvLyBUT0RPCgoJCQlyZXQgKz0gIlxuLSAvLy8vKioiICsgbmFtZSArICIqKiAiOwoJCQkvL3JldCArPSBhZHVsdCA/ICIobWF0dXJlKSIgOiAiKFggY3ljbGVzKSI7CgkJCXJldCArPSAiIC0gIjsKCgkJCXZhciBwcm9ibGVtcyA9IFtdOwoJCQlpZiAoZGlzZWFzZWQpIHByb2JsZW1zLnB1c2goIi8vIiArIE1haW4uay50ZXh0LmdldHRleHQoIm1hbGFkZSIpLmNhcGl0YWxpemUoKSArICIvLyIpOwoJCQlpZiAodGhpcnN0eSkgcHJvYmxlbXMucHVzaCgiLy8iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgic29pZiIpLmNhcGl0YWxpemUoKSArICIvLyIpOwoJCQlpZiAoZHJ5KSBwcm9ibGVtcy5wdXNoKCIvLyIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJkZXNzw6ljaMOpIikuY2FwaXRhbGl6ZSgpICsgIi8vIik7CgkJCWlmKHByb2JsZW1zLmxlbmd0aCA9PSAwKSBwcm9ibGVtcy5wdXNoKCIvLyIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJSQVMiKS5jYXBpdGFsaXplKCkgKyAiLy8iKTsKCgkJCXJldCArPSBwcm9ibGVtcy5qb2luKCk7CgoJCX0pOwoKCQlyZXR1cm4gcmV0OwoJfTsKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJTWFpbi5rLkZvcm1hdFByb2plY3RzID0gZnVuY3Rpb24oKSB7Ly9UT0RPOiBNVUxUSUxBTkcKCQl2YXIgcmV0ID0gIioqLy8iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUHJvamV0cyIpICsgIiA6IC8vKioiOwoKCQl2YXIgcGFyc2UgPSBmdW5jdGlvbih0KSB7CgkJCXQgPSB0LnJlcGxhY2UoLzxpbWdccytzcmM9XCJcL2ltZ1wvaWNvbnNcL3VpXC9wYV9zbG90MS5wbmdcIltcL1xzXSo+L2lnLCAiOnBhOiIpOwoJCQl0ID0gdC5yZXBsYWNlKC8mbmJzcDsvaWcsICIgIik7CgkJCXQgPSB0LnJlcGxhY2UoL1xuL2lnLCAiIik7CgkJCXQgPSB0LnJlcGxhY2UoLzxwPi9pZywgIiAiKTsKCQkJdCA9IHQucmVwbGFjZSgvPFwvP1tePl0rPi9nLCAiIik7CgkJCXJldHVybiB0OwoJCX07CgoJCSQoIiNjZE1vZHVsZUNvbnRlbnQiKS5maW5kKCJ1bC5kZXYgbGkuY2RQcm9qQ2FyZCIpLmVhY2goZnVuY3Rpb24oaSkgewoJCQl2YXIgbmFtZSA9ICQodGhpcykuZmluZCgiaDMiKS5odG1sKCkudHJpbSgpOwoJCQl2YXIgcGN0ID0gJCh0aGlzKS5maW5kKCJzcGFuIikuaHRtbCgpLnRyaW0oKTsKCQkJdmFyIGRlc2MgPSBwYXJzZSgkKHRoaXMpLmZpbmQoImRpdi5kZXNjIikuaHRtbCgpLnRyaW0oKSk7CgkJCXZhciBib251czEgPSAvPGgxPihbXjxdKyk8XC9oMT4vLmV4ZWMoJCh0aGlzKS5maW5kKCJkaXYuc3VnZ2VzdHByb2dyZXNzIHVsIGxpIGltZyIpLmZpcnN0KCkuYXR0cigib25tb3VzZW92ZXIiKSlbMV0udHJpbSgpOwoJCQl2YXIgYm9udXMyID0gLzxoMT4oW148XSspPFwvaDE+Ly5leGVjKCQodGhpcykuZmluZCgiZGl2LnN1Z2dlc3Rwcm9ncmVzcyB1bCBsaSBpbWciKS5sYXN0KCkuYXR0cigib25tb3VzZW92ZXIiKSlbMV0udHJpbSgpOwoKCQkJcmV0ICs9ICJcbioqIiArIG5hbWUgKyAiKiogLSAiICsgcGN0ICsgIlxuIjsKCQkJcmV0ICs9ICIiICsgZGVzYyArICJcbiI7CgkJCXJldCArPSAiQm9udXMgOiAvLyIgKyBib251czEgKyAiLy8sIC8vIiArIGJvbnVzMiArICIvLyI7CgkJfSk7CgoJCXJldHVybiByZXQ7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZzsKCSAqLwoJTWFpbi5rLkZvcm1hdFJlc2VhcmNoID0gZnVuY3Rpb24oc2hvcnQpIHsKCQl2YXIgcmV0ID0gIioqLy8iK01haW4uay50ZXh0LmdldHRleHQoIlJlY2hlcmNoZXMiKSsiIDogLy8qKiI7CgoJCXZhciBwYXJzZSA9IGZ1bmN0aW9uKHQpIHsKCQkJdCA9IHQucmVwbGFjZSgvPGltZ1xzK3NyYz1cIlwvaW1nXC9pY29uc1wvdWlcL3RyaXVtcGgucG5nXCJccythbHQ9XCJ0cmlvbXBoZVwiW1wvXHNdKj4vaWcsICI6bXVzaF90cml1bXBoOiIpOwoJCQl0ID0gdC5yZXBsYWNlKC8mbmJzcDsvaWcsICIgIik7CgkJCXQgPSB0LnJlcGxhY2UoL1xuL2lnLCAiIik7CgkJCXQgPSB0LnJlcGxhY2UoLzxwPi9pZywgIiAiKTsKCQkJdCA9IHQucmVwbGFjZSgvPFwvP1tePl0rPi9nLCAiIik7CgkJCXJldHVybiB0OwoJCX07CgoJCSQoIiNjZE1vZHVsZUNvbnRlbnQiKS5maW5kKCJ1bC5kZXYgbGkuY2RQcm9qQ2FyZCIpLmVhY2goZnVuY3Rpb24oaSkgewoJCQl2YXIgcGN0ID0gJCh0aGlzKS5maW5kKCJzcGFuIikuaHRtbCgpLnRyaW0oKQoJCQlpZihwYXJzZUludChwY3QpID09IDApewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQkJdmFyIGgzID0gJCh0aGlzKS5maW5kKCJoMyIpLmNsb25lKCk7CgkJCWgzLmZpbmQoImVtIikucmVtb3ZlKCk7CgkJCXZhciBuYW1lID0gcGFyc2UoaDMuaHRtbCgpLnRyaW0oKSk7CgkJCXZhciBkZXNjID0gcGFyc2UoJCh0aGlzKS5maW5kKCJkaXYuZGVzYyIpLmh0bWwoKS50cmltKCkpOwoJCQl2YXIgYm9udXMxID0gLzxzdHJvbmc+KFtePF0rKTxcL3N0cm9uZz4vLmV4ZWMoJCh0aGlzKS5maW5kKCJkaXYuc3VnZ2VzdHByb2dyZXNzIHVsIGxpIGltZyIpLmZpcnN0KCkuYXR0cigib25tb3VzZW92ZXIiKSlbMV0udHJpbSgpLnJlcGxhY2UoIk3DqWRlw6dpbiIsICJNw6lkZWNpbiIpOwoJCQl2YXIgYm9udXMyID0gLzxzdHJvbmc+KFtePF0rKTxcL3N0cm9uZz4vLmV4ZWMoJCh0aGlzKS5maW5kKCJkaXYuc3VnZ2VzdHByb2dyZXNzIHVsIGxpIGltZyIpLmxhc3QoKS5hdHRyKCJvbm1vdXNlb3ZlciIpKVsxXS50cmltKCkucmVwbGFjZSgiTcOpZGXDp2luIiwgIk3DqWRlY2luIik7CgkJCXJldCArPSAiXG4qKiIgKyBuYW1lICsgIioqIC0gIiArIHBjdDsKCQkJaWYodHlwZW9mKHNob3J0KSA9PSAndW5kZWZpbmVkJyB8fCAgc2hvcnQgIT0gdHJ1ZSApIHsKCQkJCXJldCArPSAiXG4iICsgZGVzYyArICJcbiI7CgkJCQlyZXQgKz0gIkJvbnVzIDogLy8iICsgYm9udXMxICsgIi8vLCAvLyIgKyBib251czIgKyAiLy8iOwoJCQl9CgkJfSk7CgoJCXJldHVybiByZXQ7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZzsKCSAqLwoJTWFpbi5rLkZvcm1hdFBsYW5ldHMgPSBmdW5jdGlvbihpbmRleCkgey8vVE9ETzogTVVMVElMQU5HCgkJdmFyIHJldCA9ICIqKi8vIitNYWluLmsudGV4dC5nZXR0ZXh0KCJQbGFuw6h0ZXMiKSsiIDogLy8qKiI7CgoJCXZhciBwYXJzZSA9IGZ1bmN0aW9uKHQpIHsKCQkJdCA9IHQucmVwbGFjZSgvPGltZ1xzK3NyYz1cIlwvaW1nXC9pY29uc1wvdWlcL3RyaXVtcGgucG5nXCJccythbHQ9XCJ0cmlvbXBoZVwiW1wvXHNdKj4vaWcsICI6bXVzaF90cml1bXBoOiIpOwoJCQl0ID0gdC5yZXBsYWNlKC8mbmJzcDsvaWcsICIgIik7CgkJCXQgPSB0LnJlcGxhY2UoL1xuL2lnLCAiIik7CgkJCXQgPSB0LnJlcGxhY2UoLzxwPi9pZywgIiAiKTsKCQkJdCA9IHQucmVwbGFjZSgvPFwvP1tePl0rPi9nLCAiIik7CgkJCXJldHVybiB0OwoJCX07CgoJCSQoIiNuYXZNb2R1bGUiKS5maW5kKCIucGxhbmV0Iikubm90KCIucGxhbmV0b2ZmIikuZWFjaChmdW5jdGlvbihpKSB7CgkJCWlmKGluZGV4ICE9IG51bGwgJiYgaSAhPSBpbmRleCl7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCQkvLyBOYW1lICsgUGxhbmV0IGltZwoJCQl2YXIgbmFtZSA9ICQodGhpcykuZmluZCgiaDMiKS5odG1sKCkudHJpbSgpOwoJCQl2YXIgaW1nID0gJCh0aGlzKS5maW5kKCJpbWcucHJldmltZyIpLmF0dHIoInNyYyIpOwoKCQkJLy8gRGlzdGFuY2UgJiBmdWVsCgkJCXZhciBkaXIsIGRpc3Q7CgkJCXZhciBwbGxpc3QgPSAkKHRoaXMpLmZpbmQoInVsLnBsbGlzdCBsaSIpOwoJCQlpZiAocGxsaXN0Lmxlbmd0aCA+IDApIHsKCQkJCXZhciByZWdleCA9IG5ldyBSZWdFeHAoTWFpbi5rLnRleHQuZ2V0dGV4dCgnKE5vcmR8RXN0fE91ZXN0fFN1ZCknKSk7CgkJCQlkaXIgPSByZWdleC5leGVjKHBsbGlzdC5lcSgtMikuaHRtbCgpKVsxXTsKCQkJCWRpc3QgPSAvKFswLTldKykvLmV4ZWMocGxsaXN0Lmxhc3QoKS5odG1sKCkpWzFdOwoJCQl9CgoJCQkvLyBDYXNlcwoJCQl2YXIgbmJjYXNlcyA9ICQodGhpcykuZmluZCgidGQgaW1nLmV4cGxUYWciKS5sZW5ndGg7CgkJCXZhciBjYXNlcyA9IFtdOwoJCQl2YXIgY2FzZW5hbWVyZWcgPSAvPGgxPihbXjxdKyk8XC9oMT4vOwoJCQkkKHRoaXMpLmZpbmQoInRkIGltZy5leHBsVGFnLm9uIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCWNhc2VzLnB1c2goY2FzZW5hbWVyZWcuZXhlYygkKHRoaXMpLmF0dHIoIm9ubW91c2VvdmVyIikpWzFdKTsKCQkJfSk7CgoJCQkvLyBQcmludCBwbGFuZXQKCQkJcmV0ICs9ICJcbioqIiArIG5hbWUgKyAiKiogKCIgKyBuYmNhc2VzICsgJyAnICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgnY2FzZXMnKSArICIpXG4iOwoJCQlpZiAoZGlzdCAmJiBkaXIpIHJldCArPSAiLy8iICsgZGlyICsgIiAtICIgKyBkaXN0ICsgIiA6bXVzaF9mdWVsOioqKiovL1xuIjsKCQkJcmV0ICs9IGNhc2VzLmpvaW4oIiwgIik7CgkJfSk7CgoJCXJldHVybiByZXQ7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZzsKCSAqLwoJTWFpbi5rLkZvcm1hdEJJT1MgPSBmdW5jdGlvbigpIHsvL1RPRE86IE1VTFRJTEFORwoJCXZhciByZXQgPSAiLy8qKiIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCdQYXJhbcOodHJlcyBCSU9TOicpICsgIioqLy8iOwoKCQkkKCcjYmlvc01vZHVsZScpLmZpbmQoJ3VsLmRldiBsaScpLmVhY2goZnVuY3Rpb24oKSB7CgkJCXZhciBiaW9zUGFyYW0gPSAkKHRoaXMpOwoJCQlyZXQgKz0gIlxuKioiICsgJCh0aGlzKS5jaGlsZHJlbigiaDM6Zmlyc3QiKS50ZXh0KCkudHJpbSgpICsgIioqIDogIjsKCQkJcmV0ICs9ICQodGhpcykuZmluZCgiaW5wdXRbY2hlY2tlZD0nY2hlY2tlZCddIikuc2libGluZ3MoImxhYmVsIikudGV4dCgpOwoJCX0pOwoKCQlyZXR1cm4gcmV0OwoJfTsKCS8qKgoJICogQHJldHVybiBzdHJpbmc7CgkgKi8KCU1haW4uay5Gb3JtYXRDb21tID0gZnVuY3Rpb24oKXsKCQl2YXIgY29tbSA9ICIvLyoqIiArIE1haW4uay50ZXh0LmdldHRleHQoJ0NvbW11bmljYXRpb25zOicpICsgIioqLy8iOwoKCQl2YXIgcGFyc2UgPSBmdW5jdGlvbih0KSB7CgkJCXQgPSB0LnJlcGxhY2UoLzxpbWdccytzcmM9XCJcL2ltZ1wvaWNvbnNcL3VpXC90cml1bXBoLnBuZ1wiXHMrYWx0PVwidHJpb21waGVcIltcL1xzXSo+L2lnLCAiOm11c2hfdHJpdW1waDoiKTsKCQkJdCA9IHQucmVwbGFjZSgvJm5ic3A7L2lnLCAiICIpOwoJCQl0ID0gdC5yZXBsYWNlKC9cbi9pZywgIiIpOwoJCQl0ID0gdC5yZXBsYWNlKC88cD4vaWcsICIgIik7CgkJCXQgPSB0LnJlcGxhY2UoLzxcLz9bXj5dKz4vZywgIiIpOwoJCQlyZXR1cm4gdDsKCQl9OwoJCXZhciAkdHJhY2tlck1vZHVsZSA9ICQoJyN0cmFja2VyTW9kdWxlJyk7CgkJJHRyYWNrZXJNb2R1bGUuZmluZCgnLnNlbnNvcnMnKS5lYWNoKGZ1bmN0aW9uKCkgewoKCQkJdmFyIGJkZCA9ICQodGhpcykuZmluZCgiaDIiKS5odG1sKCkudHJpbSgpOwoJCQljb21tICs9ICJcbi8vIiArIGJkZCArICIvLzogIjsKCQkJdmFyIGRhdGEgPSBbXTsKCQkJJCh0aGlzKS5maW5kKCJwIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCWRhdGEucHVzaCgkKHRoaXMpLmZpbmQoImVtIikuaHRtbCgpKTsKCQkJfSk7CgoJCQlpZiAoZGF0YS5sZW5ndGggPCAyKXsKCQkJCWRhdGEucHVzaCgnIDphbGVydDonKTsKCQkJfWVsc2V7CgkJCQlkYXRhLnBvcCgpOwoJCQkJZGF0YS5wdXNoKCcgOmNvbTonKTsKCQkJfQoJCQljb21tICs9IGRhdGEuam9pbigiIik7CgkJfSk7CgoJCSR0cmFja2VyTW9kdWxlLmZpbmQoJy5uZXJvbicpLmVhY2goZnVuY3Rpb24oKSB7CgoJCQl2YXIgdmVyc2lvbiA9ICQodGhpcykuZmluZCgiaDIiKS5odG1sKCkudHJpbSgpOwoJCQljb21tICs9ICJcbi8vIiArIHZlcnNpb24gKyAiLy9cbiI7CgoJCX0pOwoJCSR0cmFja2VyTW9kdWxlLmZpbmQoJy54eWxvcGgnKS5lYWNoKGZ1bmN0aW9uKCkgewoKCQkJdmFyIGJkZCA9ICQodGhpcykuZmluZCgiaDIiKS5odG1sKCkudHJpbSgpOwoJCQl2YXIgbmJyID0gMDsKCQkJdmFyIGRhdGEgPSBbXTsKCQkJdmFyIGRhdGFuYW1lcmVnID0gLzxoMT4oW148XSspPFwvaDE+LzsKCQkJJCh0aGlzKS5maW5kKCJsaSIpLm5vdCgiLnVuZG9uZSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQluYnIgKz0gMTsKCQkJCWRhdGEucHVzaChkYXRhbmFtZXJlZy5leGVjKCQodGhpcykuYXR0cigib25tb3VzZW92ZXIiKSlbMV0ucmVwbGFjZSgnXFwnLCcnKSk7CgkJCX0pOwoKCQkJaWYgKG5iciA9PSAxMil7CgkJCQljb21tICs9ICIvLyIgKyBiZGQgKyAiLy86ICI7CgkJCQljb21tICs9IG5iciArICIvMTJcbiI7CgkJCX0KCQkJZWxzZXsKCQkJCWlmIChuYnIgPjApewoJCQkJCWNvbW0gKz0gIi8vIiArIGJkZCArICIvLzogIjsKCQkJCQljb21tICs9IG5iciArICIvMTIiKyJcbiDilrYgKioiKyBkYXRhLmpvaW4oIioqIFxuIOKWtiAqKiIpKyIqKlxuIjsKCQkJCX0KCQkJfQoKCgoJCX0pOwoKCQkkdHJhY2tlck1vZHVsZS5maW5kKCcubmV0d29yayAuYmFzZXMnKS5lYWNoKGZ1bmN0aW9uKCkgewoKCQkJdmFyIGJhc2UgPSAiLy8iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgnRMOpY29kYWdlOiAnKSArICIvLyI7CgkJCXZhciBiYXNlX2RlY29kZTsKCQkJJCh0aGlzKS5maW5kKCJsaSIpLmVhY2goZnVuY3Rpb24oKXsKCgkJCQliYXNlX2RlY29kZSA9ICQodGhpcykuYXR0cigiZGF0YS1pZCIpOwoJCQkJJCh0aGlzKS5maW5kKCIucGVyY2VudCIpLm5vdCgiLm9mZiIpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQliYXNlICs9IGJhc2VfZGVjb2RlKyAi4pa6ICIgKyAkKHRoaXMpLmh0bWwoKS50cmltKCk7CgkJCQl9KTsKCQkJfSk7CgoJCQlpZiAoYmFzZSAhPSAiLy8iICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgnRMOpY29kYWdlOiAnKSArICIvLyIpewoJCQkJY29tbSArPSBiYXNlICsiXG4iOwoJCQl9CgoJCQl2YXIgYmFzZV9maW5pID0gIi8vIiArIE1haW4uay50ZXh0LmdldHRleHQoJ0Jhc2UocykgZMOpY29kw6llKHMpOiAnKSArICIvLyI7CgkJCXZhciBfYmFzZSA9IiI7CgkJCXZhciBiYXNlX3NpZ25hbF9wZXJkdSA9ICIvLyIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCdCYXNlKHMpIHBlcmR1ZShzKTogJykgKyAiLy8iOwoJCQl2YXIgYmFzZV9ub20gPSAiIjsKCQkJdmFyIG5icl9iYXNlX3BlcmR1ID0gMDsKCgkJCSQodGhpcykuZmluZCgibGkiKS5lYWNoKGZ1bmN0aW9uKCl7CgoJCQkJYmFzZV9ub20gPSAkKHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCSQodGhpcykuZmluZCgiaDMiKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJaWYgKCgkKHRoaXMpLmh0bWwoKS50cmltKCkpICE9ICI/Pz8iICYmICgkKHRoaXMpLmh0bWwoKS50cmltKCkpICE9ICIiKXsKCgkJCQkJCWJhc2VfZmluaSArPSAkKHRoaXMpLmh0bWwoKS50cmltKCkgKyIsICI7CgkJCQkJfQoJCQkJfSk7CgoJCQkJJCh0aGlzKS5maW5kKCJzcGFuIikubm90KCIucGVyY2VudCIpLmVhY2goZnVuY3Rpb24oKXsKCgkJCQkJYmFzZV9zaWduYWxfcGVyZHUgKz0gYmFzZV9ub20gKyIsICI7CgkJCQl9KTsKCQkJfSk7CgoJCQlpZiAoYmFzZV9maW5pICE9ICIvLyIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCdCYXNlKHMpIGTDqWNvZMOpZShzKTogJykgKyAiLy8iKXsKCQkJCWNvbW0gKz0gYmFzZV9maW5pOwoJCQkJY29tbSA9IGNvbW0uc3Vic3RyaW5nKDAsY29tbS5sZW5ndGgtMikrIlxuIjsKCQkJfQoJCQlpZiAoYmFzZV9zaWduYWxfcGVyZHUgIT0gIi8vIiArIE1haW4uay50ZXh0LmdldHRleHQoJ0Jhc2UocykgcGVyZHVlKHMpOiAnKSArICIvLyIpewoJCQkJY29tbSArPSBiYXNlX3NpZ25hbF9wZXJkdS5zdWJzdHJpbmcoMCxiYXNlX3NpZ25hbF9wZXJkdS5sZW5ndGgtMik7CgkJCX0KCgoJCX0pOwoJCXJldHVybiBjb21tOwoJCX07CgkvKioKCSAqIEByZXR1cm4gc3RyaW5nOwoJICovCglNYWluLmsuRm9ybWF0UGhhcm1hID0gZnVuY3Rpb24oKSB7CgkJdmFyIHJldCA9ICIqKi8vIiArIE1haW4uay50ZXh0LmdldHRleHQoIkNvbnNvbW1hYmxlcyA6IikgKyAiIC8vKioiOwoKCQl2YXIgb19yZXBsYWNlID0ge307CgkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikgKi8KCQlvX3JlcGxhY2VbTWFpbi5rLnRleHQuZ2V0dGV4dCgiR3XDqXJpZSBsYSBtYWxhZGllIildID0gJzpwYV9oZWFsOic7CgkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikgKi8KCQlvX3JlcGxhY2VbTWFpbi5rLnRleHQuZ2V0dGV4dCgic2F0acOpdMOpIildID0gJzpwYV9jb29rOic7CgkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikgKi8KCQlvX3JlcGxhY2VbTWFpbi5rLnRleHQuZ2V0dGV4dCgiUHJvdm9xdWUgbGEgbWFsYWRpZSIpXSA9ICc6aWxsOic7CgoJCXZhciBhX2lnbm9yZSA9IFtdOwoJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuIChDb25zdW1tYWJsZXMgZGVzY3JpcHRpb24pICovCgkJYV9pZ25vcmUucHVzaChNYWluLmsudGV4dC5nZXR0ZXh0KCJJbXDDqXJpc3NhYmxlIikpOwoJCXZhciByZWdleF9pZ25vcmUgPSBuZXcgUmVnRXhwKCdeKCcrYV9pZ25vcmUuam9pbignfCcpKyckKScpOwoKCQl2YXIgJHJvb20gPSAkKCIjcm9vbSIpOwoJCSRyb29tLmZpbmQoImxpIikubm90KCIuY2RFbXB0eVNsb3QiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgbmFtZSA9ICQodGhpcykuYXR0cigiZGF0YS1uYW1lIikuY2FwaXRhbGl6ZSgpOwoJCQl2YXIgZGVzYyA9ICQodGhpcykuYXR0cigiZGF0YS1kZXNjIikuc3BsaXQoIlxcJyIpLmpvaW4oIiciKTsKCgkJCWlmIChkZXNjLmluZGV4T2YoIkVmZmV0cyIpICE9IC0xIHx8ICQodGhpcykuZGF0YSgnaWQnKSA9PSAiQ09OU1VNQUJMRSIpIHsKCQkJCXZhciAkZGVzYyA9ICQoJzxkaXY+JytkZXNjKyc8L2Rpdj4nKTsKCQkJCWlmKCRkZXNjLmhhcygncCcpKXsKCgkJCQkJdmFyIGFfcmV0X2VmZmVjdCA9IFtdOwoJCQkJCSRkZXNjLmZpbmQoJ3AnKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCWlmKCFyZWdleF9pZ25vcmUudGVzdCgkKHRoaXMpLmh0bWwoKSkpewoJCQkJCQkJYV9yZXRfZWZmZWN0LnB1c2goJCh0aGlzKS5odG1sKCkucmVwbGFjZUZyb21PYmoob19yZXBsYWNlKSk7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCQlpZihhX3JldF9lZmZlY3QubGVuZ3RoID4gMCl7CgkJCQkJCXJldCArPSAiXG4qKiIgKyBuYW1lICsgIioqIDogIjsKCQkJCQkJcmV0ICs9IGFfcmV0X2VmZmVjdC5qb2luKCcsICcpOwoJCQkJCX0KCgoJCQkJfQoKCgkJCX0KCQl9KTsKCgkJcmV0ID0gcmV0LnJlcGxhY2UoLzxcL3A+L2csICIsICIpOwoJCXJldCA9IHJldC5yZXBsYWNlKC8oXHR8XFxyXFxufFxcfDxcLz8ocHxkaXYpPikvZywgIiIpOwoJCXJldCA9IHJldC5yZXBsYWNlKC8sXHM8YnJcLz4vZywgIlxuIik7CgkJcmV0ID0gcmV0LnJlcGxhY2UoLzxpbWdbXj5dK3BhX3Nsb3QxW14+XSs+L2csICI6cGE6Iik7CgkJcmV0ID0gcmV0LnJlcGxhY2UoLzxpbWdbXj5dK3BhX3Nsb3QyW14+XSs+L2csICI6cG06Iik7CgkJcmV0ID0gcmV0LnJlcGxhY2UoLzxpbWdbXj5dK21vcmFsW14+XSs+L2csICI6bW9yYWw6Iik7CgkJcmV0ID0gcmV0LnJlcGxhY2UoLzxpbWdbXj5dK2xwXC5wbmdbXj5dKz4vZywgIjpocDoiKTsKCQlyZXQgPSByZXQucmVwbGFjZSgvPGltZ1tePl0rPi9nLCAiIik7CgoJCXJldHVybiByZXQ7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZzsKCSAqLwoJTWFpbi5rLkZvcm1hdExpZmUgPSBmdW5jdGlvbigpIHsvL1RPRE86IE1VTFRJTEFORwoJCXZhciBwdiA9ICQoInRhYmxlLnB2c20gdGQiKS5ub3QoIi5iYXJtb3JhbCIpLmZpbmQoInNwYW4iKS5odG1sKCkudHJpbSgpOwoJCXZhciBtb3JhbCA9ICQoInRhYmxlLnB2c20gdGQuYmFybW9yYWwgc3BhbiIpLmh0bWwoKS50cmltKCk7CgkJcmV0dXJuIHB2ICsgIiA6bXVzaF9ocDogLyAiICsgbW9yYWwgKyAiIDptdXNoX21vcmFsOiI7Cgl9OwoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZzsKCSAqLwoJTWFpbi5rLlJlc2l6ZSA9IGZ1bmN0aW9uKCkgewoJCXZhciBsZWZ0YmFyID0gJCgiLnVzTGVmdGJhciIpOwoJCXZhciBjb250ZW50ID0gJCgiI2NvbnRlbnQiKTsKCQl2YXIgJGJvZHkgPSAkKCJib2R5Iik7CgkJdmFyIGJ3ID0gJGJvZHkud2lkdGgoKTsKCQl2YXIgbGJ3ID0gMTI2OyAvL2xlZnRiYXIud2lkdGgoKTsKCQl2YXIgdyA9IE1hdGgubWluKE1haW4uay5CTUFYV0lEVEgsIGJ3IC0gbGJ3IC0gMzApOwoJCWNvbnRlbnQuY3NzKCJ3aWR0aCIsIHcpOwoKCQlpZiAoJChNYWluLmsud2luZG93KS53aWR0aCgpID4gKHcgKyAobGJ3ICsgMTUpKjIpKSB7CgkJCWNvbnRlbnQuY3NzKCJsZWZ0IiwgKGJ3IC0gdykgLyAyICsgInB4Iik7CgoJCQkvLyBGaXggYmFja2dyb3VuZCBwb3NpdGlvbgoJCQlpZiAoTWFpbi5rLk9wdGlvbnMuZGxvZ28pICRib2R5LmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICItIiArICgoMTgzMC1idykvMikgKyAicHggMjBweCIpOwoJCX0gZWxzZSB7CgkJCWNvbnRlbnQuY3NzKCJsZWZ0IiwgbGJ3ICsgMTUgKyAicHgiKTsKCgkJCS8vIEZpeCBiYWNrZ3JvdW5kIHBvc2l0aW9uCgkJCWlmIChNYWluLmsuT3B0aW9ucy5kbG9nbykgJGJvZHkuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0yNzJweCAyMHB4Iik7CgkJfQoKCQl2YXIgY29udGVudF9oZWlnaHQgPSBjb250ZW50LmhlaWdodCgpICsgY29udGVudC5wb3NpdGlvbigpLnRvcDsKCQlpZiAobGVmdGJhci5oZWlnaHQoKSA8IGNvbnRlbnRfaGVpZ2h0KSB7CgkJCWxlZnRiYXIuY3NzKCJoZWlnaHQiLCBjb250ZW50X2hlaWdodC0xMSk7CgkJfSBlbHNlIHsKCQkJY29udGVudC5jc3MoImhlaWdodCIsIGxlZnRiYXIuaGVpZ2h0KCkgLSBjb250ZW50LnBvc2l0aW9uKCkudG9wICsgMTEpOwoJCX0KCX07CglNYWluLmsuVG9nZ2xlRGlzcGxheSA9IGZ1bmN0aW9uKCkgewoJCWlmICh0aGlzLmNsYXNzTmFtZSA9PSAiZGlzcGxheW1vcmUiKSB7CgkJCXRoaXMuY2xhc3NOYW1lID0gImRpc3BsYXlsZXNzIjsKCQkJJCgiIiArICQodGhpcykuYXR0cigiX3RhcmdldCIpKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCQl9IGVsc2UgewoJCQl0aGlzLmNsYXNzTmFtZSA9ICJkaXNwbGF5bW9yZSI7CgkJCSQoIiIgKyAkKHRoaXMpLmF0dHIoIl90YXJnZXQiKSkuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCQl9CgkJTWFpbi5rLlJlc2l6ZSgpOwoJfTsKCU1haW4uay5FeHRlbmRQaWxncmVkID0gZnVuY3Rpb24oKSB7CgkJdmFyICRjZEJvdHRvbUJsb2NrID0gJCgiI2NkQm90dG9tQmxvY2siKTsKCQkkKCIjcGlsZ3JlZGJvbnVzIikucmVtb3ZlKCk7CgkJdmFyIHBpbGdyZWQgPSAkY2RCb3R0b21CbG9jay5maW5kKCJkaXYucGlsZ3JlZCIpLnBhcmVudCgpLmNzcyh7CgkJCXBvc2l0aW9uOiAicmVsYXRpdmUiLAoJCQkibWFyZ2luLXJpZ2h0IjogIjE2MHB4IgoJCX0pOwoKCQkvLyBEb3VibGUgcmVzZWFyY2ggcG9pbnRzCgkJdmFyIHJlc2VhcmNoID0gJGNkQm90dG9tQmxvY2suZmluZCgiZGl2LnJlc2VhcmNoIik7CgkJdmFyIHJlc2VhcmNodHJpdW1waCA9IDA7CgkJcmVzZWFyY2guZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyIG5hbWUgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoImltZyIpLmF0dHIoInNyYyIpLnJlcGxhY2UoIi9pbWcvY2FyZHMvcmVzZWFyY2gvIiwgIiIpLnJlcGxhY2UoIi5wbmciLCAiIik7CgkJCWlmKE1haW4uay5yZXNlYXJjaEdsb3J5W25hbWVdKSByZXNlYXJjaHRyaXVtcGggKz0gTWFpbi5rLnJlc2VhcmNoR2xvcnlbbmFtZV07CgkJfSk7CgoJCS8vIC0xMCAvIG11c2ggYWxpdmUKCQl2YXIgbm11c2ggPSAkKCJ1bC5wZW9wbGUgaW1nW3NyYz0nL2ltZy9pY29ucy91aS9wX211c2gucG5nJ10iKS5sZW5ndGg7CgkJdmFyIG11c2h0cml1bXBoID0gLTEwICogbm11c2g7CgoJCS8vIFByaW50IHJlc3VsdAoJCXZhciByZXMgPSAiPGg0PiIrIE1haW4uay50ZXh0LmdldHRleHQoIlRyaW9tcGhlIHJldG91ciBzdXIgc29sIikgKyAiPC9oND4iICsKCQkiLSAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmV0b3VyIHN1ciBTb2wgOiIpICsgIiAyMCA8YnIvPiIgKwoJCSItICIgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJCb251cyByZWNoZXJjaGVzIDogIikgKyByZXNlYXJjaHRyaXVtcGggKyAiPGJyLz4iICsKCQkiLSAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTWFsdXMgbXVzaCBlbiB2aWUgOiAiKSArIG11c2h0cml1bXBoICsgIjxici8+IiArCgkJTWFpbi5rLnRleHQuZ2V0dGV4dCgiVG90YWwgOiIpICsgIiAiICsgKDIwICsgcmVzZWFyY2h0cml1bXBoICsgbXVzaHRyaXVtcGgpOwoJCSQoIjxkaXY+IikKCQkJLmF0dHIoImlkIiwgInBpbGdyZWRib251cyIpCgkJCS5hdHRyKCdfdGl0bGUnLE1haW4uay50ZXh0LmdldHRleHQoIlRyaW9tcGhlIHJldG91ciBzdXIgc29sIikpCgkJCS5hdHRyKCdfZGVzYycsTWFpbi5rLnRleHQuZ2V0dGV4dCgiTmUgdGllbnQgcGFzIGNvbXB0ZSBkZXMgbXVzaHMgYW5vbnltZXMuIikpCgkJCS5jc3MoewoJCQkJcG9zaXRpb246ICJhYnNvbHV0ZSIsCgkJCQl0b3A6ICIzcHgiLAoJCQkJbGVmdDogIjU0cHgiLAoJCQkJd2lkdGg6ICIxNTBweCIsCgkJCQkiZm9udC1zaXplIjogIjExcHgiCgkJCX0pCgkJCS5odG1sKHJlcykKCQkJLmFwcGVuZFRvKHBpbGdyZWQpCgkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCX07CglNYWluLmsubWF4QWdvID0gZnVuY3Rpb24oYSxiKSB7Ly9UT0RPOiBNVUxUSUxBTkcKCQl2YXIgbWluX2EsIG1pbl9iOwoKCQkvLyBUT0RPOiBmYWN0b3JpemUgY29kZQoKCQkvLyB1bmRlZmluZWQKCQlpZiAoIWEpIHJldHVybiBiOwoJCWlmICghYikgcmV0dXJuIGE7CgoJCS8vIMOgIGwnaW5zdGFudAoJCWlmIChhID09IE1haW4uay50ZXh0LmdldHRleHQoIsOgIGwnaW5zdGFudCIpKSByZXR1cm4gYjsKCQlpZiAoYiA9PSBNYWluLmsudGV4dC5nZXR0ZXh0KCLDoCBsJ2luc3RhbnQiKSkgcmV0dXJuIGE7CgoJCS8vIE1pbnV0ZXMKCQl2YXIgcmVnX21pbiA9IC8oWzAtOV0rKW1pbi87CgkJaWYgKHJlZ19taW4udGVzdChhKSkgewoJCQlpZiAoIXJlZ19taW4udGVzdChiKSkgcmV0dXJuIGI7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19taW4uZXhlYyhhKVsxXSk7CgkJCW1pbl9iID0gcGFyc2VJbnQocmVnX21pbi5leGVjKGIpWzFdKTsKCQkJaWYgKG1pbl9hIDw9IG1pbl9iKSByZXR1cm4gYjsKCQkJcmV0dXJuIGE7CgkJfSBlbHNlIGlmIChyZWdfbWluLnRlc3QoYikpIHsKCQkJaWYgKCFyZWdfbWluLnRlc3QoYSkpIHJldHVybiBhOwoKCQkJbWluX2EgPSBwYXJzZUludChyZWdfbWluLmV4ZWMoYSlbMV0pOwoJCQltaW5fYiA9IHBhcnNlSW50KHJlZ19taW4uZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGI7CgkJCXJldHVybiBhOwoJCX0KCgkJLy8gSG91cnMKCQl2YXIgcmVnX2hvdXJzID0gL1x+KFswLTldKyloLzsKCQlpZiAocmVnX2hvdXJzLnRlc3QoYSkpIHsKCQkJaWYgKCFyZWdfaG91cnMudGVzdChiKSkgcmV0dXJuIGI7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19ob3Vycy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfaG91cnMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGI7CgkJCXJldHVybiBhOwoJCX0gZWxzZSBpZiAocmVnX2hvdXJzLnRlc3QoYikpIHsKCQkJaWYgKCFyZWdfaG91cnMudGVzdChhKSkgcmV0dXJuIGE7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19ob3Vycy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfaG91cnMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGI7CgkJCXJldHVybiBhOwoJCX0KCgkJLy8gRGF5cwoJCXZhciByZWdfZGF5cyA9IC9cfihbMC05XSspai87CgkJaWYgKHJlZ19kYXlzLnRlc3QoYSkpIHsKCQkJaWYgKCFyZWdfZGF5cy50ZXN0KGIpKSByZXR1cm4gYjsKCgkJCW1pbl9hID0gcGFyc2VJbnQocmVnX2RheXMuZXhlYyhhKVsxXSk7CgkJCW1pbl9iID0gcGFyc2VJbnQocmVnX2RheXMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGI7CgkJCXJldHVybiBhOwoJCX0gZWxzZSBpZiAocmVnX2RheXMudGVzdChiKSkgewoJCQlpZiAoIXJlZ19kYXlzLnRlc3QoYSkpIHJldHVybiBhOwoKCQkJbWluX2EgPSBwYXJzZUludChyZWdfZGF5cy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfZGF5cy5leGVjKGIpWzFdKTsKCQkJaWYgKG1pbl9hIDw9IG1pbl9iKSByZXR1cm4gYjsKCQkJcmV0dXJuIGE7CgkJfQoKCQkvLyA/CgkJcmV0dXJuIGE7Cgl9OwoJTWFpbi5rLm1pbkFnbyA9IGZ1bmN0aW9uKGEsYikgey8vVE9ETzogTVVMVElMQU5HCgkJdmFyIG1pbl9hLCBtaW5fYjsKCQkvLyBUT0RPOiBmYWN0b3JpemUgY29kZQoKCQkvLyB1bmRlZmluZWQKCQlpZiAoIWEpIHJldHVybiBiOwoJCWlmICghYikgcmV0dXJuIGE7CgoJCS8vIMOgIGwnaW5zdGFudAoJCWlmIChhID09IE1haW4uay50ZXh0LmdldHRleHQoIsOgIGwnaW5zdGFudCIpKSByZXR1cm4gYTsKCQlpZiAoYiA9PSBNYWluLmsudGV4dC5nZXR0ZXh0KCLDoCBsJ2luc3RhbnQiKSkgcmV0dXJuIGI7CgoJCS8vIE1pbnV0ZXMKCQl2YXIgcmVnX21pbiA9IC8oWzAtOV0rKW1pbi87CgkJaWYgKHJlZ19taW4udGVzdChhKSkgewoJCQlpZiAoIXJlZ19taW4udGVzdChiKSkgcmV0dXJuIGE7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19taW4uZXhlYyhhKVsxXSk7CgkJCW1pbl9iID0gcGFyc2VJbnQocmVnX21pbi5leGVjKGIpWzFdKTsKCQkJaWYgKG1pbl9hIDw9IG1pbl9iKSByZXR1cm4gYTsKCQkJcmV0dXJuIGI7CgkJfSBlbHNlIGlmIChyZWdfbWluLnRlc3QoYikpIHsKCQkJaWYgKCFyZWdfbWluLnRlc3QoYSkpIHJldHVybiBiOwoKCQkJbWluX2EgPSBwYXJzZUludChyZWdfbWluLmV4ZWMoYSlbMV0pOwoJCQltaW5fYiA9IHBhcnNlSW50KHJlZ19taW4uZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGE7CgkJCXJldHVybiBiOwoJCX0KCgkJLy8gSG91cnMKCQl2YXIgcmVnX2hvdXJzID0gL1x+KFswLTldKyloLzsKCQlpZiAocmVnX2hvdXJzLnRlc3QoYSkpIHsKCQkJaWYgKCFyZWdfaG91cnMudGVzdChiKSkgcmV0dXJuIGE7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19ob3Vycy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfaG91cnMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGE7CgkJCXJldHVybiBiOwoJCX0gZWxzZSBpZiAocmVnX2hvdXJzLnRlc3QoYikpIHsKCQkJaWYgKCFyZWdfaG91cnMudGVzdChhKSkgcmV0dXJuIGI7CgoJCQltaW5fYSA9IHBhcnNlSW50KHJlZ19ob3Vycy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfaG91cnMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGE7CgkJCXJldHVybiBiOwoJCX0KCgkJLy8gRGF5cwoJCXZhciByZWdfZGF5cyA9IC9cfihbMC05XSspai87CgkJaWYgKHJlZ19kYXlzLnRlc3QoYSkpIHsKCQkJaWYgKCFyZWdfZGF5cy50ZXN0KGIpKSByZXR1cm4gYTsKCgkJCW1pbl9hID0gcGFyc2VJbnQocmVnX2RheXMuZXhlYyhhKVsxXSk7CgkJCW1pbl9iID0gcGFyc2VJbnQocmVnX2RheXMuZXhlYyhiKVsxXSk7CgkJCWlmIChtaW5fYSA8PSBtaW5fYikgcmV0dXJuIGE7CgkJCXJldHVybiBiOwoJCX0gZWxzZSBpZiAocmVnX2RheXMudGVzdChiKSkgewoJCQlpZiAoIXJlZ19kYXlzLnRlc3QoYSkpIHJldHVybiBiOwoKCQkJbWluX2EgPSBwYXJzZUludChyZWdfZGF5cy5leGVjKGEpWzFdKTsKCQkJbWluX2IgPSBwYXJzZUludChyZWdfZGF5cy5leGVjKGIpWzFdKTsKCQkJaWYgKG1pbl9hIDw9IG1pbl9iKSByZXR1cm4gYTsKCQkJcmV0dXJuIGI7CgkJfQoKCQkvLyA/CgkJcmV0dXJuIGE7Cgl9OwoJTWFpbi5rLmV4dGVuZEFnbyA9IGZ1bmN0aW9uKGFnbykgey8vVE9ETzogTVVMVElMQU5HCgkJdmFyIHJlZ19yZXN1bHQgPSAvKFswLTldKykvLmV4ZWMoYWdvKTsKCQlpZihyZWdfcmVzdWx0ICE9IG51bGwpewoJCQl2YXIgb25lID0gKHBhcnNlSW50KHJlZ19yZXN1bHRbMV0pID09IDEpOwoJCQlhZ28gPSBhZ28ucmVwbGFjZSgibWluIiwgIiBtaW51dGUiICsgKG9uZSA/ICIiIDogInMiKSk7CgkJCWFnbyA9IGFnby5yZXBsYWNlKCJoIiwgIiBoZXVyZSIgKyAob25lID8gIiIgOiAicyIpKTsKCQkJYWdvID0gYWdvLnJlcGxhY2UoImoiLCAiIGpvdXIiICsgKG9uZSA/ICIiIDogInMiKSk7CgkJfQoJCWFnbyA9IGFnby5yZXBsYWNlKCImbHQ7MW0iLCAibW9pbnMgZCd1bmUgbWludXRlIik7CgkJYWdvID0gYWdvLnJlcGxhY2UoIn4iLCAiZW52aXJvbiAiKTsKCQlyZXR1cm4gYWdvOwoJfTsKCU1haW4uay5zdXJuYW1lVG9CdWJibGUgPSBmdW5jdGlvbihzdXJuYW1lKXsKCQlyZXR1cm4gc3VybmFtZS5yZXBsYWNlKC8oXHMpL2csICJfIikudG9Mb3dlckNhc2UoKTsKCX07CglNYWluLmsuY3VzdG9tQnViYmxlcyA9IGZ1bmN0aW9uKCkgewoJCXZhciBidWJibGVzID0gJCgiLmJ1YmJsZSIpOwoJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlcykgewoJCQlidWJibGVzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgY2hhcm5hbWUgPSBNYWluLmsuR2V0SGVyb05hbWVGcm9tVG9waWMoJCh0aGlzKS5wYXJlbnQoKSk7CgkJCQkkKHRoaXMpLmFkZENsYXNzKCJidWJibGVfIiArIGNoYXJuYW1lKTsKCQkJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlc05CKSAkKHRoaXMpLmFkZENsYXNzKCJjdXN0b21idWJibGVzX25vYmFja2dyb3VuZCIpOwoJCQl9KTsKCQl9IGVsc2UgewoJCQlidWJibGVzLnJlbW92ZUNsYXNzKCJjdXN0b21idWJibGVzX25vYmFja2dyb3VuZCIpOwoKCQkJZm9yICh2YXIgaT0wOyBpPE1haW4uay5IRVJPRVMubGVuZ3RoOyBpKysgKSB7CgkJCQlidWJibGVzLnJlbW92ZUNsYXNzKCJidWJibGVfIiArIE1haW4uay5IRVJPRVNbaV0pOwoJCQl9CgkJfQoJfTsKCU1haW4uay51cGRhdGVCb3R0b20gPSBmdW5jdGlvbigpIHsKCQl2YXIgJGNkQm90dG9tQmxvY2sgPSAkKCIjY2RCb3R0b21CbG9jayIpOwoJCWlmICgkY2RCb3R0b21CbG9jay5maW5kKCJkaXYucGlsZ3JlZCIpLmxlbmd0aCA+IDApIE1haW4uay5FeHRlbmRQaWxncmVkKCk7CgkJJGNkQm90dG9tQmxvY2suZmluZCgiZGl2LnNwbGl0IikucmVtb3ZlKCk7CgkJaWYgKE1haW4uay5PcHRpb25zLnNwbGl0cGp0KSB7CgkJCWlmICgkY2RCb3R0b21CbG9jay5maW5kKCJkaXYucHJvamVjdCIpLmxlbmd0aCA+IDApICQoIjxkaXY+IikuYWRkQ2xhc3MoInNwbGl0IikuaW5zZXJ0QWZ0ZXIoJGNkQm90dG9tQmxvY2suZmluZCgiZGl2LnByb2plY3QiKS5sYXN0KCkucGFyZW50KCkpOwoJCQlpZiAoJGNkQm90dG9tQmxvY2suZmluZCgiZGl2LnJlc2VhcmNoIikubGVuZ3RoID4gMCkgJCgiPGRpdj4iKS5hZGRDbGFzcygic3BsaXQiKS5pbnNlcnRBZnRlcigkY2RCb3R0b21CbG9jay5maW5kKCJkaXYucmVzZWFyY2giKS5sYXN0KCkucGFyZW50KCkpOwoJCX0KCX07CgoJLy8gR2FtZSB6b25lIGZvbGQvdW5mb2xkCglNYWluLmsuZm9sZGluZyA9IHt9OwoJTWFpbi5rLmZvbGRpbmcuZGlzcGxheWVkID0gImdhbWUiOwoJTWFpbi5rLmZvbGRpbmcuYnVzeSA9IGZhbHNlOwoJTWFpbi5rLmZvbGRpbmcuY3VycmNvbHMgPSBbIiNjaGFyX2NvbCIsICIjcm9vbV9jb2wiLCAiI2NoYXRfY29sIl07CglNYWluLmsuZm9sZGluZy5nYW1lY29scyA9IFsiI2NoYXJfY29sIiwgIiNyb29tX2NvbCIsICIjY2hhdF9jb2wiXTsKCU1haW4uay5mb2xkaW5nLmRpc3BsYXkgPSBmdW5jdGlvbihjb2xzLCBuZXdkaXNwbGF5LCBhZnRlcmRpc3BsYXkpIHsKCQlpZiAoTWFpbi5rLmZvbGRpbmcuYnVzeSkgcmV0dXJuOwoJCU1haW4uay5mb2xkaW5nLmJ1c3kgPSB0cnVlOwoJCU1haW4uay5mb2xkaW5nLmRpc3BsYXllZCA9IG5ld2Rpc3BsYXk7CgoJCS8vIEdldCBjb2xzIHRvIGZvbGQKCQl2YXIgdG9mb2xkID0gW251bGwsIG51bGwsIG51bGxdOwoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuZm9sZGluZy5jdXJyY29scy5sZW5ndGg7IGkrKykgewoJCQlpZiAoY29sc1tpXSkgewoJCQkJaWYgKGNvbHNbaV0gIT0gTWFpbi5rLmZvbGRpbmcuY3VycmNvbHNbaV0pIHRvZm9sZFtpXSA9IE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldOwoJCQl9IGVsc2UgaWYgKE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldICE9IE1haW4uay5mb2xkaW5nLmdhbWVjb2xzW2ldKSB7CgkJCQl0b2ZvbGRbaV0gPSBNYWluLmsuZm9sZGluZy5jdXJyY29sc1tpXTsKCQkJfQoJCX0KCgkJLy8gVW5mb2xkaW5nCgkJdmFyIGFmdGVyID0gZnVuY3Rpb24oKSB7CgkJCS8vIEdldCBjb2xzIHRvIHVuZm9sZAoJCQl2YXIgdG91bmZvbGQgPSBbbnVsbCwgbnVsbCwgbnVsbF07CgkJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuZm9sZGluZy5jdXJyY29scy5sZW5ndGg7IGkrKykgewoJCQkJLy8gSWYgYSBuZXcgY29sIGlzIHdhbnRlZCBoZXJlCgkJCQlpZiAoY29sc1tpXSkgewoJCQkJCWlmIChjb2xzW2ldICE9IE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldKSB0b3VuZm9sZFtpXSA9IGNvbHNbaV07CgoJCQkJLy8gRWxzZSBkaXNwbGF5IGdhbWUgY29sCgkJCQl9IGVsc2UgaWYgKE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldICE9IE1haW4uay5mb2xkaW5nLmdhbWVjb2xzW2ldKSB7CgkJCQkJdG91bmZvbGRbaV0gPSBNYWluLmsuZm9sZGluZy5nYW1lY29sc1tpXTsKCQkJCX0KCQkJfQoKCQkJLy8gVW5mb2xkCgkJCU1haW4uay5mb2xkaW5nLnVuZm9sZCh0b3VuZm9sZCwgZnVuY3Rpb24oKSB7CgkJCQlNYWluLmsuZm9sZGluZy5idXN5ID0gZmFsc2U7CgkJCQlpZiAoYWZ0ZXJkaXNwbGF5ICYmIHR5cGVvZiBhZnRlcmRpc3BsYXkgPT0gJ2Z1bmN0aW9uJykgYWZ0ZXJkaXNwbGF5KCk7CgkJCX0pOwoJCX07CgoJCS8vIEZvbGQgcHJldmlvdXMgY29scywgdGhlbiB1bmZvbGQgbmV3IGNvbHMKCQlNYWluLmsuZm9sZGluZy5mb2xkKHRvZm9sZCwgYWZ0ZXIpOwoJfTsKCU1haW4uay5mb2xkaW5nLmRpc3BsYXlHYW1lID0gZnVuY3Rpb24oYWZ0ZXJkaXNwbGF5KSB7CgkJaWYgKE1haW4uay5mb2xkaW5nLmJ1c3kpIHJldHVybjsKCQlNYWluLmsuZm9sZGluZy5idXN5ID0gdHJ1ZTsKCQlNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgPSAiZ2FtZSI7CgoJCS8vIEdldCBjb2xzIHRvIGZvbGQKCQl2YXIgdG9mb2xkID0gW251bGwsIG51bGwsIG51bGxdOwoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuZm9sZGluZy5jdXJyY29scy5sZW5ndGg7IGkrKykgewoJCQlpZiAoTWFpbi5rLmZvbGRpbmcuY3VycmNvbHNbaV0gIT0gTWFpbi5rLmZvbGRpbmcuZ2FtZWNvbHNbaV0pIHRvZm9sZFtpXSA9IE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldOwoJCX0KCgkJLy8gVW5mb2xkaW5nCgkJdmFyIGFmdGVyID0gZnVuY3Rpb24oKSB7CgkJCS8vIEdldCBjb2xzIHRvIHVuZm9sZAoJCQl2YXIgdG91bmZvbGQgPSBbbnVsbCwgbnVsbCwgbnVsbF07CgkJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuZm9sZGluZy5jdXJyY29scy5sZW5ndGg7IGkrKykgewoJCQkJLy8gRGlzcGxheSBnYW1lIGNvbAoJCQkJaWYgKE1haW4uay5mb2xkaW5nLmN1cnJjb2xzW2ldICE9IE1haW4uay5mb2xkaW5nLmdhbWVjb2xzW2ldKSB7CgkJCQkJdG91bmZvbGRbaV0gPSBNYWluLmsuZm9sZGluZy5nYW1lY29sc1tpXTsKCQkJCX0KCQkJfQoKCQkJLy8gVW5mb2xkCgkJCU1haW4uay5mb2xkaW5nLnVuZm9sZCh0b3VuZm9sZCwgZnVuY3Rpb24oKSB7CgkJCQlNYWluLmsuZm9sZGluZy5idXN5ID0gZmFsc2U7CgkJCQlpZiAoYWZ0ZXJkaXNwbGF5KSBhZnRlcmRpc3BsYXkoKTsKCQkJfSk7CgkJfTsKCgkJLy8gRm9sZCBwcmV2aW91cyBjb2xzLCB0aGVuIHVuZm9sZCBuZXcgY29scwoJCU1haW4uay5mb2xkaW5nLmZvbGQodG9mb2xkLCBhZnRlcik7Cgl9OwoJTWFpbi5rLmZvbGRpbmcuZm9sZCA9IGZ1bmN0aW9uKGNvbHMsIGFmdGVyKSB7CgkJLy8gSW5pdCBDU1MgdHJhbnNmb3JtCgkJZm9yICh2YXIgaT0wOyBpPGNvbHMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGNvbHNbaV0pICQoY29sc1tpXSkuY3NzKHsKCQkJCSJ0cmFuc2Zvcm0iOiAic2NhbGUoMCwxKSIsCgkJCQkiLW8tdHJhbnNmb3JtIjogInNjYWxlKDAsMSkiLAoJCQkJIi13ZWJraXQtdHJhbnNmb3JtIjogInNjYWxlKDAsMSkiCgkJCX0pOwoJCX0KCgkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJLy8gSGlkZSBwcmV2aW91cyBjb2xzCgkJCWZvciAodmFyIGk9MDsgaTxjb2xzLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAoY29sc1tpXSkgewoJCQkJCXZhciAkY29sID0gJChjb2xzW2ldKTsKCQkJCQlpZihjb2xzW2ldID09ICcjcm9vbV9jb2wnKXsKCQkJCQkJLy9qUXVlcnkgbidhcnJpdmUgcGFzIMOgIHLDqWN1cMOpcmVyIGxhIGxhcmdldXIgcsOpZWxsZSBkZSBsYSBjZWxsdWxlLCBzaSBxdWVscXUndW4gYSB1bmUgc29sdXRpb24uLi4KCQkJCQkJLy8kY29sLmRhdGEoJ3dpZHRoJywgJGNvbC53aWR0aCgpKTsKCQkJCQkJJGNvbC5kYXRhKCd3aWR0aCcsIDQzNik7CgkJCQkJCSRjb2wuY3NzKHt3aWR0aDowfSk7CgkJCQkJCSRjb2wuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCQkkKHRoaXMpLmRhdGEoJ3dpZHRoJywgJCh0aGlzKS53aWR0aCgpKTsKCQkJCQkJfSk7CgkJCQkJCSRjb2wuY2hpbGRyZW4oKS5jc3Moe3dpZHRoOiAwfSk7CgkJCQkJfWVsc2V7CgkJCQkJCSRjb2wuaGlkZSgpOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJaWYgKGFmdGVyKSBhZnRlcigpOwoJCX0sIDI1MCk7Cgl9OwoJTWFpbi5rLmZvbGRpbmcudW5mb2xkID0gZnVuY3Rpb24oY29scywgYWZ0ZXIpIHsKCQkvLyBEaXNwbGF5IG5ldyBjb2xzCgkJZm9yICh2YXIgaT0wOyBpPGNvbHMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGNvbHNbaV0pIHsKCQkJCXZhciAkY29sID0gJChjb2xzW2ldKTsKCQkJCWlmKGNvbHNbaV0gPT0gJyNyb29tX2NvbCcpewoJCQkJCSRjb2wuY3NzKHt3aWR0aDokY29sLmRhdGEoJ3dpZHRoJykgKyAncHgnfSk7CgkJCQkJJGNvbC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJJCh0aGlzKS5jc3MoJ3dpZHRoJywgJCh0aGlzKS5kYXRhKCd3aWR0aCcpICsgJ3B4Jyk7CgkJCQkJfSkKCQkJCX1lbHNlewoJCQkJCSRjb2wuc2hvdygpOwoJCQkJfQoJCQl9CgkJfQoKCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkvLyBJbml0IENTUyB0cmFuc2Zvcm0KCQkJZm9yICh2YXIgaT0wOyBpPGNvbHMubGVuZ3RoOyBpKyspIHsKCQkJCWlmIChjb2xzW2ldKSAkKGNvbHNbaV0pLmNzcyh7CgkJCQkJInRyYW5zZm9ybSI6ICJzY2FsZSgxLDEpIiwKCQkJCQkiLW8tdHJhbnNmb3JtIjogInNjYWxlKDEsMSkiLAoJCQkJCSItd2Via2l0LXRyYW5zZm9ybSI6ICJzY2FsZSgxLDEpIgoJCQkJfSk7CgkJCX0KCgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkvLyBVcGRhdGUgY3VycmVudCBjb2xzCgkJCQlmb3IgKHZhciBpPTA7IGk8Y29scy5sZW5ndGg7IGkrKykgewoJCQkJCWlmIChjb2xzW2ldKSBNYWluLmsuZm9sZGluZy5jdXJyY29sc1tpXSA9IGNvbHNbaV07CgkJCQl9CgoJCQkJaWYgKGFmdGVyKSBhZnRlcigpOwoKCQkJfSwgMjMwKTsKCQl9LCAyMCk7Cgl9OwoKCU1haW4uay5BYm91dCA9IHt9OwoJTWFpbi5rLkFib3V0LmluaXRpYWxpemVkID0gZmFsc2U7CglNYWluLmsuQWJvdXQub3BlbiA9IGZ1bmN0aW9uKCkgey8vVE9ETzogTVVMVElMQU5HCgkJaWYgKE1haW4uay5mb2xkaW5nLmRpc3BsYXllZCA9PSAiYWJvdXQiKSB7CgkJCU1haW4uay5mb2xkaW5nLmRpc3BsYXlHYW1lKCk7CgkJCXJldHVybjsKCQl9CgoJCWlmICghTWFpbi5rLkFib3V0LmluaXRpYWxpemVkKSB7CgkJCU1haW4uay5BYm91dC5pbml0aWFsaXplZCA9IHRydWU7CgoJCQl2YXIgdGQgPSAkKCI8dGQ+IikuYWRkQ2xhc3MoIiIpLmNzcyh7CgkJCQkicGFkZGluZy1yaWdodCI6ICI2cHgiLAoJCQkJInBhZGRpbmctdG9wIjogIjFweCIsCgkJCQl0cmFuc2Zvcm06ICJzY2FsZSgwLDEpIiwKCQkJCWNvbG9yOiAicmdiKDksMTAsOTcpIgoJCQl9KS5hdHRyKCJpZCIsICJhYm91dF9jb2wiKS5hcHBlbmRUbygkKCJ0YWJsZS5pbnRlciB0ciIpLmZpcnN0KCkpOwoKCQkJLy8gTG9nbwoKCQkJLy8gTGlua3MKCQkJdmFyIGxpbmtzID0gJCgiPGRpdj4iKS5jc3MoewoJCQkJInRleHQtYWxpZ24iOiAiY2VudGVyIgoJCQl9KS5hcHBlbmRUbyh0ZCk7CgkJCSQoIjxpbWc+IikuY3NzKHsKCQkJCWhlaWdodDogIjEwMHB4IiwKCQkJCW1hcmdpbjogIjAgYXV0byAwcHgiCgkJCX0pLmF0dHIoInNyYyIsIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvY3RybHcxLnBuZyIpLmFwcGVuZFRvKGxpbmtzKTsKCQkJJCgiPGJyLz4iKS5hcHBlbmRUbyhsaW5rcyk7CgkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9wbGFuZXQucG5nJyAvPiBHcm91cGUgVHdpbm9pZCIsICdodHRwOi8vdHdpbm9pZC5jb20vZy9jdHJsLXcnKS5jc3MoewoJCQkJbWFyZ2luOiAiMCAycHgiLAoJCQkJZGlzcGxheTogImlubGluZS1ibG9jayIKCQkJfSkuYXBwZW5kVG8obGlua3MpOwoJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsa2llLnBuZycgLz4gQ2hhbiBJUkMiLCAiaHR0cDovL3dlYmNoYXQucXVha2VuZXQub3JnLz9jaGFubmVscz0jY3RybHciKS5jc3MoewoJCQkJbWFyZ2luOiAiMCAycHgiLAoJCQkJZGlzcGxheTogImlubGluZS1ibG9jayIKCQkJfSkuYXBwZW5kVG8obGlua3MpCgkJCS5maW5kKCJhIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2hhbiBJUkMiKSkKCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiVmVuZXogZGlzY3V0ZXIgc3VyIElSQyBhdmVjIGxlcyBhdXRyZXMgdXRpbGlzYXRldXJzIGR1IHNjcmlwdC4gXAoJCQlWb3VzIHBvdXJyZXogw6lnYWxlbWVudCB5IHRyb3V2ZXIgZGUgbCdhaWRlIG91IGZhaXJlIGRlcyBzdWdnZXN0aW9ucy48L3A+PHA+PHN0cm9uZz5DaGFuICNjdHJsdyBzdXIgUXVha2VuZXQ8L3N0cm9uZz4iKSkKCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsay5naWYnIC8+ICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiVG9waWMgKEZvcnVtIE11c2gpIiksCgkJCQkvKiBUcmFuc2xhdG9yczogU2NyaXB0IHRvcGljIChNdXNoIGZvcnVtKSAqLwoJCQkJCU1haW4uay50ZXh0LmdldHRleHQoImh0dHA6Ly90d2QuaW8vZS8wZmRiMHciKSkuY3NzKHsKCQkJCQltYXJnaW46ICIwIDJweCIsCgkJCQkJZGlzcGxheTogImlubGluZS1ibG9jayIKCQkJCX0KCQkJKS5hcHBlbmRUbyhsaW5rcyk7CgoJCQkvLyBEaXNjbGFpbWVyCgkJCSQoIjxwPiIpLmNzcyh7CgkJCQltYXJnaW46ICIyMHB4IiwKCQkJCWNvbG9yOiAiI0NDQyIsCgkJCQkidGV4dC1hbGlnbiI6ICJjZW50ZXIiCgkJCX0pLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiU2NyaXB0IGTDqXZlbG9wcMOpIHBhciA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci84Mjk3Jz5raWxsMHU8L2E+LCBtYWludGVudSBwYXIgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMTI0NDE0Myc+YmFkY29ua2VyPC9hPjxici8+IisKCQkJIkxlIGxvZ28sIGxlcyBpbWFnZXMgKG1pc2UgZW4gZm9ybWUgcGVyc29ubmFsaXPDqWUgZGVzIG1lc3NhZ2VzKSBldCBsZSBkZXNpZ24gZHUgc2l0ZSB3ZWIgb250IMOpdMOpIGZhaXRzIHBhciAiKwoJCQkiPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMjk5MjA1Mic+R251eDwvYT4uPGJyLz4iKwoJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCJDb250cmlidXRldXJzIDogIikgKyAiPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMzYyMTk3Jz5GbG9LeTwvYT4iICsKCQkJCSIsIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzUxNDA4OTgnPl9GcmFpc2VfXzwvYT4iKwoJCQkJIiwgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvODAxMTU2NSc+TmlnaHRFeGNlc3NpdmU8L2E+PGJyLz4iKwoJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCJUcmFkdWN0ZXVycyA6ICIpICsgIjxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzc4NDU2NzEnPkF2aXN0ZXcgKGVuKTwvYT4sIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzYwMzE2ODInPktvaGFrdSAoZXMpPC9hPiwgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvNTMxMDg0Jz5SM215IChlcyk8L2E+LCA8YnIvPjxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzIxNjk2Jz5KYXZpZXJuaCAoZXMpPC9hPiIpKS5hcHBlbmRUbyh0ZCk7CgoJCQkvLyBDb21pbmcgc29vbgoJCQkvKiQoIjxoMj4iKS5jc3MoewoJCQkJY29sb3I6ICIjRUVFIiwKCQkJCW1hcmdpbjogIjEwcHggMTVweCAwIgoJCQl9KS5odG1sKCJGb25jdGlvbm5hbGl0w6lzIMOgIHZlbmlyJm5ic3A7OiIpLmFwcGVuZFRvKHRkKTsKCQkJdmFyIHVsID0gJCgiPHVsPiIpLmNzcyh7CgkJCQltYXJnaW46ICIwIDIwcHggMCAzMHB4IiwKCQkJCWNvbG9yOiAiI0NDQyIsCgkJCQkibGlzdC1zdHlsZS10eXBlIjogInNxdWFyZSIKCQkJfSkuYXBwZW5kVG8odGQpOwoJCQkkKCI8bGk+IikuaHRtbCgiRW5yZWdpc3RyZW1lbnQgKG1hbnVlbCkgZGVzIGluZm9ybWF0aW9ucyBzdXIgbGVzIGpvdWV1cnMiKS5hcHBlbmRUbyh1bCk7CgkJCSQoIjxsaT4iKS5odG1sKCJBbcOpbGlvcmF0aW9uIGR1IE1hbmFnZXIiKS5hcHBlbmRUbyh1bCk7CgkJCSQoIjxsaT4iKS5odG1sKCJBbcOpbGlvcmF0aW9uIGRlIGxhIGdlc3Rpb24gZGVzIHBsYW50ZXMiKS5hcHBlbmRUbyh1bCk7CgkJCSQoIjxsaT4iKS5odG1sKCJHZXN0aW9uIGRlcyBtw6lkaWNhbWVudHMgZXQgZGUgbGEgbm91cnJpdHVyZSIpLmFwcGVuZFRvKHVsKTsKCQkJJCgiPGxpPiIpLmh0bWwoIkdlc3Rpb24gZGVzIGFuaW1hdGlvbnMgZGlzdHJpYnV0ZXVyIikuYXBwZW5kVG8odWwpOwoJCQkkKCI8bGk+IikuaHRtbCgiSW5mb3JtYXRpb25zIHN1ciBsZSBkw6ltb250YWdlIGQnb2JqZXRzIikuYXBwZW5kVG8odWwpOwoJCQkkKCI8bGk+IikuaHRtbCgiQXNzaXN0YW50IEFkbWluLiBOZXJvbiArIG1lc3NhZ2VzIHByw6ktZW5yZWdpc3Ryw6lzIikuYXBwZW5kVG8odWwpOwoJCQkkKCI8bGk+IikuaHRtbCgiV2hpdGVib2FyZCAoc3VycHJpc2UpIikuYXBwZW5kVG8odWwpOwoJCQkkKCI8bGk+IikuY3NzKCJsaXN0LXN0eWxlLXR5cGUiLCAibm9uZSIpLmh0bWwoIjxhIGhyZWY9JyIgKyBNYWluLmsud2Vic2l0ZSArICInPkxpc3RlIGRlcyBtaXNlcyDDoCBqb3VyPC9hPiIpLmFwcGVuZFRvKHVsKTsqLwoKCQkJLy8gQ2xvc2UKCQkJdmFyIGNsb3NlID0gJCgiPGRpdj4iKS5jc3MoewoJCQkJInRleHQtYWxpZ24iOiAiY2VudGVyIiwKCQkJCW1hcmdpbjogIjMwcHggMCAwIgoJCQl9KS5hcHBlbmRUbyh0ZCk7CgkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9wYWdlbGVmdC5wbmcnIC8+ICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmV0b3VyIGF1IGpldSIpLCBudWxsLCBNYWluLmsuQWJvdXQub3BlbikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLmFwcGVuZFRvKGNsb3NlKTsKCQl9CgoJCU1haW4uay5mb2xkaW5nLmRpc3BsYXkoW251bGwsbnVsbCwgIiNhYm91dF9jb2wiXSwgImFib3V0Iik7Cgl9OwoKCS8vID09IFN5bmMgTWFuYWdlciAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJTWFpbi5rLlN5bmMgPSB7fTsKCU1haW4uay5TeW5jLmluaXRpYWxpemVkID0gZmFsc2U7CglNYWluLmsuU3luYy5wdXNoX3RpbWVyID0gbnVsbDsKCU1haW4uay5TeW5jLm9wZW4gPSBmdW5jdGlvbigpewoJCWlmKCFNYWluLmsuU3luYy5pbml0aWFsaXplZCl7CgkJCXRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlOwoJCQl2YXIgdGQgPSAkKCI8dGQ+IikuYWRkQ2xhc3MoImNoYXRfYm94IGN0cmx3X2NvbCIpLmNzcyh7CgkJCQkicGFkZGluZy1yaWdodCI6ICI2cHgiLAoJCQkJInBhZGRpbmctdG9wIjogIjFweCIsCgkJCQl0cmFuc2Zvcm06ICJzY2FsZSgwLDEpIgoJCQl9KS5hdHRyKCJpZCIsICJzeW5jX2NvbCIpLmFwcGVuZFRvKCQoInRhYmxlLmludGVyIHRyIikuZmlyc3QoKSk7CgoJCQl2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdbMC05XSskJyk7CgkJCXZhciByZXN1bHQgPSByZWdleC5leGVjKCQoJyN0aWRfb3BlblJpZ2h0JykuYXR0cignaHJlZicpKTsKCQkJdmFyIHN5bmNfa2V5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N0cmx3X3N5bmNfa2V5Jyk7CgkJCSQoJzxwPicpLmFkZENsYXNzKCdjdHJsdy1yb3ctb3B0aW9ucycpLmFwcGVuZCgKCQkJCSQoJzxsYWJlbD4nKQoJCQkJCS5odG1sKCc8c3BhbiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDoxMCUiPicrTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2zDqSA6IikrJzwvc3Bhbj4nKQoJCQkJCS5hcHBlbmQoCgkJCQkJCSQoJzxpbnB1dD4nKQoJCQkJCQkJLmF0dHIoewoJCQkJCQkJCXR5cGU6ICd0ZXh0JywKCQkJCQkJCQlwbGFjZWhvbGRlcjogTWFpbi5rLnRleHQuZ2V0dGV4dCgnQ29sbGV6IHZvdHJlIGNsw6kgaWNpJyksCgkJCQkJCQkJaWQ6J2N0cmx3LXN5bmMta2V5JwoJCQkJCQkJfSkKCQkJCQkJCS5jc3MoewoJCQkJCQkJCSd0ZXh0LWFsaWduJzogJ2NlbnRlcicsCgkJCQkJCQkJZGlzcGxheTogJ2lubGluZS1ibG9jaycsCgkJCQkJCQkJd2lkdGg6ICc4MCUnLAoJCQkJCQkJCSdtYXJnaW4tcmlnaHQnOiAnMTBweCcKCQkJCQkJCX0pCgkJCQkJCQkuZGF0YSgndmFsJyxsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3RybHdfc3luY19rZXknKSkKCQkJCQkJCS52YWwoc3luY19rZXkgIT0gbnVsbCA/IHN5bmNfa2V5IDogJycpCgkJCQkJCQkub24oJ3Bhc3RlJyxmdW5jdGlvbihlbGVtKXsKCQkJCQkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCQkJCQl2YXIgdmFsID0gJHRoaXMudmFsKCk7CgkJCQkJCQkJCXZhciBvbGRfdmFsID0gJHRoaXMuZGF0YSgndmFsJyk7CgkJCQkJCQkJCWlmICh2YWwubGVuZ3RoID4gMjAgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N0cmx3X3N5bmNfa2V5JykgIT0gdmFsICYmIG9sZF92YWwgIT0gdmFsKSB7CgkJCQkJCQkJCQl2YXIgJHN0YXR1c19zeW5jID0gJCgnLnN0YXR1c19zeW5jJyk7CgkJCQkJCQkJCQkkc3RhdHVzX3N5bmMuaGlkZSgpOwoJCQkJCQkJCQkJJCgnLnN0YXR1c19zeW5jX2xvYWQnKS5zaG93KCk7CgkJCQkJCQkJCQkkLndoZW4oTWFpbi5rLlN5bmMucHVsbCh2YWwpKS50aGVuKGZ1bmN0aW9uICgpIHsKCQkJCQkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfc3luY19rZXknLCB2YWwpOwoJCQkJCQkJCQkJCSRzdGF0dXNfc3luYy5oaWRlKCk7CgkJCQkJCQkJCQkJJCgnLnN0YXR1c19zeW5jX29rJykuc2hvdygpOwoJCQkJCQkJCQkJfSkuZmFpbChmdW5jdGlvbiAoKSB7CgkJCQkJCQkJCQkJJHN0YXR1c19zeW5jLmhpZGUoKTsKCQkJCQkJCQkJCQkkKCcuc3RhdHVzX3N5bmNfa28nKS5zaG93KCk7CgoJCQkJCQkJCQkJfSk7CgoJCQkJCQkJCQl9CgkJCQkJCQkJCSR0aGlzLmRhdGEoJ3ZhbCcsIHZhbCk7CgkJCQkJCQkJfSwxMCk7CgkJCQkJCQl9KQoJCQkJCSkKCQkJCQkuYXBwZW5kKAoJCQkJCQkkKCc8ZGl2PicpCgkJCQkJCQkuY3NzKHsKCQkJCQkJCQlkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKCQkJCQkJCQlwb3NpdGlvbjogJ3JlbGF0aXZlJywKCQkJCQkJCQl0b3A6ICcycHgnCgkJCQkJCQl9KQoJCQkJCQkJLmFwcGVuZCgKCQkJCQkJCQkkKCc8aW1nPicpCgkJCQkJCQkJCS5hdHRyKHsKCQkJCQkJCQkJCSdzcmMnOiAnL2ltZy9pY29ucy91aS9hbGVydC5wbmcnCgkJCQkJCQkJCX0pCgkJCQkJCQkJCS5hZGRDbGFzcygnc3RhdHVzX3N5bmMgc3RhdHVzX3N5bmNfa28nKQoJCQkJCQkJCQkuY3NzKHsKCQkJCQkJCQkJCSdtYXJnaW4tbGVmdCc6ICc1cHgnLAoJCQkJCQkJCQkJZGlzcGxheTogKHN5bmNfa2V5ICE9IG51bGwgPyAnbm9uZScgOiAnaW5saW5lJyksCgkJCQkJCQkJCQlwb3NpdGlvbjogJ3JlbGF0aXZlJywKCQkJCQkJCQkJCXRvcDogJy0ycHgnCgkJCQkJCQkJCX0pCgkJCQkJCQkpCgkJCQkJCQkuYXBwZW5kKAoJCQkJCQkJCSQoJzxpbWc+JykKCQkJCQkJCQkJLmF0dHIoewoJCQkJCQkJCQkJJ3NyYyc6ICcvaW1nL2ljb25zL3VpL3JlcG9ydGVkLnBuZycKCQkJCQkJCQkJfSkKCQkJCQkJCQkJLmFkZENsYXNzKCdzdGF0dXNfc3luYyBzdGF0dXNfc3luY19vaycpCgkJCQkJCQkJCS5jc3MoewoJCQkJCQkJCQkJJ21hcmdpbi1sZWZ0JzogJzVweCcsCgkJCQkJCQkJCQlkaXNwbGF5OiAoc3luY19rZXkgPT0gbnVsbCA/ICdub25lJyA6ICdpbmxpbmUnKQoJCQkJCQkJCQl9KQoJCQkJCQkJKQoJCQkJCQkJLmFwcGVuZCgnPGltZyBjbGFzcz0iY2RMb2FkaW5nIHN0YXR1c19zeW5jIHN0YXR1c19zeW5jX2xvYWQiIHNyYz0iL2ltZy9pY29ucy91aS9sb2FkaW5nMS5naWYiIGFsdD0ibG9hZGluZy4uLiIgc3R5bGU9ImRpc3BsYXk6bm9uZSIvPicpCgoJCQkJCSkKCQkJKQoJCQkuYXBwZW5kVG8odGQpOwoJCQkkKCc8cD4nKQoJCQkJLmNzcyh7CgkJCQkJJ3RleHQtYWxpZ24nOiAnY2VudGVyJwoJCQkJfSkKCQkJCS5hcHBlbmQoCgkJCQkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL25lcm9uX2ZsdXcucG5nJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIkfDqW7DqXJlciB1bmUgbm91dmVsbGUgY2zDqSIpLCBudWxsLCBNYWluLmsuU3luYy5jcmVhdGVLZXkpCgkJCQkJCS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIikKCQkJCQkJLmFkZENsYXNzKCdjdHJsdycpCgkJCQkpCgkJCS5hcHBlbmRUbyh0ZCk7CgkJCSQoJzxwPicpCgkJCQkuY3NzKHsKCQkJCQkndGV4dC1hbGlnbic6ICdjZW50ZXInCgkJCQl9KQoJCQkJLmFwcGVuZCgKCQkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0naHR0cDovL2ltZ3VwLm1vdGlvbi10d2luLmNvbS90d2lub2lkLzYvNC82NjY2ZTUyOF80MDMwLmpwZycgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJTdXBwcmltZXIgbGEgY2zDqSIpLCBudWxsLCBmdW5jdGlvbigpewoJCQkJCQlpZihjb25maXJtKE1haW4uay50ZXh0LmdldHRleHQoJ1NpIHZvdXMgc3VwcHJpbWV6IGxhIGNsw6ksIHZvdXMgbmUgcG91cnJleiBwbHVzIHN5bmNocm9uaXNlciB2b3MgZG9ubsOpZXMsIHZvdWxleiB2b3VzIGNvbnRpbnVlciA/JykpKXsKCQkJCQkJCSQoJy5zdGF0dXNfc3luYycpLmhpZGUoKTsKCQkJCQkJCSQoJy5zdGF0dXNfc3luY19rbycpLnNob3coKTsKCQkJCQkJCWxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjdHJsd19zeW5jX2tleScpOwoJCQkJCQkJJCgnI2N0cmx3LXN5bmMta2V5JykudmFsKCcnKTsKCQkJCQkJfQoJCQkJCX0pCgkJCQkJLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQoJCQkJCS5hZGRDbGFzcygnY3RybHcnKQoJCQkJKQoJCQkJLmFwcGVuZFRvKHRkKTsKCQkJJCgnPHAgY2xhc3M9ImluZm8iPicpCgkJCQkuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJBZmluIGRlIHBvdXZvaXIgc3luY2hyb25pc2VyIHZvcyBkb25uw6llcyB2b3VzIGRldmV6IGVudHJlciB2b3RyZSBjbMOpIGQnYXV0aGVudGlmaWNhdGlvbi4gIiArCgkJCQkJIlNpIHZvdXMgbidlbiBuJ2F2ZXogcGFzLCBjbGlxdWV6IHN1ciBsZSBib3V0b24gXCJHw6luw6lyZXIgdW5lIG5vdXZlbGxlIGNsw6lcIiIpKQoJCQkJLmFwcGVuZFRvKHRkKTsKCQkJJCgnPHAgY2xhc3M9Indhcm5pbmciPicrTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ29uc2VydmV6IHByw6ljaWV1c2VtZW50IHZvdHJlIGNsw6kgKGRhbnMgdm90cmUgYmxvYy1ub3RlIFR3aW5vaWQgcGFyIGV4ZW1wbGUpIGFmaW4gZGUgcG91dm9pciByw6ljdXDDqXJlciB2b3MgZG9ubsOpZXMuIikrJzxwPicpCgkJCQkuYXBwZW5kVG8odGQpOwoJCX0KCQlNYWluLmsuZm9sZGluZy5kaXNwbGF5KFtudWxsLG51bGwsICIjc3luY19jb2wiXSwgInN5bmMiLCBmdW5jdGlvbigpIHsKCQl9KTsKCX07CglNYWluLmsuU3luYy5kaXNwbGF5ID0gZnVuY3Rpb24oc3VybmFtZSkgewoJCWlmIChNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgPT0gInN5bmMiKSB7CgkJCU1haW4uay5TeW5jLmNsb3NlKCk7CgkJfWVsc2V7CgkJCU1haW4uay5TeW5jLm9wZW4oKTsKCQl9Cgl9OwoJTWFpbi5rLlN5bmMuY2xvc2UgPSBmdW5jdGlvbigpewoJCU1haW4uay5mb2xkaW5nLmRpc3BsYXlHYW1lKCk7Cgl9OwoJTWFpbi5rLlN5bmMuY3JlYXRlS2V5ID0gZnVuY3Rpb24oKXsKCQl2YXIgJHN0YXR1c19zeW5jID0gJCgnLnN0YXR1c19zeW5jJyk7CgkJJHN0YXR1c19zeW5jLmhpZGUoKTsKCQkkKCcuc3RhdHVzX3N5bmNfbG9hZCcpLnNob3coKTsKCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCXVybCA6TWFpbi5rLnNlcnZ1cmwgKyAiL3N5bmMvY3JlYXRla2V5IiwKCQkJbWV0aG9kOiAiR0VUIiwKCQkJb25sb2FkOiBmdW5jdGlvbihqc29uKSB7CgkJCQkkc3RhdHVzX3N5bmMuaGlkZSgpOwoJCQkJJCgnLnN0YXR1c19zeW5jX29rJykuc2hvdygpOwoJCQkJdHJ5IHsKCQkJCQlqc29uID0gSlNPTi5wYXJzZShqc29uLnJlc3BvbnNlKTsKCQkJCX0gY2F0Y2ggKGUpIHsKCQkJCQlNYWluLmsucXVpY2tOb3RpY2VFcnJvcignVW5lIGVycmV1ciBzZXJ2ZXVyIHNcJ2VzdCBwcm9kdWl0ZScpOwoJCQkJCWNvbnNvbGUuZXJyb3IoJ2pzb24ga2V5Jyxqc29uKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfc3luY19rZXknLGpzb24ua2V5KTsKCQkJCSQoJyNjdHJsdy1zeW5jLWtleScpLnZhbChqc29uLmtleSk7CgkJCQlNYWluLmsuU3luYy5wdXNoKCk7CgkJCX0sCgkJCW9uZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXQsaHR0cCl7CgkJCQl2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkubWVzc2FnZTsKCQkJCSRzdGF0dXNfc3luYy5oaWRlKCk7CgkJCQkkKCcuc3RhdHVzX3N5bmNfa28nKS5zaG93KCk7CgkJCQlNYWluLmsucXVpY2tOb3RpY2VFcnJvcignVW5lIGVycmV1ciBzXCdlc3QgcHJvZHVpdGUgOiAnKyBtZXNzYWdlKTsKCQkJCWNvbnNvbGUud2Fybih4aHIsc3RhdHV0LGh0dHApOwoJCQl9CgkJfSk7Cgl9OwoJTWFpbi5rLlN5bmMucHVsbCA9IGZ1bmN0aW9uKGtleSkgewoJCWNvbnNvbGUuaW5mbygnTWFpbi5rLlN5bmMucHVsbCcpOwoJCXZhciBkZmQgPSBuZXcgalF1ZXJ5LkRlZmVycmVkKCk7CgkJaWYodHlwZW9mKGtleSkgPT0gJ3VuZGVmaW5lZCcpewoJCQlrZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3RybHdfc3luY19rZXknKTsKCQl9CgkJaWYoa2V5ID09IG51bGwpewoJCQlkZmQucmVqZWN0KCdrZXlfbnVsbCcpOwoJCX1lbHNlewoJCQl2YXIgYnV0dG9uID0gJCgnI2N0cmx3X3N5bmNfYnV0dG9uJyk7CgkJCWJ1dHRvbi5maW5kKCdpbWcnKS5oaWRlKCk7CgkJCWJ1dHRvbi5maW5kKCcuY3RybHdfZG93bicpLnNob3coKTsKCQkJY29uc29sZS5sb2coJ01haW4uay5TeW5jLnB1bGwgcmVxdWVzdCcpOwoJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQltZXRob2Q6ICdQT1NUJywKCQkJCXVybCA6IE1haW4uay5zZXJ2dXJsICsgIi9zeW5jL3B1bGwiLAoJCQkJZGF0YSA6ICQucGFyYW0oewoJCQkJCWxhc3RfdXBkYXRlX3RpbWUgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3RybHdfc3luY19sYXN0X3VwZGF0ZV90aW1lJyksCgkJCQkJa2V5OiBrZXkKCQkJCX0pLAoJCQkJaGVhZGVyczogewoJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgoJCQkJfSwKCQkJCW9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQlidXR0b24uZmluZCgnaW1nJykuaGlkZSgpOwoJCQkJCWJ1dHRvbi5maW5kKCcuY3RybHdfbm9ybWFsJykuc2hvdygpOwoJCQkJCWlmKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApewoJCQkJCQl2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKCQkJCQkJY29uc29sZS5sb2coJ01haW4uay5TeW5jLnB1bGwgcmVzcG9uc2UnLGpzb24pOwoJCQkJCQlpZihqc29uLmVycm9yID09ICdhdXRoJyl7CgkJCQkJCQlNYWluLmsucXVpY2tOb3RpY2VFcnJvcignQ2V0dGUgY2zDqSBuXCdleGlzdGUgcGFzJyk7CgkJCQkJCQlkZmQucmVqZWN0KCdhdXRoJyk7CgkJCQkJCX1lbHNlewoJCQkJCQkJaWYoanNvbi5zdGF0dXMgPT0gJ291dGRhdGVkJyl7CgkJCQkJCQkJY29uc29sZS53YXJuKEpTT04ucGFyc2UoanNvbi5zeW5jLnByb2ZpbGVzKSk7CgkJCQkJCQkJTWFpbi5rLlByb2ZpbGVzLmxvYWQoanNvbi5zeW5jLnByb2ZpbGVzLHRydWUpOwoJCQkJCQkJCWlmKHR5cGVvZihqc29uLnN5bmMubXNnc19wcmVyZWNvcmRlZCkgIT0gJ3VuZGVmaW5lZCcpewoJCQkJCQkJCQlNYWluLmsuTWFuYWdlci5sb2FkTXNnc1ByZXJlY29yZGVkKGpzb24uc3luYy5tc2dzX3ByZXJlY29yZGVkLHRydWUpOwoJCQkJCQkJCX0KCQkJCQkJCQlNYWluLmsuR2FtZUluZm9zLmxvYWQoanNvbi5zeW5jLmdhbWVfaW5mb3MpOwoJCQkJCQkJCU1haW4uay5xdWlja05vdGljZShNYWluLmsudGV4dC5nZXR0ZXh0KCdTeW5jaHJvbmlzYXRpb24gZWZmZWN0dcOpZScpKTsKCQkJCQkJCQlNYWluLmsuTXVzaFVwZGF0ZSgpOwoJCQkJCQkJfQoJCQkJCQkJZGZkLnJlc29sdmUoKTsKCQkJCQkJfQoJCQkJCX1lbHNlewoJCQkJCQlNYWluLmsucXVpY2tOb3RpY2VFcnJvcignU3luYyBwdWxsLCBmYXRhbCBlcnJvcicpOwoJCQkJCX0KCgoJCQkJfSwKCQkJCW9uZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXQsaHR0cCl7CgkJCQkJYWxlcnQoJ2Vycm9yIE1haW4uay5TeW5jLnB1bGwnKTsKCQkJCQljb25zb2xlLndhcm4oeGhyLHN0YXR1dCxodHRwKTsKCQkJCQlidXR0b24uZmluZCgnaW1nJykuaGlkZSgpOwoJCQkJCWJ1dHRvbi5maW5kKCcuY3RybHdfbm9ybWFsJykuc2hvdygpOwoJCQkJCWRmZC5yZWplY3QoJ2FqYXhfZXJyb3InKTsKCgoJCQkJfQoJCQl9KTsKCQl9CgoJCXJldHVybiBkZmQucHJvbWlzZSgpOwoJfTsKCU1haW4uay5TeW5jLnB1c2ggPSBmdW5jdGlvbihmb3JjZV9wdXNoKSB7CgkJY29uc29sZS5pbmZvKCd4aHIgU3luYy5wdXNoMScpOwoJCXZhciBrZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3RybHdfc3luY19rZXknKTsKCQlpZihrZXkgPT0gbnVsbCl7CgkJCXJldHVybjsKCQl9CgkJaWYodHlwZW9mKGZvcmNlX3B1c2gpID09ICd1bmRlZmluZWQnKXsKCQkJZm9yY2VfcHVzaCA9IGZhbHNlOwoJCX0KCQl2YXIgYnV0dG9uID0gJCgnI2N0cmx3X3N5bmNfYnV0dG9uJyk7CgkJYnV0dG9uLmZpbmQoJ2ltZycpLmhpZGUoKTsKCQlidXR0b24uZmluZCgnLmN0cmx3X3VwJykuc2hvdygpOwoJCWNvbnNvbGUuaW5mbygneGhyIFN5bmMucHVzaDInKTsKCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQltZXRob2Q6ICJQT1NUIiwKCQkJCXVybDogTWFpbi5rLnNlcnZ1cmwgKyAiL3N5bmMvcHVzaCIsCgkJCQlkYXRhIDogJC5wYXJhbSh7CgkJCQkJbGFzdF91cGRhdGVfdGltZSA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdHJsd19zeW5jX2xhc3RfdXBkYXRlX3RpbWUnKSwKCQkJCQltdXNoX3RpbWU6ICQoJyNpbnB1dCcpLmF0dHIoJ25vdycpLAoJCQkJCXByb2ZpbGVzOiBKU09OLnN0cmluZ2lmeShNYWluLmsuUHJvZmlsZXMuZGF0YSksCgkJCQkJZ2FtZV9pbmZvczogSlNPTi5zdHJpbmdpZnkoTWFpbi5rLkdhbWVJbmZvcy5kYXRhKSwKCQkJCQltc2dzX3ByZXJlY29yZGVkOiBKU09OLnN0cmluZ2lmeShNYWluLmsuTWFuYWdlci5tc2dzX3ByZXJlY29yZGVkKSwKCQkJCQlrZXk6IGtleSwKCQkJCQlmb3JjZSA6IGZvcmNlX3B1c2ggPyAxIDogMAoJCQkJfSksCgkJCQloZWFkZXJzOiB7CgkJCQkJIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCgkJCQl9LAoJCQkJb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCWNvbnNvbGUud2FybigncmVzcG9uc2UnLHJlc3BvbnNlKTsKCgkJCQkJaWYocmVzcG9uc2Uuc3RhdHVzID09IDIwMCl7CgkJCQkJCS8qKiBAdHlwZSB7e3N5bmM6PE9iamVjdHt1cGRhdGVkX2F0OnN0cmluZ30+LHN0YXR1czpzdHJpbmd9fSAqKi8KCQkJCQkJdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CgkJCQkJCWNvbnNvbGUud2FybignanNvbicsanNvbik7CgkJCQkJCS8vanNvbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N0cmx3X2pzb25fdGVzdCcpKTsKCQkJCQkJaWYoanNvbi5zdGF0dXMgPT0gJ29rJyl7CgkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfc3luY19sYXN0X3VwZGF0ZV90aW1lJywkKCcjaW5wdXQnKS5hdHRyKCdub3cnKSk7CgkJCQkJCX1lbHNlewoJCQkJCQkJY29uc29sZS53YXJuKCdqc29uLnN0YXR1cycsanNvbi5zdGF0dXMpOwoJCQkJCQkJaWYodHlwZW9mKGpzb24uc3RhdHVzKSAhPSd1bmRlZmluZWQnKXsKCQkJCQkJCQlpZih0eXBlb2YoanNvbi5lcnJvcikgIT0ndW5kZWZpbmVkJyAmJiBqc29uLmVycm9yID09ICdhdXRoJyl7CgkJCQkJCQkJCU1haW4uay5xdWlja05vdGljZUVycm9yKE1haW4uay50ZXh0LmdldHRleHQoJ1N5bmNocm9uaXNhdGlvbiBpbXBvc3NpYmxlLCBjbMOpIGluY29ycmVjdGUnKSk7CgkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCXZhciBwb3B1cCA9IE1haW4uay5DcmVhdGVQb3B1cCgpOwoJCQkJCQkJCQlwb3B1cC5jb250ZW50LmNzcyh7CgkJCQkJCQkJCQkiaGVpZ2h0IjogImF1dG8iLAoJCQkJCQkJCQkJIm1heC1oZWlnaHQiOiAiOTAlIiwKCQkJCQkJCQkJCSJ3aWR0aCI6ICI3MDBweCIsCgkJCQkJCQkJCQkiY29sb3IiOiAiI0ZGRiIKCQkJCQkJCQkJfSk7CgoJCQkJCQkJCQkvLyBGaWxsIHBvcHVwIGNvbnRlbnQKCQkJCQkJCQkJdmFyIGNvbnRlbnQgPSAiPGRpdiBjbGFzcz0nc3luY19hc2sgcG9wdXAtY29udGVudCc+IiArIE1haW4uay50ZXh0LmdldHRleHQoJ0xlcyBkb25uw6llcyBkaXN0YW50ZXMgc29udCBwbHVzIHLDqWNlbnRlcyBxdWUgbGVzIGRvbm7DqWVzIGxvY2FsZXMuIDxici8+IFF1ZSB2b3VsZXogdm91cyBmYWlyZSA/JykgKyAnPGJyLz4nICsKCQkJCQkJCQkJCU1haW4uay50ZXh0LmdldHRleHQoJ0RhdGUgc3luY2hybyBzZXJ2ZXVyIDogJykgKyBuZXcgRGF0ZShqc29uLnN5bmMubXVzaF90aW1lKSArICc8YnIvPicgKwoJCQkJCQkJCQkJTWFpbi5rLnRleHQuZ2V0dGV4dCgnRGF0ZSBzeW5jaHJvIGxvY2FsZSA6ICcpICsgbmV3IERhdGUocGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N0cmx3X3N5bmNfbGFzdF91cGRhdGVfdGltZScpKSkgKwoJCQkJCQkJCQkJIjwvZGl2PiI7CgkJCQkJCQkJCXZhciBidXR0b25zID0gJCgiPGRpdiBjbGFzcz0ncG9wdXAtYWN0aW9ucyc+IiArCgkJCQkJCQkJCQkJCQkJIjxkaXYgaWQ9XCJjb25maXJtX3B1bGxcIiBjbGFzcz1cImJ1dCB1cGRhdGVzYnRuXCIgPiIgKwoJCQkJCQkJCQkJCQkJCQkiPGRpdiBjbGFzcz1cImJ1dHJpZ2h0XCI+IiArCgkJCQkJCQkJCQkJCQkJCQkiPGRpdiBjbGFzcz1cImJ1dGJnXCI+IiArCgkJCQkJCQkJCQkJCQkJCQkJIjxhIGhyZWY9XCIjXCI+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJFY3Jhc2VyIGxlcyBkb25uw6llcyBsb2NhbGVzIikrIjwvYT4iICsKCQkJCQkJCQkJCQkJCQkJCSI8L2Rpdj4iICsKCQkJCQkJCQkJCQkJCQkJIjwvZGl2PiIgKwoJCQkJCQkJCQkJCQkJCSI8L2Rpdj4iICsKCQkJCQkJCQkJCQkJCQkiPGRpdiBpZD1cImNvbmZpcm1fcHVzaFwiIGNsYXNzPVwiYnV0IHVwZGF0ZXNidG5cIiA+IiArCgkJCQkJCQkJCQkJCQkJCSI8ZGl2IGNsYXNzPVwiYnV0cmlnaHRcIj4iICsKCQkJCQkJCQkJCQkJCQkJCSI8ZGl2IGNsYXNzPVwiYnV0YmdcIj4iICsKCQkJCQkJCQkJCQkJCQkJCQkiPGEgaHJlZj1cIiNcIj4iK01haW4uay50ZXh0LmdldHRleHQoIkVjcmFzZXIgbGVzIGRvbm7DqWVzIGRpc3RhbnRlcyIpKyI8L2E+IiArCgkJCQkJCQkJCQkJCQkJCQkiPC9kaXY+IiArCgkJCQkJCQkJCQkJCQkJCSI8L2Rpdj4iICsKCQkJCQkJCQkJCQkJCQkiPC9kaXY+IiArCgkJCQkJCQkJCQkJCQkgIjwvZGl2PiIpOwoJCQkJCQkJCQlidXR0b25zLmZpbmQoJyNjb25maXJtX3B1bGwnKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpewoJCQkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQkJTWFpbi5rLlN5bmMucHVsbCgpOwoJCQkJCQkJCQkJTWFpbi5rLkNsb3NlUG9wdXAoKTsKCQkJCQkJCQkJfSk7CgkJCQkJCQkJCWJ1dHRvbnMuZmluZCgnI2NvbmZpcm1fcHVzaCcpLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7CgkJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQlNYWluLmsuU3luYy5wdXNoKHRydWUpOwoJCQkJCQkJCQkJTWFpbi5rLkNsb3NlUG9wdXAoKTsKCQkJCQkJCQkJfSk7CgkJCQkJCQkJCXZhciBjYW5jZWxBYyA9ICInTWFpbi5rLkNsb3NlUG9wdXAoKTsnIjsKCQkJCQkJCQkJdmFyIGNhbmNlbCA9ICI8ZGl2IGlkPVwiY2FuY2VsXCIgY2xhc3M9XCJidXQgdXBkYXRlc2J0blwiIG9uY2xpY2s9IiArIGNhbmNlbEFjICsgIj48ZGl2IGNsYXNzPVwiYnV0cmlnaHRcIj48ZGl2IGNsYXNzPVwiYnV0YmdcIj48YSBocmVmPVwiI1wiPiIgKyBNYWluLmdldFRleHQoImNhbmNlbCIpICsgIjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4iOwoJCQkJCQkJCQlidXR0b25zLmFwcGVuZChjYW5jZWwpOwoJCQkJCQkJCQkkKCI8ZGl2PiIpLmh0bWwoY29udGVudCkuYXBwZW5kKGJ1dHRvbnMpLmFwcGVuZFRvKHBvcHVwLmNvbnRlbnQpOwoKCQkJCQkJCQkJLy8gRGlzcGxheSBwb3B1cAoJCQkJCQkJCQlNYWluLmsuT3BlblBvcHVwKHBvcHVwLmRvbSk7CgkJCQkJCQkJCS8vTWFpbi5rLlN5bmMucHVsbCgpOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlidXR0b24uZmluZCgnaW1nJykuaGlkZSgpOwoJCQkJCQlidXR0b24uZmluZCgnLmN0cmx3X25vcm1hbCcpLnNob3coKTsKCQkJCQl9ZWxzZXsKCQkJCQkJTWFpbi5rLnF1aWNrTm90aWNlRXJyb3IoJ1N5bmMgcHVzaCwgZmF0YWwgZXJyb3InKTsKCQkJCQl9CgoKCQkJCX0sCgkJCQlvbmVycm9yOiBmdW5jdGlvbih4aHIsc3RhdHV0LGh0dHApewoJCQkJCWFsZXJ0KCdlcnJvciBNYWluLmsuU3luYy5wdXNoJyk7CgkJCQkJY29uc29sZS53YXJuKHhocixzdGF0dXQsaHR0cCk7CgkJCQl9CgkJCX0pOwoJCX0sIDApOwoJfTsKCU1haW4uay5TeW5jLnB1c2hEZWxheSA9IGZ1bmN0aW9uKCkgewoJCXZhciBkZWxheSA9IDU7CgkJdmFyIGtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdHJsd19zeW5jX2tleScpOwoJCWlmKGtleSA9PSBudWxsKXsKCQkJcmV0dXJuOwoJCX0KCQl2YXIgYnV0dG9uID0gJCgnI2N0cmx3X3N5bmNfYnV0dG9uJyk7CgkJYnV0dG9uLmZpbmQoJ2ltZycpLmhpZGUoKTsKCQlidXR0b24uZmluZCgnLmN0cmx3X3doZWVscycpLnNob3coKTsKCQljbGVhclRpbWVvdXQoTWFpbi5rLlN5bmMucHVzaF90aW1lcik7CgkJYnV0dG9uLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7CgoJCS8qIHRyaWNrIGZvciByZXNldCBhbmltYXRpb24gKi8KCQl2YXIgYnV0dG9uX2Nsb25lID0gYnV0dG9uLmNsb25lKHRydWUpOwoJCWJ1dHRvbi5iZWZvcmUoYnV0dG9uX2Nsb25lKS5yZW1vdmUoKTsKCQlidXR0b24gPSBidXR0b25fY2xvbmU7CgoJCXZhciBjb3VudGVyID0gYnV0dG9uLmZpbmQoJy5jb3VudGVyJyk7CgkJTWFpbi5rLmNvdW50ZG93blRpbWVyLnN0b3AoJ3N5bmNkZWxheScpOwoJCWJ1dHRvbi5hZGRDbGFzcygnbG9hZGluZycpOwoJCWNvdW50ZXIudGV4dChkZWxheSk7CgkJTWFpbi5rLmNvdW50ZG93blRpbWVyLmdvKGRlbGF5LCdzeW5jZGVsYXknLGZ1bmN0aW9uKGNvdW50KXsKCQkJYnV0dG9uLmZpbmQoJy5jb3VudGVyJykudGV4dChjb3VudCk7CgkJCWlmKGNvdW50IDw9IDApewoJCQkJY291bnRlci50ZXh0KCcnKTsKCQkJfQoJCX0pOwoJCU1haW4uay5TeW5jLnB1c2hfdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CgkJCWJ1dHRvbi5maW5kKCdpbWcnKS5oaWRlKCk7CgkJCWJ1dHRvbi5maW5kKCcuY3RybHdfbm9ybWFsJykuc2hvdygpOwoJCQlidXR0b24ucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTsKCQkJTWFpbi5rLlN5bmMucHVzaCgpOwoJCQlNYWluLmsuU3luYy5wdXNoX3RpbWVyID0gbnVsbDsKCQl9LGRlbGF5ICogMTAwMCk7Cgl9OwoJY2FsbGJhY2tzX3N0b3JhZ2Vfc3luYy5hZGQoTWFpbi5rLlN5bmMucHVzaERlbGF5KTsKCgoJLy8gPT0gL1N5bmMgTWFuYWdlciAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgoJLy8gPT0gUHJvZmlsZXMgTWFuYWdlciAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJTWFpbi5rLlByb2ZpbGVzID0ge307CglNYWluLmsuUHJvZmlsZXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCU1haW4uay5Qcm9maWxlcy5jdXJyZW50ID0gbnVsbDsKCU1haW4uay5Qcm9maWxlcy5kYXRhID0ge307CglNYWluLmsuUHJvZmlsZXMub3BlbiA9IGZ1bmN0aW9uKCkgewoJCS8qKiBAdHlwZSB7e3N1cm5hbWU6c3RyaW5nLHN0YXR1c2VzOkxpc3QsIHRpdGxlczpMaXN0LCBkZXZfc3VybmFtZTpzdHJpbmd9fSAqKi8KCQl2YXIgb19oZXJvOwoJCWNvbnNvbGUubG9nKCdNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQnLE1haW4uay5mb2xkaW5nLmRpc3BsYXllZCk7CgkJaWYgKCFNYWluLmsuUHJvZmlsZXMuaW5pdGlhbGl6ZWQpIHsKCQkJTWFpbi5rLlByb2ZpbGVzLmluaXRpYWxpemVkID0gdHJ1ZTsKCQkJdmFyIGggPSBNYWluLmsuaFtNYWluLmsuUHJvZmlsZXMuY3VycmVudF07CgkJCWNvbnNvbGUubG9nKGgpOwoJCQl2YXIgdGQgPSAkKCI8dGQ+IikuYWRkQ2xhc3MoImNoYXRfYm94IGN0cmx3X2NvbCIpLmNzcyh7CgkJCQkicGFkZGluZy1yaWdodCI6ICI2cHgiLAoJCQkJInBhZGRpbmctdG9wIjogIjFweCIsCgkJCQl0cmFuc2Zvcm06ICJzY2FsZSgwLDEpIiwKCQkJCWNvbG9yOiAicmdiKDksMTAsOTcpIgoJCQl9KS5hdHRyKCJpZCIsICJwcm9maWxlX2NvbCIpLmFwcGVuZFRvKCQoInRhYmxlLmludGVyIHRyIikuZmlyc3QoKSk7CgoJCQl2YXIgaGVhZGVyID0gJCgiPGRpdj4iKS5hZGRDbGFzcygiaGVhZGVyIikuY3NzKHsKCQkJCWJhY2tncm91bmQ6ICJyZ2JhKDUyLDc0LDE0NiwwLjM1KSIKCQkJfSkuYXBwZW5kVG8odGQpOwoJCQkkKCI8aW1nPiIpLmNzcyh7CgkJCQloZWlnaHQ6ICIxMjBweCIsCgkJCQlmbG9hdDogImxlZnQiLAoJCQkJbWFyZ2luOiAiNHB4IgoJCQl9KS5hdHRyKCJzcmMiLCAiL2ltZy9hcnQvY2hhci8iICsgaC5kZXZfc3VybmFtZV9sb25nICsgIi5qcGciKS5hcHBlbmRUbyhoZWFkZXIpOwoJCQkkKCI8aDM+IikuY3NzKHsKCQkJCXBvc2l0aW9uOiAicmVsYXRpdmUiLAoJCQkJbWFyZ2luOiAiMnB4IDVweCA1cHggOTRweCIsCgkJCQljb2xvcjogIiNFRUUiLAoJCQkJImJvcmRlci1ib3R0b20iOiAiMnB4IHNvbGlkICNFRUUiLAoJCQkJInBhZGRpbmctYm90dG9tIjogIjJweCIsCgkJCQkiZm9udC1zaXplIjogIjE3cHgiCgkJCX0pLmh0bWwoIjxzcGFuPiIgKyBNYWluLmsuZ2V0RnVsbE5hbWUoTWFpbi5rLlByb2ZpbGVzLmN1cnJlbnQpICsgIjwvc3Bhbj4iKS5hcHBlbmRUbyhoZWFkZXIpOwoJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvYXdha2UucG5nJyAvPiIsbnVsbCxmdW5jdGlvbihldmVudCkgewoJCQkJTWFpbi5rLlByb2ZpbGVzLnNldChNYWluLmsuUHJvZmlsZXMuY3VycmVudCk7CgkJCX0pLmNzcyh7CgkJCQlwb3NpdGlvbjogImFic29sdXRlIiwKCQkJCXRvcDogIjJweCIsCgkJCQlyaWdodDogIjNweCIKCQkJfSkKCQkJCS5hZGRDbGFzcygnc3B5IGN0cmx3JykKCQkJCS5hcHBlbmRUbygkKCJoMyIsaGVhZGVyKSkuZmluZCgiYSIpCgkJCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiRXNwaW9ubmFnZSIpKQoJCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiPHA+Vm91cyDDqnRlcyBkYW5zIGxhIG3Dqm1lIHBpw6hjZSBxdWUgY2V0dGUgcGVyc29ubmUgOyB2b3VzIHBvdXZleiBkb25jIGwnZXhhbWluZXIgZGUgcGx1cyBwcsOocy48L3A+PHA+PHN0cm9uZz5DbGlxdWV6IGljaSBwb3VyIGVucmVnaXN0cmVyIGxlcyBjb21ww6l0ZW5jZXMgdmlzaWJsZXMsIHN0YXR1dHMgcHVibGlxdWVzIGV0IHRpdHJlcyBkZSBjZSBwZXJzb25uYWdlLjwvc3Ryb25nPjxwPiIpKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCgkJCSQoJzxkaXY+JykKCQkJCS5hZGRDbGFzcygnaGVyby1kZXRhaWxzJykKCQkJCS5hcHBlbmRUbyhoZWFkZXIpOwoJCQkkKCI8ZGl2PiIpLmFkZENsYXNzKCJjbGVhciIpLmFwcGVuZFRvKGhlYWRlcik7CgkJCXZhciByID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicmlnaHQiKS5jc3MoewoJCQkJIm1hcmdpbi10b3AiOiAiMTBweCIKCQkJfSkuYXBwZW5kVG8odGQpOwoJCQl2YXIgJG5vdGVzID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJwcm9maWxlLW5vdGVzIikuYWRkQ2xhc3MoInJpZ2h0YmcgY2hhdHRleHQiKS5jc3MoewoJCQkJcmVzaXplOiAibm9uZSIsCgkJCQloZWlnaHQ6ICIyOTNweCIsCgkJCQkibWluLWhlaWdodCI6ICIwIgoJCQl9KS5hcHBlbmRUbyhyKTsKCQkJJG5vdGVzCgkJCQkuYXBwZW5kKAoJCQkJCSQoJzxkaXY+JykuYWRkQ2xhc3MoJ3Byb2ZpbGUtY29udGVudCcpCgkJCQkJCS5hcHBlbmQoCgkJCQkJCQkkKCc8bGFiZWw+JykKCQkJCQkJCQkuYXR0cignZm9yJywndGlueS1ub3RlcycpCgkJCQkJCQkJLmh0bWwoJzxpbWcgc3JjPSIvaW1nL2ljb25zL3VpL2luZm9hbGVydC5wbmciIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b20iLz4gJytNYWluLmsudGV4dC5nZXR0ZXh0KCdOb3RlcyByw6lzdW3DqWVzIDonKSkKCQkJCQkJCQkuYWRkVG9vbHRpcChNYWluLmsudGV4dC5nZXR0ZXh0KCdOb3RlcyByw6lzdW3DqWVzIDonKSxNYWluLmsudGV4dC5nZXR0ZXh0KCdDZSB0ZXh0ZSBhcHBhcmFpdHJhIGF1IHN1cnZvbCBkZSBsYSBzb3VyaXMgc3VyIGxcJ2ljb25lIGR1IHBlcnNvbm5hZ2Ugw6AgbGEgcGxhY2UgZGUgbGEgZGVzY3JpcHRpb24gb3JpZ2luYWxlIGR1IGpldScpKQoJCQkJCQkpCgkJCQkJCQkuYXBwZW5kKAoJCQkJCQkJJCgnPHRleHRhcmVhPicpCgkJCQkJCQkJLmFkZENsYXNzKCdjaGF0Ym94JykKCQkJCQkJCQkuYXR0cignaWQnLCd0aW55LW5vdGVzJykKCQkJCQkJCQkub24oJ2ZvY3VzJyxmdW5jdGlvbigpeyQodGhpcykuYWRkQ2xhc3MoJ2NoYXRib3hmb2N1cycpO30pCgkJCQkJCQkJLm9uKCdrZXl1cCcsZnVuY3Rpb24oKXsKCQkJCQkJCQkJJCgnLmRlc2Mtc3VibWl0LWJ1dHRvbiBpbWcnKS5oaWRlKCk7CgkJCQkJCQkJCSQoJy5kZXNjLXN1Ym1pdC1idXR0b24gaW1nLmRlc2Mta28nKS5zaG93KCk7CgkJCQkJCQkJfSkKCQkJCQkJKQoJCQkJCQkJLmFwcGVuZCgKCQkJCQkJCSQoJzxsYWJlbD4nKQoJCQkJCQkJCS5hdHRyKCdmb3InLCdsb25nLW5vdGVzJykKCQkJCQkJCQkudGV4dChNYWluLmsudGV4dC5nZXR0ZXh0KCdOb3RlcyBkw6l0YWlsbMOpZXMgOicpKQoJCQkJCQkpCgkJCQkJCQkuYXBwZW5kKAoJCQkJCQkJJCgnPHRleHRhcmVhPicpCgkJCQkJCQkJLmFkZENsYXNzKCdjaGF0Ym94JykKCQkJCQkJCQkuYXR0cignaWQnLCdsb25nLW5vdGVzJykKCQkJCQkJCQkub24oJ2ZvY3VzJyxmdW5jdGlvbigpeyQodGhpcykuYWRkQ2xhc3MoJ2NoYXRib3hmb2N1cycpO30pCgkJCQkJCQkJLm9uKCdrZXl1cCcsZnVuY3Rpb24oKXsKCQkJCQkJCQkJJCgnLmRlc2Mtc3VibWl0LWJ1dHRvbiBpbWcnKS5oaWRlKCk7CgkJCQkJCQkJCSQoJy5kZXNjLXN1Ym1pdC1idXR0b24gaW1nLmRlc2Mta28nKS5zaG93KCk7CgkJCQkJCQkJfSkKCQkJCQkJKQoJCQkJKTsKCQkJdmFyICRhY3Rpb25zID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnYWN0aW9ucycpLmFwcGVuZFRvKCRub3Rlcyk7CgoJCQlNYWluLmsuTWFrZUJ1dHRvbigKCQkJCQkiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvYWxlcnQucG5nJyBzdHlsZT1cImRpc3BsYXk6bm9uZVwiIGNsYXNzPVwiZGVzYy1rb1wiIC8+PGltZyBjbGFzcz1cImRlc2Mtb2tcIiBzdHlsZT0ndmVydGljYWwtYWxpZ246dGV4dC1ib3R0b20nIHNyYz0nL2ltZy9pY29ucy91aS9wcm9qZWN0c19kb25lLnBuZycgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCdFbnJlZ2lzdHJlcicpLAoJCQkJCW51bGwsCgkJCQkJZnVuY3Rpb24oZSl7CgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJdmFyIHByb2ZpbGUgPSBNYWluLmsuUHJvZmlsZXMuZ2V0KCk7CgkJCQkJCXByb2ZpbGUuc2hvcnRfZGVzYyA9ICQoJyN0aW55LW5vdGVzJykudmFsKCk7CgkJCQkJCXByb2ZpbGUubG9uZ19kZXNjID0gJCgnI2xvbmctbm90ZXMnKS52YWwoKTsKCQkJCQkJTWFpbi5rLlByb2ZpbGVzLnNldChwcm9maWxlKTsKCQkJCQkJJCgnLmRlc2Mtc3VibWl0LWJ1dHRvbiBpbWcnKS5oaWRlKCk7CgkJCQkJCSQoJy5kZXNjLXN1Ym1pdC1idXR0b24gaW1nLmRlc2Mtb2snKS5zaG93KCk7CgkJCQkJfQoJCQkJKQoJCQkJLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQoJCQkJLmFkZENsYXNzKCdkZXNjLXN1Ym1pdC1idXR0b24nKQoJCQkJLmFwcGVuZFRvKCRhY3Rpb25zKTsKCgkJCXZhciBjbG9zZSA9ICQoIjxkaXY+IikuY3NzKHsKCQkJCSJ0ZXh0LWFsaWduIjogImNlbnRlciIsCgkJCQltYXJnaW46ICIxMHB4IDAgMCIKCQkJfSkuYXBwZW5kVG8odGQpOwoJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvcGFnZWxlZnQucG5nJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoJ1JldG91ciBhdSBqZXUnKSwgbnVsbCwgTWFpbi5rLlByb2ZpbGVzLmNsb3NlKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIikuYXBwZW5kVG8oY2xvc2UpOwoKCQl9CgkJTWFpbi5rLlByb2ZpbGVzLnVwZGF0ZSgpOwoJCU1haW4uay5mb2xkaW5nLmRpc3BsYXkoW251bGwsbnVsbCwgIiNwcm9maWxlX2NvbCJdLCAicHJvZmlsZXMiLCBmdW5jdGlvbigpIHsKCQl9KTsKCX07CglNYWluLmsuUHJvZmlsZXMuZGlzcGxheSA9IGZ1bmN0aW9uKHN1cm5hbWUpIHsKCQljb25zb2xlLmdyb3VwKCdNYWluLmsuUHJvZmlsZXMuZGlzcGxheScpOwoJCWNvbnNvbGUubG9nKCdzdXJuYW1lJyxzdXJuYW1lKTsKCQljb25zb2xlLmxvZyhNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgKycgPT0gInByb2ZpbGVzIiAmJiAnICsgc3VybmFtZSArICcgPT0gJysgTWFpbi5rLlByb2ZpbGVzLmN1cnJlbnQpOwoJCWlmIChNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgPT0gInByb2ZpbGVzIiAmJiBzdXJuYW1lID09IE1haW4uay5Qcm9maWxlcy5jdXJyZW50KSB7CgkJCU1haW4uay5Qcm9maWxlcy5jbG9zZSgpOwoJCX1lbHNlewoJCQlNYWluLmsuUHJvZmlsZXMuY3VycmVudCA9IHN1cm5hbWU7CgkJCU1haW4uay5Qcm9maWxlcy5vcGVuKCk7CgkJfQoJCWNvbnNvbGUuZ3JvdXBFbmQoKTsKCX07CglNYWluLmsuUHJvZmlsZXMudXBkYXRlID0gZnVuY3Rpb24oKSB7CgkJY29uc29sZS5ncm91cCgnTWFpbi5rLlByb2ZpbGVzLnVwZGF0ZScpOwoJCWlmKE1haW4uay5Qcm9maWxlcy5jdXJyZW50ID09IG51bGwpewoJCQlyZXR1cm47CgkJfQoJCWNvbnNvbGUubG9nKCdNYWluLmsuUHJvZmlsZXMuY3VycmVudCcsTWFpbi5rLlByb2ZpbGVzLmN1cnJlbnQpOwoJCXZhciAkcHJvZmlsZV9jb2wgPSAkKCIjcHJvZmlsZV9jb2wiKTsKCQl2YXIgJGhlYWRlciA9ICRwcm9maWxlX2NvbC5maW5kKCIuaGVhZGVyIik7CgkJdmFyICRoZXJvX2RldGFpbHMgPSAkcHJvZmlsZV9jb2wuZmluZCgnLmhlcm8tZGV0YWlscycpOwoKCQl2YXIgJHRoaXMgPSB0aGlzOwoJCXZhciBoID0gTWFpbi5rLmhbTWFpbi5rLlByb2ZpbGVzLmN1cnJlbnRdOwoKCQkkaGVyb19kZXRhaWxzLmVtcHR5KCk7CgoJCS8vIERpc3BsYXkgaGVybwoJCSRoZWFkZXIuZmluZCgiaW1nIikuZmlyc3QoKS5hdHRyKCJzcmMiLCAiL2ltZy9hcnQvY2hhci8iICsgaC5kZXZfc3VybmFtZV9sb25nICsgIi5qcGciKTsKCQkkaGVhZGVyLmZpbmQoImgzIHNwYW4iKS5odG1sKE1haW4uay5nZXRGdWxsTmFtZShNYWluLmsuUHJvZmlsZXMuY3VycmVudCkpOwoKCQl2YXIgb19oZXJvID0gdGhpcy5nZXQoTWFpbi5rLlByb2ZpbGVzLmN1cnJlbnQpOwoJCXZhciAkc3B5X2J1dHRvbiA9ICRwcm9maWxlX2NvbC5maW5kKCcuc3B5Jyk7CgkJaWYoJC5pbkFycmF5KE1haW4uay5Qcm9maWxlcy5jdXJyZW50LE1haW4uay5oZXJvZXNfc2FtZV9yb29tKSAhPSAtMSl7CgkJCSRzcHlfYnV0dG9uLnNob3coKTsKCQl9ZWxzZXsKCQkJJHNweV9idXR0b24uaGlkZSgpOwoJCX0KCQljb25zb2xlLmxvZygnb19oZXJvJyxvX2hlcm8pOwoJCWlmKG9faGVybyAhPSBudWxsKXsKCQkJdmFyIHN0YXR1c2VzID0gJCgiPGRpdj4iKS5hZGRDbGFzcygiaWNvbnMgc3RhdHVzZXMiKTsKCQkJJC5lYWNoKG9faGVyby5zdGF0dXNlcyxmdW5jdGlvbihrLHN0YXR1cyl7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3N0YXR1cy8iICsgc3RhdHVzLmltZyArICIucG5nIikKCQkJCQkuYXR0cigiYWx0Iiwgc3RhdHVzLmltZykKCQkJCQkuYXR0cigiX3RpdGxlIiwgc3RhdHVzLm5hbWUpCgkJCQkJLmF0dHIoIl9kZXNjIiwgc3RhdHVzLmRlc2MpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkuYXBwZW5kVG8oc3RhdHVzZXMpOwoJCQl9KTsKCQkJaWYodHlwZW9mKG9faGVyby5zcG9yZXMpICE9ICd1bmRlZmluZWQnICYmIG9faGVyby5zcG9yZXMgIT0gbnVsbCl7CgkJCQljb25zb2xlLndhcm4ob19oZXJvLnNwb3Jlcyk7CgkJCQl2YXIgJHNwb3JlcyA9ICQoJzxkaXY+JykKCQkJCQkuY3NzKHsKCQkJCQkJcG9zaXRpb246ICdyZWxhdGl2ZScsCgkJCQkJCWRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAoJCQkJCQknbWFyZ2luLWxlZnQnOiAnMnB4JywKCQkJCQkJdG9wOiAnMnB4JwoJCQkJCX0pCgkJCQkJLmFwcGVuZFRvKHN0YXR1c2VzKTsKCgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3Nwb3JlLnBuZyIpCgkJCQkJLmF0dHIoImhlaWdodCIsICIxNiIpLmF0dHIoImFsdCIsIG9faGVyby5zcG9yZXMubmFtZSkKCQkJCQkuYXR0cigiX3RpdGxlIiwgb19oZXJvLnNwb3Jlcy5uYW1lKQoJCQkJCS5hdHRyKCJfZGVzYyIsIG9faGVyby5zcG9yZXMuZGVzYykKCQkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKQoJCQkJCS5hcHBlbmRUbygkc3BvcmVzKTsKCgkJCQkkKCc8c3Bhbj4nKQoJCQkJCS50ZXh0KG9faGVyby5zcG9yZXMubmIpCgkJCQkJLmNzcyh7CgkJCQkJCWNvbG9yOiAnI0ZGRicsCgkJCQkJCSdmb250LXNpemUnOiAiMTBweCIsCgkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQlsZWZ0OiAnNHB4JywKCQkJCQkJdG9wOiAnMXB4JywKCQkJCQkJb3BhY2l0eTogMC43LAoJCQkJCQkncG9pbnRlci1ldmVudHMnOiAnbm9uZScKCgkJCQkJfSkKCQkJCQkuYXBwZW5kVG8oJHNwb3Jlcyk7CgkJCX0KCgkJCXZhciBza2lsbHMgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJpY29ucyBza2lsbHMiKTsKCQkJJC5lYWNoKG9faGVyby5za2lsbHMsZnVuY3Rpb24oayxza2lsbCl7CgkJCQkJdmFyIHNraWxsZG9tID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoInNraWxsIikuYXBwZW5kVG8oc2tpbGxzKTsKCgkJCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy9za2lsbHMvIiArIHNraWxsLmltZyArICIucG5nIikKCQkJCQkJLmF0dHIoImhlaWdodCIsICIxOSIpLmF0dHIoImFsdCIsIHNraWxsLmltZykKCQkJCQkJLmF0dHIoIl90aXRsZSIsIHNraWxsLm5hbWUpCgkJCQkJCS5hdHRyKCJfZGVzYyIsIHNraWxsLmRlc2MgKyAoTWFpbi5rLmNvbXBJbmFjdGl2ZU11c2hbc2tpbGwuaW1nXSA/ICI8cD48c3Ryb25nPiIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ29tcMOpdGVuY2UgaW5hY3RpdmUgbXVzaCIpKyI8L3N0cm9uZz48L3A+IiA6ICIiKSkKCQkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCQkJCS5hcHBlbmRUbyhza2lsbGRvbSk7CgoJCQkJCWlmIChNYWluLmsuY29tcEluYWN0aXZlTXVzaFtza2lsbC5pbWddKSB7CgkJCQkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9ub24tbXVzaC5wbmciKS5hZGRDbGFzcygiYWN0bXVzaCIpCgkJCQkJCQkuYXR0cigid2lkdGgiLCAiMTAiKS5hdHRyKCJoZWlnaHQiLCAiMTAiKQoJCQkJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkNvbXDDqXRlbmNlIGluYWN0aXZlIG11c2giKSkKCQkJCQkJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkNldHRlIGNvbXDDqXRlbmNlIGVzdCBpbmFjdGl2ZSBxdWFuZCBvbiBlc3QgbXVzaCAoc291cmNlIDogVHdpbnBlZGlhKS4iKSkKCQkJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkJCS5hcHBlbmRUbyhza2lsbGRvbSk7CgkJCQkJfQoJCQl9KTsKCgkJCXZhciB0aXRsZXMgPSAkKCI8ZGl2PiIpCgkJCQkuY3NzKHsKCQkJCQlwb3NpdGlvbjogJ2Fic29sdXRlJywKCQkJCQlyaWdodDogJzVweCcsCgkJCQkJdG9wOiAwCgkJCQl9KQoJCQkJLmFkZENsYXNzKCJ0aXRsZXMiKTsKCQkJY29uc29sZS5pbmZvKCdvX2hlcm8udGl0bGVzJyxvX2hlcm8udGl0bGVzKTsKCQkJJC5lYWNoKG9faGVyby50aXRsZXMsZnVuY3Rpb24oayx0aXRsZSl7CgkJCQljb25zb2xlLmxvZyh0aXRsZSk7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpLyIgKyB0aXRsZS5pbWcgKyAiLnBuZyIpCgkJCQkJLmF0dHIoImFsdCIsIHRpdGxlLmltZykKCQkJCQkuYXR0cigiX3RpdGxlIiwgdGl0bGUubmFtZSkKCQkJCQkuYXR0cigiX2Rlc2MiLCB0aXRsZS5kZXNjKQoJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCQkJLmFwcGVuZFRvKHRpdGxlcyk7CgkJCX0pOwoKCQkJJGhlcm9fZGV0YWlscy5hcHBlbmQoc2tpbGxzKTsKCQkJJGhlcm9fZGV0YWlscy5hcHBlbmQoc3RhdHVzZXMpOwoJCQkkaGVyb19kZXRhaWxzLmFwcGVuZCh0aXRsZXMpOwoKCQkJJCgnI2xvbmctbm90ZXMnKS52YWwodHlwZW9mKG9faGVyby5sb25nX2Rlc2MpICE9ICd1bmRlZmluZWQnID8gb19oZXJvLmxvbmdfZGVzYyA6ICcnKTsKCQkJJCgnI3Rpbnktbm90ZXMnKS52YWwob19oZXJvLnNob3J0X2Rlc2MpOwoKCQl9ZWxzZXsKCQkJJCgiPGRpdj4iKQoJCQkJLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgnQXVjdW5lIGRvbm7DqWUgZW5yZWdpc3Ryw6llJykpCgkJCQkuY3NzKHsKCQkJCQljb2xvcjonI0ZGRicKCQkJCX0pCgkJCQkuYXBwZW5kVG8oJGhlcm9fZGV0YWlscyk7CgoJCX0KCQl2YXIgJGN1c3RvbV9pbmZvcyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3Byb2ZpbGUtY3VzdG9tLWluZm9zJykuYXBwZW5kVG8oJGhlcm9fZGV0YWlscyk7CgkJJCgnPGxhYmVsIC8+JykKCQkJLmF0dHIoJ2ZvcicsJ2hlcm9fZGV0YWlsc19kZWFkJykKCQkJLmFwcGVuZCgKCQkJCSQoJzxpbWc+JykKCQkJCQkuYXR0cih7CgkJCQkJCXNyYzogJy9pbWcvaWNvbnMvdWkvZGVhZC5wbmcnLAoJCQkJCQlhbHQ6IE1haW4uay50ZXh0LmdldHRleHQoJ01vcnQnKSwKCQkJCQkJdGl0bGU6IE1haW4uay50ZXh0LmdldHRleHQoJ01vcnQnKQoJCQkJCX0pCgkJCSkKCQkJLmFwcGVuZCgKCQkJCSQoJzxpbnB1dCAvPicpCgkJCQkJLmF0dHIoewoJCQkJCQlpZDogJ2hlcm9fZGV0YWlsc19kZWFkJywKCQkJCQkJdHlwZTogJ2NoZWNrYm94JwoJCQkJCX0pCgkJCQkJLnByb3AoJ2NoZWNrZWQnLG9faGVyby5kZWFkKQoJCQkJCS5vbignY2hhbmdlJyxmdW5jdGlvbigpewoJCQkJCQl2YXIgb19oZXJvID0gJHRoaXMuZ2V0KCk7CgkJCQkJCW9faGVyby5kZWFkID0gJCh0aGlzKS5wcm9wKCdjaGVja2VkJyk7CgkJCQkJCSR0aGlzLnNldChvX2hlcm8pOwoJCQkJCX0pCgkJCSkKCQkJLmFwcGVuZFRvKCRjdXN0b21faW5mb3MpOwoJCSQoJzxsYWJlbCAvPicpCgkJCS5hdHRyKCdmb3InLCdoZXJvX2RldGFpbHNfaW5hY3RpdmUnKQoJCQkuYXBwZW5kKAoJCQkJJCgnPGltZz4nKQoJCQkJCS5hdHRyKHsKCQkJCQkJc3JjOiAnL2ltZy9pY29ucy91aS8nK01haW4uay5zdGF0dXNlc1snaW5hY3RpdmUnXVsnaW1nJ10rJy5wbmcnLAoJCQkJCQlhbHQ6IE1haW4uay5zdGF0dXNlcy5pbmFjdGl2ZS5uYW1lLAoJCQkJCQl0aXRsZTogTWFpbi5rLnN0YXR1c2VzLmluYWN0aXZlLm5hbWUKCQkJCQl9KQoJCQkJKQoJCQkuYXBwZW5kKAoJCQkJJCgnPGlucHV0IC8+JykKCQkJCQkuYXR0cih7CgkJCQkJCWlkOiAnaGVyb19kZXRhaWxzX2luYWN0aXZlJywKCQkJCQkJdHlwZTogJ2NoZWNrYm94JwoJCQkJCX0pCgkJCQkJLnByb3AoJ2NoZWNrZWQnLCR0aGlzLmhhc0F0dHIob19oZXJvLCdzdGF0dXNlcycsTWFpbi5rLnN0YXR1c2VzWydpbmFjdGl2ZSddWydpbWcnXSkpCgkJCQkJLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7CgkJCQkJCXZhciBvX2hlcm8gPSAkdGhpcy5nZXQoKTsKCQkJCQkJaWYoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpewoJCQkJCQkJb19oZXJvLnN0YXR1c2VzLnB1c2goTWFpbi5rLnN0YXR1c2VzWydpbmFjdGl2ZSddKTsKCQkJCQkJfWVsc2V7CgkJCQkJCQlvX2hlcm8gPSAkdGhpcy5yZW1vdmVBdHRyRnJvbVByb2ZpbGUob19oZXJvLCdzdGF0dXNlcycsTWFpbi5rLnN0YXR1c2VzWydpbmFjdGl2ZSddWydpbWcnXSk7CgkJCQkJCX0KCQkJCQkJJHRoaXMuc2V0KG9faGVybyk7CgkJCQkJCSR0aGlzLnVwZGF0ZSgpOwoJCQkJCX0pCgkJCSkKCQkJLmFwcGVuZFRvKCRjdXN0b21faW5mb3MpOwoJCSQoJzxsYWJlbCAvPicpCgkJCS5hdHRyKCdmb3InLCdoZXJvX2RldGFpbHNfaGluYWN0aXZlJykKCQkJLmFwcGVuZCgKCQkJCSQoJzxpbWc+JykKCQkJCQkuYXR0cih7CgkJCQkJCXNyYzogJy9pbWcvaWNvbnMvdWkvJytNYWluLmsuc3RhdHVzZXNbJ2hpbmFjdGl2ZSddWydpbWcnXSsnLnBuZycsCgkJCQkJCWFsdDogTWFpbi5rLnN0YXR1c2VzLmhpbmFjdGl2ZS5uYW1lLAoJCQkJCQl0aXRsZTogTWFpbi5rLnN0YXR1c2VzLmhpbmFjdGl2ZS5uYW1lCgkJCQkJfSkKCQkJCSkKCQkJLmFwcGVuZCgKCQkJCSQoJzxpbnB1dCAvPicpCgkJCQkJLmF0dHIoewoJCQkJCQlpZDogJ2hlcm9fZGV0YWlsc19oaW5hY3RpdmUnLAoJCQkJCQl0eXBlOiAnY2hlY2tib3gnCgkJCQkJfSkKCQkJCQkucHJvcCgnY2hlY2tlZCcsJHRoaXMuaGFzQXR0cihvX2hlcm8sJ3N0YXR1c2VzJyxNYWluLmsuc3RhdHVzZXNbJ2hpbmFjdGl2ZSddWydpbWcnXSkpCgkJCQkJLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7CgkJCQkJCXZhciBvX2hlcm8gPSAkdGhpcy5nZXQoKTsKCQkJCQkJaWYoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpewoJCQkJCQkJb19oZXJvLnN0YXR1c2VzLnB1c2goTWFpbi5rLnN0YXR1c2VzWydoaW5hY3RpdmUnXSk7CgkJCQkJCX1lbHNlewoJCQkJCQkJb19oZXJvID0gJHRoaXMucmVtb3ZlQXR0ckZyb21Qcm9maWxlKG9faGVybywnc3RhdHVzZXMnLE1haW4uay5zdGF0dXNlc1snaGluYWN0aXZlJ11bJ2ltZyddKTsKCQkJCQkJfQoJCQkJCQkkdGhpcy5zZXQob19oZXJvKTsKCQkJCQkJJHRoaXMudXBkYXRlKCk7CgkJCQkJfSkKCQkJKQoJCQkuYXBwZW5kVG8oJGN1c3RvbV9pbmZvcyk7CgkJCSQoJzxsYWJlbCAvPicpCgkJCQkuYXR0cignZm9yJywnaGVyb19kZXRhaWxzX211c2gnKQoJCQkJLmFwcGVuZCgKCQkJCSQoJzxpbWc+JykKCQkJCQkuYXR0cih7CgkJCQkJCXNyYzogJy9pbWcvaWNvbnMvdWkvJytNYWluLmsuc3RhdHVzZXNbJ211c2gnXVsnaW1nJ10rJy5wbmcnLAoJCQkJCQlhbHQ6IE1haW4uay5zdGF0dXNlcy5tdXNoLm5hbWUsCgkJCQkJCXRpdGxlOiBNYWluLmsuc3RhdHVzZXMubXVzaC5uYW1lCgkJCQkJfSkKCQkJCSkKCQkJCS5hcHBlbmQoCgkJCQkkKCc8aW5wdXQgLz4nKQoJCQkJCS5hdHRyKHsKCQkJCQkJaWQ6ICdoZXJvX2RldGFpbHNfbXVzaCcsCgkJCQkJCXR5cGU6ICdjaGVja2JveCcKCQkJCQl9KQoJCQkJCS5wcm9wKCdjaGVja2VkJywkdGhpcy5oYXNBdHRyKG9faGVybywnc3RhdHVzZXMnLE1haW4uay5zdGF0dXNlc1snbXVzaCddWydpbWcnXSkpCgkJCQkJLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7CgkJCQkJCXZhciBvX2hlcm8gPSAkdGhpcy5nZXQoKTsKCQkJCQkJaWYoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpewoJCQkJCQkJb19oZXJvLnN0YXR1c2VzLnB1c2goTWFpbi5rLnN0YXR1c2VzWydtdXNoJ10pOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCW9faGVybyA9ICR0aGlzLnJlbW92ZUF0dHJGcm9tUHJvZmlsZShvX2hlcm8sJ3N0YXR1c2VzJyxNYWluLmsuc3RhdHVzZXNbJ211c2gnXVsnaW1nJ10pOwoJCQkJCQl9CgkJCQkJCSR0aGlzLnNldChvX2hlcm8pOwoJCQkJCQkkdGhpcy51cGRhdGUoKTsKCQkJCQl9KQoJCQkpCgkJCQkuYXBwZW5kVG8oJGN1c3RvbV9pbmZvcyk7CgkJY29uc29sZS5ncm91cEVuZCgpOwoJfTsKCU1haW4uay5Qcm9maWxlcy5jcmVhdGUgPSBmdW5jdGlvbihkZXZfc3VybmFtZSl7CgkJcmV0dXJuIHsKCQkJJ25hbWUnOiBNYWluLmsuaFtkZXZfc3VybmFtZV0ubmFtZSwKCQkJJ2Rldl9zdXJuYW1lJzogZGV2X3N1cm5hbWUsCgkJCSdzaG9ydF9kZXNjJzogTWFpbi5rLmhbZGV2X3N1cm5hbWVdLnNob3J0X2Rlc2MsCgkJCSdsb25nX2Rlc2MnOiAnJywKCQkJJ3N0YXR1c2VzJzogW10sCgkJCSd0aXRsZXMnOiBbXSwKCQkJJ3NraWxscyc6IFtdLAoJCQknZGVhZCc6IGZhbHNlCgkJfTsKCX07CglNYWluLmsuUHJvZmlsZXMuc2V0ID0gZnVuY3Rpb24ocHJvZmlsZSxzYXZlKXsKCQlpZihzYXZlID09IG51bGwpewoJCQlzYXZlID0gdHJ1ZTsKCQl9Ci8vCQljb25zb2xlLmdyb3VwKCdNYWluLmsuUHJvZmlsZXMuc2F2ZScpOwovLwkJY29uc29sZS5sb2coJ3Byb2ZpbGUnLHByb2ZpbGUpOwoJCXZhciBwcm9maWxlcyA9IHRoaXMuZGF0YTsKCQlpZihwcm9maWxlcyA9PSBudWxsKXsKCQkJcHJvZmlsZXMgPSB7fTsKCQl9CgkJaWYodHlwZW9mKHByb2ZpbGUpID09ICdzdHJpbmcnKXsKCQkJcHJvZmlsZSA9IHRoaXMuY29udmVydEhlcm9Ub1Byb2ZpbGUoTWFpbi5rLmdldEhlcm9CeVN1cm5hbWUocHJvZmlsZSkpOwoJCX0KCQlwcm9maWxlc1twcm9maWxlLmRldl9zdXJuYW1lXSA9IHByb2ZpbGU7CgkJdGhpcy5kYXRhID0gcHJvZmlsZXM7CgkJY29uc29sZS5ncm91cEVuZCgpOwoJCWlmKHNhdmUpewoJCQl0aGlzLnNhdmUoKTsKCQkJTWFpbi5rLk11c2hVcGRhdGUoKTsKCQl9Cgl9OwoJTWFpbi5rLlByb2ZpbGVzLmdldCA9IGZ1bmN0aW9uKGhlcm8pewoJCWlmKHR5cGVvZihoZXJvKSA9PSAndW5kZWZpbmVkJyl7CgkJCWhlcm8gPSBNYWluLmsuUHJvZmlsZXMuY3VycmVudDsKCQl9CgkJdmFyIHByb2ZpbGVzID0gdGhpcy5kYXRhOwoJCWlmKHByb2ZpbGVzICE9IG51bGwgJiYgdHlwZW9mKHByb2ZpbGVzW2hlcm9dKSAhPSAndW5kZWZpbmVkJykgewoJCQljb25zb2xlLmdyb3VwRW5kKCk7CgkJCXJldHVybiBwcm9maWxlc1toZXJvXTsKCQl9ZWxzZXsKCQkJY29uc29sZS5ncm91cEVuZCgpOwoJCQlyZXR1cm4gTWFpbi5rLlByb2ZpbGVzLmNyZWF0ZShoZXJvKTsKCQl9Cgl9OwoJTWFpbi5rLlByb2ZpbGVzLnNhdmUgPSBmdW5jdGlvbigpIHsKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3RybHdfcHJvZmlsZXMnLEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpOwoJCWNhbGxiYWNrc19zdG9yYWdlX3N5bmMuZmlyZSgpOwoJfTsKCU1haW4uay5Qcm9maWxlcy5sb2FkID0gZnVuY3Rpb24ocHJvZmlsZXMsanNvbikgewoJCWNvbnNvbGUuaW5mbygnTWFpbi5rLlByb2ZpbGVzLmxvYWQnKTsKCQl2YXIgcHJvZmlsZXNfanNvbjsKCQlpZih0eXBlb2YocHJvZmlsZXMpICE9ICd1bmRlZmluZWQnKXsKCQkJaWYodHlwZW9mKGpzb24pICE9ICd1bmRlZmluZWQnICYmICFqc29uKXsKCQkJCXByb2ZpbGVzX2pzb24gPSBKU09OLnN0cmluZ2lmeShwcm9maWxlcyk7CgkJCX1lbHNlewoJCQkJcHJvZmlsZXNfanNvbiA9IHByb2ZpbGVzOwoJCQkJcHJvZmlsZXMgPSBKU09OLnBhcnNlKHByb2ZpbGVzKTsKCQkJfQoJCQl0aGlzLmRhdGEgPSBwcm9maWxlczsKCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N0cmx3X3Byb2ZpbGVzJyxwcm9maWxlc19qc29uKTsKCQl9ZWxzZXsKCQkJcHJvZmlsZXNfanNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdHJsd19wcm9maWxlcycpOwoJCQlpZihwcm9maWxlc19qc29uICE9IG51bGwpewoJCQkJdGhpcy5kYXRhID0gSlNPTi5wYXJzZShwcm9maWxlc19qc29uKTsKCQkJfQoJCX0KCgl9OwoJTWFpbi5rLlByb2ZpbGVzLmNvbnZlcnRIZXJvVG9Qcm9maWxlID0gZnVuY3Rpb24ob19oZXJvX29yaWcpIHsKCQljb25zb2xlLmdyb3VwKCdjb252ZXJ0SGVyb1RvU2ltcGxlSGVybycpOwoJCWNvbnNvbGUubG9nKCdvX2hlcm9fb3JpZycsb19oZXJvX29yaWcpOwoJCXZhciBwcm9maWxlID0gdGhpcy5nZXQob19oZXJvX29yaWcuZGV2X3N1cm5hbWUpOwoJCWlmKHByb2ZpbGUgPT0gbnVsbCl7CgkJCXByb2ZpbGUgPSBNYWluLmsuUHJvZmlsZXMuY3JlYXRlKG9faGVyb19vcmlnLmRldl9zdXJuYW1lKTsKCQl9CgkJcHJvZmlsZS5zdGF0dXNlcyA9IFtdOwoJCXByb2ZpbGUudGl0bGVzID0gW107CgkJcHJvZmlsZS5za2lsbHMgPSBbXTsKCQlwcm9maWxlLnNwb3JlcyA9IG51bGw7CgkJcHJvZmlsZS5uYW1lID0gb19oZXJvX29yaWcubmFtZTsKCQlwcm9maWxlLmRldl9zdXJuYW1lID0gb19oZXJvX29yaWcuZGV2X3N1cm5hbWU7CgkJcHJvZmlsZS5kZWFkID0gZmFsc2U7CgkJaWYgKG9faGVyb19vcmlnLnN0YXR1c2VzKSB7CgkJCXZhciAkX3N0YXR1c2VzID0gb19oZXJvX29yaWcuc3RhdHVzZXMuaXRlcmF0b3IoKTsKCQkJd2hpbGUoICRfc3RhdHVzZXMuaGFzTmV4dCgpICkgewoJCQkJLyoqIEB0eXBlIHt7aW1nOnN0cmluZyxkZXNjOnN0cmluZ319ICoqLwoJCQkJcHJvZmlsZS5zdGF0dXNlcy5wdXNoKCRfc3RhdHVzZXMubmV4dCgpKTsKCQkJfQoJCX0KCgkJdmFyIHNraWxscyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImljb25zIHNraWxscyIpOwoJCWlmIChvX2hlcm9fb3JpZy5za2lsbHMpIHsKCQkJdmFyICRfc2tpbGxzID0gb19oZXJvX29yaWcuc2tpbGxzLml0ZXJhdG9yKCk7CgkJCXdoaWxlKCAkX3NraWxscy5oYXNOZXh0KCkgKSB7CgkJCQlwcm9maWxlLnNraWxscy5wdXNoKCRfc2tpbGxzLm5leHQoKSk7CgkJCX0KCQl9CgoJCXZhciB0aXRsZXMgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJ0aXRsZXMiKTsKCQlpZiAob19oZXJvX29yaWcudGl0bGVzKSB7CgkJCXZhciAkX3RpdGxlcyA9IG9faGVyb19vcmlnLnRpdGxlcy5pdGVyYXRvcigpOwoJCQl3aGlsZSggJF90aXRsZXMuaGFzTmV4dCgpICkgewoJCQkJcHJvZmlsZS50aXRsZXMucHVzaCgkX3RpdGxlcy5uZXh0KCkpOwoJCQl9CgkJfQoJCWlmIChvX2hlcm9fb3JpZy5zcG9yZXMpIHsKCQkJcHJvZmlsZS5zcG9yZXMgPSBvX2hlcm9fb3JpZy5zcG9yZXM7CgkJfQoJCWNvbnNvbGUuZ3JvdXBFbmQoKTsKCQlyZXR1cm4gcHJvZmlsZTsKCX07CglNYWluLmsuUHJvZmlsZXMucmVtb3ZlQXR0ckZyb21Qcm9maWxlID0gZnVuY3Rpb24ocHJvZmlsZSx0eXBlX2F0dHJpYnV0ZSx2YWx1ZSxrZXlfdmFsdWUpewoJCWNvbnNvbGUud2FybignYXZhbnQnLHByb2ZpbGVbdHlwZV9hdHRyaWJ1dGVdKTsKCQlpZih0eXBlb2Yoa2V5X3ZhbHVlKSA9PSAndW5kZWZpbmVkJyl7CgkJCWtleV92YWx1ZSA9ICdpbWcnOwoJCX0KCQl2YXIgaW5kZXhfdG9fcmVtb3ZlID0gbnVsbDsKCQlmb3IodmFyIGkgPSAwOyBpPHByb2ZpbGVbdHlwZV9hdHRyaWJ1dGVdLmxlbmd0aDsgaSsrKXsKCQkJaWYocHJvZmlsZVt0eXBlX2F0dHJpYnV0ZV1baV1ba2V5X3ZhbHVlXSA9PSB2YWx1ZSl7CgkJCQlpbmRleF90b19yZW1vdmUgPSBpOwoJCQl9CgkJfQoJCWNvbnNvbGUud2FybignbWlsaWV1JyxpbmRleF90b19yZW1vdmUscHJvZmlsZVt0eXBlX2F0dHJpYnV0ZV0pOwoJCWlmKGluZGV4X3RvX3JlbW92ZSAhPSBudWxsKXsKCQkJcHJvZmlsZVt0eXBlX2F0dHJpYnV0ZV0uc3BsaWNlKGluZGV4X3RvX3JlbW92ZSwxKTsKCQl9CgkJY29uc29sZS53YXJuKCdhcHJlcycscHJvZmlsZVt0eXBlX2F0dHJpYnV0ZV0pOwoJCXJldHVybiBwcm9maWxlOwoJfTsKCU1haW4uay5Qcm9maWxlcy5oYXNBdHRyID0gZnVuY3Rpb24ocHJvZmlsZSx0eXBlX2F0dHJpYnV0ZSx2YWx1ZSxrZXlfdmFsdWUpewoJCWlmKHR5cGVvZihrZXlfdmFsdWUpID09ICd1bmRlZmluZWQnKXsKCQkJa2V5X3ZhbHVlID0gJ2ltZyc7CgkJfQoJCWZvcih2YXIgaSA9IDA7IGk8cHJvZmlsZVt0eXBlX2F0dHJpYnV0ZV0ubGVuZ3RoOyBpKyspewoJCQlpZihwcm9maWxlW3R5cGVfYXR0cmlidXRlXVtpXVtrZXlfdmFsdWVdID09IHZhbHVlKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCXJldHVybiBmYWxzZTsKCX07CglNYWluLmsuUHJvZmlsZXMuaGFzU3RhdHVzV2hpY2hSZW1vdmVUaXRsZSA9IGZ1bmN0aW9uKHByb2ZpbGUpewoJCWlmKHByb2ZpbGUuZGVhZCl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQl2YXIgc3RhdHVzID0gbnVsbDsKCQlmb3IoIHZhciBpbmMgPSAwOyBpbmMgPCBwcm9maWxlLnN0YXR1c2VzLmxlbmd0aDsgaW5jICsrKXsKCQkJLyoqIEB0eXBlIHt7ZGVzYzpzdHJpbmcsaW1nOnN0cmluZywgbmFtZTpzdHJpbmd9fSAqKi8KCQkJc3RhdHVzID0gcHJvZmlsZS5zdGF0dXNlc1tpbmNdOwoJCQlpZigkLmluQXJyYXkoc3RhdHVzLmltZyxbTWFpbi5rLnN0YXR1c2VzLmluYWN0aXZlLmltZyxNYWluLmsuc3RhdHVzZXMuaGluYWN0aXZlLmltZ10pICE9IC0xKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCXJldHVybiBmYWxzZTsKCX07CglNYWluLmsuUHJvZmlsZXMuY2xvc2UgPSBmdW5jdGlvbigpewoJCWNvbnNvbGUubG9nKCdNYWluLmsuUHJvZmlsZXMuY2xvc2UnKTsKCQlNYWluLmsuUHJvZmlsZXMuY3VycmVudCA9IG51bGw7CgkJTWFpbi5rLmZvbGRpbmcuZGlzcGxheUdhbWUoKTsKCX07CglNYWluLmsuUHJvZmlsZXMuY2xlYXIgPSBmdW5jdGlvbigpewoJCU1haW4uay5Qcm9maWxlcy5kYXRhID0ge307CgkJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N0cmx3X3Byb2ZpbGVzJyk7CgkJY2FsbGJhY2tzX3N0b3JhZ2Vfc3luYy5maXJlKCk7Cgl9OwovLyA9PSAvUHJvZmlsZXMgTWFuYWdlciAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgoJTWFpbi5rLkdhbWVJbmZvcyA9IHt9OwoJTWFpbi5rLkdhbWVJbmZvcy5kYXRhID0ge307CglNYWluLmsuR2FtZUluZm9zLmRhdGEuaGVyb2VzX2xpc3QgPSBbXTsKCU1haW4uay5HYW1lSW5mb3MuZGF0YS5hbmRyZWsgPSBmYWxzZTsgLy9wZXJzaXN0YW50LCBub3QgY2xlYXJlZCBvbiBuZXcgZ2FtZQoJTWFpbi5rLkdhbWVJbmZvcy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJdmFyIGN0cmx3X2dhbWVfaW5mb3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3RybHdfZ2FtZV9pbmZvcyIpOwoJCWlmIChjdHJsd19nYW1lX2luZm9zID09IG51bGwpewoJCQlyZXR1cm47CgkJfQoJCU1haW4uay5HYW1lSW5mb3MuZGF0YSA9IEpTT04ucGFyc2UoY3RybHdfZ2FtZV9pbmZvcyk7Cgl9OwoJTWFpbi5rLkdhbWVJbmZvcy5sb2FkID0gZnVuY3Rpb24gKGpzb24pewoJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjdHJsd19nYW1lX2luZm9zIixqc29uKTsKCQlNYWluLmsuR2FtZUluZm9zLmluaXQoKTsKCX07CglNYWluLmsuR2FtZUluZm9zLnNhdmUgPSBmdW5jdGlvbigpIHsKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3RybHdfZ2FtZV9pbmZvcyIsSlNPTi5zdHJpbmdpZnkoTWFpbi5rLkdhbWVJbmZvcy5kYXRhKSk7CgkJY2FsbGJhY2tzX3N0b3JhZ2Vfc3luYy5maXJlKCk7Cgl9OwoJTWFpbi5rLkdhbWVJbmZvcy5jbGVhciA9IGZ1bmN0aW9uKCl7CgkJTWFpbi5rLkdhbWVJbmZvcy5kYXRhID0ge2FuZHJlazogTWFpbi5rLkdhbWVJbmZvcy5kYXRhLmFuZHJla307CgkJTWFpbi5rLkdhbWVJbmZvcy5kYXRhLmhlcm9lc19saXN0ID0gW107CgkJTWFpbi5rLkhFUk9FUyA9IE1haW4uay5IRVJPRVNfQUxMLnNsaWNlKCk7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN0cmx3X2dhbWVfaW5mb3MiLEpTT04uc3RyaW5naWZ5KE1haW4uay5HYW1lSW5mb3MuZGF0YSkpOwoJCWNhbGxiYWNrc19zdG9yYWdlX3N5bmMuZmlyZSgpOwoJfTsKCgkvLyA9PSBNZXNzYWdlIE1hbmFnZXIgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCU1haW4uay5NYW5hZ2VyID0ge307CglNYWluLmsuTWFuYWdlci5pbml0aWFsaXplZCA9IGZhbHNlOwoJTWFpbi5rLk1hbmFnZXIuaGVyb2VzID0gW107CglNYWluLmsuTWFuYWdlci5vcGVuID0gZnVuY3Rpb24oYWZ0ZXIpIHsKCQljb25zb2xlLmxvZygnbWFuYWdlciBvcGVuIGRlYnV0Jyk7CgkJdmFyIHRhYnMsIHIsIHJiZzsKCQlpZiAoTWFpbi5rLmZvbGRpbmcuZGlzcGxheWVkID09ICJtYW5hZ2VyIiB8fCBNYWluLmsuZm9sZGluZy5kaXNwbGF5ZWQgPT0gIm1hbmFnZXJfbWluaSIpIHsKCQkJTWFpbi5rLmZvbGRpbmcuZGlzcGxheUdhbWUoKTsKCQkJcmV0dXJuOwoJCX0KCQkvLyBURU1QIENPTkZJRwoJCXZhciBoYXNtdXNoY2hhdCA9IHRydWU7CgkJdmFyIGhhc2NoYXQxID0gdHJ1ZTsKCQl2YXIgaGFzY2hhdDIgPSB0cnVlOwoJCXZhciBoYXNjaGF0MyA9IHRydWU7CgkJCgkJdmFyICR0YWJzdGF0czsKCgkJaWYgKCFNYWluLmsuTWFuYWdlci5pbml0aWFsaXplZCkgewoJCQlNYWluLmsuTWFuYWdlci5pbml0aWFsaXplZCA9IHRydWU7CgoJCQkvLyBUb3BpY3MKCQkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQl2YXIgJHRhYmxlSW50ZXJGaXJzdCA9ICQoInRhYmxlLmludGVyIHRyIikuZmlyc3QoKTsKCQkJdmFyIHRkX3RvcGljcyA9ICQoIjx0ZD4iKS5hZGRDbGFzcygiY2hhdF9ib3giKS5jc3MoewoJCQkJInBhZGRpbmctcmlnaHQiOiAiNnB4IiwKCQkJCSJwYWRkaW5nLXRvcCI6ICIxcHgiLAoJCQkJd2lkdGg6ICIzMzBweCIsCgkJCQl0cmFuc2Zvcm06ICJzY2FsZSgwLDEpIgoJCQl9KS5hdHRyKCJpZCIsICJ0b3BpY3NfY29sIikuYXBwZW5kVG8oJHRhYmxlSW50ZXJGaXJzdCk7CgoJCQkvLyBUYWJzCgkJCXRhYnMgPSAkKCI8dWw+IikuYWRkQ2xhc3MoInRhYnNjaGF0IGN1c3RvbXRhYnMiKS5jc3Moe21hcmdpbjogMCwgcG9zaXRpb246ICJyZWxhdGl2ZSJ9KS5hcHBlbmRUbyh0ZF90b3BpY3MpOwoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3RpcC5wbmciKS5hcHBlbmRUbygkKCI8bGk+IikuYWRkQ2xhc3MoInRhYiB0YWJvZmYiKS5hdHRyKCJpZCIsICJ0YWJzdGF0cyIpLmFwcGVuZFRvKHRhYnMpKTsKCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCAiaHR0cDovL3R3aW5vaWQuY29tL2ltZy9pY29ucy9uZXcucG5nIikuYXBwZW5kVG8oJCgiPGxpPiIpLmFkZENsYXNzKCJ0YWIgdGFib2ZmIikuYXR0cigiaWQiLCAidGFibmV3IikuYXBwZW5kVG8odGFicykpOwoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICJodHRwOi8vdHdpbm9pZC5jb20vaW1nL2ljb25zL3NlYXJjaC5wbmciKS5hcHBlbmRUbygkKCI8bGk+IikuYWRkQ2xhc3MoInRhYiB0YWJvZmYiKS5hdHRyKCJpZCIsICJ0YWJzZWFyY2giKS5hcHBlbmRUbyh0YWJzKSk7CgkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvd2FsbC5wbmciKS5hcHBlbmRUbygkKCI8bGk+IikuYWRkQ2xhc3MoInRhYiB0YWJvZmYiKS5hdHRyKCJpZCIsICJ0YWJ3YWxsIikuYXBwZW5kVG8odGFicykpOwoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL2Zhdi5wbmciKS5hcHBlbmRUbygkKCI8bGk+IikuYWRkQ2xhc3MoInRhYiB0YWJvbiIpLmF0dHIoImlkIiwgInRhYmZhdiIpLmFwcGVuZFRvKHRhYnMpKTsKCgkJCS8vIFRhYiBjb250ZW50CgkJCXIgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJyaWdodCIpLmNzcygibWFyZ2luLXRvcCIsIDApLmFwcGVuZFRvKHRkX3RvcGljcyk7CgkJCXJiZyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInJpZ2h0YmcgY2hhdHRleHQiKS5jc3MoewoJCQkJInJlc2l6ZSI6ICJub25lIgoJCQl9KS5hcHBlbmRUbyhyKTsKCgkJCSQoIjxkaXY+IikuYWRkQ2xhc3MoInRhYmNvbnRlbnQiKS5hdHRyKCJpZCIsICJ0YWJzdGF0c19jb250ZW50IikuYXBwZW5kVG8ocmJnKTsKCQkJJCgiPGRpdj4iKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXR0cigiaWQiLCAidGFibmV3X2NvbnRlbnQiKS5hcHBlbmRUbyhyYmcpOwoJCQkkKCI8ZGl2PiIpLmFkZENsYXNzKCJ0YWJjb250ZW50IHdhbGwiKS5hdHRyKCJpZCIsICJ0YWJzZWFyY2hfY29udGVudCIpLmFwcGVuZFRvKHJiZyk7CgkJCWlmIChoYXNtdXNoY2hhdCkgJCgiPGRpdj4iKS5hZGRDbGFzcygidGFiY29udGVudCIpLmF0dHIoImlkIiwgInRhYm11c2hfY29udGVudCIpLmFwcGVuZFRvKHJiZyk7CgkJCSQoIjxkaXY+IikuYWRkQ2xhc3MoInRhYmNvbnRlbnQgd2FsbCIpLmF0dHIoImlkIiwgInRhYndhbGxfY29udGVudCIpLmFwcGVuZFRvKHJiZyk7CgkJCSQoIjxkaXY+IikuYWRkQ2xhc3MoInRhYmNvbnRlbnQgd2FsbCIpLmF0dHIoImlkIiwgInRhYmZhdl9jb250ZW50IikuYXBwZW5kVG8ocmJnKTsKCQkJaWYgKGhhc2NoYXQxKSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJ0YWJjb250ZW50IikuYXR0cigiaWQiLCAidGFiY2hhdDFfY29udGVudCIpLmFwcGVuZFRvKHJiZyk7CgkJCWlmIChoYXNjaGF0MikgJCgiPGRpdj4iKS5hZGRDbGFzcygidGFiY29udGVudCIpLmF0dHIoImlkIiwgInRhYmNoYXQyX2NvbnRlbnQiKS5hcHBlbmRUbyhyYmcpOwoJCQlpZiAoaGFzY2hhdDMpICQoIjxkaXY+IikuYWRkQ2xhc3MoInRhYmNvbnRlbnQiKS5hdHRyKCJpZCIsICJ0YWJjaGF0M19jb250ZW50IikuYXBwZW5kVG8ocmJnKTsKCQkJcmJnLmZpbmQoIi50YWJjb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCgkJCS8vIFRvb2x0aXBzCgkJCSR0YWJzdGF0cyA9ICQoIiN0YWJzdGF0cyIpOwoJCQkkdGFic3RhdHMuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiU3RhdGlzdGlxdWVzIikpLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQWZmaWNoZSBsZXMgc3RhdGlzdGlxdWVzLCBldCBwZXJtZXQgZGUgZ8OpcmVyIGxlIG5vbWJyZSBkZSBtZXNzYWdlcyBjaGFyZ8OpcyBkYW5zIGxhIHBhZ2UuIikpOwoJCQkkKCIjdGFibmV3IikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTm91dmVhdXggTWVzc2FnZXMiKSkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJCZWF1Y291cCBkZSBtZXNzYWdlcyDDoCBsaXJlID8gTGUgbWFuYWdlciBwZXJtZXQgZGUgcmF0dHJhcGVyIHNvbiByZXRhcmQgcGx1cyBmYWNpbGVtZW50LiBFbiBjaGFyZ2VhbnQgdG91cyBsZXMgbWVzc2FnZXMgZGFucyBsJ29uZ2xldCBTdGF0aXN0aXF1ZXMsIHZvdXMgcG91dmV6IGF1c3NpIHZvaXIgbGVzIG1lc3NhZ2VzIG5vbiBsdXMgbWFucXXDqXMgw6AgY2F1c2UgZHUgYnVnIChNdXNoKSBkZXMgbWVzc2FnZXMuIikpOwoJCQkkKCIjdGFic2VhcmNoIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmVjaGVyY2hlIGRlIE1lc3NhZ2VzIikpLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiVW5lIGRpc2N1c3Npb24gw6AgcmV0cm91dmVyID8gRW52aWUgZGUgc2F2b2lyIGNvbWJpZW4gZCdpbmNlbmRpZXMgc2Ugc29udCBkw6ljbGFyw6lzID8gKEBuZXJvbiBpbmNlbmRpZSBkYWVkYWx1cykiKSk7CgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCSQoIiN0YWJ3YWxsIikuYXR0cigiX3RpdGxlIiwgIkRpc2N1c3Npb24iKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkxlIGNhbmFsIGRlIGRpc2N1c3Npb24gZXN0IGluZGlzcGVuc2FibGUgcG91ciBzJ29yZ2FuaXNlciBhdmVjIGwnw6lxdWlwYWdlLjwvcD48cD5Qb3VyIHBhcnRpY2lwZXIgdm91cyBkZXZleiBwb3Nzw6lkZXIgdW4gPHN0cm9uZz50YWxraWUtd2Fsa2llPC9zdHJvbmc+LiIpKTsKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJJCgiI3RhYmZhdiIpLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkZhdm9yaXMiKSkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJWb3RyZSBzw6lsZWN0aW9uIGRlIHN1amV0cyBmYXZvcmlzLiIpKTsKCQkJdGFicy5maW5kKCIudGFiIikub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApOwoJCQl0YWJzLmZpbmQoIi50YWIiKS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJCXRhYnMuZmluZCgiLnRhYiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgeyBNYWluLmsuTWFuYWdlci5zZWxlY3RUYWIodGhpcyk7IH0pOwoKCgkJCS8vIEN1cnJlbnQgdG9waWMKCQkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQl2YXIgdGRfdG9waWMgPSAkKCI8dGQ+IikuYWRkQ2xhc3MoImNoYXRfYm94IikuY3NzKHsKCQkJCSJwYWRkaW5nLXJpZ2h0IjogIjZweCIsCgkJCQkicGFkZGluZy10b3AiOiAiMXB4IiwKCQkJCXdpZHRoOiAiMzMwcHgiLAoJCQkJdHJhbnNmb3JtOiAic2NhbGUoMCwxKSIKCQkJfSkuYXR0cigiaWQiLCAidG9waWNfY29sIikuYXBwZW5kVG8oJHRhYmxlSW50ZXJGaXJzdCk7CgoJCQkvLyBUYWJzCgkJCXRhYnMgPSAkKCI8dWw+IikuYWRkQ2xhc3MoInRhYnNjaGF0IGN1c3RvbXRhYnMiKS5jc3Moe21hcmdpbjogMCwgcG9zaXRpb246ICJyZWxhdGl2ZSJ9KS5hcHBlbmRUbyh0ZF90b3BpYyk7CgkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvd2FsbC5wbmciKS5hcHBlbmRUbygKCQkJCSQoIjxsaT4iKS5hZGRDbGFzcygidGFiIHRhYm9uIikuYXR0cigiaWQiLCAidGFidG9waWMiKS5hdHRyKCJfdGl0bGUiLCAiRGlzY3Vzc2lvbiIpLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGUgY2FuYWwgZGUgZGlzY3Vzc2lvbiBlc3QgaW5kaXNwZW5zYWJsZSBwb3VyIHMnb3JnYW5pc2VyIGF2ZWMgbCfDqXF1aXBhZ2UuPC9wPjxwPlBvdXIgcGFydGljaXBlciB2b3VzIGRldmV6IHBvc3PDqWRlciB1biA8c3Ryb25nPnRhbGtpZS13YWxraWU8L3N0cm9uZz4uIikpLmFwcGVuZFRvKHRhYnMpCgkJCSk7CgoKCQkJLy8gTGlzdAoJCQlyID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicmlnaHQiKS5jc3MoIm1hcmdpbi10b3AiLCAwKS5hcHBlbmRUbyh0ZF90b3BpYyk7CgkJCXJiZyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInJpZ2h0YmcgY2hhdHRleHQiKS5jc3MoewoJCQkJcmVzaXplOiAibm9uZSIKCQkJfSkuYXBwZW5kVG8ocik7CgoJCQl2YXIgdG9waWMgPSAkKCI8ZGl2PiIpLmF0dHIoImlkIiwgInRhYnRvcGljX2NvbnRlbnQiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIHRvcGljd2FsbCIpLmNzcyh7CgkJCQlyZXNpemU6ICJub25lIiwKCQkJCSJtaW4taGVpZ2h0IjogIjQyN3B4IgoJCQl9KS5hcHBlbmRUbyhyYmcpOwoJCQkkKCI8cD4iKS5hZGRDbGFzcygid2FybmluZyIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiQXVjdW4gdG9waWMgc8OpbGVjdGlvbm7DqS4iKSkuYXBwZW5kVG8odG9waWMpOwoKCQkJaWYgKGhhc211c2hjaGF0KSB7CgkJCQkvKiBUcmFuc2xhdG9yczogVGhlIGJlZ2lubmluZyBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQkJdmFyIG11c2h0YWIgPSAkKCI8bGk+IikuYWRkQ2xhc3MoInRhYiB0YWJvZmYiKS5hdHRyKCJpZCIsICJ0YWJtdXNoIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2FuYWwgTXVzaCIpKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIlNzc2hoLCBwZXJzb25uZSBub3VzIGVudGVuZCBpY2kuLi4gTGUgQ2FuYWwgTXVzaCBlc3QgbGUgPGVtPmNhbmFsIHByaXbDqTwvZW0+IHBvdXIgbGVzIGFkaMOpcmVudHMgYXV4IDxzdHJvbmc+TXVzaDwvc3Ryb25nPiA8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9tdXNoLnBuZycgLz4uPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w6kgbm9uIGNvZMOpZTwvc3Ryb25nPiIpKS5hcHBlbmRUbyh0YWJzKTsKCQkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvbXVzaC5wbmciKS5hcHBlbmRUbyhtdXNodGFiKTsKCQkJCXZhciBtdXNoY2hhdCA9ICQoIjxkaXY+IikuYXR0cigiaWQiLCAidGFibXVzaF9jb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXBwZW5kVG8ocmJnKTsKCQkJCSQoIjxwPiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJEaXNwb25pYmxlIHByb2NoYWluZW1lbnQuIikpLmFwcGVuZFRvKG11c2hjaGF0KTsKCQkJfQoJCQlpZiAoaGFzY2hhdDEpIHsKCQkJCXZhciBjaGF0MXRhYiA9ICQoIjxsaT4iKS5hZGRDbGFzcygidGFiIHRhYm9mZiIpLmF0dHIoImlkIiwgInRhYmNoYXQxIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2hhdCBwcml2w6kiKSArICIgIzEiKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkNoYXQgcHJpdsOpIG91dmVydCBhdmVjIDo8YnIvPltsaXN0ZSBkZXMgcGFydGljaXBhbnRzXTwvcD48cD48c3Ryb25nPi8hJiM5MjsgRm9uY3Rpb25uYWxpdMOpIG5vbiBjb2TDqWU8L3N0cm9uZz4iKSkuYXBwZW5kVG8odGFicyk7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3ByaXZhdGUucG5nIikuYXBwZW5kVG8oY2hhdDF0YWIpOwoJCQkJdmFyIGNoYXQxID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJ0YWJjaGF0MV9jb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXBwZW5kVG8ocmJnKTsKCQkJCSQoIjxwPiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbCgiRGlzcG9uaWJsZSBwcm9jaGFpbmVtZW50LiIpLmFwcGVuZFRvKGNoYXQxKTsKCQkJfQoJCQlpZiAoaGFzY2hhdDIpIHsKCQkJCXZhciBjaGF0MnRhYiA9ICQoIjxsaT4iKS5hZGRDbGFzcygidGFiIHRhYm9mZiIpLmF0dHIoImlkIiwgInRhYmNoYXQyIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2hhdCBwcml2w6kiKSArICIgIzIiKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkNoYXQgcHJpdsOpIG91dmVydCBhdmVjIDo8YnIvPltsaXN0ZSBkZXMgcGFydGljaXBhbnRzXTwvcD48cD48c3Ryb25nPi8hJiM5MjsgRm9uY3Rpb25uYWxpdMOpIG5vbiBjb2TDqWU8L3N0cm9uZz4iKSkuYXBwZW5kVG8odGFicyk7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3ByaXZhdGUucG5nIikuYXBwZW5kVG8oY2hhdDJ0YWIpOwoJCQkJdmFyIGNoYXQyID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJ0YWJjaGF0Ml9jb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXBwZW5kVG8ocmJnKTsKCQkJCSQoIjxwPiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbCgiRGlzcG9uaWJsZSBwcm9jaGFpbmVtZW50LiIpLmFwcGVuZFRvKGNoYXQyKTsKCQkJfQoJCQlpZiAoaGFzY2hhdDMpIHsKCQkJCXZhciBjaGF0M3RhYiA9ICQoIjxsaT4iKS5hZGRDbGFzcygidGFiIHRhYm9mZiIpLmF0dHIoImlkIiwgInRhYmNoYXQzIikuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2hhdCBwcml2w6kiKSArICIgIzMiKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkNoYXQgcHJpdsOpIG91dmVydCBhdmVjIDo8YnIvPltsaXN0ZSBkZXMgcGFydGljaXBhbnRzXTwvcD48cD48c3Ryb25nPi8hJiM5MjsgRm9uY3Rpb25uYWxpdMOpIG5vbiBjb2TDqWU8L3N0cm9uZz4iKSkuYXBwZW5kVG8odGFicyk7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3ByaXZhdGUucG5nIikuYXBwZW5kVG8oY2hhdDN0YWIpOwoJCQkJdmFyIGNoYXQzID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJ0YWJjaGF0M19jb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXBwZW5kVG8ocmJnKTsKCQkJCSQoIjxwPiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbCgiRGlzcG9uaWJsZSBwcm9jaGFpbmVtZW50LiIpLmFwcGVuZFRvKGNoYXQzKTsKCQkJfQoJCQl0YWJzLmZpbmQoIi50YWIiKS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCk7CgkJCXRhYnMuZmluZCgiLnRhYiIpLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCQkJdGFicy5maW5kKCIudGFiIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7IE1haW4uay5NYW5hZ2VyLnNlbGVjdFRvcGljVGFiKHRoaXMpOyB9KTsKCgoJCQkvLyBSZXBseQoJCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCXZhciB0ZF9yZXBseSA9ICQoIjx0ZD4iKS5hZGRDbGFzcygiY2hhdF9ib3giKS5jc3MoewoJCQkJdHJhbnNmb3JtOiAic2NhbGUoMCwxKSIsCgkJCQkicGFkZGluZy10b3AiOiAiMXB4IiwKCQkJCSJ0ZXh0LWFsaWduIjogInJpZ2h0IgoJCQl9KS5hdHRyKCJpZCIsICJyZXBseV9jb2wiKS5hcHBlbmRUbygkdGFibGVJbnRlckZpcnN0KTsKCgkJCS8vIFRhYnMKCQkJdGFicyA9ICQoIjx1bD4iKS5hZGRDbGFzcygidGFic2NoYXQgY3VzdG9tdGFicyIpLmNzcyh7CgkJCQltYXJnaW46IDAsCgkJCQkidGV4dC1hbGlnbiI6ICJsZWZ0IiwKCQkJCXBvc2l0aW9uOiAicmVsYXRpdmUiCgkJCX0pLmFwcGVuZFRvKHRkX3JlcGx5KTsKCQkJdmFyIHRhYnJlcGx5ID0gJCgiPGxpPiIpLmFkZENsYXNzKCJ0YWIgdGFib24iKS5hdHRyKCJpZCIsICJ0YWJyZXBseSIpLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIk5vdXZlYXUgbWVzc2FnZSIpKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIlLDqXBvbmRleiDDoCB1biB0b3BpYyAvIHVuZSBkaXNjdXNzaW9uIG91IGNyw6lleiB1biBub3V2ZWF1IHRvcGljLiIpKS5hcHBlbmRUbyh0YWJzKTsKCQkJdmFyIHRhYm5lcm9uID0gJCgiPGxpPiIpLmFkZENsYXNzKCJ0YWIgdGFib2ZmIikuYXR0cigiaWQiLCAidGFibmVyb24iKS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJBbm5vbmNlcyB2b2NvZMOpZXMiKSkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJBc3Npc3RhbnQgcG91ciBsZXMgQWRtaW4uIE7DqXJvbiBwb3VyIGZhY2lsaXRlciBsYSBjcsOpYXRpb24gZCdhbm5vbmNlcyB2b2NvZMOpZXMuPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w6kgbm9uIGNvZMOpZTwvc3Ryb25nPiIpKS5hcHBlbmRUbyh0YWJzKTsKCQkJdmFyIHRhYmN1c3RvbSA9ICQoIjxsaT4iKS5hZGRDbGFzcygidGFiIHRhYm9mZiIpLmF0dHIoImlkIiwgInRhYmN1c3RvbSIpLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIk1lc3NhZ2VzIHByw6ktZW5yZWdpc3Ryw6lzIikpLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTWVzc2FnZXMgcsOpY3VycmVudHMgJiBhdXRyZXMgKMOgIGTDqWZpbmlyKS48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDqSBub24gY29kw6llPC9zdHJvbmc+IikpLmFwcGVuZFRvKHRhYnMpOwoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICJodHRwOi8vdHdpbm9pZC5jb20vaW1nL2ljb25zL2VkaXQucG5nIikuYXBwZW5kVG8odGFicmVwbHkpOwoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL25lcm9uLnBuZyIpLmFwcGVuZFRvKHRhYm5lcm9uKTsKCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy91aS9ib29rLnBuZyIpLmFwcGVuZFRvKHRhYmN1c3RvbSk7CgkJCXRhYnMuZmluZCgiLnRhYiIpLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKTsKCQkJdGFicy5maW5kKCIudGFiIikub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoJCQl0YWJzLmZpbmQoIi50YWIiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsgTWFpbi5rLk1hbmFnZXIuc2VsZWN0UmVwbHlUYWIodGhpcyk7IH0pOwoKCQkJciA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInJpZ2h0IikuY3NzKCJtYXJnaW4tdG9wIiwgMCkuYXBwZW5kVG8odGRfcmVwbHkpOwoJCQlyYmcgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJyaWdodGJnIGNoYXR0ZXh0IikuY3NzKHsKCQkJCSJyZXNpemUiOiAibm9uZSIsCgkJCQkidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAoJCQkJInBvc2l0aW9uIjogInJlbGF0aXZlIgoJCQl9KS5hcHBlbmRUbyhyKTsKCQkJdmFyIHJlcGx5ID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJ0YWJyZXBseV9jb250ZW50IikuYWRkQ2xhc3MoInRhYmNvbnRlbnQgd2FsbCIpLmFwcGVuZFRvKHJiZyk7CgkJCXZhciB2b2NvZCA9ICQoIjxkaXY+IikuYXR0cigiaWQiLCAidGFibmVyb25fY29udGVudCIpLmNzcygiZGlzcGxheSIsICJub25lIikuYWRkQ2xhc3MoInRhYmNvbnRlbnQgd2FsbCIpLmFwcGVuZFRvKHJiZyk7CgkJCXZhciBjdXN0b20gPSAkKCI8ZGl2PiIpLmF0dHIoImlkIiwgInRhYmN1c3RvbV9jb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKS5hZGRDbGFzcygidGFiY29udGVudCB3YWxsIikuYXBwZW5kVG8ocmJnKTsKCQkJJCgiPHA+IikuYWRkQ2xhc3MoIndhcm5pbmciKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoIkRpc3BvbmlibGUgcHJvY2hhaW5lbWVudC4iKSkuYXBwZW5kVG8odm9jb2QpOwoKCQkJLy8gQWN0aW9ucwoJCQl2YXIgbWluaSA9IE1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9sZXNzLnBuZycgLz4gUsOpZHVpcmUgbGUgTWFuYWdlciIsbnVsbCxmdW5jdGlvbigpIHsKCQkJCU1haW4uay5NYW5hZ2VyLm1pbmltaXplKCk7CgkJCX0pLmF0dHIoImlkIiwgIm1hbmFnZXJfdG9nZ2xlbWluaSIpLmFwcGVuZFRvKHRkX3JlcGx5KTsKCQkJbWluaS5jc3MoewoJCQkJIm1hcmdpbiI6ICIzcHggNHB4IDAgYXV0byIsCgkJCQkiZGlzcGxheSI6ICJpbmxpbmUtYmxvY2siCgkJCX0pOwoJCQl2YXIgY2xvc2UgPSBNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvcGFnZWxlZnQucG5nJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIkZlcm1lciBsZSBNYW5hZ2VyIiksbnVsbCxmdW5jdGlvbigpIHsKCQkJCU1haW4uay5NYW5hZ2VyLm9wZW4oKTsKCQkJfSkuYXBwZW5kVG8odGRfcmVwbHkpOwoJCQljbG9zZS5jc3MoewoJCQkJIm1hcmdpbiI6ICIzcHggNHB4IDAgYXV0byIsCgkJCQkiZGlzcGxheSI6ICJpbmxpbmUtYmxvY2siCgkJCX0pOwoJCX1lbHNlewoJCQkkdGFic3RhdHMgPSAkKCIjdGFic3RhdHMiKTsKCQl9CgoJCS8vIExvYWQgZGF0YQoJCU1haW4uay5NYW5hZ2VyLnVwZGF0ZSgpOwoJCU1haW4uay5NYW5hZ2VyLnNlbGVjdFRhYigkdGFic3RhdHMpOwoKCQkkKCIjbWFuYWdlcl90b2dnbGVtaW5pIikuZmluZCgiYSIpLmh0bWwoIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL2xlc3MucG5nJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIlLDqWR1aXJlIGxlIE1hbmFnZXIiKSk7CgkJTWFpbi5rLmZvbGRpbmcuZGlzcGxheShbIiN0b3BpY3NfY29sIiwgIiN0b3BpY19jb2wiLCAiI3JlcGx5X2NvbCJdLCAibWFuYWdlciIsIGFmdGVyKTsKCX07CglNYWluLmsuTWFuYWdlci5yZXBseXdhaXRpbmcgPSAiIjsKCU1haW4uay5NYW5hZ2VyLm9wZW5PbiA9IGZ1bmN0aW9uKF90YXJnZXQsIHZhbCwgaykgewoJCWlmICh2YWwgJiYgdmFsLmxlbmd0aCA+IDApIE1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyA9IHZhbDsKCgkJaWYgKF90YXJnZXQgPT0gIm5ld3RvcGljIikgewoJCQlNYWluLmsuTWFuYWdlci5vcGVuKCk7CgkJfSBlbHNlIGlmIChfdGFyZ2V0ID09ICJyZXBseSIpIHsKCQkJTWFpbi5rLk1hbmFnZXIuZGlzcGxheWVkVG9waWMgPSBrOwoJCQl2YXIgYWZ0ZXIgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBrID0gTWFpbi5rLk1hbmFnZXIuZGlzcGxheWVkVG9waWM7CgkJCQlNYWluLmsuTWFuYWdlci5zZWxlY3RUb3BpYyhrKTsKCQkJfTsKCQkJTWFpbi5rLk1hbmFnZXIub3BlbihhZnRlcik7CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLm1pbmltaXplID0gZnVuY3Rpb24oKXsKCQl2YXIgJG1hbmFnZXJfdG9nZ2xlbWluaSA9ICQoIiNtYW5hZ2VyX3RvZ2dsZW1pbmkiKTsKCQlpZiAoTWFpbi5rLmZvbGRpbmcuZGlzcGxheWVkID09ICJtYW5hZ2VyIikgewoJCQkkbWFuYWdlcl90b2dnbGVtaW5pLmZpbmQoImEiKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9tb3JlLnBuZycgLz4gQWdyYW5kaXIgbGUgTWFuYWdlciIpOwoJCQlNYWluLmsuZm9sZGluZy5kaXNwbGF5KFtNYWluLmsuZm9sZGluZy5nYW1lY29sc1swXSwgTWFpbi5rLmZvbGRpbmcuZ2FtZWNvbHNbMV0sICIjcmVwbHlfY29sIl0sICJtYW5hZ2VyX21pbmkiKTsKCQl9IGVsc2UgewoJCQkkbWFuYWdlcl90b2dnbGVtaW5pLmZpbmQoImEiKS5odG1sKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9sZXNzLnBuZycgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJSw6lkdWlyZSBsZSBNYW5hZ2VyIikpOwoJCQlNYWluLmsuZm9sZGluZy5kaXNwbGF5KFsiI3RvcGljc19jb2wiLCAiI3RvcGljX2NvbCIsICIjcmVwbHlfY29sIl0sICJtYW5hZ2VyIik7CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLnNlbGVjdFRhYiA9IGZ1bmN0aW9uKGVsKSB7CgkJLy8gU2VsZWN0IHRhYgoJCXZhciAkdG9waWNfY29sID0gJCgiI3RvcGljc19jb2wiKTsKCQkkdG9waWNfY29sLmZpbmQoIi50YWIiKS5yZW1vdmVDbGFzcygidGFib24iKS5hZGRDbGFzcygidGFib2ZmIik7CgkJJChlbCkucmVtb3ZlQ2xhc3MoInRhYm9mZiIpLmFkZENsYXNzKCJ0YWJvbiIpOwoKCQkvLyBEaXNwbGF5IGNvbnRlbnQKCQkkdG9waWNfY29sLmZpbmQoIi50YWJjb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCQkkKCIjIiArICQoZWwpLmF0dHIoImlkIikgKyAiX2NvbnRlbnQiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCX07CglNYWluLmsuTWFuYWdlci5zZWxlY3RUb3BpY1RhYiA9IGZ1bmN0aW9uKGVsKSB7CgkJLy8gU2VsZWN0IHRhYgoJCXZhciAkdG9waWNfY29sID0gJCgiI3RvcGljc19jb2wiKTsKCQkkdG9waWNfY29sLmZpbmQoIi50YWIiKS5yZW1vdmVDbGFzcygidGFib24iKS5hZGRDbGFzcygidGFib2ZmIik7CgkJJChlbCkucmVtb3ZlQ2xhc3MoInRhYm9mZiIpLmFkZENsYXNzKCJ0YWJvbiIpOwoKCQkvLyBEaXNwbGF5IGNvbnRlbnQKCQkkdG9waWNfY29sLmZpbmQoIi50YWJjb250ZW50IikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKCQkkKCIjIiArICQoZWwpLmF0dHIoImlkIikgKyAiX2NvbnRlbnQiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCX07CglNYWluLmsuTWFuYWdlci5zZWxlY3RSZXBseVRhYiA9IGZ1bmN0aW9uKGVsKSB7CgkJdmFyICRyZXBseV9jb2wgPSAkKCcjcmVwbHlfY29sJyk7CgkJLy8gU2VsZWN0IHRhYgoJCSRyZXBseV9jb2wuZmluZCgiLnRhYiIpLnJlbW92ZUNsYXNzKCJ0YWJvbiIpLmFkZENsYXNzKCJ0YWJvZmYiKTsKCQkkKGVsKS5yZW1vdmVDbGFzcygidGFib2ZmIikuYWRkQ2xhc3MoInRhYm9uIik7CgoJCS8vIERpc3BsYXkgY29udGVudAoJCSRyZXBseV9jb2wuZmluZCgiLnRhYmNvbnRlbnQiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwoJCSQoIiMiICsgJChlbCkuYXR0cigiaWQiKSArICJfY29udGVudCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJfTsKCU1haW4uay5NYW5hZ2VyLnRvcGljcyA9IFtdOwoJTWFpbi5rLk1hbmFnZXIucmVwbGllcyA9IFtdOwoJTWFpbi5rLk1hbmFnZXIubGFzdGFnbyA9ICIiOwoJTWFpbi5rLk1hbmFnZXIubG9hZGVkdG9waWNzID0gW107CglNYWluLmsuTWFuYWdlci5sb2FkZWRyZXBsaWVzID0gW107CglNYWluLmsuTWFuYWdlci5sbXdQcm9jZXNzaW5nID0gZmFsc2U7CglNYWluLmsuTWFuYWdlci5sb2FkV2hvbGVXYWxsID0gZnVuY3Rpb24oaykgewoJCWlmIChNYWluLmsuTWFuYWdlci5sbXdQcm9jZXNzaW5nKSByZXR1cm47CgkJTWFpbi5rLk1hbmFnZXIubG13UHJvY2Vzc2luZyA9IHRydWU7CgoJCXZhciB3ID0gJCgnI2NkU3RkV2FsbCcpLmZpbmQoImRpdi53YWxsIGRpdi51bml0IikubGFzdCgpOwoJCXZhciB3cCA9IHcuY2xvc2VzdCgiLndhbGwiKTsKCgkJdmFyIGRhdGFrID0gayA/IGsgOiB3LmF0dHIoImRhdGEtayIpOwoJCVRvb2xzLnBpbmcoIi9yZXRyV2FsbEFmdGVyLyIgKyBkYXRhayxmdW5jdGlvbihjb250ZW50KSB7CgkJCXZhciBqcTEgPSAkKGNvbnRlbnQpOwoJCQlNYWluLmsuTWFuYWdlci5sbXdQcm9jZXNzaW5nID0gZmFsc2U7CgkJCWlmIChqcTEuZmluZCgiLndhbGwiKS5odG1sKCkudHJpbSgpLmxlbmd0aCA+IDApIHsKCQkJCS8vIFN0b3JlIG1lc3NhZ2VzCgkJCQlNYWluLmsuTWFuYWdlci5wYXJzZVdhbGwoanExLmZpbmQoIi53YWxsIikpOwoKCQkJCS8vIEdldCBkYXRhLWsKCQkJCXZhciBkYXRhayA9IGpxMS5maW5kKCIud2FsbCAudW5pdCIpLmxhc3QoKS5hdHRyKCJkYXRhLWsiKTsKCQkJCWlmKGRhdGFrID09IGspewoJCQkJCU1haW4uay5NYW5hZ2VyLmxtd1Byb2Nlc3NpbmcgPSBmYWxzZTsKCQkJCQlNYWluLmsuTWFuYWdlci51cGRhdGUoKTsKCQkJCX1lbHNlewoJCQkJCS8vIExvYWQgbW9yZQoJCQkJCU1haW4uay5NYW5hZ2VyLmxvYWRXaG9sZVdhbGwoZGF0YWspOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJTWFpbi5rLk1hbmFnZXIudXBkYXRlKCk7CgkJCX0KCQl9KTsKCX07CglNYWluLmsuTWFuYWdlci5wYXJzZVdhbGwgPSBmdW5jdGlvbih3YWxsKSB7CgkJaWYgKCF3YWxsLmZpbmQpIHdhbGwgPSAkKHdhbGwpOwoJCXZhciB0b3BpY3MgPSB3YWxsLmZpbmQoIi5tYWlubWVzc2FnZSIpOwoKCQl0b3BpY3MuZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyIHRvcGljX2FnbzsKCQkJdmFyIHRpZCA9ICQodGhpcykuY2xvc2VzdCgiLnVuaXQiKS5hdHRyKCJkYXRhLWsiKTsKCQkJdmFyIGVkaXRpbmcgPSAoTWFpbi5rLk1hbmFnZXIubG9hZGVkdG9waWNzW3RpZF0pOwoKCQkJLy8gQ3JlYXRlIHRvcGljIG9iamVjdAoJCQl2YXIgdG9waWMgPSBlZGl0aW5nID8gTWFpbi5rLk1hbmFnZXIuZ2V0VG9waWNCeVRpZCh0aWQpIDoge307CgkJCWlmICghZWRpdGluZykgdG9waWMubXVzaGlkID0gdGlkOwoKCQkJLy8gRmF2b3JpdGUgPwoJCQlpZiAoIWVkaXRpbmcpIHRvcGljLmZhdiA9ICQodGhpcykuY2xvc2VzdCgiLmNkV2FsbENoYW5uZWwiKS5hdHRyKCJpZCIpID09ICJjZEZhdldhbGwiOwoKCQkJLy8gTmVyb24gb3IgSGVybyA/CgkJCXZhciBoZXJvID0gIiI7CgkJCWlmICghZWRpdGluZykgewoJCQkJaWYgKCQodGhpcykuZmluZCgiLm1haW5zYWlkLm5lcm9uX3RhbGtzIikubGVuZ3RoICE9IDApIHsKCQkJCQloZXJvID0gIm5lcm9uIjsKCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10ubWVzcysrOwoKCQkJCQkvLyBBVgoJCQkJCWlmICgkKHRoaXMpLmZpbmQoIi5tYWluc2FpZC5uZXJvbl90YWxrcyBwIikubGVuZ3RoID4gMCkgewoJCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10uYXYrKzsKCgkJCQkJCXRvcGljLm1zZyA9ICIiOwoJCQkJCQkkKHRoaXMpLmZpbmQoInAsIHVsIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXRvcGljLm1zZyArPSAiPCIgKyAkKHRoaXMpLnByb3AoInRhZ05hbWUiKSArICI+IiArICQodGhpcykuaHRtbCgpICsgIjwvIiArICQodGhpcykucHJvcCgidGFnTmFtZSIpICsgIj4iOwoJCQkJCQl9KTsKCQkJCQl9IGVsc2UgewoJCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10uYSsrOwoKCQkJCQkJdmFyIG1zZyA9ICQodGhpcykuZmluZCgiLm1haW5zYWlkLm5lcm9uX3RhbGtzIikuaHRtbCgpOwoJCQkJCQltc2cgPSBtc2cucmVwbGFjZSgvKFtcclxuXSspL2csICIiKTsKCQkJCQkJdG9waWMubXNnID0gL05FUk9OXHM6PFwvc3Bhbj4oLispPHNwYW5ccypjbGFzcz0iYWdvIi9pLmV4ZWMobXNnKVsxXS50cmltKCk7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQloZXJvID0gTWFpbi5rLkdldEhlcm9OYW1lRnJvbVRvcGljKCQodGhpcykpOwoJCQkJCWlmKCghKGhlcm8gaW4gTWFpbi5rLk1hbmFnZXIuaGVyb2VzKSkpewoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQl9CgkJCQkJTWFpbi5rLk1hbmFnZXIuaGVyb2VzW2hlcm9dLm1lc3MrKzsKCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10udG9waWMrKzsKCgkJCQkJdG9waWMubXNnID0gIiI7CgkJCQkJJCh0aGlzKS5maW5kKCJwLCB1bCIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCXRvcGljLm1zZyArPSAiPCIgKyAkKHRoaXMpLnByb3AoInRhZ05hbWUiKSArICI+IiArICQodGhpcykuaHRtbCgpICsgIjwvIiArICQodGhpcykucHJvcCgidGFnTmFtZSIpICsgIj4iOwoJCQkJCX0pOwoJCQkJCWlmKHRvcGljLm1zZyA9PSAnJyl7CgkJCQkJCXRvcGljLm1zZyA9ICQodGhpcykuZmluZCgnLm1haW5zYWlkJykKCQkJCQkJCQkJLmNsb25lKCkJCS8vY2xvbmUgdGhlIGVsZW1lbnQKCQkJCQkJCQkJLmNoaWxkcmVuKCkJCS8vc2VsZWN0IGFsbCB0aGUgY2hpbGRyZW4KCQkJCQkJCQkJLnJlbW92ZSgpCQkvL3JlbW92ZSBhbGwgdGhlIGNoaWxkcmVuCgkJCQkJCQkJCS5lbmQoKQkJCS8vYWdhaW4gZ28gYmFjayB0byBzZWxlY3RlZCBlbGVtZW50CgkJCQkJCQkJCS50ZXh0KCk7CgkJCQkJfQoJCQkJfQoKCQkJCXRvcGljLmF1dGhvciA9IGhlcm87CgkJCQl0b3BpYy5pZCA9IE1haW4uay5NYW5hZ2VyLnRvcGljcy5sZW5ndGg7CgkJCX0KCgkJCXRvcGljLmFnbyA9ICQodGhpcykuZmluZCgiLmFnbyIpLmh0bWwoKS50cmltKCk7CgkJCXRvcGljX2FnbyA9IHRvcGljLmFnbzsKCQkJdG9waWMucmVhZCA9ICEkKHRoaXMpLmhhc0NsYXNzKCJub3RfcmVhZCIpOwoJCQl0b3BpYy5yZWFscmVhZCA9ICEkKHRoaXMpLmhhc0NsYXNzKCJub3RfcmVhZCIpOwoJCQlpZiAoIXRvcGljLnJlYWxyZWFkICYmICFNYWluLmsuaGFzVGFsa2llKSByZXR1cm47CgoJCQlNYWluLmsuTWFuYWdlci5sb2FkZWR0b3BpY3NbdGlkXSA9IHRydWU7CgkJCWlmICghZWRpdGluZykgdG9waWMucmVwbGllcyA9IFtdOwoJCQlpZiAoIWVkaXRpbmcpIE1haW4uay5NYW5hZ2VyLnRvcGljcy5wdXNoKHRvcGljKTsKCgkJCS8vIEFkZCBtZXNzYWdlcwoJCQkkKHRoaXMpLnBhcmVudCgpLmZpbmQoIi5jZFJlcGwiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJdmFyIHRpZCA9ICQodGhpcykuY2xvc2VzdCgiLnVuaXQiKS5hdHRyKCJkYXRhLWsiKTsKCQkJCXZhciB0b3BpYyA9IE1haW4uay5NYW5hZ2VyLmdldFRvcGljQnlUaWQodGlkKTsKCgkJCQl2YXIgaWR4ID0gJCh0aGlzKS5hdHRyKCJkYXRhLWlkeCIpOwoJCQkJdmFyIHJpZCA9IHRvcGljLm11c2hpZCArICIuIiArIGlkeDsKCgkJCQl2YXIgZWRpdGluZyA9IChNYWluLmsuTWFuYWdlci5sb2FkZWRyZXBsaWVzW3JpZF0gPT0gdHJ1ZSk7CgoJCQkJLy8gQ3JlYXRlIG1lc3NhZ2Ugb2JqZWN0CgkJCQl2YXIgcmVwbHkgPSBlZGl0aW5nID8gdG9waWMucmVwbGllc1tpZHhdIDoge307CgkJCQlpZiAoIXJlcGx5KSByZXBseSA9IHt9OwoKCQkJCS8vIE5lcm9uIG9yIEhlcm8gPwoJCQkJdmFyIGhlcm8gPSAiIjsKCQkJCWlmICghZWRpdGluZykgewoJCQkJCWlmICgkKHRoaXMpLmZpbmQoIi5uZXJvbiIpLmxlbmd0aCAhPSAwKSB7CgkJCQkJCWhlcm8gPSAibmVyb24iOwoJCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10ubWVzcysrOwoJCQkJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbaGVyb10uYXYrKzsKCQkJCQl9IGVsc2UgewoJCQkJCQloZXJvID0gTWFpbi5rLkdldEhlcm9OYW1lRnJvbVRvcGljKCQodGhpcykpOwoJCQkJCQlpZigoIShoZXJvIGluIE1haW4uay5NYW5hZ2VyLmhlcm9lcykpKXsKCQkJCQkJCXJldHVybiB0cnVlOwoJCQkJCQl9CgkJCQkJCU1haW4uay5NYW5hZ2VyLmhlcm9lc1toZXJvXS5tZXNzKys7CgkJCQkJfQoKCQkJCQlyZXBseS5hdXRob3IgPSBoZXJvOwoJCQkJCXJlcGx5Lm1zZyA9ICIiOwoJCQkJCSQodGhpcykuZmluZCgicCwgdWwiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlyZXBseS5tc2cgKz0gIjwiICsgJCh0aGlzKS5wcm9wKCJ0YWdOYW1lIikgKyAiPiIgKyAkKHRoaXMpLmh0bWwoKSArICI8LyIgKyAkKHRoaXMpLnByb3AoInRhZ05hbWUiKSArICI+IjsKCQkJCQl9KTsKCQkJCQlpZihyZXBseS5tc2cgPT0gJycpewoJCQkJCQlyZXBseS5tc2cgPSAkKHRoaXMpLmZpbmQoJy5yZXBseScpCgkJCQkJCQkuY2xvbmUoKQkJLy9jbG9uZSB0aGUgZWxlbWVudAoJCQkJCQkJLmNoaWxkcmVuKCkJCS8vc2VsZWN0IGFsbCB0aGUgY2hpbGRyZW4KCQkJCQkJCS5yZW1vdmUoKQkJLy9yZW1vdmUgYWxsIHRoZSBjaGlsZHJlbgoJCQkJCQkJLmVuZCgpCQkJLy9hZ2FpbiBnbyBiYWNrIHRvIHNlbGVjdGVkIGVsZW1lbnQKCQkJCQkJCS50ZXh0KCk7CgkJCQkJfQoJCQkJCXJlcGx5LnRpZCA9IHRvcGljLmlkOwoJCQkJCXJlcGx5LmlkID0gaWR4OwoJCQkJfQoKCQkJCXJlcGx5LmFnbyA9ICQodGhpcykuZmluZCgiLmFnbyIpLmh0bWwoKS50cmltKCk7CgkJCQl0b3BpY19hZ28gPSBNYWluLmsubWluQWdvKHJlcGx5LmFnbywgdG9waWNfYWdvKTsKCQkJCXJlcGx5LnJlYWQgPSAhJCh0aGlzKS5oYXNDbGFzcygibm90X3JlYWQiKTsKCQkJCWlmICh0b3BpYy5yZWFkICYmICFyZXBseS5yZWFkKSB0b3BpYy5yZWFkID0gZmFsc2U7CgkJCQlpZiAoIXJlcGx5LnJlYWQgJiYgIU1haW4uay5oYXNUYWxraWUpIHJldHVybjsKCQkJCU1haW4uay5NYW5hZ2VyLmxvYWRlZHJlcGxpZXNbcmlkXSA9IHRydWU7CgoJCQkJLy8gU2F2ZSBtZXNzYWdlCgkJCQlpZiAoIWVkaXRpbmcpIHsKCQkJCQl0b3BpYy5yZXBsaWVzLnB1c2gocmVwbHkpOwoJCQkJCU1haW4uay5NYW5hZ2VyLnJlcGxpZXMucHVzaChyZXBseSk7CgkJCQl9CgkJCX0pOwoKCQkJTWFpbi5rLk1hbmFnZXIubGFzdGFnbyA9IE1haW4uay5tYXhBZ28odG9waWNfYWdvLCBNYWluLmsuTWFuYWdlci5sYXN0YWdvKTsKCQl9KTsKCX07CglNYWluLmsuTWFuYWdlci5wYXJzZVRvcGljID0gZnVuY3Rpb24odG9waWMsIGhpZ2hsaWdodCkgewoJCXZhciB0b3BpY0RPTSA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInJlcGx5IGJ1YmJsZSB1bml0Iik7CgkJaWYgKE1haW4uay5PcHRpb25zLmNidWJibGVzKSB0b3BpY0RPTS5hZGRDbGFzcygiYnViYmxlXyIgKyB0b3BpYy5hdXRob3IpOwoJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlc05CKSB0b3BpY0RPTS5hZGRDbGFzcygiY3VzdG9tYnViYmxlc19ub2JhY2tncm91bmQiKTsKCQl2YXIgaXNuZXJvbiA9ICh0b3BpYy5hdXRob3IgPT0gIm5lcm9uIik7CgoJCS8vIEF1dGhvcgoJCXZhciBhdXRoZGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhpc25lcm9uID8gdG9waWMuYXV0aG9yIDogImNoYXIgIiArIHRvcGljLmF1dGhvcikuYXBwZW5kVG8odG9waWNET00pOwoJCWlmICh0b3BpYy5hdXRob3IgPT0gIm5lcm9uIikgYXV0aGRpdi5odG1sKCc8aW1nIHNyYz0iL2ltZy9pY29ucy91aS9uZXJvbi5wbmciPicpOwoKCQkvLyBCdWRkeQoJCSQoIjxzcGFuPiIpLmFkZENsYXNzKCJidWRkeSIpLmh0bWwoaXNuZXJvbiA/ICIgTkVST04gOiAiIDogIiAiICsgTWFpbi5rLkNPTVBMRVRFX1NVUk5BTUUodG9waWMuYXV0aG9yKSArICIgOiAiKS5hcHBlbmRUbyh0b3BpY0RPTSk7CgoJCS8vIENvbnRlbnQKCQl2YXIgbXNnID0gdG9waWMubXNnOwoJCWlmIChoaWdobGlnaHQpIHsKCQkJZm9yICh2YXIgaT0wOyBpPGhpZ2hsaWdodC5sZW5ndGg7IGkrKykgewoJCQkJdmFyIHJlZyA9IG5ldyBSZWdFeHAoaGlnaGxpZ2h0W2ldLCAiZ2kiKTsKCQkJCW1zZyA9IG1zZy5yZXBsYWNlKHJlZywgIjxzcGFuIGNsYXNzPSdoaWdobGlnaHQnPiIgKyBoaWdobGlnaHRbaV0gKyAiPC9zcGFuPiIpOwoJCQl9CgkJfQoJCSQoIjxkaXY+IikuY3NzKCJkaXNwbGF5IiwgImlubGluZSIpLmh0bWwobXNnKS5hcHBlbmRUbyh0b3BpY0RPTSk7CgoJCS8vIEFnbwoJCSQoIjxzcGFuPiIpLmFkZENsYXNzKCJhZ28iKS5odG1sKHRvcGljLmFnbykuYXBwZW5kVG8odG9waWNET00pOwoKCQlyZXR1cm4gdG9waWNET007Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZGlzcGxheWVkVG9waWMgPSBudWxsOwoJTWFpbi5rLk1hbmFnZXIuZGlzcGxheVRvcGljID0gZnVuY3Rpb24odGksIGx3b3JkcykgewoJCXZhciBkaXNwbGF5bW9yZSA9IHRydWU7IC8vIFRFTVAKCgkJLy8gQ2xlYXIgY3VycnRvcGljCgkJdmFyIGN1cnJ0b3BpYyA9ICQoIiN0YWJ0b3BpY19jb250ZW50IikuZW1wdHkoKTsKCgkJLy8gUGFyc2UgdG9waWMKCQl2YXIgdG9waWMgPSBNYWluLmsuTWFuYWdlci50b3BpY3NbdGldOwoJCXZhciBtYWluc2FpZCA9IE1haW4uay5NYW5hZ2VyLnBhcnNlVG9waWModG9waWMsIGx3b3Jkcyk7CgkJTWFpbi5rLk1hbmFnZXIuZGlzcGxheWVkVG9waWMgPSB0b3BpYy5tdXNoaWQ7CgkJbWFpbnNhaWQuYXR0cigiY2xhc3MiLCAiYnViYmxlIG1haW5tZXNzYWdlIG1haW5zYWlkIik7CgkJaWYgKHRvcGljLmF1dGhvciA9PSAibmVyb24iKSB7CgkJCW1haW5zYWlkLmZpbmQoImltZyIpLnJlbW92ZSgpOwoJCQltYWluc2FpZC5hZGRDbGFzcygibmVyb25fdGFsa3MiKTsKCQl9CgkJbWFpbnNhaWQuY3NzKHsKCQkJInBhZGRpbmctYm90dG9tIjogIjIwcHgiLAoJCQkiei1pbmRleCI6ICIxMCIKCQl9KS5hcHBlbmRUbyhjdXJydG9waWMpOwoJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlcykgewoJCQltYWluc2FpZC5hZGRDbGFzcygiYnViYmxlXyIgKyB0b3BpYy5hdXRob3IpOwoJCQlpZiAoTWFpbi5rLk9wdGlvbnMuY2J1YmJsZXNOQikgbWFpbnNhaWQuYWRkQ2xhc3MoImN1c3RvbWJ1YmJsZXNfbm9iYWNrZ3JvdW5kIik7CgkJfSBlbHNlIHsKCQkJbWFpbnNhaWQuY3NzKCJiYWNrZ3JvdW5kIiwgInJnYmEoMjU1LDI1NSwyNTUsMC44KSIpOwoJCX0KCgkJLy8gTWFyayBhcyByZWFkCgkJaWYgKCF0b3BpYy5yZWFscmVhZCkgewoJCQltYWluc2FpZC5hZGRDbGFzcygibm90X3JlYWQiKTsKCQkJbWFpbnNhaWQucHJlcGVuZCgkKCc8aW1nPicpLmFkZENsYXNzKCJyZWNlbnQiKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy91aS9yZWNlbnQucG5nIikpOwoJCQltYWluc2FpZC5hdHRyKCJkYXRhLWsiLCB0b3BpYy5tdXNoaWQpOwoJCQltYWluc2FpZC5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CgkJCQlBcnJheUV4LnB1c2hCYWNrKE1haW4uY2hlY2tlZFdhbGxQb3N0LCQodGhpcykuYXR0cigiZGF0YS1rIikpOwoJCQkJaGF4ZS5UaW1lci5kZWxheShNYWluLnNlbmRXYWxsQ2hlY2tlZCwxMDAwKTsKCgkJCQkkKHRoaXMpLmZpbmQoIi5yZWNlbnQiKS5yZW1vdmUoKTsKCQkJCSQodGhpcykucmVtb3ZlQ2xhc3MoIm5vdF9yZWFkIik7CgkJCQkkKHRoaXMpLm9mZignb25tb3VzZW92ZXInKTsKCQkJfSk7CgkJfQoKCQkvLyBEaXNwbGF5IHJlYWQgbWVzc2FnZXMKCQkvLyBUT0RPOiBkbyBub3QgZGlzcGxheSBpZiBubyByZWFkIG1lc3NhZ2VzCgkJaWYgKHRvcGljLnJlcGxpZXMubGVuZ3RoID4gMTAgJiYgIWRpc3BsYXltb3JlKSB7CgkJCSQoIjxhPiIpLmFkZENsYXNzKCJkaXNwbGF5bW9yZSIpLmF0dHIoImhyZWYiLCAiIyIpLm9uKCJjbGljayIsIE1haW4uay5NYW5hZ2VyLmRpc3BsYXlBbGxSZXBsaWVzKQoJCQkuaHRtbCgiQWZmaWNoZXIgbGVzICIgKyB0b3BpYy5yZXBsaWVzLmxlbmd0aCArICIgbWVzc2FnZXMiKS5hcHBlbmRUbyhjdXJydG9waWMpOwoJCX0KCgkJLy8gRGlzcGxheSByZXBsaWVzCgkJdmFyIHJlcGx5dGFibGUgPSAkKCI8dGFibGU+IikuYWRkQ2xhc3MoInRyZWVyZXBseSIpLmFwcGVuZFRvKGN1cnJ0b3BpYyk7CgkJdmFyIHRib2R5ID0gJCgiPHRib2R5PiIpLmFwcGVuZFRvKHJlcGx5dGFibGUpOwoKCQlmb3IgKHZhciBpPTA7IGk8dG9waWMucmVwbGllcy5sZW5ndGg7IGkrKykgewoJCQl2YXIgcmVwbHkgPSB0b3BpYy5yZXBsaWVzW2ldOwoKCQkJdmFyIHRyID0gJCgiPHRyPiIpLmFkZENsYXNzKCJjZFJlcGwiKS5hcHBlbmRUbyh0Ym9keSk7CgkJCWlmICh0b3BpYy5yZXBsaWVzLmxlbmd0aCA+IDEwICYmIHJlcGx5LnJlYWQgJiYgIWRpc3BsYXltb3JlKSB0ci5hZGRDbGFzcygibWVzc3JlYWQiKTsKCQkJaWYgKCFyZXBseS5yZWFkKSB0ci5hZGRDbGFzcygibm90X3JlYWQiKTsKCgkJCXZhciBfY2xhc3MgPSAidHJlZSIgKyAoaSA9PSAodG9waWMucmVwbGllcy5sZW5ndGggLTEpID8gIiB0cmVlbGFzdCIgOiAiIik7CgkJCSQoIjx0ZD4iKS5hZGRDbGFzcyhfY2xhc3MpLmFwcGVuZFRvKHRyKTsKCQkJdmFyIHRkMiA9ICQoIjx0ZD4iKS5hcHBlbmRUbyh0cik7CgoJCQl2YXIgcmVwbHlET00gPSBNYWluLmsuTWFuYWdlci5wYXJzZVRvcGljKHJlcGx5LCBsd29yZHMpOwoJCQlyZXBseURPTS5yZW1vdmVDbGFzcygidW5pdCIpLmFwcGVuZFRvKHRkMik7CgkJCXJlcGx5RE9NLnByZXBlbmQoJCgnPGRpdj4nKS5hdHRyKCJjbGFzcyIsICJ0cmlhbmdsZXVwIikpOwoJCQlpZiAoIXJlcGx5LnJlYWQpIHJlcGx5RE9NLnByZXBlbmQoJCgnPGltZz4nKS5hZGRDbGFzcygicmVjZW50IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvcmVjZW50LnBuZyIpKTsKCgkJCS8vIE1hcmsgYXMgcmVhZAoJCQlpZiAodHJ1ZSB8fCAhcmVwbHkucmVhZCkgewoJCQkJdHIuYXR0cigiZGF0YS1rIiwgdG9waWMubXVzaGlkKTsKCQkJCXRyLmF0dHIoImRhdGEtaWR4IiwgcmVwbHkuaWQpOwoJCQkJdHIub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewoJCQkJCUFycmF5RXgucHVzaEJhY2soTWFpbi5jaGVja2VkV2FsbFBvc3QsICQodGhpcykuYXR0cigiZGF0YS1rIikgKyAiIyIgKyAkKHRoaXMpLmF0dHIoImRhdGEtaWR4IikpOwoJCQkJCWhheGUuVGltZXIuZGVsYXkoTWFpbi5zZW5kV2FsbENoZWNrZWQsMTAwMCk7CgoJCQkJCSQodGhpcykuZmluZCgiLnJlY2VudCIpLnJlbW92ZSgpOwoJCQkJCSQodGhpcykucmVtb3ZlQ2xhc3MoIm5vdF9yZWFkIik7CgkJCQkJJCh0aGlzKS5vZmYoIm1vdXNlb3ZlciIpOwoJCQkJfSk7CgkJCX0KCQl9Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZGlzcGxheUFsbFJlcGxpZXMgPSBmdW5jdGlvbigpIHsKCQl2YXIgJHRhYnRvcGljX2NvbnRlbnQgPSAkKCIjdGFidG9waWNfY29udGVudCIpOwoJCSR0YWJ0b3BpY19jb250ZW50LmZpbmQoIi5tZXNzcmVhZCIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCSQodGhpcykucmVtb3ZlQ2xhc3MoIm1lc3NyZWFkIik7CgkJfSk7CgkJJHRhYnRvcGljX2NvbnRlbnQuZmluZCgiLmRpc3BsYXltb3JlIikuYWRkQ2xhc3MoIm1lc3NyZWFkIik7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZ2V0VG9waWNCeVRpZCA9IGZ1bmN0aW9uKHRpZCkgewoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuTWFuYWdlci50b3BpY3MubGVuZ3RoOyBpKyspIHsKCQkJdmFyIHQgPSBNYWluLmsuTWFuYWdlci50b3BpY3NbaV07CgkJCWlmICh0Lm11c2hpZCA9PSB0aWQpIHJldHVybiB0OwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuY2xlYXJTZXNzID0gZnVuY3Rpb24oKSB7CgkJLy8gQ2xlYXIgc2lkIGNvb2tpZQoJCWpzLkNvb2tpZS5zZXQoInNpZCIsICIiLCAtNDIsICIvIiwgIi4iK01haW4uay5kb21haW4rIiIpOwoJCU1haW4uay5zaG93TG9hZGluZygpOwoJCS8vIFJlbG9hZCBzZXNzaW9uCgkJJCgnPGlmcmFtZT4nLCB7CgkJCXNyYzogTWFpbi5rLm11c2h1cmwrJy9tZScsCgkJCWlkOiAnc2Vzc2lvbmZyYW1lJywKCQkJc2Nyb2xsaW5nOiAnbm8nCgkJfSkuY3NzKHsKCQkJd2lkdGg6IDAsCgkJCWhlaWdodDogMCwKCQkJZGlzcGxheTogIm5vbmUiLAoJCQlwb3NpdGlvbjogImFic29sdXRlIgoJCX0pLmFwcGVuZFRvKCdib2R5JykubG9hZChmdW5jdGlvbigpIHsKCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwoJCX0pOwoJfTsKCU1haW4uay5NYW5hZ2VyLnVwZGF0ZUhlcm9lcyA9IGZ1bmN0aW9uKCkgewoJCU1haW4uay5NYW5hZ2VyLmluaXRIZXJvZXMoKTsKCgkJZm9yICh2YXIgaT0wOyBpPE1haW4uay5NYW5hZ2VyLnRvcGljcy5sZW5ndGg7IGkrKykgewoJCQl2YXIgdG9waWMgPSBNYWluLmsuTWFuYWdlci50b3BpY3NbaV07CgkJCU1haW4uay5NYW5hZ2VyLmhlcm9lc1t0b3BpYy5hdXRob3JdLnRvcGljKys7CgkJCU1haW4uay5NYW5hZ2VyLmhlcm9lc1t0b3BpYy5hdXRob3JdLm1lc3MrKzsKCgkJCWZvciAodmFyIGo9MDsgajx0b3BpYy5yZXBsaWVzLmxlbmd0aDsgaisrKSB7CgkJCQl2YXIgcmVwbHkgPSB0b3BpYy5yZXBsaWVzW2pdOwoJCQkJTWFpbi5rLk1hbmFnZXIuaGVyb2VzW3JlcGx5LmF1dGhvcl0ubWVzcysrOwoJCQl9CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLnNvcnRlZGhlcm9lcyA9IFtdOwoJTWFpbi5rLk1hbmFnZXIuc29ydEhlcm9lcyA9IGZ1bmN0aW9uKCkgewoJCS8vIEluaXQKCQlNYWluLmsuTWFuYWdlci5zb3J0ZWRoZXJvZXMgPSBbXTsKCQlmb3IgKHZhciBoIGluIE1haW4uay5NYW5hZ2VyLmhlcm9lcykgewoJCQlpZihNYWluLmsuTWFuYWdlci5oZXJvZXMuaGFzT3duUHJvcGVydHkoaCkpIHsKCQkJCXZhciBoZXJvID0gTWFpbi5rLk1hbmFnZXIuaGVyb2VzW2hdOwoJCQkJaWYgKCFoZXJvIHx8IGhlcm8ubWVzcyA9PSB1bmRlZmluZWQpIGNvbnRpbnVlOwoKCQkJCU1haW4uay5NYW5hZ2VyLnNvcnRlZGhlcm9lcy5wdXNoKGgpOwoJCQl9CgkJfQoKCQkvLyBTb3J0CgkJTWFpbi5rLk1hbmFnZXIuc29ydGVkaGVyb2VzLnNvcnQoZnVuY3Rpb24oYixhKSB7CgkJCWEgPSBNYWluLmsuTWFuYWdlci5oZXJvZXNbYV07CgkJCWIgPSBNYWluLmsuTWFuYWdlci5oZXJvZXNbYl07CgoJCQl2YXIgYTEgPSBhLm1lc3MsIGIxID0gYi5tZXNzOwoJCQlpZiAoYTEgPT0gYjEpIHsKCQkJCXZhciBhMiA9IGEudG9waWMsIGIyID0gYi50b3BpYzsKCQkJCWlmIChhMiA9PSBiMikgewoJCQkJCXZhciBhMyA9IGEubmFtZSwgYjMgPSBiLm5hbWU7CgkJCQkJcmV0dXJuIGEzID4gYjMgPyAxIDogLTE7CgkJCQl9CgkJCQlyZXR1cm4gYTIgPiBiMiA/IDEgOiAtMTsKCQkJfQoJCQlyZXR1cm4gYTEgPiBiMSA/IDEgOiAtMTsKCQl9KTsKCX07CglNYWluLmsuTWFuYWdlci5sb2FkaW5nTWVzc2FnZXMgPSBmdW5jdGlvbigpIHsKCQl2YXIgJHJlY2FwX2RpdiA9ICQoIiNyZWNhcF9kaXYiKTsKCQkkcmVjYXBfZGl2LmVtcHR5KCk7CgkJJCgiPHA+IikuYWRkQ2xhc3MoIndhcm5pbmciKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoIkNoYXJnZW1lbnQgZW4gY291cnMuLi4iKSkuYXBwZW5kVG8oJHJlY2FwX2Rpdik7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZmlsbFN0YXRzID0gZnVuY3Rpb24oKSB7CgkJdmFyIHRhYiA9ICQoIiN0YWJzdGF0c19jb250ZW50IikuZW1wdHkoKTsKCQl0YWIuY3NzKHsKCQkJY29sb3I6ICJyZ2IoOSwgMTAsIDk3KSIKCQl9KTsKCgkJdmFyIHdhcm4gPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJHw6lyZXogbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw6lzLiIrCgkJIkxlIG1hbmFnZXIgZXN0IHBsdXMgY29tcGxldCBsb3JzcXVlIHRvdXMgbGVzIG1lc3NhZ2VzIHNvbnQgY2hhcmfDqXMsICIrCgkJIm1haXMgbGUgamV1IGRldmllbnQgYmVhdWNvdXAgcGx1cyBsZW50IMOgIGNhdXNlIGR1IGNoYXJnZW1lbnQgZGUgY2VzIG1lc3NhZ2VzIMOgIGNoYXF1ZSBhY3Rpb24gKHBhcnRpY3VsYXJpdMOpIGRlIG11c2guLi4pLiIpKQoJCS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiN3B4IDE1cHgiKQoJCS5hcHBlbmRUbyh0YWIpOwoKCQkvLyBBY3Rpb25zCgkJdmFyIGFjdGlvbnMgPSAkKCI8ZGl2PiIpLmNzcyh7CgkJCSJ0ZXh0LWFsaWduIjogImNlbnRlciIsCgkJCSJtYXJnaW4tdG9wIjogIjhweCIKCQl9KS5hcHBlbmRUbyh3YXJuKTsKCgkJLy8gQWN0aW9uIDogbG9hZCBhbGwKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvd2FsbC5wbmcnIGNsYXNzPSdhbGVydGVkJyAvPjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL29uY2VwbHVzLnBuZycgY2xhc3M9J2FsZXJ0JyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIlRvdXQgY2hhcmdlciIpLG51bGwsZnVuY3Rpb24oKSB7CgkJCU1haW4uay5NYW5hZ2VyLmxvYWRpbmdNZXNzYWdlcygpOwoJCQlNYWluLmsuTWFuYWdlci5sb2FkV2hvbGVXYWxsKCk7CgkJfSkKCQkuYXBwZW5kVG8oYWN0aW9ucykKCQkuZmluZCgiYSIpCgkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkNoYXJnZXIgdG91cyBsZXMgbWVzc2FnZXMiKSkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJDaGFyZ2V6IHRvdXMgbGVzIG1lc3NhZ2VzIHBvdXIgcHJvZml0ZXIgcGxlaW5lbWVudCBkdSBtYW5hZ2VyIDogcmVjaGVyY2hlcyBkYW5zIHRvdXMgbGVzIG1lc3NhZ2VzIGRlcHVpcyBsZSBkw6lidXQgZGUgbGEgcGFydGllLCBub3V2ZWF1eCBtZXNzYWdlcyBtYW5xdcOpcyDDoCBjYXVzZSBkdSBidWcgZGUgbXVzaCwgc3RhdGlzdGlxdWVzIGNvbXBsw6h0ZXMsIGV0Yy48L3A+PHA+PHN0cm9uZz5DZXR0ZSBhY3Rpb24gcGV1dCBwcmVuZHJlIHVuIGNlcnRhaW4gdGVtcHMsIHN1aXZhbnQgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIHBvc3TDqXMgc3VyIHZvdHJlIHZhaXNzZWF1Ljwvc3Ryb25nPiIpKQoJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkvLyBBY3Rpb24gOiB1bmxvYWQKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvd2FsbC5wbmcnIGNsYXNzPSdhbGVydGVkJyAvPjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL2Jpbi5wbmcnIGNsYXNzPSdhbGVydCcgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJEw6ljaGFyZ2VyIiksbnVsbCxmdW5jdGlvbigpIHsKCQkJTWFpbi5rLk1hbmFnZXIubG9hZGluZ01lc3NhZ2VzKCk7CgkJCU1haW4uay5NYW5hZ2VyLmNsZWFyU2VzcygpOwoJCX0pCgkJLmFwcGVuZFRvKGFjdGlvbnMpCgkJLmZpbmQoImEiKQoJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJEw6ljaGFyZ2VyIGxlcyBtZXNzYWdlcyIpKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIkTDqWNoYXJnZXogbGEgbGlzdGUgZGUgbWVzc2FnZXMgcG91ciBhbGzDqWdlciBsZSBqZXUuIExvcnNxdWUgdm91cyBjaGFyZ2V6IGRlcyBtZXNzYWdlcyAoZW4gc2Nyb2xsYW50IHN1ciBsZSBjaGF0LCBwYXIgZXhlbXBsZSksIGNldXgtY2kgcmVzdGVudCBjaGFyZ8Opcy4gTXVzaCBjaGFyZ2VhbnQgdG91dGUgbGEgcGFnZSAoZG9udCBsZXMgbWVzc2FnZXMpIMOgIGNoYXF1ZSBhY3Rpb24sIHZvdHJlIGpldSBlc3QgZ3JhbmRlbWVudCByYWxlbnRpIGxvcnNxdWUgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw6lzIGVzdCBjb25zw6lxdWVudC48L3A+PHA+PHN0cm9uZz5DZXR0ZSBhY3Rpb24gZmVybWVyYSBsZSBNZXNzYWdlIE1hbmFnZXIgZXQgcmFmcmHDrmNoaXJhIGxhIHBhZ2UuPC9zdHJvbmc+IikpCgkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoJCS8vIEZpeCBhY3Rpb25zCgkJYWN0aW9ucy5maW5kKCIuYnV0IikuY3NzKHsKCQkJZGlzcGxheTogImlubGluZS1ibG9jayIsCgkJCW1hcmdpbjogIjAgMnB4IgoJCX0pOwoKCQkvLyBQcmludCByZWNhcAoJCXZhciByZWNhcCA9ICQoIjxkaXY+IikuYXR0cigiaWQiLCAicmVjYXBfZGl2IikuYWRkQ2xhc3MoInJlY2FwIikuYXBwZW5kVG8odGFiKTsKCQlNYWluLmsuTWFuYWdlci51cGRhdGVIZXJvZXMoKTsKCQlNYWluLmsuTWFuYWdlci5zb3J0SGVyb2VzKCk7CgoJCXZhciB0b3BpY19uYiA9IE1haW4uay5NYW5hZ2VyLnRvcGljcy5sZW5ndGg7CgkJdmFyIGFuc3dlcl9uYiA9IE1haW4uay5NYW5hZ2VyLnJlcGxpZXMubGVuZ3RoOwoJCXZhciB0b3RhbF9tc2cgPSB0b3BpY19uYiArIGFuc3dlcl9uYjsKCQkvL0EgY29udGludWVyIGljaQoJCXZhciByZWNhcF9wID0gJCgiPHA+IikuaHRtbChNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCJUb3RhbCA6IDxiPiUxPC9iPiBtZXNzYWdlIGNoYXJnw6kiLCJUb3RhbCA6IDxiPiUxPC9iPiBtZXNzYWdlcyBjaGFyZ8OpcyIsdG90YWxfbXNnKSxbdG90YWxfbXNnXSkKCgkJKyAiICIrIE1haW4uay50ZXh0LnN0cmFyZ3MoTWFpbi5rLnRleHQubmdldHRleHQoImVuIDxiPiUxPC9iPiB0b3BpYy4gPGJyLz4gKGRlcHVpcyAlMikiLCJlbiA8Yj4lMTwvYj4gdG9waWNzLiA8YnIvPiAoZGVwdWlzICUyKSIsdG9waWNfbmIpLFt0b3BpY19uYixNYWluLmsuZXh0ZW5kQWdvKE1haW4uay5NYW5hZ2VyLmxhc3RhZ28pXSkpLmFwcGVuZFRvKHJlY2FwKTsKCgkJLy8gSGVybyBjb3VudAoJCXZhciBwb3B1cF9yZWNhcF9jaGFyID0gJCgiPGRpdj4iKS5hZGRDbGFzcygiY2hhcnMiKS5hcHBlbmRUbyhyZWNhcCk7CgkJdmFyIHBvcHVwX21zZyA9ICIvLyIgKyBNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCJUb3RhbCA6ICUxIG1lc3NhZ2UiLCJUb3RhbCA6ICUxIG1lc3NhZ2VzIix0b3RhbF9tc2cpLFt0b3RhbF9tc2ddKSsiLy8iOwoJCXZhciBtYXhfaGlnaGxpZ2h0ZWQgPSA2OwoJCWZvciAodmFyIGk9MDsgaTxNYWluLmsuTWFuYWdlci5zb3J0ZWRoZXJvZXMubGVuZ3RoOyBpKyspIHsKCQkJdmFyIGhlcm8gPSBNYWluLmsuTWFuYWdlci5oZXJvZXNbTWFpbi5rLk1hbmFnZXIuc29ydGVkaGVyb2VzW2ldXTsKCQkJaWYgKCFoZXJvIHx8IGhlcm8ubWVzcyA9PSB1bmRlZmluZWQpIGNvbnRpbnVlOwoJCQlpZiAoaSA9PSBtYXhfaGlnaGxpZ2h0ZWQpICQoIjxici8+IikuYXBwZW5kVG8ocG9wdXBfcmVjYXBfY2hhcik7CgoJCQl2YXIgaGVyb0RpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImhlcm8gXyIgKyBoZXJvLm5hbWUpLmF0dHIoIl90aXRsZSIsIE1haW4uay5DT01QTEVURV9TVVJOQU1FKGhlcm8ubmFtZSkpLmNzcygiY3Vyc29yIiwgImhlbHAiKS5hcHBlbmRUbyhwb3B1cF9yZWNhcF9jaGFyKTsKCQkJaWYgKGkgPCBtYXhfaGlnaGxpZ2h0ZWQpIGhlcm9EaXYuYWRkQ2xhc3MoImhpZ2hsaWdodCIpOwoJCQlpZiAoaGVyby5uYW1lID09ICJuZXJvbiIpIHsKCQkJCWhlcm9EaXYuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCI8Yj4lMTwvYj4gbWVzc2FnZSIsIjxiPiUxPC9iPiBtZXNzYWdlcyIsaGVyby5tZXNzKSxbaGVyby5tZXNzXSkpOyAvLyBkb250IDxiPiIgKyBoZXJvLmEgKyAiPC9iPiBhbm5vbmNlcyBvZmZpY2llbGxlcyBldCA8Yj4iICsgaGVyby5hdiArICI8L2I+IGFubm9uY2VzIHZvY29kw6llcy4iKTsKCQkJfSBlbHNlIHsKCQkJCWhlcm9EaXYuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCI8Yj4lMTwvYj4gbWVzc2FnZSIsIjxiPiUxPC9iPiBtZXNzYWdlcyIsaGVyby5tZXNzKSxbaGVyby5tZXNzXSkKCgkJCQkrICIgIitNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCJkb250IDxiPiUxPC9iPiB0b3BpYy4iLCJkb250IDxiPiUxPC9iPiB0b3BpY3MuIixoZXJvLnRvcGljKSxbaGVyby50b3BpY10pKTsKCQkJfQoJCQloZXJvRGl2Lm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKTsKCQkJaGVyb0Rpdi5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgkJCWhlcm9EaXYub24oImNsaWNrIiwgTWFpbi5rLk1hbmFnZXIuc2VhcmNoSGVybyk7CgoJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpLyIgKyBoZXJvLm5hbWUucmVwbGFjZSgiXyIsICIiKSArICIucG5nIikuYXBwZW5kVG8oaGVyb0Rpdik7CgkJCXZhciBtc2cgPSAoaSA8IG1heF9oaWdobGlnaHRlZCkgPyBoZXJvLm1lc3MgKyAiJm5ic3A7bWVzc2FnZXMiIDogaGVyby5tZXNzOwoJCQkkKCI8c3Bhbj4iKS5odG1sKG1zZykuYXBwZW5kVG8oaGVyb0Rpdik7CgoJCQkvKiBUcmFuc2xhdG9yczogJTEgPSBjaGFyYWN0ZXIgbmFtZSwgJTIgPSBtZXNzYWdlIGNvdW50ICovCgkJCXBvcHVwX21zZyArPSAiXG4iK01haW4uay50ZXh0LnN0cmFyZ3MoTWFpbi5rLnRleHQubmdldHRleHQoIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZSIsIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZXMiLGhlcm8ubWVzcyksW01haW4uay5DT01QTEVURV9TVVJOQU1FKGhlcm8ubmFtZSksaGVyby5tZXNzXSk7CgkJfQoKCQkvLyBDb2RlIGZvciBzaGFyaW5nIG1zZyBjb3VudAoJCSQoIjx0ZXh0YXJlYT4iKS52YWwocG9wdXBfbXNnKS5hcHBlbmRUbyhyZWNhcCk7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZmlsbE5ld0ZhdiA9IGZ1bmN0aW9uKCkgewoJCXZhciB0b3BpYywgdG9waWNET00sIGFjdGlvbnM7CgkJdmFyIGFjdGl2ZV90b3BpY3MgPSAkKCIjdGFibmV3X2NvbnRlbnQiKS5lbXB0eSgpLmNzcygiY29sb3IiLCAicmdiKDksIDEwLCA5NykiKTsKCQl2YXIgZmF2dG9waWNzID0gJCgiI3RhYmZhdl9jb250ZW50IikuZW1wdHkoKS5jc3MoImNvbG9yIiwgInJnYig5LCAxMCwgOTcpIik7CgoJCXZhciBhbGxyZWFkID0gdHJ1ZTsKCQl2YXIgZmF2b3JpdGVzID0gW107CgkJZm9yICh2YXIgaT0wOyBpPHRoaXMudG9waWNzLmxlbmd0aDsgaSsrKSB7CgkJCXRvcGljID0gdGhpcy50b3BpY3NbaV07CgoJCQlpZiAodG9waWMuZmF2KSBmYXZvcml0ZXMucHVzaCh0b3BpYyk7CgkJCWlmICghdG9waWMucmVhZCkgewoJCQkJYWxscmVhZCA9IGZhbHNlOwoJCQkJdG9waWNET00gPSB0aGlzLnBhcnNlVG9waWModG9waWMpOwoJCQkJaWYgKHRvcGljLmF1dGhvciA9PSAibmVyb24iKSB7CgkJCQkJdG9waWNET00uZmluZCgiaW1nIikucmVtb3ZlKCk7CgkJCQkJdG9waWNET00uYWRkQ2xhc3MoIm1haW5tZXNzYWdlIG5lcm9uX3RhbGtzIik7CgkJCQl9CgkJCQlhY3RpdmVfdG9waWNzLmFwcGVuZCh0b3BpY0RPTSk7CgoKCQkJCS8vIFVucmVhZCByZXBsaWVzCgkJCQl2YXIgdW5yZWFkID0gMDsKCQkJCWlmICghdG9waWMucmVhbHJlYWQpIHVucmVhZCsrOwoJCQkJZm9yICh2YXIgaj0wOyBqPHRvcGljLnJlcGxpZXMubGVuZ3RoOyBqKyspIHsKCQkJCQl2YXIgbSA9IHRvcGljLnJlcGxpZXNbal07CgkJCQkJaWYgKCFtLnJlYWQpIHVucmVhZCsrOwoJCQkJfQoKCQkJCS8vIEFjdGlvbnMKCQkJCWFjdGlvbnMgPSAkKCI8YT4iKS5hZGRDbGFzcygidG9waWNhY3QiKS5hdHRyKCJocmVmIiwgIiN0b3BpYyIgKyBpKQoJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgeyBNYWluLmsuTWFuYWdlci5kaXNwbGF5VG9waWMocGFyc2VJbnQoLyhbMC05XSspLy5leGVjKHRoaXMuaHJlZilbMV0pKTsgcmV0dXJuIGZhbHNlOyB9KQoJCQkJLmh0bWwoTWFpbi5rLnRleHQuc3RyYXJncyhNYWluLmsudGV4dC5uZ2V0dGV4dCgiJTEgcsOpcG9uc2UiLCIlMSByw6lwb25zZXMiLHRvcGljLnJlcGxpZXMubGVuZ3RoKSxbdG9waWMucmVwbGllcy5sZW5ndGhdKSsgIiAtICIgKyBNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCIlMSBtZXNzYWdlIG5vbiBsdSIsIiUxIG1lc3NhZ2VzIG5vbiBsdXMiLHVucmVhZCksW3VucmVhZF0pKQoJCQkJLmFwcGVuZFRvKGFjdGl2ZV90b3BpY3MpOwoJCQl9CgkJfQoJCWlmIChhbGxyZWFkKSAkKCI8cD4iKS5hZGRDbGFzcygid2FybmluZyIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiQXVjdW4gbWVzc2FnZSBub24gbHUuIikpLmFwcGVuZFRvKGFjdGl2ZV90b3BpY3MpOwoKCQlpZiAoZmF2b3JpdGVzLmxlbmd0aCA9PSAwKSAkKCI8cD4iKS5hZGRDbGFzcygid2FybmluZyIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiVm91cyBuJ2F2ZXogcGFzIGRlIGZhdm9yaXMuIikpLmFwcGVuZFRvKGFjdGl2ZV90b3BpY3MpOwoJCWZvciAoaT0wOyBpPGZhdm9yaXRlcy5sZW5ndGg7IGkrKykgewoJCQl0b3BpYyA9IGZhdm9yaXRlc1tpXTsKCgkJCXRvcGljRE9NID0gdGhpcy5wYXJzZVRvcGljKHRvcGljKTsKCQkJaWYgKHRvcGljLmF1dGhvciA9PSAibmVyb24iKSB7CgkJCQl0b3BpY0RPTS5maW5kKCJpbWciKS5yZW1vdmUoKTsKCQkJCXRvcGljRE9NLmFkZENsYXNzKCJtYWlubWVzc2FnZSBuZXJvbl90YWxrcyIpOwoJCQl9CgkJCWZhdnRvcGljcy5hcHBlbmQodG9waWNET00pOwoKCQkJLy8gQWN0aW9ucwoJCQlhY3Rpb25zID0gJCgiPGE+IikuYWRkQ2xhc3MoInRvcGljYWN0IikuYXR0cigiaHJlZiIsICIjdG9waWMiICsgdG9waWMuaWQpCgkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsgTWFpbi5rLk1hbmFnZXIuZGlzcGxheVRvcGljKHBhcnNlSW50KC8oWzAtOV0rKS8uZXhlYyh0aGlzLmhyZWYpWzFdKSk7IHJldHVybiBmYWxzZTsgfSkKCQkJLmh0bWwoTWFpbi5rLnRleHQuc3RyYXJncyhNYWluLmsudGV4dC5uZ2V0dGV4dCgiJTEgcsOpcG9uc2UiLCIlMSByw6lwb25zZXMiLHRvcGljLnJlcGxpZXMubGVuZ3RoKSxbdG9waWMucmVwbGllcy5sZW5ndGhdKSkKCQkJLmFwcGVuZFRvKGZhdnRvcGljcyk7CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLmZpbGxXYWxsID0gZnVuY3Rpb24oKSB7CgkJdmFyIHdhbGwgPSAkKCIjdGFid2FsbF9jb250ZW50IikuZW1wdHkoKS5jc3MoImNvbG9yIiwgInJnYig5LCAxMCwgOTcpIik7CgkJZm9yICh2YXIgaT0wOyBpPHRoaXMudG9waWNzLmxlbmd0aDsgaSsrKSB7CgkJCXZhciB0b3BpYyA9IHRoaXMudG9waWNzW2ldOwoKCQkJdmFyIHRvcGljRE9NID0gdGhpcy5wYXJzZVRvcGljKHRvcGljKTsKCQkJaWYgKHRvcGljLmF1dGhvciA9PSAibmVyb24iKSB7CgkJCQl0b3BpY0RPTS5maW5kKCJpbWciKS5yZW1vdmUoKTsKCQkJCXRvcGljRE9NLmFkZENsYXNzKCJtYWlubWVzc2FnZSBuZXJvbl90YWxrcyIpOwoJCQl9CgkJCXdhbGwuYXBwZW5kKHRvcGljRE9NKTsKCgkJCS8vIFVucmVhZCByZXBsaWVzCgkJCXZhciB1bnJlYWQgPSAwOwoJCQlpZiAoIXRvcGljLnJlYWxyZWFkKSB1bnJlYWQrKzsKCQkJZm9yICh2YXIgaj0wOyBqPHRvcGljLnJlcGxpZXMubGVuZ3RoOyBqKyspIHsKCQkJCXZhciBtID0gdG9waWMucmVwbGllc1tqXTsKCQkJCWlmICghbS5yZWFkKSB1bnJlYWQrKzsKCQkJfQoKCQkJLy8gQWN0aW9ucwoJCQl2YXIgYWN0aW9ucyA9ICQoIjxhPiIpLmFkZENsYXNzKCJ0b3BpY2FjdCIpLmF0dHIoImhyZWYiLCAiI3RvcGljIiArIGkpCgkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsgTWFpbi5rLk1hbmFnZXIuZGlzcGxheVRvcGljKHBhcnNlSW50KC8oWzAtOV0rKS8uZXhlYyh0aGlzLmhyZWYpWzFdKSk7IHJldHVybiBmYWxzZTsgfSkKCQkJLmh0bWwoTWFpbi5rLnRleHQuc3RyYXJncyhNYWluLmsudGV4dC5uZ2V0dGV4dCgiJTEgcsOpcG9uc2UiLCIlMSByw6lwb25zZXMiLHRvcGljLnJlcGxpZXMubGVuZ3RoKSxbdG9waWMucmVwbGllcy5sZW5ndGhdKSkKCQkJLmFwcGVuZFRvKHdhbGwpOwoJCX0KCX07CglNYWluLmsuTWFuYWdlci5maWxsU2VhcmNoID0gZnVuY3Rpb24oKSB7CgkJdmFyIHNlYXJjaCA9ICQoIiN0YWJzZWFyY2hfY29udGVudCIpLmVtcHR5KCkuY3NzKCJjb2xvciIsICJyZ2IoOSwgMTAsIDk3KSIpOwoKCQkvLyBTZWFyY2ggdG9vbHMKCQl2YXIgc2VhcmNoYmFyID0gJCgiPGRpdj4iKS5hZGRDbGFzcygiYmFyIikuYXBwZW5kVG8oc2VhcmNoKTsKCQkkKCI8aW5wdXQ+IikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsICIycHgiKS5hdHRyKCJ0eXBlIiwgInRleHQiKS5hdHRyKCJpZCIsICJzZWFyY2hmaWVsZCIpLm9uKCJrZXlwcmVzcyIsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCWlmKGV2ZW50LmtleUNvZGUgPT0gMTMpIE1haW4uay5NYW5hZ2VyLnNlYXJjaCgpOwoJCX0pLmFwcGVuZFRvKHNlYXJjaGJhcik7CgoJCSQoIjxhPiIpLmNzcyh7CgkJCWN1cnNvcjogInBvaW50ZXIiLAoJCQlwb3NpdGlvbjogImFic29sdXRlIiwKCQkJdG9wOiAiNHB4IiwKCQkJbGVmdDogIjRweCIKCQl9KS5hZGRDbGFzcygiYnV0bWluaSIpCgkJLmh0bWwoJzxpbWcgc3JjPSIvaW1nL2ljb25zL3VpL2d1aWRlLnBuZyIvPicpCgkJLmFwcGVuZFRvKHNlYXJjaGJhcikKCQkub24oImNsaWNrIiwgTWFpbi5rLk1hbmFnZXIuZmlsbFNlYXJjaCk7CgoJCSQoIjxhPiIpLmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKS5hZGRDbGFzcygiYnV0bWluaSIpCgkJLmh0bWwoJzxpbWcgc3JjPSJodHRwOi8vdHdpbm9pZC5jb20vaW1nL2ljb25zL3NlYXJjaC5wbmciLz4nKQoJCS5hcHBlbmRUbyhzZWFyY2hiYXIpCgkJLm9uKCJjbGljayIsIE1haW4uay5NYW5hZ2VyLnNlYXJjaCk7CgoJCXZhciByZXN1bHRzID0gJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJzZWFyY2hyZXN1bHRzIikuYXBwZW5kVG8oc2VhcmNoKTsKCQkkKCI8aDQ+IikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJGb25jdGlvbiBkZSByZWNoZXJjaGUiKSkuYXBwZW5kVG8ocmVzdWx0cyk7CgkJJCgiPHA+IikuYWRkQ2xhc3MoImhlbHAiKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoIi0gVm91cyBwb3V2ZXogcmVjaGVyY2hlciBwbHVzaWV1cnMgbW90cywgZGFucyBsZSBkw6lzb3JkcmUsIGNvbXBsZXRzIG91IG5vbiwgcXUnaW1wb3J0ZSBsZSBjb250ZW51IGVudHJlIGV1eCBkYW5zIGxlIG1lc3NhZ2UuIikpLmFwcGVuZFRvKHJlc3VsdHMpOwoJCSQoIjxwPiIpLmFkZENsYXNzKCJoZWxwIikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCItIFBvdXIgcmVjaGVyY2hlciBsZXMgbWVzc2FnZXMgZCd1biBqb3VldXIgZW4gcGFydGljdWxpZXIsIHV0aWxpc2V6IDxpPkBwZXJzb25uYWdlPC9pPiAobGUgcHLDqW5vbSBlbiBtaW51c2N1bGUsIGF2ZWMgdW4gXyBwb3VyIGt1YW5fdGkgZXQgamluX3N1KS4iKSkuYXBwZW5kVG8ocmVzdWx0cyk7CgkJJCgiPHA+IikuYWRkQ2xhc3MoImhlbHAiKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoIi0gUG91ciByZWNoZXJjaGVyIHVuaXF1ZW1lbnQgZGFucyBsZSBwcmVtaWVyIG1lc3NhZ2UgZGVzIHRvcGljcywgdXRpbGlzZXogPGk+QHRvcGljPC9pPi4iKSkuYXBwZW5kVG8ocmVzdWx0cyk7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuc2VhcmNoID0gZnVuY3Rpb24oKSB7CgkJdmFyIHdvcmQsIHJlZywgcmVzLCByZXMxOwoJCXZhciB2YWwgPSAkKCIjc2VhcmNoZmllbGQiKS52YWwoKS50cmltKCk7CgkJdmFyIHJlc3VsdHMgPSBbXTsKCQl2YXIgbWF4X3Jlc3VsdHMgPSA1MDA7CgkJdmFyIHRvcGljb25seSA9IGZhbHNlOwoJCXZhciAkc2VhcmNocmVzdWx0cyA9ICQoIiNzZWFyY2hyZXN1bHRzIik7CgkJLy8gQ2xlYXIgcmVzdWx0cwoJCSRzZWFyY2hyZXN1bHRzLmVtcHR5KCk7CgoJCS8vIEdldCBzZWFyY2hlZCB3b3JkcwoJCXZhciB0bXAgPSB2YWwuc3BsaXQoL1xzKy8pOwoJCXZhciBsd29yZHMgPSBbXTsKCQl2YXIgaXdvcmRzID0gW107CgkJdmFyIGF1dGhvcnMgPSBbXTsKCQlmb3IgKHZhciBpPTA7IGk8dG1wLmxlbmd0aDsgaSsrKSB7CgkJCS8vIFRvcGljcyBvbmx5PwoJCQlpZiAodG1wW2ldID09ICJAdG9waWMiKSB7CgkJCQl0b3BpY29ubHkgPSB0cnVlOwoJCQkJY29udGludWU7CgkJCX0KCgkJCS8vIFNlYXJjaCBieSBhdXRob3IKCQkJaWYgKHRtcFtpXVswXSA9PSAiQCIpIHsKCQkJCXZhciBhdXRob3IgPSB0bXBbaV0ucmVwbGFjZSgiQCIsICIiKTsKCQkJCWF1dGhvcnMucHVzaChhdXRob3IpOwoJCQkJY29udGludWU7CgkJCX0KCgkJCS8vIElnbm9yZWQga2V5d29yZAoJCQlpZiAodG1wW2ldWzBdID09ICIhIikgewoJCQkJd29yZCA9IHRtcFtpXS5yZXBsYWNlKC8oW15hLXowLTktw6nDqMOqw6vDoMOixZPDtMO2w67Dr8O8w7vDucOnJyVfXSspL2dpLCAiIik7CgkJCQlpZiAod29yZC5sZW5ndGggPiAyKSBpd29yZHMucHVzaCh3b3JkKTsKCQkJCWNvbnRpbnVlOwoJCQl9CgoJCQkvLyBLZXl3b3JkCgkJCXdvcmQgPSB0bXBbaV0ucmVwbGFjZSgvKFteYS16MC05LcOpw6jDqsOrw6DDosWTw7TDtsOuw6/DvMO7w7nDpyclX10rKS9naSwgIiIpOwoJCQlpZiAod29yZC5sZW5ndGggPiAyKSBsd29yZHMucHVzaCh3b3JkKTsKCQl9CgoJCS8vIERlbGV0ZSBkb3VibGVzCgkJbHdvcmRzID0gTWFpbi5rLkVsaW1pbmF0ZUR1cGxpY2F0ZXMobHdvcmRzKTsKCQlpd29yZHMgPSBNYWluLmsuRWxpbWluYXRlRHVwbGljYXRlcyhpd29yZHMpOwoJCWF1dGhvcnMgPSBNYWluLmsuRWxpbWluYXRlRHVwbGljYXRlcyhhdXRob3JzKTsKCgkJLy8gU2VhcmNoCgkJaWYgKGF1dGhvcnMubGVuZ3RoID49IDEgfHwgbHdvcmRzLmxlbmd0aCA+PSAxIHx8IGl3b3Jkcy5sZW5ndGggPj0gMSkgewoJCQl2YXIgd29yZHMgPSAiKCIgKyBsd29yZHMuam9pbigifCIpICsgIikiOwoJCQl2YXIgbndvcmRzID0gbHdvcmRzLmxlbmd0aDsKCQkJdmFyIG1hdGNoZWRfdG9waWNzID0gMDsKCgkJCWZvciAoaT0wOyBpPE1haW4uay5NYW5hZ2VyLnRvcGljcy5sZW5ndGggJiYgbWF0Y2hlZF90b3BpY3MgPCBtYXhfcmVzdWx0czsgaSsrKSB7CgkJCQl0b3BpYyA9IE1haW4uay5NYW5hZ2VyLnRvcGljc1tpXTsKCQkJCXZhciBtYXRjaGVkID0gZmFsc2U7CgkJCQl2YXIgYXV0bWF0Y2hlZCA9IGZhbHNlOwoJCQkJdmFyIGltYXRjaGVkID0gZmFsc2U7CgoJCQkJLy8gU2VhcmNoIGJ5IGF1dGhvcgoJCQkJaWYgKGF1dGhvcnMubGVuZ3RoID4gMCkgewoJCQkJCWZvciAodmFyIGs9MDsgazxhdXRob3JzLmxlbmd0aDsgaysrKSB7CgkJCQkJCWlmICh0b3BpYy5hdXRob3IgPT0gYXV0aG9yc1trXSkgewoJCQkJCQkJYXV0bWF0Y2hlZCA9IHRydWU7CgoJCQkJCQkJaWYgKG53b3JkcyA9PSAwKSBtYXRjaGVkID0gdHJ1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQkvLyBJZ25vcmVkIGtleXdvcmRzCgkJCQlpZiAoaXdvcmRzLmxlbmd0aCA+IDApIHsKCQkJCQl2YXIgaXJlZyA9IG5ldyBSZWdFeHAoICIoIiArIGl3b3Jkcy5qb2luKCJ8IikgKyAiKSIsICJnaSIpOwoJCQkJCWlmICh0b3BpYy5tc2cubWF0Y2goaXJlZykpIHsKCQkJCQkJbWF0Y2hlZCA9IGZhbHNlOwoJCQkJCQlpbWF0Y2hlZCA9IHRydWU7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFNlYXJjaCBieSBrZXl3b3JkcwoJCQkJaWYgKCFpbWF0Y2hlZCAmJiBsd29yZHMubGVuZ3RoID4gMCAmJiAoYXV0aG9ycy5sZW5ndGggPT0gMCB8fCBhdXRtYXRjaGVkKSkgewoJCQkJCXJlZyA9IG5ldyBSZWdFeHAod29yZHMsICJnaSIpOwoJCQkJCXJlcyA9IHRvcGljLm1zZy5tYXRjaChyZWcpOwoJCQkJCWlmIChyZXMgJiYgcmVzLmxlbmd0aCA+PSBud29yZHMpIHsKCQkJCQkJcmVzMSA9IE1haW4uay5FbGltaW5hdGVEdXBsaWNhdGVzKHJlcyk7CgkJCQkJCWlmIChyZXMubGVuZ3RoID09IHJlczEubGVuZ3RoKSBtYXRjaGVkID0gdHJ1ZTsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gU2VhcmNoIGluIHJlcGxpZXMKCQkJCWZvciAodmFyIGo9MDsgajx0b3BpYy5yZXBsaWVzLmxlbmd0aCAmJiAhbWF0Y2hlZCAmJiAhdG9waWNvbmx5OyBqKyspIHsKCQkJCQl2YXIgbSA9IHRvcGljLnJlcGxpZXNbal07CgkJCQkJYXV0bWF0Y2hlZCA9IGZhbHNlOwoJCQkJCWltYXRjaGVkID0gZmFsc2U7CgoJCQkJCS8vIFNlYXJjaCBieSBhdXRob3IKCQkJCQlpZiAoYXV0aG9ycy5sZW5ndGggPiAwKSB7CgkJCQkJCWZvciAodmFyIGw9MDsgbDxhdXRob3JzLmxlbmd0aDsgbCsrKSB7CgkJCQkJCQlpZiAobS5hdXRob3IgPT0gYXV0aG9yc1tsXSkgewoJCQkJCQkJCWF1dG1hdGNoZWQgPSB0cnVlOwoKCQkJCQkJCQlpZiAobndvcmRzID09IDApIG1hdGNoZWQgPSB0cnVlOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoKCQkJCQkvLyBJZ25vcmVkIGtleXdvcmRzCgkJCQkJaWYgKGl3b3Jkcy5sZW5ndGggPiAwKSB7CgkJCQkJCXJlZyA9IG5ldyBSZWdFeHAoICIoIiArIGl3b3Jkcy5qb2luKCJ8IikgKyAiKSIsICJnaSIpOwoJCQkJCQlpZiAobS5tc2cubWF0Y2gocmVnKSkgewoJCQkJCQkJbWF0Y2hlZCA9IGZhbHNlOwoJCQkJCQkJaW1hdGNoZWQgPSB0cnVlOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQkvLyBTZWFyY2ggYnkga2V5d29yZHMKCQkJCQlpZiAoIWltYXRjaGVkICYmIGx3b3Jkcy5sZW5ndGggPiAwICYmIChhdXRob3JzLmxlbmd0aCA9PSAwIHx8IGF1dG1hdGNoZWQpKSB7CgkJCQkJCXJlZyA9IG5ldyBSZWdFeHAod29yZHMsICJnaSIpOwoJCQkJCQlyZXMgPSBtLm1zZy5tYXRjaChyZWcpOwoJCQkJCQlpZiAocmVzICYmIHJlcy5sZW5ndGggPj0gbndvcmRzKSB7CgkJCQkJCQlyZXMxID0gTWFpbi5rLkVsaW1pbmF0ZUR1cGxpY2F0ZXMocmVzKTsKCQkJCQkJCWlmIChyZXMubGVuZ3RoID09IHJlczEubGVuZ3RoKSBtYXRjaGVkID0gdHJ1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQlpZiAobWF0Y2hlZCkgewoJCQkJCW1hdGNoZWRfdG9waWNzKys7CgkJCQkJcmVzdWx0cy5wdXNoKHRvcGljKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gRGlzcGxheSByZXN1bHRzCgkJaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkgewoJCQkvLyBSw6ljYXAnCgkJCSQoIjxwPiIpLmFkZENsYXNzKCJ3YXJuaW5nIikuaHRtbChNYWluLmsudGV4dC5zdHJhcmdzKE1haW4uay50ZXh0Lm5nZXR0ZXh0KCIlMSByw6lzdWx0YXQgKG1heGltdW0gOiAlMikuIiwiJTEgcsOpc3VsdGF0cyAobWF4aW11bSA6ICUyKS4iLHJlc3VsdHMubGVuZ3RoKSxbcmVzdWx0cy5sZW5ndGgsbWF4X3Jlc3VsdHNdKSkKCQkJLmFwcGVuZFRvKCRzZWFyY2hyZXN1bHRzKTsKCgkJCS8vIERpc3BsYXkgdG9waWNzCgkJCWZvciAoaT0wOyBpPHJlc3VsdHMubGVuZ3RoOyBpKyspIHsKCQkJCXZhciB0b3BpYyA9IHJlc3VsdHNbaV07CgoJCQkJdmFyIHRvcGljRE9NID0gTWFpbi5rLk1hbmFnZXIucGFyc2VUb3BpYyh0b3BpYywgbHdvcmRzKTsKCQkJCSRzZWFyY2hyZXN1bHRzLmFwcGVuZCh0b3BpY0RPTSk7CgoJCQkJLy8gQWN0aW9ucwoJCQkJJCgiPGE+IikuYWRkQ2xhc3MoInRvcGljYWN0IikuYXR0cigiaHJlZiIsICIjdG9waWMiICsgdG9waWMuaWQpCgkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7IE1haW4uay5NYW5hZ2VyLmRpc3BsYXlUb3BpYyhwYXJzZUludCgvKFswLTldKykvLmV4ZWModGhpcy5ocmVmKVsxXSksIGx3b3Jkcyk7IHJldHVybiBmYWxzZTsgfSkKCQkJCS5odG1sKE1haW4uay50ZXh0LnN0cmFyZ3MoTWFpbi5rLnRleHQubmdldHRleHQoIiUxIHLDqXBvbnNlIiwiJTEgcsOpcG9uc2VzIix0b3BpYy5yZXBsaWVzLmxlbmd0aCksW3RvcGljLnJlcGxpZXMubGVuZ3RoXSkpLmFwcGVuZFRvKCRzZWFyY2hyZXN1bHRzKTsKCQkJfQoKCQl9IGVsc2UgaWYgKGF1dGhvcnMubGVuZ3RoID49IDEgfHwgbHdvcmRzLmxlbmd0aCA+PSAxIHx8IGl3b3Jkcy5sZW5ndGggPj0gMSkgewoJCQkkKCI8cD4iKS5hZGRDbGFzcygid2FybmluZyIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiQXVjdW4gcsOpc3VsdGF0LiIpKS5hcHBlbmRUbygkc2VhcmNocmVzdWx0cyk7CgkJfSBlbHNlIHsKCQkJJCgiPHA+IikuYWRkQ2xhc3MoIndhcm5pbmciKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoIkxlIHRleHRlIHJlY2hlcmNow6kgZXN0IHRyb3AgY291cnQuIikpLmFwcGVuZFRvKCRzZWFyY2hyZXN1bHRzKTsKCQl9Cgl9OwoJTWFpbi5rLk1hbmFnZXIuc2VhcmNoSGVybyA9IGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIHRndCA9ICQoZXZlbnQudGFyZ2V0KTsKCQlpZiAoIXRndC5hdHRyKCJjbGFzcyIpKSB0Z3QgPSB0Z3QucGFyZW50KCk7CgkJdmFyIGhlcm8gPSB0Z3QuYXR0cigiY2xhc3MiKS5yZXBsYWNlKCJoZXJvIF8iICwgIiIpLnJlcGxhY2UoImhpZ2hsaWdodCIsICIiKTsKCgkJTWFpbi5rLk1hbmFnZXIuc2VsZWN0VGFiKCQoIiN0YWJzZWFyY2giKSk7CgkJJCgiI3NlYXJjaGZpZWxkIikudmFsKCJAIiArIGhlcm8pOwoJCU1haW4uay5NYW5hZ2VyLnNlYXJjaCgpOwoJfTsKCglNYWluLmsuTWFuYWdlci5yZXBseWxvYWRlZCA9IGZhbHNlOwoJTWFpbi5rLk1hbmFnZXIuZmlsbFJlcGx5ID0gZnVuY3Rpb24oKSB7CgkJaWYgKE1haW4uay5NYW5hZ2VyLnJlcGx5bG9hZGVkKSB7CgkJCS8vIFVwZGF0ZSBtZXNzYWdlIGNvbnRlbnQKCQkJaWYgKE1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyAhPSAiIikgewoJCQkJICQoIiN0YWJyZXBseV9jb250ZW50IikuZmluZCgiLnRpZF93YWxsUG9zdCIpLnZhbChNYWluLmsuTWFuYWdlci5yZXBseXdhaXRpbmcpOwoJCQkJTWFpbi5rLk1hbmFnZXIucmVwbHl3YWl0aW5nID0gIiI7CgkJCX0KCQl9IGVsc2UgewoJCQl2YXIgbmV3cG9zdCA9ICQoIiN0YWJyZXBseV9jb250ZW50IikuZW1wdHkoKTsKCQkJbmV3cG9zdC5odG1sKCI8ZGl2IGNsYXNzPSdsb2FkaW5nJz48aW1nIHNyYz0naHR0cDovL3R3aW5vaWQuY29tL2ltZy9sb2FkaW5nLmdpZicgYWx0PSdDaGFyZ2VtZW50JyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIkNoYXJnZW1lbnTigKYiKSsiPC9kaXY+Iik7CgkJCU1haW4uay5Mb2FkSlMoJy9tb2Qvd2FsbC9wb3N0Jywge19pZDogInRhYnJlcGx5X2NvbnRlbnQifSwgZnVuY3Rpb24oKSB7CgkJCQlNYWluLmsuTWFuYWdlci5yZXBseWxvYWRlZCA9IHRydWU7CgoJCQkJLy8gUmVtb3ZlIGluYWN0aXZlIHRhZ3MKCQkJCXZhciAkdGFicmVwbHlfY29udGVudCA9ICQoIiN0YWJyZXBseV9jb250ZW50Iik7CgkJCQkkdGFicmVwbHlfY29udGVudC5maW5kKCIudGlkX2FkdmFuY2VkIikucmVtb3ZlKCk7CgkJCQkkdGFicmVwbHlfY29udGVudC5maW5kKCIudGlkX2J1dHRvbiIpLnJlbW92ZSgpOwoJCQkJJHRhYnJlcGx5X2NvbnRlbnQuZmluZCgiLnRpZF9vcHRpb25zIikucmVtb3ZlKCk7CgkJCQkkdGFicmVwbHlfY29udGVudC5maW5kKCIudGlkX2VkaXRvckJ1dF9xdWVzdGlvbiIpLnJlbW92ZSgpOwoJCQkJJHRhYnJlcGx5X2NvbnRlbnQuZmluZCgiLnRpZF9lZGl0b3JCdXRfX3VzZXIiKS5yZW1vdmUoKTsKCQkJCS8vIFRPRE86IHJlbW92ZSBpbmFjdGl2ZSB0YWdzIGluIG1haW4gY2hhdAoKCQkJCSR0YWJyZXBseV9jb250ZW50LmZpbmQoIiAjdGlkX3dhbGxQb3N0X3ByZXZpZXciKS5hdHRyKCJpZCIsICIiKS5hZGRDbGFzcygidGlkX3dhbGxQb3N0X3ByZXZpZXciKTsKCQkJCSR0YWJyZXBseV9jb250ZW50LmZpbmQoIiAjdGlkX3dhbGxQb3N0IikuYXR0cigiaWQiLCAiIikuYWRkQ2xhc3MoInRpZF93YWxsUG9zdCIpOwoKCQkJCXZhciBwcmV2aWV3ID0gJHRhYnJlcGx5X2NvbnRlbnQuZmluZCgiLnRpZF93YWxsUG9zdF9wcmV2aWV3IikuYXR0cigiaWQiLCAiIikuYWRkQ2xhc3MoInJlcGx5IGJ1YmJsZSIpOwoJCQkJaWYgKE1haW4uay5PcHRpb25zLmNidWJibGVzKSBwcmV2aWV3LmFkZENsYXNzKCJidWJibGVfIiArIE1haW4uay5vd25IZXJvKTsKCQkJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlc05CKSBwcmV2aWV3LmFkZENsYXNzKCJjdXN0b21idWJibGVzX25vYmFja2dyb3VuZCIpOwoKCQkJCXZhciBidWJibGUgPSBNYWluLmsub3duSGVybzsKCQkJCSQoIjxkaXY+IikuYWRkQ2xhc3MoImNoYXIgIiArIGJ1YmJsZSkuYXBwZW5kVG8ocHJldmlldyk7CgkJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiYnVkZHkiKS5odG1sKE1haW4uay5vd25IZXJvLnJlcGxhY2UoJ18nLCcgJykuY2FwaXRhbGl6ZSgpICsgIiA6ICIpLmFwcGVuZFRvKHByZXZpZXcpOwoJCQkJJCgiPHA+IikuYWRkQ2xhc3MoInRpZF9wcmV2aWV3IHRpZF9lZGl0b3JDb250ZW50IHRpZF93YWxsUG9zdF9wcmV2aWV3IikuYXBwZW5kVG8ocHJldmlldyk7CgkJCQkkKCI8ZGl2PiIpLmFkZENsYXNzKCJjbGVhciIpLmFwcGVuZFRvKHByZXZpZXcpOwoKCQkJCS8vIEFjdGlvbnMKCQkJCXZhciBidXR0b25zID0gJCgiPGRpdj4iKS5hZGRDbGFzcygidGlkX2J1dHRvbnMiKS5hcHBlbmRUbygkdGFicmVwbHlfY29udGVudCk7CgkJCQl2YXIgYW5zd2VyID0gTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPSdodHRwOi8vdHdpbm9pZC5jb20vaW1nL2ljb25zL3JlcGx5LnBuZycgLz4gIisgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUsOpcG9uZHJlIGF1IHRvcGljIiksbnVsbCxmdW5jdGlvbigpIHsKCQkJCQl2YXIgJHRpZF93YWxsUG9zdCA9ICR0YWJyZXBseV9jb250ZW50LmZpbmQoIi50aWRfd2FsbFBvc3QiKTsKCQkJCQl2YXIgdmFsID0gJHRpZF93YWxsUG9zdC52YWwoKTsKCQkJCQl2YXIgayA9IE1haW4uay5NYW5hZ2VyLmRpc3BsYXllZFRvcGljOwoJCQkJCU1haW4uay5wb3N0TWVzc2FnZShrLCB2YWwsIE1haW4uay5NYW5hZ2VyLnVwZGF0ZSk7CgkJCQkJJHRpZF93YWxsUG9zdC52YWwoIiIpOwoKCQkJCQlNYWluLmsuTWFuYWdlci53YWl0aW5nZm9ydXBkYXRlID0gdHJ1ZTsKCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoTWFpbi5rLk1hbmFnZXIud2FpdGluZ2ZvcnVwZGF0ZSkgTWFpbi5rLk1hbmFnZXIudXBkYXRlKCk7CgkJCQkJfSwgNTAwMCk7CgkJCQl9KQoJCQkJLmNzcyh7ZGlzcGxheTogImlubGluZS1ibG9jayIsIG1hcmdpbjogIjRweCA0cHggOHB4In0pCgkJCQkuYXBwZW5kVG8oYnV0dG9ucykKCQkJCS5maW5kKCJhIikKCQkJCS5hdHRyKCJfdGl0bGUiLCAiUsOpcG9uZHJlIikuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJFbnZveWVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgcsOpcG9uc2UgYXUgdG9waWMgYWZmaWNow6kgY2ktY29udHJlLiIpKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCgkJCQl2YXIgbmV3dG9waWMgPSBNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly90d2lub2lkLmNvbS9pbWcvaWNvbnMvcmVwbHkucG5nJyAvPiAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTm91dmVhdSB0b3BpYyIpLG51bGwsZnVuY3Rpb24oKSB7CgkJCQkJdmFyICR0aWRfd2FsbFBvc3QgPSAkdGFicmVwbHlfY29udGVudC5maW5kKCIudGlkX3dhbGxQb3N0Iik7CgkJCQkJdmFyIHZhbCA9ICR0aWRfd2FsbFBvc3QudmFsKCk7CgkJCQkJTWFpbi5rLm5ld1RvcGljKHZhbCwgTWFpbi5rLk1hbmFnZXIudXBkYXRlKTsKCQkJCQkkdGlkX3dhbGxQb3N0LnZhbCgiIik7CgkJCQl9KQoJCQkJLmNzcyh7ZGlzcGxheTogImlubGluZS1ibG9jayIsIG1hcmdpbjogIjRweCA0cHggOHB4In0pCgkJCQkuYXBwZW5kVG8oYnV0dG9ucykKCQkJCS5maW5kKCJhIikKCQkJCS5hdHRyKCJfdGl0bGUiLCAiTm91dmVhdSB0b3BpYyIpLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUG9zdGVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgbm91dmVhdSB0b3BpYy4iKSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoKCQkJCWlmKHR5cGVvZihqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0pID09ICd1bmRlZmluZWQnKXsKCQkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0gPSB7fTsKCQkJCX0KCQkJCS8vIE1vZGlmeSBwcmV2aWV3CgkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0ucHJldmlldyA9IHByZXZpZXc7CgoJCQkJLy8gUmVtb3ZlIGluYWN0aXZlIGljb25zCgkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0ubG9hZFNtaWxleXMgPSBmdW5jdGlvbihxKSB7CgkJCQkJdmFyIGs7CgkJCQkJdmFyIF9nID0gdGhpczsKCQkJCQl0aGlzLmluaXRJY29ucygpOwoJCQkJCWlmKHRoaXMuc21pbGV5c1BhbmVsLmZpbmQoIi50aWRfYWN0aXZlIikucmVtb3ZlQ2xhc3MoInRpZF9hY3RpdmUiKVsiaXMiXShxKSkgcmV0dXJuIHRoaXMuaGlkZVNtaWxleXModHJ1ZSk7CgkJCQkJdGhpcy5oaWRlU21pbGV5cyhmYWxzZSk7CgkJCQkJdmFyIGNpZCA9IHEuYXR0cigidGlkX2NhdCIpOwoJCQkJCXZhciBjYXQgPSBudWxsOwoJCQkJCWlmKGNpZCAhPSAiX2Z1bnRhZyIpIHsKCQkJCQkJdmFyICRpdDAgPSB0aGlzLmNvbmZpZy5pY29ucy5pdGVyYXRvcigpOwoKCQkJCQkJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCQkJCQkJLyoqIEB0eXBlIHt7Y2F0ZWdvcnk6c3RyaW5nfX0gKiovCgkJCQkJCQl2YXIgYyA9ICRpdDAubmV4dCgpOwoJCQkJCQkJaWYoYy5jYXRlZ29yeSA9PSBjaWQpIHsKCQkJCQkJCQljYXQgPSBjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWlmKGNhdCA9PSBudWxsKSByZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCXZhciBzID0gbmV3IFN0cmluZ0J1ZigpOwoJCQkJCXMuYiArPSAiPGRpdiBjbGFzcz1cInRpZF9zbWlsZXlQb3BVcFwiPiI7CgkJCQkJaWYoY2lkID09ICJfZnVudGFnIikgewoJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGRpdiBjbGFzcz1cInRpZF90aXRsZVwiPiIgKyB0aGlzLmNvbmZpZy5mdW5UaXRsZSArICI8L2Rpdj4iKTsKCQkJCQkJdmFyIGtleXMgPSBbXTsKCQkJCQkJdmFyICRpdDEgPSB0aGlzLmNvbmZpZy5mdW4ua2V5cygpOwoJCQkJCQl3aGlsZSggJGl0MS5oYXNOZXh0KCkgKSB7CgkJCQkJCQlrID0gJGl0MS5uZXh0KCk7CgkJCQkJCQlrZXlzLnB1c2goayk7CgkJCQkJCX0KCQkJCQkJa2V5cy5zb3J0KGZ1bmN0aW9uKGEsYikgewoJCQkJCQkJcmV0dXJuIFJlZmxlY3QuY29tcGFyZShhLGIpOwoJCQkJCQl9KTsKCQkJCQkJdmFyIF9nMSA9IDA7CgkJCQkJCXdoaWxlKF9nMSA8IGtleXMubGVuZ3RoKSB7CgkJCQkJCQlrID0ga2V5c1tfZzFdOwoJCQkJCQkJKytfZzE7CgkJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGEgY2xhc3M9XCJ0aWRfZnVuXCIgaHJlZj1cIiNcIiB0aWRfcz1cIiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKCJ7IiArIGsgKyAifSIpICsgIlwiPjxpbWcgc3JjPVwiaHR0cDovLyIgKyBfdGlkLmhvc3QgKyAiL2ltZy9pY29ucy8iICsgdGhpcy5jb25maWcuZnVuLmdldChrKS5pICsgIi5wbmdcIiBhbHQ9XCIiICsgayArICJcIiB0aXRsZT1cIiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKHRoaXMuY29uZmlnLmZ1bi5nZXQoaykubikgKyAiXCIvPiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKHRoaXMuY29uZmlnLmZ1bi5nZXQoaykubikgKyAiPC9hPiIpOwoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJcy5iICs9IFN0ZC5zdHJpbmcoIjxkaXYgY2xhc3M9XCJ0aWRfdGl0bGVcIj4iICsgY2F0LmNhdGVnb3J5ICsgIjwvZGl2PiIpOwoJCQkJCQlzLmIgKz0gIjxkaXYgY2xhc3M9XCJ0aWRfd3JhcHBlclwiPiI7CgkJCQkJCXZhciAkaXQyID0gY2F0Lmljb25zLml0ZXJhdG9yKCk7CgkJCQkJCXZhciBhID0gdHJ1ZTsKCQkJCQkJd2hpbGUoICRpdDIuaGFzTmV4dCgpICkgewoJCQkJCQkJdmFyIGkgPSAkaXQyLm5leHQoKTsKCgkJCQkJCQkvLyBJZ25vcmUgaW5jb3JyZWN0IGljb25zCgkJCQkJCQlpZiAoY2F0LmNhdGVnb3J5ID09ICJNdXNoIikgewoJCQkJCQkJCS8vIERlbGV0ZSBpbmFjdGl2ZSBpY29ucwoJCQkJCQkJCWlmIChpLmltYWdlID09ICIvdWkvbzIucG5nIikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wYV9nZW46IikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wYV9tb3Y6IikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wbGFuZXQ6IikgY29udGludWU7CgoJCQkJCQkJCS8vIE1vZGlmeSBpbmNvcnJlY3QgaWNvbnMKCQkJCQkJCQlpZiAoaS50YWcgPT0gIjptdXNoX3BhOiIpIHsKCQkJCQkJCQkJaS50YWcgPSAiOnBhOiI7CgkJCQkJCQkJCWkuaW1hZ2UgPSAiL2ltZy9pY29ucy91aS9wYV9zbG90MS5wbmciOwoJCQkJCQkJCX0gZWxzZSBpZiAoaS50YWcgPT0gIjptdXNoX3BtOiIpIHsKCQkJCQkJCQkJaS50YWcgPSAiOnBtOiI7CgkJCQkJCQkJCWkuaW1hZ2UgPSAiL2ltZy9pY29ucy91aS9wYV9zbG90Mi5wbmciOwoJCQkJCQkJCX0gZWxzZSBpZiAoaS50YWcgPT0gIjptdXNoX2V4cDoiKSB7CgkJCQkJCQkJCWkudGFnID0gIjp4cDoiOwoJCQkJCQkJCQlpLmltYWdlID0gIi9pbWcvaWNvbnMvdWkveHAucG5nIjsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQkJdmFyIHN0ciA9IGkudGFnOwoJCQkJCQkJdmFyIGRlc2MgPSBpLnRhZzsKCQkJCQkJCWlmKGkuYWx0ICE9IG51bGwpIHsKCQkJCQkJCQlzdHIgPSBpLmFsdDsKCQkJCQkJCQlkZXNjID0gaS5hbHQgKyAiLCAiICsgaS50YWc7CgkJCQkJCQl9CgkJCQkJCQl2YXIgbWggPSAiIjsKCQkJCQkJCWlmKGkubWF4ICE9IG51bGwpIG1oICs9ICI8c3BhbiBjbGFzcz1cInRpZF9tYXggdGlkX21heF8iICsgaS50YWcuc3BsaXQoIjoiKS5qb2luKCIiKSArICJcIj4iICsgaS5tYXggKyAiPC9zcGFuPiI7CgkJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGEgY2xhc3M9XCJ0aWRfc21pbGV5XCIgaHJlZj1cIiNcIj4iICsgbWggKyAiPGltZyBzcmM9XCIiICsgY2F0LnVybCArIGkuaW1hZ2UgKyAiXCIgdGlkX3M9XCIiICsgU3RyaW5nVG9vbHMuaHRtbEVzY2FwZShzdHIpICsgIlwiIHRpdGxlPVwiIiArIFN0cmluZ1Rvb2xzLmh0bWxFc2NhcGUoZGVzYykgKyAiXCIvPjwvYT4iKTsKCQkJCQkJfQoJCQkJCQlzLmIgKz0gIjwvZGl2PiI7CgkJCQkJfQoJCQkJCXMuYiArPSAiPGRpdiBjbGFzcz1cInRpZF9jbGVhclwiPjwvZGl2PiI7CgkJCQkJcy5iICs9ICI8L2Rpdj4iOwoJCQkJCXEuYWRkQ2xhc3MoInRpZF9hY3RpdmUiKTsKCQkJCQl2YXIgcG9wID0gJChzLmIpOwoJCQkJCXEucGFyZW50KCkuYXBwZW5kKHBvcCk7CgkJCQkJcG9wLmhpZGUoKS5zbGlkZURvd24oMjAwKTsKCQkJCQlpZihjaWQgPT0gIl9mdW50YWciKSBwb3AuZmluZCgiYS50aWRfZnVuIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCV9nLmluc2VydCgkKHRoaXMpLmF0dHIoInRpZF9zIikpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSk7IGVsc2UgcG9wLmZpbmQoImEudGlkX3NtaWxleSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbSA9ICQodGhpcykuZmluZCgiLnRpZF9tYXgiKTsKCQkJCQkJaWYobS5sZW5ndGggPiAwICYmIFN0ZC5wYXJzZUludChtLmh0bWwoKSkgPT0gMCkgcmV0dXJuIGZhbHNlOwoJCQkJCQlfZy5pbnNlcnQoJCh0aGlzKS5maW5kKCJpbWciKS5hdHRyKCJ0aWRfcyIpKTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0pOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX07CgoJCQkJLy8gQXV0by1sb2FkIE11c2ggaWNvbnMKCQkJCS8vJCgiI2VkaXRvcl90aWRfd2FsbFBvc3QiKS5sb2FkU21pbGV5cygkKCIjZWRpdG9yX3RpZF93YWxsUG9zdCBhLnRpZF9zbWNhdFt0aWRfY2F0PSdNdXNoJ10iKSk7CgoJCQkJLy8gVXBkYXRlIG1lc3NhZ2UgY29udGVudAoJCQkJaWYgKE1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyAhPSAiIikgewoJCQkJCSR0YWJyZXBseV9jb250ZW50LmZpbmQoIi50aWRfd2FsbFBvc3QiKS52YWwoTWFpbi5rLk1hbmFnZXIucmVwbHl3YWl0aW5nKTsKCQkJCQlNYWluLmsuTWFuYWdlci5yZXBseXdhaXRpbmcgPSAiIjsKCQkJCX0KCQkJfSk7CgkJfQoJfTsKCglNYWluLmsuTWFuYWdlci5jdXN0b21sb2FkZWQgPSBmYWxzZTsKCU1haW4uay5NYW5hZ2VyLmZpbGxDdXN0b20gPSBmdW5jdGlvbigpIHsKCQlpZiAoTWFpbi5rLk1hbmFnZXIuY3VzdG9tbG9hZGVkKSB7CgkJCS8vIFVwZGF0ZSBtZXNzYWdlIGNvbnRlbnQKCQkJaWYgKE1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyAhPSAiIikgewoJCQkJJCgiI3RhYmN1c3RvbV9jb250ZW50IikuZmluZCgiLnRpZF93YWxsUG9zdCIpLnZhbChNYWluLmsuTWFuYWdlci5yZXBseXdhaXRpbmcpOwoJCQkJTWFpbi5rLk1hbmFnZXIucmVwbHl3YWl0aW5nID0gIiI7CgkJCX0KCQl9IGVsc2UgewoKCQkJdmFyIG5ld3Bvc3QgPSAkKCIjdGFiY3VzdG9tX2NvbnRlbnQiKS5lbXB0eSgpOwoJCQluZXdwb3N0Lmh0bWwoIjxkaXYgY2xhc3M9J2xvYWRpbmcnPjxpbWcgc3JjPSdodHRwOi8vdHdpbm9pZC5jb20vaW1nL2xvYWRpbmcuZ2lmJyBhbHQ9J0NoYXJnZW1lbnQnIC8+ICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2hhcmdlbWVudOKApiIpKyI8L2Rpdj4iKTsKCQkJTWFpbi5rLkxvYWRKUygnL21vZC93YWxsL3Bvc3QnLCB7X2lkOiAidGFiY3VzdG9tX2NvbnRlbnQifSwgZnVuY3Rpb24oKSB7CgkJCQlNYWluLmsuTWFuYWdlci5jdXN0b21sb2FkZWQgPSB0cnVlOwoKCQkJCS8vIFJlbW92ZSBpbmFjdGl2ZSB0YWdzCgkJCQl2YXIgJHRhYmN1c3RvbV9jb250ZW50ID0gJCgiI3RhYmN1c3RvbV9jb250ZW50Iik7CgkJCQkkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF9hZHZhbmNlZCIpLnJlbW92ZSgpOwoJCQkJJHRhYmN1c3RvbV9jb250ZW50LmZpbmQoIi50aWRfYnV0dG9uIikucmVtb3ZlKCk7CgkJCQkkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF9vcHRpb25zIikucmVtb3ZlKCk7CgkJCQkkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF9lZGl0b3JCdXRfcXVlc3Rpb24iKS5yZW1vdmUoKTsKCQkJCSR0YWJjdXN0b21fY29udGVudC5maW5kKCIudGlkX2VkaXRvckJ1dF9fdXNlciIpLnJlbW92ZSgpOwoJCQkJLy8gVE9ETzogcmVtb3ZlIGluYWN0aXZlIHRhZ3MgaW4gbWFpbiBjaGF0CgoJCQkJJHRhYmN1c3RvbV9jb250ZW50LmZpbmQoIiN0aWRfd2FsbFBvc3RfcHJldmlldyIpLmF0dHIoImlkIiwgIiIpLmFkZENsYXNzKCJ0aWRfd2FsbFBvc3RfcHJldmlldyIpOwoJCQkJJHRhYmN1c3RvbV9jb250ZW50LmZpbmQoIiN0aWRfd2FsbFBvc3QiKS5hdHRyKCJpZCIsICIiKS5hZGRDbGFzcygidGlkX3dhbGxQb3N0Iik7CgoJCQkJdmFyIHByZXZpZXcgPSAkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF93YWxsUG9zdF9wcmV2aWV3IikuYWRkQ2xhc3MoInJlcGx5IGJ1YmJsZSIpOwoJCQkJaWYgKE1haW4uay5PcHRpb25zLmNidWJibGVzKSBwcmV2aWV3LmFkZENsYXNzKCJidWJibGVfIiArIE1haW4uay5vd25IZXJvKTsKCQkJCWlmIChNYWluLmsuT3B0aW9ucy5jYnViYmxlc05CKSBwcmV2aWV3LmFkZENsYXNzKCJjdXN0b21idWJibGVzX25vYmFja2dyb3VuZCIpOwoKCQkJCXZhciBidWJibGUgPSBNYWluLmsub3duSGVyby5yZXBsYWNlKC8oXHMpL2csICJfIikudG9Mb3dlckNhc2UoKTsKCQkJCSQoIjxkaXY+IikuYWRkQ2xhc3MoImNoYXIgIiArIGJ1YmJsZSkuYXBwZW5kVG8ocHJldmlldyk7CgkJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiYnVkZHkiKS5odG1sKE1haW4uay5vd25IZXJvLmNhcGl0YWxpemUoKSArICIgOiAiKS5hcHBlbmRUbyhwcmV2aWV3KTsKCQkJCSQoIjxwPiIpLmFkZENsYXNzKCJ0aWRfcHJldmlldyB0aWRfZWRpdG9yQ29udGVudCB0aWRfd2FsbFBvc3RfcHJldmlldyIpLmFwcGVuZFRvKHByZXZpZXcpOwoJCQkJJCgiPGRpdj4iKS5hZGRDbGFzcygiY2xlYXIiKS5hcHBlbmRUbyhwcmV2aWV3KTsKCgkJCQkvLyBBY3Rpb25zCgkJCQl2YXIgYnV0dG9ucyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInRpZF9idXR0b25zIikuYXBwZW5kVG8oJHRhYmN1c3RvbV9jb250ZW50KTsKCQkJCXZhciBhbnN3ZXIgPSBNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly90d2lub2lkLmNvbS9pbWcvaWNvbnMvcmVwbHkucG5nJyAvPiAiKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJSw6lwb25kcmUgYXUgdG9waWMiKSxudWxsLGZ1bmN0aW9uKCkgewoJCQkJCXZhciAkdGlkX3dhbGxQb3N0ID0gJHRhYmN1c3RvbV9jb250ZW50LmZpbmQoIi50aWRfd2FsbFBvc3QiKTsKCQkJCQl2YXIgdmFsID0gJHRpZF93YWxsUG9zdC52YWwoKTsKCQkJCQl2YXIgayA9IE1haW4uay5NYW5hZ2VyLmRpc3BsYXllZFRvcGljOwoJCQkJCU1haW4uay5wb3N0TWVzc2FnZShrLCB2YWwsIE1haW4uay5NYW5hZ2VyLnVwZGF0ZSk7CgkJCQkJJHRpZF93YWxsUG9zdC52YWwoIiIpOwoKCQkJCQlNYWluLmsuTWFuYWdlci53YWl0aW5nZm9ydXBkYXRlID0gdHJ1ZTsKCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoTWFpbi5rLk1hbmFnZXIud2FpdGluZ2ZvcnVwZGF0ZSkgTWFpbi5rLk1hbmFnZXIudXBkYXRlKCk7CgkJCQkJfSwgNTAwMCk7CgkJCQl9KQoJCQkJLmNzcyh7ZGlzcGxheTogImlubGluZS1ibG9jayIsIG1hcmdpbjogIjRweCA0cHggOHB4In0pCgkJCQkuYXBwZW5kVG8oYnV0dG9ucykKCQkJCS5maW5kKCJhIikKCQkJCS5hdHRyKCJfdGl0bGUiLCAiUsOpcG9uZHJlIikuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJFbnZveWVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgcsOpcG9uc2UgYXUgdG9waWMgYWZmaWNow6kgY2ktY29udHJlLiIpKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCgkJCQl2YXIgbmV3dG9waWMgPSBNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly90d2lub2lkLmNvbS9pbWcvaWNvbnMvcmVwbHkucG5nJyAvPiAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTm91dmVhdSB0b3BpYyIpLG51bGwsZnVuY3Rpb24oKSB7CgkJCQkJdmFyICR0aWRfd2FsbFBvc3QgPSAkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF93YWxsUG9zdCIpOwoJCQkJCXZhciB2YWwgPSAkdGlkX3dhbGxQb3N0LnZhbCgpOwoJCQkJCU1haW4uay5uZXdUb3BpYyh2YWwsIE1haW4uay5NYW5hZ2VyLnVwZGF0ZSk7CgkJCQkJJHRpZF93YWxsUG9zdC52YWwoIiIpOwoJCQkJfSkKCQkJCS5jc3Moe2Rpc3BsYXk6ICJpbmxpbmUtYmxvY2siLCBtYXJnaW46ICI0cHggNHB4IDhweCJ9KQoJCQkJLmFwcGVuZFRvKGJ1dHRvbnMpCgkJCQkuZmluZCgiYSIpCgkJCQkuYXR0cigiX3RpdGxlIiwgIk5vdXZlYXUgdG9waWMiKS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIlBvc3RlciBjZSBtZXNzYWdlIGVuIHRhbnQgcXVlIG5vdXZlYXUgdG9waWMuIikpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkJCXZhciBhZGRtc2cgPSBNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly9tdXNoLnZnL2ltZy9pY29ucy91aS9mYXYucG5nJyAvPiAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQWpvdXRlciBhdXggZmF2b3JpcyIpLG51bGwsZnVuY3Rpb24oKSB7CgkJCQkJdmFyICR0aWRfd2FsbFBvc3QgPSAkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLnRpZF93YWxsUG9zdCIpOwoJCQkJCXZhciBtZXNzYWdlID0gJHRpZF93YWxsUG9zdC52YWwoKTsKCQkJCQlNYWluLmsuQ3JlYXRlTmVyb25Qcm9tcHQoKTsKCQkJCQkkKCIjdmFsaWRhdGUiKS5jbGljayhmdW5jdGlvbigpewoJCQkJCQl2YXIgdGl0bGUgPSAkKCIjbmVyb25fYWxlcnRfY29udGVudCIpLmZpbmQoImlucHV0IikudmFsKCk7CgkJCQkJCU1haW4uay5DbG9zZVBvcHVwKCk7CgkJCQkJCXRyeXsKCQkJCQkJCU1haW4uay5NYW5hZ2VyLmFkZE1zZ1ByZXJlY29yZGVkKHRpdGxlLG1lc3NhZ2UpOwoJCQkJCQl9CgkJCQkJCWNhdGNoKGUpewoJCQkJCQkJaWYoZS5uYW1lID09ICJNZXNzYWdlQWxyZWFkeUV4aXN0Iil7CgkJCQkJCQkJTWFpbi5rLkNyZWF0ZU5lcm9uQWxlcnQoTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGUgbWVzc2FnZSBleGlzdGUgZMOpasOgLiIpKTsKCQkJCQkJCX0KCQkJCQkJCWVsc2UgaWYoZS5uYW1lID09ICJUaXRsZUVtcHR5Iil7CgkJCQkJCQkJTWFpbi5rLkNyZWF0ZU5lcm9uQWxlcnQoTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGUgdGl0cmUgZXN0IHZpZGUuIikpOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSBpZihlLm5hbWUgPT0gIk1lc3NhZ2VFbXB0eSIpewoJCQkJCQkJCU1haW4uay5DcmVhdGVOZXJvbkFsZXJ0KE1haW4uay50ZXh0LmdldHRleHQoIkxlIG1lc3NhZ2UgZXN0IHZpZGUuIikpOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSBpZihNYWluLmsuZGVidWcpewoJCQkJCQkJCU1haW4uay50cmVhdGluZ0J1ZyhlKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0pOwoKCQkJCX0pCgkJCQkuY3NzKHtkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwgbWFyZ2luOiAiNHB4IDRweCA4cHgifSkKCQkJCS5hcHBlbmRUbyhidXR0b25zKQoJCQkJLmZpbmQoImEiKQoJCQkJLmF0dHIoIl90aXRsZSIsICJBam91dGVyIGF1eCBmYXZvcmlzIikuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJBam91dGVyIHVuIG1lc3NhZ2Ugw6Agdm90cmUgbGlzdGUgZGVzIG1lc3NhZ2VzIHByw6ktZW5yZWdpc3Ryw6lzLiIpKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCgkJCQl2YXIgZGVsbXNnID0gTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPSdodHRwOi8vbXVzaC52Zy9pbWcvaWNvbnMvdWkvYmluLnBuZycgLz4gIiArIE1haW4uay50ZXh0LmdldHRleHQoIlN1cHByaW1lciB1biBmYXZvcmkiKSxudWxsLGZ1bmN0aW9uKCkgewoJCQkJCXRyeXsKCQkJCQkJdmFyIHRpdGxlID0gJHRhYmN1c3RvbV9jb250ZW50LmZpbmQoIi5hcnJheV9tZXNzYWdlc19wcmVyZWNvcmRlZCAuc2VsZWN0ZWQiKS50ZXh0KCk7CgkJCQkJCU1haW4uay5NYW5hZ2VyLmRlbE1zZ1ByZXJlY29yZGVkKCB0aXRsZSApOwoJCQkJCX0KCQkJCQljYXRjaChlKXsKCQkJCQkJaWYoZS5uYW1lID09ICJNZXNzYWdlTm90RXhpc3QiKXsKCQkJCQkJCU1haW4uay5DcmVhdGVOZXJvbkFsZXJ0KE1haW4uay50ZXh0LmdldHRleHQoIkxlIG1lc3NhZ2UgcXVlIHZvdXMgdm91bGV6IHN1cHByaW1lciBuJ2V4aXN0ZSBwYXMuIikpOwoJCQkJCQl9CgkJCQkJCWVsc2UgaWYoTWFpbi5rLmRlYnVnKXsKCQkJCQkJCU1haW4uay50cmVhdGluZ0J1ZyhlKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pCgkJCQkuY3NzKHtkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwgbWFyZ2luOiAiNHB4IDRweCA4cHgifSkKCQkJCS5hcHBlbmRUbyhidXR0b25zKQoJCQkJLmZpbmQoImEiKQoJCQkJLmF0dHIoIl90aXRsZSIsICJTdXBwcmltZXIgdW4gZmF2b3JpIikuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJTdXBwcmltZXIgdW5lIG1lc3NhZ2UgZGUgdm90cmUgbGlzdGUgZGVzIG1lc3NnZXMgcHLDqS1lbnJlZ2lzdHLDqXMuIikpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoKCQkJCWlmKHR5cGVvZihqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0pID09ICd1bmRlZmluZWQnKXsKCQkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0gPSB7fTsKCQkJCX0KCQkJCS8vIE1vZGlmeSBwcmV2aWV3CgkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0ucHJldmlldyA9IHByZXZpZXc7CgoJCQkJLy8gUmVtb3ZlIGluYWN0aXZlIGljb25zCgkJCQlqcy5MaWIud2luZG93WyJlZGl0b3JfdGlkX3dhbGxQb3N0Il0ubG9hZFNtaWxleXMgPSBmdW5jdGlvbihxKSB7CgkJCQkJdmFyIGs7CgkJCQkJdmFyIF9nID0gdGhpczsKCQkJCQl0aGlzLmluaXRJY29ucygpOwoJCQkJCWlmKHRoaXMuc21pbGV5c1BhbmVsLmZpbmQoIi50aWRfYWN0aXZlIikucmVtb3ZlQ2xhc3MoInRpZF9hY3RpdmUiKVsiaXMiXShxKSkgcmV0dXJuIHRoaXMuaGlkZVNtaWxleXModHJ1ZSk7CgkJCQkJdGhpcy5oaWRlU21pbGV5cyhmYWxzZSk7CgkJCQkJdmFyIGNpZCA9IHEuYXR0cigidGlkX2NhdCIpOwoJCQkJCXZhciBjYXQgPSBudWxsOwoJCQkJCWlmKGNpZCAhPSAiX2Z1bnRhZyIpIHsKCQkJCQkJdmFyICRpdDAgPSB0aGlzLmNvbmZpZy5pY29ucy5pdGVyYXRvcigpOwoKCQkJCQkJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCQkJCQkJLyoqIEB0eXBlIHt7Y2F0ZWdvcnk6c3RyaW5nfX0gKiovCgkJCQkJCQl2YXIgYyA9ICRpdDAubmV4dCgpOwoJCQkJCQkJaWYoYy5jYXRlZ29yeSA9PSBjaWQpIHsKCQkJCQkJCQljYXQgPSBjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWlmKGNhdCA9PSBudWxsKSByZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCXZhciBzID0gbmV3IFN0cmluZ0J1ZigpOwoJCQkJCXMuYiArPSAiPGRpdiBjbGFzcz1cInRpZF9zbWlsZXlQb3BVcFwiPiI7CgkJCQkJaWYoY2lkID09ICJfZnVudGFnIikgewoJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGRpdiBjbGFzcz1cInRpZF90aXRsZVwiPiIgKyB0aGlzLmNvbmZpZy5mdW5UaXRsZSArICI8L2Rpdj4iKTsKCQkJCQkJdmFyIGtleXMgPSBbXTsKCQkJCQkJdmFyICRpdDEgPSB0aGlzLmNvbmZpZy5mdW4ua2V5cygpOwoJCQkJCQl3aGlsZSggJGl0MS5oYXNOZXh0KCkgKSB7CgkJCQkJCQlrID0gJGl0MS5uZXh0KCk7CgkJCQkJCQlrZXlzLnB1c2goayk7CgkJCQkJCX0KCQkJCQkJa2V5cy5zb3J0KGZ1bmN0aW9uKGEsYikgewoJCQkJCQkJcmV0dXJuIFJlZmxlY3QuY29tcGFyZShhLGIpOwoJCQkJCQl9KTsKCQkJCQkJdmFyIF9nMSA9IDA7CgkJCQkJCXdoaWxlKF9nMSA8IGtleXMubGVuZ3RoKSB7CgkJCQkJCQlrID0ga2V5c1tfZzFdOwoJCQkJCQkJKytfZzE7CgkJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGEgY2xhc3M9XCJ0aWRfZnVuXCIgaHJlZj1cIiNcIiB0aWRfcz1cIiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKCJ7IiArIGsgKyAifSIpICsgIlwiPjxpbWcgc3JjPVwiaHR0cDovLyIgKyBfdGlkLmhvc3QgKyAiL2ltZy9pY29ucy8iICsgdGhpcy5jb25maWcuZnVuLmdldChrKS5pICsgIi5wbmdcIiBhbHQ9XCIiICsgayArICJcIiB0aXRsZT1cIiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKHRoaXMuY29uZmlnLmZ1bi5nZXQoaykubikgKyAiXCIvPiIgKyBTdHJpbmdUb29scy5odG1sRXNjYXBlKHRoaXMuY29uZmlnLmZ1bi5nZXQoaykubikgKyAiPC9hPiIpOwoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJcy5iICs9IFN0ZC5zdHJpbmcoIjxkaXYgY2xhc3M9XCJ0aWRfdGl0bGVcIj4iICsgY2F0LmNhdGVnb3J5ICsgIjwvZGl2PiIpOwoJCQkJCQlzLmIgKz0gIjxkaXYgY2xhc3M9XCJ0aWRfd3JhcHBlclwiPiI7CgkJCQkJCXZhciAkaXQyID0gY2F0Lmljb25zLml0ZXJhdG9yKCk7CgkJCQkJCXZhciBhID0gdHJ1ZTsKCQkJCQkJd2hpbGUoICRpdDIuaGFzTmV4dCgpICkgewoJCQkJCQkJdmFyIGkgPSAkaXQyLm5leHQoKTsKCgkJCQkJCQkvLyBJZ25vcmUgaW5jb3JyZWN0IGljb25zCgkJCQkJCQlpZiAoY2F0LmNhdGVnb3J5ID09ICJNdXNoIikgewoJCQkJCQkJCS8vIERlbGV0ZSBpbmFjdGl2ZSBpY29ucwoJCQkJCQkJCWlmIChpLmltYWdlID09ICIvdWkvbzIucG5nIikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wYV9nZW46IikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wYV9tb3Y6IikgY29udGludWU7CgkJCQkJCQkJaWYgKGkudGFnID09ICI6bXVzaF9wbGFuZXQ6IikgY29udGludWU7CgoJCQkJCQkJCS8vIE1vZGlmeSBpbmNvcnJlY3QgaWNvbnMKCQkJCQkJCQlpZiAoaS50YWcgPT0gIjptdXNoX3BhOiIpIHsKCQkJCQkJCQkJaS50YWcgPSAiOnBhOiI7CgkJCQkJCQkJCWkuaW1hZ2UgPSAiL2ltZy9pY29ucy91aS9wYV9zbG90MS5wbmciOwoJCQkJCQkJCX0gZWxzZSBpZiAoaS50YWcgPT0gIjptdXNoX3BtOiIpIHsKCQkJCQkJCQkJaS50YWcgPSAiOnBtOiI7CgkJCQkJCQkJCWkuaW1hZ2UgPSAiL2ltZy9pY29ucy91aS9wYV9zbG90Mi5wbmciOwoJCQkJCQkJCX0gZWxzZSBpZiAoaS50YWcgPT0gIjptdXNoX2V4cDoiKSB7CgkJCQkJCQkJCWkudGFnID0gIjp4cDoiOwoJCQkJCQkJCQlpLmltYWdlID0gIi9pbWcvaWNvbnMvdWkveHAucG5nIjsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQkJdmFyIHN0ciA9IGkudGFnOwoJCQkJCQkJdmFyIGRlc2MgPSBpLnRhZzsKCQkJCQkJCWlmKGkuYWx0ICE9IG51bGwpIHsKCQkJCQkJCQlzdHIgPSBpLmFsdDsKCQkJCQkJCQlkZXNjID0gaS5hbHQgKyAiLCAiICsgaS50YWc7CgkJCQkJCQl9CgkJCQkJCQl2YXIgbWggPSAiIjsKCQkJCQkJCWlmKGkubWF4ICE9IG51bGwpIG1oICs9ICI8c3BhbiBjbGFzcz1cInRpZF9tYXggdGlkX21heF8iICsgaS50YWcuc3BsaXQoIjoiKS5qb2luKCIiKSArICJcIj4iICsgaS5tYXggKyAiPC9zcGFuPiI7CgkJCQkJCQlzLmIgKz0gU3RkLnN0cmluZygiPGEgY2xhc3M9XCJ0aWRfc21pbGV5XCIgaHJlZj1cIiNcIj4iICsgbWggKyAiPGltZyBzcmM9XCIiICsgY2F0LnVybCArIGkuaW1hZ2UgKyAiXCIgdGlkX3M9XCIiICsgU3RyaW5nVG9vbHMuaHRtbEVzY2FwZShzdHIpICsgIlwiIHRpdGxlPVwiIiArIFN0cmluZ1Rvb2xzLmh0bWxFc2NhcGUoZGVzYykgKyAiXCIvPjwvYT4iKTsKCQkJCQkJfQoJCQkJCQlzLmIgKz0gIjwvZGl2PiI7CgkJCQkJfQoJCQkJCXMuYiArPSAiPGRpdiBjbGFzcz1cInRpZF9jbGVhclwiPjwvZGl2PiI7CgkJCQkJcy5iICs9ICI8L2Rpdj4iOwoJCQkJCXEuYWRkQ2xhc3MoInRpZF9hY3RpdmUiKTsKCQkJCQl2YXIgcG9wID0gJChzLmIpOwoJCQkJCXEucGFyZW50KCkuYXBwZW5kKHBvcCk7CgkJCQkJcG9wLmhpZGUoKS5zbGlkZURvd24oMjAwKTsKCQkJCQlpZihjaWQgPT0gIl9mdW50YWciKSBwb3AuZmluZCgiYS50aWRfZnVuIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCV9nLmluc2VydCgkKHRoaXMpLmF0dHIoInRpZF9zIikpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSk7IGVsc2UgcG9wLmZpbmQoImEudGlkX3NtaWxleSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbSA9ICQodGhpcykuZmluZCgiLnRpZF9tYXgiKTsKCQkJCQkJaWYobS5sZW5ndGggPiAwICYmIFN0ZC5wYXJzZUludChtLmh0bWwoKSkgPT0gMCkgcmV0dXJuIGZhbHNlOwoJCQkJCQlfZy5pbnNlcnQoJCh0aGlzKS5maW5kKCJpbWciKS5hdHRyKCJ0aWRfcyIpKTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0pOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX07CgoJCQkJLy8gQXV0by1sb2FkIE11c2ggaWNvbnMKCQkJCS8vJCgiI2VkaXRvcl90aWRfd2FsbFBvc3QiKS5sb2FkU21pbGV5cygkKCIjZWRpdG9yX3RpZF93YWxsUG9zdCBhLnRpZF9zbWNhdFt0aWRfY2F0PSdNdXNoJ10iKSk7CgoKCQkJCXZhciBhcnJheV9tc2cgPSAkKCI8cD4iKS5hZGRDbGFzcygiYXJyYXlfbWVzc2FnZXNfcHJlcmVjb3JkZWQiKS5wcmVwZW5kVG8oICR0YWJjdXN0b21fY29udGVudCApOwoKCQkJCXZhciBtZXNzYWdlc19wcmVyZWNvcmRlZCA9IFtdOwoJCQkJaWYoTWFpbi5rLk1hbmFnZXIubXNnc19wcmVyZWNvcmRlZCAhPSB1bmRlZmluZWQgKXsKCQkJCQltZXNzYWdlc19wcmVyZWNvcmRlZCA9IE1haW4uay5NYW5hZ2VyLm1zZ3NfcHJlcmVjb3JkZWQ7CgkJCQl9CgoJCQkJZm9yKHZhciBpZE1zZyA9IDA7aWRNc2c8bWVzc2FnZXNfcHJlcmVjb3JkZWQubGVuZ3RoO2lkTXNnKyspewoJCQkJCSQoIjxzcGFuPiIrIG1lc3NhZ2VzX3ByZXJlY29yZGVkW2lkTXNnXVswXSArIjwvc3Bhbj4iKS5hZGRDbGFzcygibWVzc2FnZV9wcmVyZWNvcmRlZCIpCgkJCQkJLmFwcGVuZFRvKGFycmF5X21zZykKCQkJCQkuY2xpY2soZnVuY3Rpb24oKXsKCQkJCQkJCWlmKCQodGhpcykuaXMoIi5zZWxlY3RlZCIpKXsKCQkJCQkJCQkkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLmFycmF5X21lc3NhZ2VzX3ByZXJlY29yZGVkIC5zZWxlY3RlZCIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpOwoJCQkJCQkJCSR0YWJjdXN0b21fY29udGVudC5maW5kKCIudGlkX3dhbGxQb3N0IikudmFsKCIiKTsKCQkJCQkJCX1lbHNlIHsKCQkJCQkJCQkkdGFiY3VzdG9tX2NvbnRlbnQuZmluZCgiLmFycmF5X21lc3NhZ2VzX3ByZXJlY29yZGVkIC5zZWxlY3RlZCIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpOwoJCQkJCQkJCSQodGhpcykuYWRkQ2xhc3MoInNlbGVjdGVkIik7CgoJCQkJCQkJCXZhciBtc2dQcmVyZWNvcmRlZCA9ICIiOwoJCQkJCQkJCXRyeXsKCQkJCQkJCQkJbXNnUHJlcmVjb3JkZWQgPSBNYWluLmsuTWFuYWdlci5nZXRNc2dQcmVyZWNvcmRlZCgkKHRoaXMpLnRleHQoKSk7CgkJCQkJCQkJfWNhdGNoKGUpewoJCQkJCQkJCQlpZihNYWluLmsuZGVidWcpewoJCQkJCQkJCQkJTWFpbi5rLnRyZWF0aW5nQnVnKGUpOwoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJCSR0YWJjdXN0b21fY29udGVudC5maW5kKCIudGlkX3dhbGxQb3N0IikudmFsKG1zZ1ByZXJlY29yZGVkKTsKCQkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJfSk7CgoJCQkJLy8gVXBkYXRlIG1lc3NhZ2UgY29udGVudAoJCQkJaWYgKE1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyAhPSAiIikgewoJCQkJCW5ld3Bvc3QuZmluZCgiLnRpZF93YWxsUG9zdCIpLnZhbChNYWluLmsuTWFuYWdlci5yZXBseXdhaXRpbmcpOwoJCQkJCU1haW4uay5NYW5hZ2VyLnJlcGx5d2FpdGluZyA9ICIiOwoJCQkJfQoJCX0KCX07CgoJTWFpbi5rLk1hbmFnZXIuaW5pdEhlcm9lcyA9IGZ1bmN0aW9uKCkgewoJCU1haW4uay5NYW5hZ2VyLmhlcm9lc1sibmVyb24iXSA9IHsgbmFtZTogIm5lcm9uIiwgbWVzczogMCwgYXY6IDAsIGE6IDAgfTsKCQlmb3IgKHZhciBpPTA7IGk8TWFpbi5rLkhFUk9FUy5sZW5ndGg7IGkrKykgewoJCQlNYWluLmsuTWFuYWdlci5oZXJvZXNbTWFpbi5rLkhFUk9FU1tpXV0gPSB7IG5hbWU6IE1haW4uay5IRVJPRVNbaV0sIG1lc3M6IDAsIHRvcGljOiAwIH07CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLndhaXRpbmdmb3J1cGRhdGUgPSBmYWxzZTsKCU1haW4uay5NYW5hZ2VyLnVwZGF0ZSA9IGZ1bmN0aW9uKCkgewoJCU1haW4uay5NYW5hZ2VyLndhaXRpbmdmb3J1cGRhdGUgPSBmYWxzZTsKCQlNYWluLmsuTWFuYWdlci5pbml0SGVyb2VzKCk7CgkJTWFpbi5rLk1hbmFnZXIucGFyc2VXYWxsKCQoIi5jZFdhbGxDaGFubmVsIikpOwoJCU1haW4uay5NYW5hZ2VyLmZpbGxTdGF0cygpOwoJCU1haW4uay5NYW5hZ2VyLmZpbGxOZXdGYXYoKTsKCQlNYWluLmsuTWFuYWdlci5maWxsV2FsbCgpOwoJCU1haW4uay5NYW5hZ2VyLmZpbGxTZWFyY2goKTsKCQlNYWluLmsuTWFuYWdlci5maWxsUmVwbHkoKTsKCQlNYWluLmsuTWFuYWdlci5maWxsQ3VzdG9tKCk7CgoJCS8vIFVwZGF0ZSBjdXJyZW50IGRpc3BsYXllZCB0b3BpYwoJCWlmIChNYWluLmsuTWFuYWdlci5kaXNwbGF5ZWRUb3BpYykgewoJCQlNYWluLmsuTWFuYWdlci5kaXNwbGF5VG9waWMoTWFpbi5rLk1hbmFnZXIuZ2V0VG9waWNCeVRpZChNYWluLmsuTWFuYWdlci5kaXNwbGF5ZWRUb3BpYykuaWQpOwoJCX0KCX07CglNYWluLmsuTWFuYWdlci5zZWxlY3RUb3BpYyA9IGZ1bmN0aW9uKGspIHsKCQl2YXIgdGlkID0gTWFpbi5rLk1hbmFnZXIuZ2V0VG9waWNCeVRpZChrKS5pZDsKCQlNYWluLmsuTWFuYWdlci5kaXNwbGF5VG9waWModGlkKTsKCX07CgoJTWFpbi5rLk1hbmFnZXIubXNnc19wcmVyZWNvcmRlZCA9IFtdOwoJTWFpbi5rLk1hbmFnZXIuZ2V0TXNnUHJlcmVjb3JkZWQgPSBmdW5jdGlvbih0aXRsZSl7CgkJdmFyIG1lc3NhZ2VzX3ByZXJlY29yZGVkID0gW107CgkJaWYodGhpcy5tc2dzX3ByZXJlY29yZGVkICE9IHVuZGVmaW5lZCl7CgkJCW1lc3NhZ2VzX3ByZXJlY29yZGVkID0gdGhpcy5tc2dzX3ByZXJlY29yZGVkIDsKCQl9CgoJCWZvcih2YXIgaWRNc2cgPSAwO2lkTXNnIDwgbWVzc2FnZXNfcHJlcmVjb3JkZWQubGVuZ3RoO2lkTXNnKyspewoJCQlpZih0aXRsZSA9PSBtZXNzYWdlc19wcmVyZWNvcmRlZFtpZE1zZ11bMF0pewoJCQkJcmV0dXJuIG1lc3NhZ2VzX3ByZXJlY29yZGVkW2lkTXNnXVsxXTsKCQkJfQoJCX0KCgkJdGhyb3cgbmV3IHRoaXMuRXhjZXB0aW9uKCJNZXNzYWdlTm90RXhpc3QiKTsKCX07CglNYWluLmsuTWFuYWdlci5hZGRNc2dQcmVyZWNvcmRlZCA9IGZ1bmN0aW9uKHRpdGxlLCBtZXNzYWdlKSB7CgkJaWYodGl0bGUgPT0gIiIgfHwgdGl0bGUgPT0gdW5kZWZpbmVkKXsKCQkJdGhyb3cgbmV3IHRoaXMuRXhjZXB0aW9uKCJUaXRsZUVtcHR5Iik7CgkJfQoJCWVsc2UgaWYobWVzc2FnZSA9PSAiIil7CgkJCXRocm93IG5ldyB0aGlzLkV4Y2VwdGlvbigiTWVzc2FnZUVtcHR5Iik7CgkJfQoKCQl2YXIgbWVzc2FnZXNfcHJlcmVjb3JkZWQgPSBbXTsKCQlpZih0aGlzLm1zZ3NfcHJlcmVjb3JkZWQgIT0gdW5kZWZpbmVkKXsKCQkJbWVzc2FnZXNfcHJlcmVjb3JkZWQgPSB0aGlzLm1zZ3NfcHJlcmVjb3JkZWQgOwoJCX0KCgkJZm9yKHZhciBpZE1zZyA9IDA7aWRNc2cgPCBtZXNzYWdlc19wcmVyZWNvcmRlZC5sZW5ndGg7aWRNc2crKyl7CgkJCWlmKHRpdGxlID09IG1lc3NhZ2VzX3ByZXJlY29yZGVkW2lkTXNnXVswXSl7CgkJCQl0aHJvdyBuZXcgdGhpcy5FeGNlcHRpb24oIk1lc3NhZ2VBbHJlYWR5RXhpc3QiKTsKCQkJfQoJCX0KCgkJbWVzc2FnZXNfcHJlcmVjb3JkZWQucHVzaChbdGl0bGUsbWVzc2FnZV0pOwoJCXRoaXMubXNnc19wcmVyZWNvcmRlZCA9IG1lc3NhZ2VzX3ByZXJlY29yZGVkOwoJCXRoaXMuc2F2ZU1zZ3NQcmVyZWNvcmRlZCgpOwoJCXRoaXMuY3VzdG9tbG9hZGVkID0gZmFsc2U7CgkJdGhpcy5maWxsQ3VzdG9tKCk7Cgl9OwoJTWFpbi5rLk1hbmFnZXIuZGVsTXNnUHJlcmVjb3JkZWQgPSBmdW5jdGlvbih0aXRsZSkgewoJCXZhciBtZXNzYWdlc19wcmVyZWNvcmRlZCA9IFtdOwoJCXZhciBpc0ZvdW5kID0gZmFsc2U7CgkJaWYodGhpcy5tc2dzX3ByZXJlY29yZGVkICE9IHVuZGVmaW5lZCl7CgkJCW1lc3NhZ2VzX3ByZXJlY29yZGVkID0gdGhpcy5tc2dzX3ByZXJlY29yZGVkIDsKCQl9CgkJZm9yKHZhciBpZE1zZyA9IDA7aWRNc2cgPCBtZXNzYWdlc19wcmVyZWNvcmRlZC5sZW5ndGg7aWRNc2crKyl7CgkJCWlmKHRpdGxlID09IG1lc3NhZ2VzX3ByZXJlY29yZGVkW2lkTXNnXVswXSl7CgkJCQltZXNzYWdlc19wcmVyZWNvcmRlZC5zcGxpY2UoaWRNc2csMSk7CgkJCQlpc0ZvdW5kID0gdHJ1ZTsKCQkJfQoJCX0KCgkJaWYoaXNGb3VuZCl7CgkJCXRoaXMubXNnc19wcmVyZWNvcmRlZCA9IG1lc3NhZ2VzX3ByZXJlY29yZGVkOwoJCQl0aGlzLnNhdmVNc2dzUHJlcmVjb3JkZWQoKTsKCQkJdGhpcy5jdXN0b21sb2FkZWQgPSBmYWxzZTsKCQkJdGhpcy5maWxsQ3VzdG9tKCk7CgkJfQoJCWVsc2V7CgkJCXRocm93IG5ldyB0aGlzLkV4Y2VwdGlvbigiTWVzc2FnZU5vdEV4aXN0Iik7CgkJfQoJfTsKCU1haW4uay5NYW5hZ2VyLmxvYWRNc2dzUHJlcmVjb3JkZWQgPSBmdW5jdGlvbihtc2dzX3ByZXJlY29yZGVkLGpzb24pIHsKCQl2YXIgbXNnc19wcmVyZWNvcmRlZF9qc29uOwoJCWlmKHR5cGVvZihtc2dzX3ByZXJlY29yZGVkKSAhPSAndW5kZWZpbmVkJykgewoJCQlpZiAodHlwZW9mKGpzb24pICE9ICd1bmRlZmluZWQnICYmICFqc29uKSB7CgkJCQltc2dzX3ByZXJlY29yZGVkX2pzb24gPSBKU09OLnN0cmluZ2lmeShtc2dzX3ByZXJlY29yZGVkKTsKCQkJfSBlbHNlIHsKCQkJCW1zZ3NfcHJlcmVjb3JkZWRfanNvbiA9IG1zZ3NfcHJlcmVjb3JkZWQ7CgkJCQltc2dzX3ByZXJlY29yZGVkID0gSlNPTi5wYXJzZShtc2dzX3ByZXJlY29yZGVkKTsKCQkJfQoJCQl0aGlzLm1zZ3NfcHJlcmVjb3JkZWQgPSBtc2dzX3ByZXJlY29yZGVkOwoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3RybHdfbXNnc19wcmVyZWNvcmRlZCIsIG1zZ3NfcHJlcmVjb3JkZWRfanNvbik7CgkJfWVsc2V7CgkJCW1zZ3NfcHJlcmVjb3JkZWRfanNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdHJsd19tc2dzX3ByZXJlY29yZGVkIik7CgkJCWlmKG1zZ3NfcHJlcmVjb3JkZWRfanNvbiAhPSBudWxsKXsKCQkJCXRoaXMubXNnc19wcmVyZWNvcmRlZCA9IEpTT04ucGFyc2UobXNnc19wcmVyZWNvcmRlZF9qc29uKTsKCQkJfQoJCX0KCX07CglNYWluLmsuTWFuYWdlci5zYXZlTXNnc1ByZXJlY29yZGVkID0gZnVuY3Rpb24oKSB7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN0cmx3X21zZ3NfcHJlcmVjb3JkZWQiLEpTT04uc3RyaW5naWZ5KE1haW4uay5NYW5hZ2VyLm1zZ3NfcHJlcmVjb3JkZWQpKTsKCQljYWxsYmFja3Nfc3RvcmFnZV9zeW5jLmZpcmUoKTsKCX07CgoJTWFpbi5rLk1hbmFnZXIuRXhjZXB0aW9uID0gZnVuY3Rpb24obmFtZSl7CgkJdGhpcy5uYW1lID0gbmFtZTsKCX07CgkvLyA9PSAvTWVzc2FnZU1hbmFnZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCgoKCglNYWluLmsuQWxpdmVIZXJvZXMgPSBbXTsKCU1haW4uay5NdXNoSW5pdCA9IGZ1bmN0aW9uKCkgewoJCWNvbnNvbGUubG9nKCdNdXNoSW5pdCcpOwoJCXZhciBjb29rX3Nlc3Npb24gPSBqcy5Db29raWUuZ2V0KCJjdHJsd3Nlc3Npb24iKTsKCQl2YXIgc2lkID0ganMuQ29va2llLmdldCgic2lkIik7CgkJaWYodHlwZW9mKHNpZCkgPT0gJ3VuZGVmaW5lZCcpewoJCQlzaWQgPSBqcy5Db29raWUuZ2V0KCJtdXNoX3NpZCIpOwoJCX0KCQlpZih0eXBlb2YoY29va19zZXNzaW9uKSA9PSAndW5kZWZpbmVkJyB8fCBzaWQuaGFzaENvZGUoKSAhPSBjb29rX3Nlc3Npb24pewoJCQlNYWluLmsuU3luYy5wdWxsKCk7CgkJCWxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjdHJsd19uZXdnYW1lJyk7CgkJfQoJCWpzLkNvb2tpZS5zZXQoImN0cmx3c2Vzc2lvbiIsc2lkLmhhc2hDb2RlKCksNDIwMDAwMDAwKTsKCgkJTWFpbi5rLlByb2ZpbGVzLmxvYWQoKTsKCQlNYWluLmsuTWFuYWdlci5sb2FkTXNnc1ByZXJlY29yZGVkKCk7CgkJTWFpbi5rLkFsaXZlSGVyb2VzID0gW107CgkJTWFpbi5rLkdhbWVJbmZvcy5pbml0KCk7CgoJCXZhciAkY29udGVudCA9ICQoIiNjb250ZW50Iik7CgkJLy8gSGFuZGxlIE11c2ggTG9nbyAob3B0aW9uKQoJCWlmIChNYWluLmsuT3B0aW9ucy5kbG9nbykgewoJCQkkY29udGVudC5jc3MoeyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAiMTIwcHgiLCBsZWZ0OiAiMTI1cHgiIH0pOwoJCQkkY29udGVudC5maW5kKCJbY2xhc3NePWxvZ29dIikuY3NzKHsgdG9wOiAiLTEwMHB4IiB9KTsKCQkJJCgiYm9keSIpLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICI1MCUgMjBweCIpOwoJCX0gZWxzZSB7CgkJCSRjb250ZW50LmNzcyh7IHBvc2l0aW9uOiAiYWJzb2x1dGUiLCB0b3A6ICI0MHB4IiwgbGVmdDogIjEyNXB4IiB9KTsKCQkJJGNvbnRlbnQuZmluZCgiW2NsYXNzXj1sb2dvXSIpLmNzcyh7IGRpc3BsYXk6ICJub25lIiB9KTsKCQl9CgkJdmFyIHZlbmRpbmcgPSAkKCIuYnV0bWluaS5kaXN0ciIpLmNzcygiZGlzcGxheSIsICJub25lIik7CgkJaWYgKHZlbmRpbmcubGVuZ3RoID4gMCkgewoJCQkkKCIjdmVuZGluZ21lbnUiKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lIik7CgkJfQoKCQkvLyBBZGQgbGVmdCBiYXIKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCXZhciBsZWZ0YmFyID0gJCgiPGRpdj4iKS5hZGRDbGFzcygidXNMZWZ0YmFyIikuaW5zZXJ0QmVmb3JlKCRjb250ZW50KTsKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9JyIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL2N0cmx3X3NtbC5wbmcnIGhlaWdodD0nMTYnIC8+ICIgKyBNYWluLmsudmVyc2lvbiwgbnVsbCwgTWFpbi5rLkFib3V0Lm9wZW4sIE1haW4uay50ZXh0LmdldHRleHQoIsOgIHByb3BvcyIpLmNhcGl0YWxpemUoKSwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2xpcXVleiBpY2kgcG91ciBwbHVzIGQnaW5mb3JtYXRpb25zIHN1ciBsZSBzY3JpcHQuIikpLmNzcyh7CgkJCWRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAoJCQltYXJnaW46ICIwIGF1dG8gMTBweCIKCQl9KS5hcHBlbmRUbygkKCI8ZGl2PiIpLmNzcygidGV4dC1hbGlnbiIsICJjZW50ZXIiKS5hcHBlbmRUbyhsZWZ0YmFyKSk7CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgkJLy8gU3luYyBQdXNoIG9uIGxlYXZlCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQkkKHdpbmRvdykuYmluZCgnYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oZXZlbnQpewoJCQljb25zb2xlLndhcm4oJ2JlZm9yZXVubG9hZCcsTWFpbi5rLlN5bmMucHVzaF90aW1lcik7CgkJCWlmKE1haW4uay5TeW5jLnB1c2hfdGltZXIgIT0gbnVsbCl7CgkJCQlyZXR1cm4gTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ1RSTCtXIDogVmV1aWxsZXogYXR0ZW5kcmUgbGEgZmluIGRlIGxhIHN5bmNocm9uaXNhdGlvbiBhdmFudCBkZSBxdWl0dGVyIGNldHRlIHBhZ2UuIik7CgkJCX0KCgkJfSk7CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgkJLy8gTWlzYyB0b29scwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgkJJCgiPGgzPiIpLmFkZENsYXNzKCJmaXJzdCIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgib3V0aWxzIikuY2FwaXRhbGl6ZSgpKS5hcHBlbmRUbyhsZWZ0YmFyKTsKCgkJLy8gVXBkYXRlIE1hbmFnZXIKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly90d2lub2lkLmNvbS9pbWcvaWNvbnMvbmV3LnBuZycgLz4gIiArIE1haW4uay50ZXh0LmdldHRleHQoIk1pc2Ugw6Agam91ciIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJNaXNlIMOgIGpvdXIgZHUgc2NyaXB0IiksCgkJCSJVbmUgbm91dmVsbGUgdmVyc2lvbiBkdSBzY3JpcHQgQ1RSTCtXIGVzdCBkaXNwb25pYmxlLiIpCgkJCS5hcHBlbmRUbyhsZWZ0YmFyKS5hdHRyKCJpZCIsICJ1cGRhdGVidG4iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLmZpbmQoImEiKS5vbigibW91c2Vkb3duIiwgTWFpbi5rLlVwZGF0ZURpYWxvZyk7CgoKCQkvL0ludGVncmF0aW9uIHdpdGggb3RoZXJzIHNjcmlwdHMKCQkkKHdpbmRvdykubG9hZChmdW5jdGlvbiAoKSB7CgkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJdmFyICRtdXNoVVNNZW51ID0gJCgnI211c2hVU01lbnUnKTsKCQkJCS8vTXVzaCBIZWxwZXIgc2NyaXB0CgkJCQlpZiAoJG11c2hVU01lbnUubGVuZ3RoID4gMCkgewoJCQkJCXZhciB3cmFwcGVyX21ocyA9ICRtdXNoVVNNZW51LnBhcmVudHMoIjplcSgyKSIpOwoJCQkJCXdyYXBwZXJfbWhzLmNzcygnbGVmdCcsICctJyArICh3cmFwcGVyX21ocy53aWR0aCgpKSArICdweCcpOwoJCQkJCXZhciBhcnJvdyA9IHdyYXBwZXJfbWhzLmZpbmQoJy5hcnJvd3JpZ2h0Jyk7CgkJCQkJYXJyb3cuYXR0cignY2xhc3MnLCAnYXJyb3dsZWZ0Jyk7CgkJCQkJYXJyb3cub2ZmKCdjbGljaycpOwoJCQkJCWFycm93LnRvZ2dsZShmdW5jdGlvbiAoKSB7CgkJCQkJCXdyYXBwZXJfbWhzLmFuaW1hdGUoe2xlZnQ6IDB9LCA1MDApOwoJCQkJCX0sIGZ1bmN0aW9uICgpIHsKCQkJCQkJd3JhcHBlcl9taHMuYW5pbWF0ZSh7bGVmdDogJy0nICsgd3JhcHBlcl9taHMud2lkdGgoKSArICdweCd9LCA1MDApOwoJCQkJCX0pOwoKCQkJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly9tdXNoLnR3aW5vaWQuY29tL2ltZy9pY29ucy91aS90YWxraWUucG5nJyBzdHlsZT0ndmVydGljYWwtYWxpZ246IC0yMCUnIC8+ICIgKyAnTUhTJywgbnVsbCwgbnVsbCwgJ011c2ggSGVscGVyIFNjcmlwdCcKCQkJCQkpLmluc2VydEFmdGVyKCQoJyN1cGRhdGVidG4nKSkuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbiAoKSB7CgkJCQkJCQl3cmFwcGVyX21ocy5maW5kKCcuYXJyb3dsZWZ0JykudHJpZ2dlcignY2xpY2snKTsKCQkJCQkJfSk7CgkJCQl9CgoJCQkJdmFyIHNfYXN0cm9faWNvbiA9ICcnOwoJCQkJaWYgKCQoJyNhc3Ryb19tYWpfaW52ZW50YWlyZScpLmxlbmd0aCA+IDApIHsKCQkJCQl2YXIgaW1nX2FzdHJvID0gJCgnPGltZyBjbGFzcz0iIiBzcmM9Ii9pbWcvaWNvbnMvdWkvcGFfY29tcC5wbmciIGhlaWdodD0iMTQiLz4nKTsKCQkJCQl2YXIgJHNoYXJlX2ludmVudG9yeV9idXR0b24gPSAkKCcjc2hhcmUtaW52ZW50b3J5LWJ1dHRvbicpOwoJCQkJCSRzaGFyZV9pbnZlbnRvcnlfYnV0dG9uLmZpbmQoJ2EgaW1nJykucmVtb3ZlKCk7CgkJCQkJJHNoYXJlX2ludmVudG9yeV9idXR0b24uZmluZCgnYScpLnByZXBlbmQoaW1nX2FzdHJvKTsKCQkJCQlpbWdfYXN0cm8uYWRkQ2xhc3MoJ2JsaW5rLWxpbWl0ZWQnKTsKCgkJCQl9CgoJCQl9LCAxMCk7CgoJCX0pOwoKCQkvLyBNZXNzYWdlIE1hbmFnZXIKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9J2h0dHA6Ly90d2lub2lkLmNvbS9pbWcvaWNvbnMvYXJjaGl2ZS5wbmcnIHN0eWxlPSd2ZXJ0aWNhbC1hbGlnbjogLTIwJScgLz4gIisgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTXNnIE1hbmFnZXIiKSwgbnVsbCwgbnVsbCwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTWVzc2FnZSBNYW5hZ2VyIiksCgkJCU1haW4uay50ZXh0LmdldHRleHQoIk5lIG1hbnF1ZXogcGx1cyBkZSBtZXNzYWdlcyAhIFRvdXMgbGVzIHRvcGljcyBhdmVjIGRlcyBtZXNzYWdlcyBub24gbHVzIHNlcm9udCBtaXMgZW4gw6l2aWRlbmNlLCBldCB2b3VzIHBvdXJyZXogZWZmZWN0dWVyIGRlcyByZWNoZXJjaGVzIHBhciBhdXRldXIgb3UgY29udGVudS4iKSkKCQkuYXBwZW5kVG8obGVmdGJhcikuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBNYWluLmsuTWFuYWdlci5vcGVuKTsKCgkJLy8gT3B0aW9ucyBNYW5hZ2VyCgkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3BhX2VuZy5wbmcnIHN0eWxlPSd2ZXJ0aWNhbC1hbGlnbjogLTIwJScgLz4gIisgTWFpbi5rLnRleHQuZ2V0dGV4dCgiT3B0aW9ucyIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJHw6lyZXIgbGVzIG9wdGlvbnMiKSwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2VydGFpbmVzIGZvbmN0aW9ubmFsaXTDqWVzIGRlIEN0cmwrVyBzb250IGNvbmZpZ3VyYWJsZXMuIENsaXF1ZXogaWNpIHBvdXIgc3DDqWNpZmllciB2b3MgcHLDqWbDqXJlbmNlcy4iKSkKCQkuYXBwZW5kVG8obGVmdGJhcikuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBNYWluLmsuT3B0aW9ucy5vcGVuKTsKCgkJLy8gU3luYyBNYW5hZ2VyCgkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL2NvbW0ucG5nJyBzdHlsZT0ndmVydGljYWwtYWxpZ246IC0yMCUnIGNsYXNzPVwiY3RybHdfbm9ybWFsXCIvPiIgKwoJCQkJIjxpbWcgc3JjPSdodHRwOi8vaW1ndXAubW90aW9uLXR3aW4uY29tL3R3aW5vaWQvYS9jLzFkODRhNzRlXzQwMzAuanBnJyBzdHlsZT0ndmVydGljYWwtYWxpZ246IC0yMCU7ZGlzcGxheTpub25lJyBjbGFzcz1cImN0cmx3X2Rvd25cIiAvPiIgKwoJCQkJIjxpbWcgc3JjPSdodHRwOi8vaW1ndXAubW90aW9uLXR3aW4uY29tL3R3aW5vaWQvOC9mLzBjNTk2MDk0XzQwMzAuanBnJyBzdHlsZT0ndmVydGljYWwtYWxpZ246IC0yMCU7ZGlzcGxheTpub25lJyBjbGFzcz1cImN0cmx3X3VwXCIgLz4gIisKCQkJCSI8aW1nIHNyYz0naHR0cDovL2ltZ3VwLm1vdGlvbi10d2luLmNvbS90d2lub2lkLzMvYS84MzBjMDZmNV80MDMwLmpwZycgc3R5bGU9J3ZlcnRpY2FsLWFsaWduOiAtMjAlO2Rpc3BsYXk6bm9uZScgY2xhc3M9XCJjdHJsd193aGVlbHNcIiAvPiAiKwoJCQkJJzxzcGFuIGNsYXNzPSJ0eHQiPicgKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJTeW5jIikgKyAnPC9zcGFuPiA8c3BhbiBjbGFzcz0iY291bnRlciI+PC9zcGFuPicsIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIlN5bmMiKSwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGVybWV0IGRlIHN5bmNocm9uaXNlciBsZXMgZG9ubsOpZXMgZHUgc2NyaXB0IGVudHJlIHZvcyBkaWZmw6lyZW50cyBuYXZpZ2F0ZXVycyIpCgkJCSkKCQkJLmF0dHIoJ2lkJywnY3RybHdfc3luY19idXR0b24nKQoJCQkuYXBwZW5kVG8obGVmdGJhcikuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBNYWluLmsuU3luYy5kaXNwbGF5KTsKCgkJLy8gUGFnZSByZWxvYWRlcgoJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0naHR0cDovL3R3aW5vaWQuY29tL2ltZy9pY29ucy9yZWZyZXNoLnBuZycgc3R5bGU9J3ZlcnRpY2FsLWFsaWduOiAtMjAlJyAvPiAiKyBNYWluLmsudGV4dC5nZXR0ZXh0KCJBY3R1YWxpc2VyIiksIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIkFjdHVhbGlzZXIiKSwKCQkJTWFpbi5rLnRleHQuZ2V0dGV4dCgiQWN0dWFsaXNlciBsYSBwYWdlIHNhbnMgdG91dCByZWNoYXJnZXIuIDxzdHJvbmc+Rm9uY3Rpb25uYWxpdMOpIGVuIGNvdXJzIGQnb3B0aW1pc2F0aW9uLjwvc3Ryb25nPiIpKQoJCS5hcHBlbmRUbyhsZWZ0YmFyKS5maW5kKCJhIikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKCkgewoJCQkvLyBUT0RPOiBsb2FkaW5nIHNjcmVlbiAtLSBPcHRpbWl6ZQoKCQkJTWFpbi5yZWZyZXNoQ2hhdCgpOwoJCQlNYWluLmFjTGlzdE1haW50YWluZXIucmVmcmVzaCh0cnVlKTsKCQkJTWFpbi5zeW5jSW52T2Zmc2V0KG51bGwsdHJ1ZSk7CgkJCU1haW4uZG9DaGF0UGFja3MoKTsKCQkJTWFpbi50b3BDaGF0KCk7CgkJCU1haW4ub25DaGFuRG9uZShDaGF0VHlwZS5Mb2NhbFsxXSx0cnVlKQoJCX0pOwoKCQlNYWluLmsuTWFrZUJ1dHRvbihNYWluLmsudGV4dC5nZXR0ZXh0KCJOb3V2ZWxsZSBwYXJ0aWUgPyIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJOb3V2ZWxsZSBwYXJ0aWUiKSwKCQlNYWluLmsudGV4dC5nZXR0ZXh0KCJWb3VzIHZlbmV6IGRlIGNvbW1lbmNlciB1bmUgbm91dmVsbGUgcGFydGllID8gVXRpbGlzZXogY2UgYm91dG9uIHBvdXIgc3VwcHJpbWVyIGxlcyBpbmZvcm1hdGlvbnMgZGUgdm90cmUgYW5jaWVubmUgcGFydGllIikpCgkJLmF0dHIoJ2lkJywgJ2J1dHRvbl9uZXdfZ2FtZScpCgkJLmFwcGVuZFRvKGxlZnRiYXIpLmZpbmQoImEiKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKCkgewoJCQlpZiAoY29uZmlybShNYWluLmsudGV4dC5nZXR0ZXh0KCLDinRlcyB2b3VzIHPDu3IgZGUgdm91bG9pciBlZmZhY2VyIGxlcyBpbmZvcm1hdGlvbnMgZGUgbGEgcGFydGllIHByw6ljw6lkZW50ZSA/IikpKSB7CgkJCQlsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3RybHdfbmV3Z2FtZScpOwoJCQkJTWFpbi5rLlByb2ZpbGVzLmNsZWFyKCk7CgkJCQlNYWluLmsuR2FtZUluZm9zLmNsZWFyKCk7CgkJCQlNYWluLmsuTXVzaFVwZGF0ZSgpOwoJCQkJLy8kKCcjYnV0dG9uX25ld19nYW1lJykucmVtb3ZlKCk7CgkJCX0KCgkJfSk7CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgkJLy8gRXhwbG9yYXRpb24KCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCSQoIjxkaXY+IikuYXR0cigiaWQiLCAiZXhwYmxvY2siKS5hcHBlbmRUbyhsZWZ0YmFyKTsKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoKCQkvLyBIZXJvZXMnIHRpdGxlcwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgkJdmFyIHQgPSAkKCc8aDMgY2xhc3M9InRpdGxlc190aXRsZSI+PC9oMz4nKS5odG1sKE1haW4uay50ZXh0LmdldHRleHQoInRpdHJlcyIpLmNhcGl0YWxpemUoKSkuYXBwZW5kVG8obGVmdGJhcik7CgkJJCgiPHNwYW4+IikuYWRkQ2xhc3MoImRpc3BsYXlsZXNzIikuYXR0cigiX3RhcmdldCIsICIjdGl0bGVzX2xpc3QiKS5hcHBlbmRUbyh0KS5vbigiY2xpY2siLCBNYWluLmsuVG9nZ2xlRGlzcGxheSk7CgkJJCgiPGRpdj4iKS5hZGRDbGFzcygidGl0bGVzX2xpc3QiKS5hdHRyKCJpZCIsICJ0aXRsZXNfbGlzdCIpLmFwcGVuZFRvKGxlZnRiYXIpOwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoKCQkvLyBIZXJvZXMKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCXQgPSAkKCI8aDM+IikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJQcsOpc2VudChzKSIpLmNhcGl0YWxpemUoKSkuYXBwZW5kVG8obGVmdGJhcik7CgkJJCgiPHNwYW4+IikuYWRkQ2xhc3MoImRpc3BsYXltb3JlIikuYXR0cigiX3RhcmdldCIsICIjaGVyb2VzX2xpc3QiKS5hcHBlbmRUbyh0KS5vbigiY2xpY2siLCBNYWluLmsuVG9nZ2xlRGlzcGxheSk7CgkJJCgiPGRpdj4iKS5hdHRyKCJpZCIsICJoZXJvZXNfbGlzdCIpLmNzcygiZGlzcGxheSIsICJub25lIikuYXBwZW5kVG8obGVmdGJhcik7CgkJdCA9ICQoIjxoMz4iKS5hZGRDbGFzcygiY3RybHctc2lkZWJhci10aXRsZS1jcmV3IikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCLDqXF1aXBhZ2UiKS5jYXBpdGFsaXplKCkpLmFwcGVuZFRvKGxlZnRiYXIpOwoJCSQoIjxzcGFuPiIpLmFkZENsYXNzKCJkaXNwbGF5bGVzcyIpLmF0dHIoIl90YXJnZXQiLCAiI2NyZXdfbGlzdCIpLmFwcGVuZFRvKHQpLm9uKCJjbGljayIsIE1haW4uay5Ub2dnbGVEaXNwbGF5KTsKCQkkKCI8ZGl2PiIpLmF0dHIoImlkIiwgImNyZXdfbGlzdCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpLmFwcGVuZFRvKGxlZnRiYXIpOwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoKCQkvLyBJbnZlbnRvcnkKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCXQgPSAkKCI8aDM+IikuaHRtbChNYWluLmsudGV4dC5nZXR0ZXh0KCJpbnZlbnRhaXJlIikuY2FwaXRhbGl6ZSgpKS5hcHBlbmRUbyhsZWZ0YmFyKTsKCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiZGlzcGxheW1vcmUiKS5hdHRyKCJfdGFyZ2V0IiwgIi5rb2JqZWN0X2xpc3QiKS5hcHBlbmRUbyh0KS5vbigiY2xpY2siLCBNYWluLmsuVG9nZ2xlRGlzcGxheSk7CgkJJCgiPGRpdj4iKS5hZGRDbGFzcygiaW52ZW50b3J5IGtvYmplY3RfbGlzdCIpLmNzcygiZGlzcGxheSIsICJub25lIikuYXBwZW5kVG8obGVmdGJhcik7CgkJJCgiPGRpdj4iKS5jc3MoeyJjbGVhciI6ICJib3RoIiwgImhlaWdodCI6ICI1cHgifSkuYXBwZW5kVG8obGVmdGJhcik7CgoJCS8vIEludmVudG9yeSBhY3Rpb25zCgkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3RhbGsuZ2lmJyAvPiAiICsgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIiKSAsIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGwnaW52ZW50YWlyZSIpLAoJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCI8cD5JbnPDqHJlIGwnaW52ZW50YWlyZSBkZSBsYSBwacOoY2UgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPjxzdHJvbmc+Q291bG9pciBjZW50cmFsIDo8L3N0cm9uZz4gPGk+Q29tYmluYWlzb248L2k+LCA8aT5Db3V0ZWF1PC9pPiwgPGk+TcOpZGlraXQ8L2k+LCA8aT5FeHRpbmN0ZXVyPC9pPjwvcD48cD48c3Ryb25nPlBhcnRhZ2UgYXVzc2kgc3VyIEFzdHJvcGFkIHNpIGNlbHVpLWNpIGVzdCBpbnN0YWxsw6kuPC9zdHJvbmc+PC9wPiIpCgkJKS5hcHBlbmRUbyhsZWZ0YmFyKQoJCS5hdHRyKCdpZCcsJ3NoYXJlLWludmVudG9yeS1idXR0b24nKQoJCS5maW5kKCJhIikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJTWFpbi5rLlN5bmNBc3Ryb3BhZChlKTsKCQkJJCgndGV4dGFyZWE6Zm9jdXMnKS5lYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0SW52ZW50b3J5KCk7CgkJCQkkKHRoaXMpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJfSk7CgkJCXJldHVybiBmYWxzZTsKCQl9KTsKCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsay5naWYnIC8+ICIrIE1haW4uay50ZXh0LmdldHRleHQoIkNvbnNvbW1hYmxlcyIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJQYXJ0YWdlciBsZXMgZWZmZXRzIGRlcyBjb25zb21tYWJsZXMiKSwKCQkJTWFpbi5rLnRleHQuZ2V0dGV4dCgiSW5zw6hyZSBsYSBsaXN0ZSBkZXMgY29uc29tbWFibGVzIGF2ZWMgbGV1cnMgZWZmZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBhcGVyw6d1PC9wPiIpKQoJCS5hdHRyKCJpZCIsICJwaGFybWFzaGFyZSIpLmNzcygiZGlzcGxheSIsICJub25lIikuYXBwZW5kVG8obGVmdGJhcikKCQkuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCSQoJ3RleHRhcmVhOmZvY3VzJykuZWFjaChmdW5jdGlvbihlKSB7CgkJCQl2YXIgdHh0ID0gTWFpbi5rLkZvcm1hdFBoYXJtYSgpOwoJCQkJJCh0aGlzKS5pbnNlcnRBdENhcmV0KHR4dCk7CgkJCX0pOwoJCQlyZXR1cm4gZmFsc2U7CgkJfSk7CgkJLy9NYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvbm90ZXMuZ2lmJyAvPiBEYWVkYWx1cyIsIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIkludmVudGFpcmUgY29tcGxldCIpLAoJCS8vCSJBZmZpY2hlIGwnaW52ZW50YWlyZSBjb21wbGV0IGR1IERhZWRhbHVzLCBwacOoY2UgcGFyIHBpw6hjZS48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDqSBub24gY29kw6llPC9zdHJvbmc+IikuYXBwZW5kVG8obGVmdGJhcik7CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgkJLy8gRml4ICJvwrIiCgkJdmFyICRzcGFjZXNoaXBzdGF0dXNfbGkgPSAkKCIuc3BhY2VzaGlwc3RhdHVzIGxpIik7CgkJJHNwYWNlc2hpcHN0YXR1c19saS5maXJzdCgpLmF0dHIoIm9ubW91c2VvdmVyIiwgJHNwYWNlc2hpcHN0YXR1c19saS5maXJzdCgpLmF0dHIoIm9ubW91c2VvdmVyIikucmVwbGFjZSgvXChvwrJcKVxzKy9nLCAiIikpOwoKCQkvLyBMYWIgLSBOZXh1cyAtIFBpbGdyZWQgLSBQbGFudHMgLSBQbGFuZXRzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQkkKCI8ZGl2PiIpLmF0dHIoImlkIiwgInByb2plY3RfbGlzdCIpLmFwcGVuZFRvKGxlZnRiYXIpOwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgl9OwoJTWFpbi5rLk11c2hBZnRlckluaXQgPSBmdW5jdGlvbigpIHsKCQljb25zb2xlLmluZm8oJ01haW4uay5NdXNoQWZ0ZXJJbml0JywkKCkuanF1ZXJ5KTsKCgkJLy8gRml4IGRpbWVuc2lvbnMKCQlNYWluLmsuUmVzaXplKCk7CgkJJCh3aW5kb3cpLnJlc2l6ZShNYWluLmsuUmVzaXplKTsKCQkkKCIjY2hhdEJsb2NrIikub24oInJlc2l6ZSIsIE1haW4uay5SZXNpemUpOwoJfTsKCglNYWluLmsuTXVzaFVwZGF0ZSA9IGZ1bmN0aW9uKCkgewoJCWNvbnNvbGUubG9nKCdtdXNodXBkYXRlJyk7CgkJTWFpbi5rLk11c2hJbml0SGVyb2VzKCk7CgkJLy8gRXZlbnRzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQkkKCcjc3dmX0lTT19NT0RVTEUnKS5vZmYoJ21vdXNlZG93bicpOwoJCSQoJyNzd2ZfSVNPX01PRFVMRScpLm9uKCdtb3VzZWRvd24nLGZ1bmN0aW9uKCl7CgkJCSQoJy5rb2JqZWN0X2xpc3QgLnNlbGVjdGVkJykucmVtb3ZlKCk7CgkJCWlmKCQoJyNjZEludmVudG9yeScpLmlzKCcucGxhY2FyZF9vbicpKXsKCQkJCU1haW4uY2xvc2V0LmhpZGUoKTsKCQkJfQoJCX0pOwoKCQl2YXIgJHdhbGxfY2hhdGJveCA9ICQoJyN3YWxsJykuZmluZCgnLmNoYXRib3gnKTsKCQkkd2FsbF9jaGF0Ym94Lm9mZignZm9jdXMnKTsKCQkkd2FsbF9jaGF0Ym94Lm9uKCdmb2N1cycsZnVuY3Rpb24oKXsKCQkJTWFpbi5rLmV4dGVuZC5vbkNoYXRGb2N1cygkKHRoaXMpLCQodGhpcykuYXR0cignaWQnKS5yZXBsYWNlKC9bXjAtOV0rLywiIikpOwoJCX0pOwoKCQl2YXIgJHdhbGxfcmVwbHlib3ggPSAkKCcuY2RSZXBseUJsb2NrIC5jaGF0Ym94Jyk7CgkJJHdhbGxfcmVwbHlib3gub2ZmKCdmb2N1cycpOwoJCSR3YWxsX3JlcGx5Ym94Lm9uKCdmb2N1cycsTWFpbi5rLmV4dGVuZC5vbldhbGxGb2N1cyk7CgkJJHdhbGxfcmVwbHlib3gub2ZmKCdrZXlkb3duIGlucHV0Jyk7CgkJJHdhbGxfcmVwbHlib3gucmVtb3ZlQXR0cignb25rZXlkb3duJyk7CgkJJHdhbGxfcmVwbHlib3gub24oJ2tleWRvd24nLCBNYWluLmsuZXh0ZW5kLm9uV2FsbElucHV0KTsKCQkkd2FsbF9yZXBseWJveC5vbignaW5wdXQnLCBmdW5jdGlvbigpewoJCQlUb29scy5zZW5kMlN0b3JlKCJtdXNoX3dhbGxSZXBseV8iICsgJCh0aGlzKS5hdHRyKCJpZCIpLCQodGhpcykudmFsKCkpOwoJCX0pOwoKCQl2YXIgJGNoYXRib3ggPSAkKCcjcHJpdmF0ZWZvcm0gLmNoYXRib3gsICN3YWxsIC5jaGF0Ym94Jyk7CgkJJGNoYXRib3gub2ZmKCdrZXlkb3duIGlucHV0Jyk7CgkJJGNoYXRib3gucmVtb3ZlQXR0cignb25rZXlkb3duJyk7CgkJJGNoYXRib3gub24oJ2tleWRvd24nLCBNYWluLmsuZXh0ZW5kLm9uQ2hhdElucHV0KTsKCQkkY2hhdGJveC5vbignaW5wdXQnLCBmdW5jdGlvbigpewoJCQlUb29scy5zZW5kMlN0b3JlKCJtdXNoX2NoYXRDb250ZW50XyIgKyAkKHRoaXMpLmF0dHIoImlkIiksJCh0aGlzKS52YWwoKSk7CgkJfSk7CgoJCXZhciAkY2hhdEJsb2NrID0gJCgnI2NoYXRCbG9jaycpOwoJCSRjaGF0QmxvY2sub2ZmKCdzY3JvbGwnKTsKCQkkY2hhdEJsb2NrLm9uKCdzY3JvbGwnLE1haW4uay5leHRlbmQub25DaGF0U2Nyb2xsKTsKCgkJLyoqIEB0eXBlIHt7c3VybmFtZTpzdHJpbmcsc3RhdHVzZXM6TGlzdCwgdGl0bGVzOkxpc3QsIGRldl9zdXJuYW1lOnN0cmluZywgc3BvcmVzOnN0cmluZ319ICoqLwoJCXZhciBoZXJvOwoJCXZhciBidWJibGUsIHQsIGksIGo7CgkJdmFyICR1c0xlZnRiYXIgPSAkKCIudXNMZWZ0YmFyIik7CgkJTWFpbi5rLmhhc1RhbGtpZSA9ICQoIiN3YWxsdGFiIikubGVuZ3RoID4gMDsKCgkJLy8gTmV2ZXIgaGlkZSB1bnJlYWQgbXNnCgkJJCgidGFibGUudHJlZXJlcGx5IHRyLm5vdF9yZWFkLmNkUmVwbCIpLmNzcygiZGlzcGxheSIsICJ0YWJsZS1yb3ciKTsKCgkJLy8gRGF5IGFuZCBjeWNsZSBzYXZlCgkJdmFyIGN5Y2xlX3RpbWUgPSAkKCcuY3ljbGV0aW1lJyk7CgkJaWYoY3ljbGVfdGltZS5sZW5ndGggPiAwKXsKCQkJdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgiXFxEKyhbMC05XXsxLDJ9KS4qLS4qKFswLTldezF9KSIpOwoJCQl2YXIgcmVzdWx0ID0gcmVnZXguZXhlYyhjeWNsZV90aW1lLnRleHQoKSk7CgkJCWlmKHJlc3VsdCAhPSBudWxsKXsKCQkJCU1haW4uay5HYW1lLnVwZGF0ZURheUFuZEN5Y2xlKHJlc3VsdFsxXSxyZXN1bHRbMl0pOwoJCQl9CgoKCQl9CgoJCS8vIFNjcmlwdCB1cGRhdGVzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQlNYWluLmsuVXBkYXRlQ2hlY2soKTsKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCXZhciAkcGxheWVyX3N0YXR1cyA9ICQoJyNwbGF5ZXJfc3RhdHVzJyk7CgkJaWYoJHBsYXllcl9zdGF0dXMubGVuZ3RoID09IDApewoJCQkkcGxheWVyX3N0YXR1cyA9ICQoJzxkaXYgaWQ9InBsYXllcl9zdGF0dXMiIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7cmlnaHQ6NnB4O2JvdHRvbTowIj48aW1nIHNyYz0iJytNYWluLmsuc3RhdHVzSW1hZ2VzWydicm9uemUnXSsnIiBhbHQ9IkJyb256ZSIgdGl0bGU9IkJyb256ZSIgLz48L2Rpdj4nKS5hcHBlbmRUbygnLnNoZWV0bWFpbicpOwoJCX0KCQkkcGxheWVyX3N0YXR1cy5odG1sKCc8aW1nIHNyYz0iJytNYWluLmsuc3RhdHVzSW1hZ2VzW01haW4uay5HYW1lLmRhdGEucGxheWVyX3N0YXR1c10rJyIgYWx0PSInK01haW4uay5HYW1lLmRhdGEucGxheWVyX3N0YXR1cy5jYXBpdGFsaXplKCkrJyIgdGl0bGU9IicrTWFpbi5rLkdhbWUuZGF0YS5wbGF5ZXJfc3RhdHVzLmNhcGl0YWxpemUoKSsnIiAvPicpOwoJCU1haW4uay5kaXNwbGF5UmVtYWluaW5nQ3ljbGVzVG9OZXh0TGV2ZWwoKTsKCgkJLy8gVGl0bGVzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQkvKiogQHR5cGUge3tza2lsbHM6TGlzdH19ICoqLwoJCS8vIERpc3BsYXkgdGl0bGUgbGlzdAoJCXZhciBvX2hlcm87CgkJdmFyIG1heHNob3duID0gNDsKCQl2YXIgdGl0bGVzX2xpc3QgPSAkKCIjdGl0bGVzX2xpc3QiKTsKCQl0aXRsZXNfbGlzdC5lbXB0eSgpOwoKCQkvLyBDb21tYW5kZXJzCgkJdmFyIGNvbW1hbmRlcnMgPSAkKCI8ZGl2PiIpLmFwcGVuZFRvKHRpdGxlc19saXN0KTsKCQkkKCI8aW1nPiIpLmFkZENsYXNzKCJpY29uIikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvdGl0bGVfMDEucG5nIikKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkNvbW1hbmRhbnQiKSkKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGUgQ29tbWFuZGFudCBkw6ljaWRlIGRlcyBwbGFuw6h0ZXMgcXVlIGxlIERhZWRhbHVzIGV4cGxvcmVyYS4iKSkKCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCS5hcHBlbmRUbyhjb21tYW5kZXJzKTsKCQl2YXIgY29tbWFuZGVyX25iID0gMDsKCQlmb3IgKGk9MDsgY29tbWFuZGVyX25iPG1heHNob3duICYmIGk8TWFpbi5rLkNPTU1BTkRFUlMubGVuZ3RoOyBpKyspIHsKCQkJaGVybyA9IE1haW4uay5DT01NQU5ERVJTW2ldOwoJCQlpZigkLmluQXJyYXkoaGVybyxNYWluLmsuSEVST0VTKSAhPSAtMSkgewoJCQkJb19oZXJvID0gTWFpbi5rLlByb2ZpbGVzLmdldChoZXJvKTsKCQkJCWlmICghTWFpbi5rLlByb2ZpbGVzLmhhc1N0YXR1c1doaWNoUmVtb3ZlVGl0bGUob19oZXJvKSkgewoJCQkJCWNvbW1hbmRlcl9uYisrOwoJCQkJCSQoIjxpbWc+IikKCQkJCQkJLmFkZENsYXNzKCJib2R5ICIgKyBoZXJvKQoJCQkJCQkuYXR0cigic3JjIiwgIi9pbWcvZGVzaWduL3BpeGVsLmdpZiIpCgkJCQkJCS5jc3MoImN1cnNvciIsICJwb2ludGVyIikKCQkJCQkJLmRhdGEoJ2Rldl9zdXJuYW1lJyxoZXJvKQoJCQkJCQkub24oJ2NsaWNrJyxmdW5jdGlvbigpewoJCQkJCQkJTWFpbi5rLlByb2ZpbGVzLmRpc3BsYXkoJCh0aGlzKS5kYXRhKCdkZXZfc3VybmFtZScpKTsKCQkJCQkJfSkKCQkJCQkJLmFwcGVuZFRvKGNvbW1hbmRlcnMpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBBZG1pbnMKCQl2YXIgYWRtaW5zID0gJCgiPGRpdj4iKS5hcHBlbmRUbyh0aXRsZXNfbGlzdCk7CgkJJCgiPGltZz4iKS5hZGRDbGFzcygiaWNvbiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3RpdGxlXzAyLnBuZyIpCgkJCS8qIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuICovCgkJCS5hdHRyKCJfdGl0bGUiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJBZG1pbmlzdHJhdGV1ciBORVJPTiIpKQoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQkuYXR0cigiX2Rlc2MiLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJMZSByZXNwb25zYWJsZSBORVJPTiBzZW1ibGUgYXZvaXIgdW5lIGNlcnRhaW5lIGluZmx1ZW5jZSBhdXByw6hzIGRlIGwnb3JkaW5hdGV1ciBkZSBib3JkLiBJbCBlc3Qgbm90YW1tZW50IGxlIHNldWwgw6AgYXZvaXIgbGEgcG9zc2liaWxpdMOpIGRlIHRyYW5zbWV0dHJlIGRlcyBtZXNzYWdlcyDDoCB0b3V0IGwnw6lxdWlwYWdlLiIpKQoJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJLmFwcGVuZFRvKGFkbWlucyk7CgkJdmFyIGFkbWluX25iID0gMDsKCQlmb3IgKGk9MDsgYWRtaW5fbmI8bWF4c2hvd24gJiYgaTxNYWluLmsuQURNSU5TLmxlbmd0aDsgaSsrKSB7CgkJCWhlcm8gPSBNYWluLmsuQURNSU5TW2ldOwoJCQlpZigkLmluQXJyYXkoaGVybyxNYWluLmsuSEVST0VTKSAhPSAtMSkgewoJCQkJb19oZXJvID0gTWFpbi5rLlByb2ZpbGVzLmdldChoZXJvKTsKCQkJCWlmICghTWFpbi5rLlByb2ZpbGVzLmhhc1N0YXR1c1doaWNoUmVtb3ZlVGl0bGUob19oZXJvKSkgewoJCQkJCWFkbWluX25iKys7CgkJCQkJJCgiPGltZz4iKQoJCQkJCQkuYWRkQ2xhc3MoImJvZHkgIiArIGhlcm8pCgkJCQkJCS5hdHRyKCJzcmMiLCAiL2ltZy9kZXNpZ24vcGl4ZWwuZ2lmIikKCQkJCQkJLmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKQoJCQkJCQkuZGF0YSgnZGV2X3N1cm5hbWUnLGhlcm8pCgkJCQkJCS5vbignY2xpY2snLGZ1bmN0aW9uKCl7CgkJCQkJCQlNYWluLmsuUHJvZmlsZXMuZGlzcGxheSgkKHRoaXMpLmRhdGEoJ2Rldl9zdXJuYW1lJykpOwoJCQkJCQl9KQoJCQkJCQkuYXBwZW5kVG8oYWRtaW5zKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gQ29tbXMgbWFuYWdlcgoJCXZhciBjb21tcyA9ICQoIjxkaXY+IikuYXBwZW5kVG8odGl0bGVzX2xpc3QpOwoJCSQoIjxpbWc+IikuYWRkQ2xhc3MoImljb24iKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy91aS90aXRsZV8wMy5wbmciKQoJCQkvKiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAqLwoJCQkuYXR0cigiX3RpdGxlIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUmVzcG9uc2FibGUgZGUgQ29tbXVuaWNhdGlvbnMiKSkKCQkJLyogVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKi8KCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGUgUmVzcG9uc2FibGUgZGUgQ29tbXVuaWNhdGlvbnMgZXN0IGxhIHNldWxlIHBlcnNvbm5lIGhhYmlsaXTDqWUgw6AgZMOpY2lkZXIgcXVlbHMgc2Vyb250IGxlcyB0w6lsw6ljaGFyZ2VtZW50cyBwcmlvcml0YWlyZXMgZHUgQ2VudHJlIGRlIENvbW11bmljYXRpb24uIikpCgkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKQoJCQkuYXBwZW5kVG8oY29tbXMpOwoJCXZhciBjb21tc19uYiA9IDA7CgkJZm9yIChpPTA7IGNvbW1zX25iPG1heHNob3duICYmIGk8TWFpbi5rLkNPTU1TLmxlbmd0aDsgaSsrKSB7CgkJCWhlcm8gPSBNYWluLmsuQ09NTVNbaV07CgkJCWlmKCQuaW5BcnJheShoZXJvLE1haW4uay5IRVJPRVMpICE9IC0xKXsKCQkJCW9faGVybyA9IE1haW4uay5Qcm9maWxlcy5nZXQoaGVybyk7CgkJCQlpZighTWFpbi5rLlByb2ZpbGVzLmhhc1N0YXR1c1doaWNoUmVtb3ZlVGl0bGUob19oZXJvKSkgewoJCQkJCWNvbW1zX25iKys7CgkJCQkJJCgiPGltZz4iKQoJCQkJCQkuYWRkQ2xhc3MoImJvZHkgIiArIGhlcm8pCgkJCQkJCS5hdHRyKCJzcmMiLCAiL2ltZy9kZXNpZ24vcGl4ZWwuZ2lmIikKCQkJCQkJLmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKQoJCQkJCQkuZGF0YSgnZGV2X3N1cm5hbWUnLGhlcm8pCgkJCQkJCS5vbignY2xpY2snLGZ1bmN0aW9uKCl7CgkJCQkJCQlNYWluLmsuUHJvZmlsZXMuZGlzcGxheSgkKHRoaXMpLmRhdGEoJ2Rldl9zdXJuYW1lJykpOwoJCQkJCQl9KQoJCQkJCQkuYXBwZW5kVG8oY29tbXMpOwoJCQkJfQoJCQl9CgkJfQoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoJCS8vIEhlcm9lcwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoJCWlmKE1haW4uay5HYW1lSW5mb3MuZGF0YS5oZXJvZXNfbGlzdC5sZW5ndGggPT0gMCl7CgkJCWlmKCQoJyNjdHJsdy13YXJuaW5nLWNyZXctbGlzdCcpLmxlbmd0aCA9PSAwKXsKCQkJCXZhciAkYWxlcnRfY3Jld19saXN0ID0gJCgnPGltZyBpZD0iY3RybHctd2FybmluZy1jcmV3LWxpc3QiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTt0b3A6NXB4O2N1cnNvcjpwb2ludGVyIiBzcmM9Ii9pbWcvaWNvbnMvdWkvYnJva2VuLnBuZyIgJyArCgkJCQkJJ190aXRsZT0iJytNYWluLmsudGV4dC5nZXR0ZXh0KCJBdHRlbnRpb24iKSsnIiAnICsKCQkJCQknX2Rlc2M9IicrTWFpbi5rLnRleHQuZ2V0dGV4dCgiUG91ciBhdm9pciB1bmUgbGlzdGUgZCfDqXF1aXBhZ2UgY29ycmVjdGUsIHZvdXMgZGV2ZXogbWV0dHJlIMOgIGpvdXIgY2V0dGUgbGlzdGUgdmlhIGxlIG1vZHVsZSBDcnlvLiA8YnIvPiIgKwoJCQkJCQkiUG91ciBjZSBmYWlyZSwgdmV1aWxsZXogdm91cyByZW5kcmUgYXUgbGFibywgbGlzdGV6IGwnw6lxdWlwYWdlIHZpYSBsZSBtb2R1bGUgQ3J5byBldCBjbGlxdWV6IHN1ciBsZSBib3V0b24gYXUgYmFzIGRlIGxhIGxpc3RlIGRlcyBwZXJzb25uYWdlcy48YnIvPiIgKwoJCQkJCQkiQXR0ZW50aW9uLCBsZSBib3V0b24gbidhcHBhcmFpdCBxdWUgbG9yc3F1ZSBsJ8OpcXVpcGFnZSBlc3QgYXUgY29tcGxldC4iICsKCQkJCQkJIjxwPjxzdHJvbmc+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJWb3VzIHBvdXZleiBhdXNzaSBtb2RpZmllciBsZSBkdW8gQW5kcmVrL0NoYW9sYSBlbiBjbGlxdWFudCBzdXIgbCdpY29uZSIpKyI8L3N0cm9uZz48L3A+IikrJyIvPicpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkub24oJ2NsaWNrJywgZnVuY3Rpb24oKXsKCQkJCQkJTWFpbi5rLkdhbWVJbmZvcy5kYXRhLmFuZHJlayA9ICFNYWluLmsuR2FtZUluZm9zLmRhdGEuYW5kcmVrOwoJCQkJCQlNYWluLmsuR2FtZUluZm9zLnNhdmUoKTsKCQkJCQkJTWFpbi5rLkhFUk9FUyA9IE1haW4uay5IRVJPRVNfQUxMLnNsaWNlKCk7CgkJCQkJCU1haW4uay5NdXNoVXBkYXRlKCk7CgkJCQkJCQoJCQkJCX0pOwoJCQkJJGFsZXJ0X2NyZXdfbGlzdC5hcHBlbmRUbygkKCcuY3RybHctc2lkZWJhci10aXRsZS1jcmV3JykpOwoJCQl9CgkJfWVsc2V7CgkJCSQoJyNjdHJsdy13YXJuaW5nLWNyZXctbGlzdCcpLnJlbW92ZSgpOwoJCX0KCQl2YXIgaGVyb2VzX2xpc3QgPSAkKCIjaGVyb2VzX2xpc3QiKS5lbXB0eSgpOwoKCQkvLyBEaXNwbGF5IHBsYXllcnMnIHNraWxscyAmIHN0YXR1c2VzCgkJdmFyICRpdCA9IE1haW4uaGVyb2VzLml0ZXJhdG9yKCk7CgkJdmFyIG1pc3NpbmdoZXJvZXMgPSBbXTsKCQl3aGlsZSAoJGl0Lmhhc05leHQoKSkgewoJCQloZXJvID0gJGl0Lm5leHQoKTsKCQkJdmFyIGRpc3BsYXkgPSBmYWxzZTsKCQkJYnViYmxlID0gaGVyby5kZXZfc3VybmFtZTsKCQkJdmFyICRzYXZlID0gJCgnPGEgaHJlZj0iIyI+PGltZyBzcmM9Ii9pbWcvaWNvbnMvdWkvYXdha2UucG5nIiAvPjwvYT4nKQoJCQkJLmNzcyh7CgkJCQkJJ2ZvbnQtc2l6ZSc6IDAsCgkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCgkJCQkJcmlnaHQ6IDAsCgkJCQkJYm90dG9tOiAwCgkJCQl9KQoJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkVzcGlvbm5hZ2UiKSkKCQkJCS5hdHRyKCJfZGVzYyIsIE1haW4uay50ZXh0LmdldHRleHQoIjxwPlZvdXMgw6p0ZXMgZGFucyBsYSBtw6ptZSBwacOoY2UgcXVlIGNldHRlIHBlcnNvbm5lIDsgdm91cyBwb3V2ZXogZG9uYyBsJ2V4YW1pbmVyIGRlIHBsdXMgcHLDqHMuPC9wPjxwPjxzdHJvbmc+Q2xpcXVleiBpY2kgcG91ciBlbnJlZ2lzdHJlciBsZXMgY29tcMOpdGVuY2VzIHZpc2libGVzLCBzdGF0dXRzIHB1YmxpcXVlcyBldCB0aXRyZXMgZGUgY2UgcGVyc29ubmFnZS48L3N0cm9uZz48L3A+IikpCgkJCQkuZGF0YSgnZGV2X3N1cm5hbWUnLGJ1YmJsZSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCS5jbGljayhmdW5jdGlvbihlKXsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJdmFyIGRldl9zdXJuYW1lID0gJCh0aGlzKS5kYXRhKCdkZXZfc3VybmFtZScpOwoJCQkJCU1haW4uay5Qcm9maWxlcy5zZXQoZGV2X3N1cm5hbWUpOwoJCQkJCU1haW4uay5Qcm9maWxlcy5kaXNwbGF5KGRldl9zdXJuYW1lKTsKCQkJCX0pOwoKCgkJCXZhciBzdGF0dXNlcyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImljb25zIHN0YXR1c2VzIik7CgkJCWlmIChoZXJvLnN0YXR1c2VzKSB7CgkJCQl2YXIgJF9zdGF0dXNlcyA9IGhlcm8uc3RhdHVzZXMuaXRlcmF0b3IoKTsKCQkJCXdoaWxlKCAkX3N0YXR1c2VzLmhhc05leHQoKSApIHsKCQkJCQlkaXNwbGF5ID0gdHJ1ZTsKCQkJCQkvKiogQHR5cGUge3tpbWc6c3RyaW5nLGRlc2M6c3RyaW5nfX0gKiovCgkJCQkJdmFyIHN0YXR1cyA9ICRfc3RhdHVzZXMubmV4dCgpOwoKCQkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3VpL3N0YXR1cy8iICsgc3RhdHVzLmltZyArICIucG5nIikKCQkJCQkuYXR0cigiaGVpZ2h0IiwgIjE0IikuYXR0cigiYWx0Iiwgc3RhdHVzLmltZykKCQkJCQkuYXR0cigiX3RpdGxlIiwgc3RhdHVzLm5hbWUpCgkJCQkJLmF0dHIoIl9kZXNjIiwgc3RhdHVzLmRlc2MpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkuYXBwZW5kVG8oc3RhdHVzZXMpOwoJCQkJfQoJCQl9CgkJCWlmIChoZXJvLnNwb3JlcykgewoJCQkJdmFyICRzcG9yZXMgPSAkKCc8ZGl2PicpCgkJCQkJLmNzcyh7CgkJCQkJCXBvc2l0aW9uOiAncmVsYXRpdmUnLAoJCQkJCQlkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKCQkJCQkJJ21hcmdpbi1sZWZ0JzogJzJweCcsCgkJCQkJCXRvcDogJzJweCcKCQkJCQl9KQoJCQkJCS5hcHBlbmRUbyhzdGF0dXNlcyk7CgoJCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCAiL2ltZy9pY29ucy91aS9zcG9yZS5wbmciKQoJCQkJCS5hdHRyKCJoZWlnaHQiLCAiMTYiKS5hdHRyKCJhbHQiLCBoZXJvLnNwb3Jlcy5uYW1lKQoJCQkJCS5hdHRyKCJfdGl0bGUiLCBoZXJvLnNwb3Jlcy5uYW1lKQoJCQkJCS5hdHRyKCJfZGVzYyIsIGhlcm8uc3BvcmVzLmRlc2MpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkuYXBwZW5kVG8oJHNwb3Jlcyk7CgoJCQkJJCgnPHNwYW4+JykKCQkJCQkudGV4dChoZXJvLnNwb3Jlcy5uYikKCQkJCQkuY3NzKHsKCQkJCQkJJ2ZvbnQtc2l6ZSc6ICIxMHB4IiwKCQkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCgkJCQkJCWxlZnQ6ICc0cHgnLAoJCQkJCQl0b3A6ICczcHgnLAoJCQkJCQlvcGFjaXR5OiAwLjcsCgkJCQkJCSdwb2ludGVyLWV2ZW50cyc6ICdub25lJwoKCQkJCQl9KQoJCQkJCS5hcHBlbmRUbygkc3BvcmVzKTsKCQkJfQoKCQkJdmFyIHNraWxscyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImljb25zIHNraWxscyIpOwoJCQlpZiAoaGVyby5za2lsbHMpIHsKCQkJCXZhciAkX3NraWxscyA9IGhlcm8uc2tpbGxzLml0ZXJhdG9yKCk7CgkJCQl3aGlsZSggJF9za2lsbHMuaGFzTmV4dCgpICkgewoJCQkJCWRpc3BsYXkgPSB0cnVlOwoJCQkJCXZhciBza2lsbCA9ICRfc2tpbGxzLm5leHQoKTsKCQkJCQl2YXIgc2tpbGxkb20gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcygic2tpbGwiKS5hcHBlbmRUbyhza2lsbHMpOwoKCQkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsICIvaW1nL2ljb25zL3NraWxscy8iICsgc2tpbGwuaW1nICsgIi5wbmciKQoJCQkJCS5hdHRyKCJoZWlnaHQiLCAiMTkiKS5hdHRyKCJhbHQiLCBza2lsbC5pbWcpCgkJCQkJLmF0dHIoIl90aXRsZSIsIHNraWxsLm5hbWUpCgkJCQkJLmF0dHIoIl9kZXNjIiwgc2tpbGwuZGVzYyArIChNYWluLmsuY29tcEluYWN0aXZlTXVzaFtza2lsbC5pbWddID8gIjxwPjxzdHJvbmc+IitNYWluLmsudGV4dC5nZXR0ZXh0KCJDb21ww6l0ZW5jZSBpbmFjdGl2ZSBtdXNoIikrIjwvc3Ryb25nPjwvcD4iIDogIiIpKQoJCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCQkJLmFwcGVuZFRvKHNraWxsZG9tKTsKCgkJCQkJaWYgKE1haW4uay5jb21wSW5hY3RpdmVNdXNoW3NraWxsLmltZ10pIHsKCQkJCQkJJCgiPGltZz4iKS5hdHRyKCJzcmMiLCBNYWluLmsuc2VydnVybCArICIvaW1nL25vbi1tdXNoLnBuZyIpLmFkZENsYXNzKCJhY3RtdXNoIikKCQkJCQkJLmF0dHIoIndpZHRoIiwgIjEwIikuYXR0cigiaGVpZ2h0IiwgIjEwIikKCQkJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkNvbXDDqXRlbmNlIGluYWN0aXZlIG11c2giKSkKCQkJCQkJLmF0dHIoIl9kZXNjIiwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ2V0dGUgY29tcMOpdGVuY2UgZXN0IGluYWN0aXZlIHF1YW5kIG9uIGVzdCBtdXNoIChzb3VyY2UgOiBUd2lucGVkaWEpLiIpKQoJCQkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkJLmFwcGVuZFRvKHNraWxsZG9tKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCXZhciB0aXRsZXMgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJ0aXRsZXMiKTsKCQkJaWYgKGhlcm8udGl0bGVzKSB7CgkJCQl2YXIgJF90aXRsZXMgPSBoZXJvLnRpdGxlcy5pdGVyYXRvcigpOwoJCQkJd2hpbGUoICRfdGl0bGVzLmhhc05leHQoKSApIHsKCQkJCQl2YXIgdGl0bGUgPSAkX3RpdGxlcy5uZXh0KCk7CgoJCQkJCSQoIjxpbWc+IikuYXR0cigic3JjIiwgIi9pbWcvaWNvbnMvdWkvIiArIHRpdGxlLmltZyArICIucG5nIikKCQkJCQkuYXR0cigiYWx0IiwgdGl0bGUuaW1nKQoJCQkJCS5hdHRyKCJfdGl0bGUiLCB0aXRsZS5uYW1lKQoJCQkJCS5hdHRyKCJfZGVzYyIsIHRpdGxlLmRlc2MpCgkJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCkKCQkJCQkuYXBwZW5kVG8odGl0bGVzKTsKCQkJCX0KCQkJfQoJCQl2YXIgaGVyb0RpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImhlcm8iKS5hcHBlbmRUbyhoZXJvZXNfbGlzdCk7CgkJCSQoIjxpbWc+IikKCQkJCS5hZGRDbGFzcygiYm9keSAiICsgYnViYmxlKQoJCQkJLmF0dHIoInNyYyIsICIvaW1nL2Rlc2lnbi9waXhlbC5naWYiKQoJCQkJLmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKQoJCQkJLmF0dHIoImRhdGEtZGV2X3N1cm5hbWUiLCBoZXJvLmRldl9zdXJuYW1lKQoJCQkJLmFkZEhlcm9EZXNjVG9vbFRpcChoZXJvLmRldl9zdXJuYW1lKQoJCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWNvbnNvbGUud2FybigkKHRoaXMpLmF0dHIoImRhdGEtZGV2X3N1cm5hbWUiKSk7CgkJCQkJTWFpbi5rLlByb2ZpbGVzLmRpc3BsYXkoJCh0aGlzKS5hdHRyKCJkYXRhLWRldl9zdXJuYW1lIikpOwoJCQkJfSkKCQkJCS5hcHBlbmRUbyhoZXJvRGl2KTsKCgkJCWhlcm9EaXYuYXBwZW5kKHNraWxscyk7CgkJCWhlcm9EaXYuYXBwZW5kKHN0YXR1c2VzKTsKCQkJaGVyb0Rpdi5hcHBlbmQodGl0bGVzKTsKCQkJaGVyb0Rpdi5hcHBlbmQoJHNhdmUpOwoKCQl9CgkJdmFyIGNyZXdfbGlzdCA9ICQoIiNjcmV3X2xpc3QiKS5lbXB0eSgpOwoJCS8vIERpc3BsYXkgYWxsIGhlcm9lcwoJCXZhciBtaXNzaW5nRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygibWlzc2luZ2hlcm9lcyIpLmFwcGVuZFRvKGNyZXdfbGlzdCk7CgkJaj0wOwoJCXZhciAkZGl2X2hlcm87CgkJdmFyIGFfZGl2c19oZXJvZXMgPSB7CgkJCSdhbGl2ZSc6IFtdLAoJCQknaW5hY3RpdmUnOiBbXSwKCQkJJ2RlYWQnOiBbXQoJCX07CgkJdmFyIGluYWN0aXZlX3N0YXR1czsKCQlmb3IgKGk9MDsgaTxNYWluLmsuSEVST0VTLmxlbmd0aDsgaSsrKSB7CgkJCQlpbmFjdGl2ZV9zdGF0dXMgPSBudWxsOwoJCQkJdmFyIGhlcm8gPSBNYWluLmsuSEVST0VTW2ldOwoJCQkJaWYoaGVybyA9PSBNYWluLmsub3duSGVybyl7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCQl2YXIgaCA9IE1haW4uay5oW2hlcm9dOwoJCQkJaWYgKGogJSA1ID09IDApICQoIjxici8+IikuYXBwZW5kVG8obWlzc2luZ0Rpdik7CgkJCQlqKys7CgkJCQlidWJibGUgPSBoZXJvLnJlcGxhY2UoLyhccykvZywgIl8iKS50b0xvd2VyQ2FzZSgpOwoJCQkJb19oZXJvID0gTWFpbi5rLlByb2ZpbGVzLmdldChoZXJvKTsKCQkJCSRkaXZfaGVybyA9ICQoJzxkaXY+JykuY3NzKHsKCQkJCQkJZGlzcGxheTogJ2lubGluZS1ibG9jaycsCgkJCQkJCXBvc2l0aW9uOiAncmVsYXRpdmUnCgkJCQkJfSkKCQkJCQkuYXBwZW5kKAoJCQkJCQkkKCI8aW1nPiIpLmFkZENsYXNzKCJib2R5ICIgKyBidWJibGUpCgkJCQkJCQkuYXR0cigic3JjIiwgIi9pbWcvZGVzaWduL3BpeGVsLmdpZiIpCgkJCQkJCQkuY3NzKCJjdXJzb3IiLCAicG9pbnRlciIpCgkJCQkJCQkuYWRkSGVyb0Rlc2NUb29sVGlwKGhlcm8pCgkJCQkJCQkuZGF0YSgnZGV2X3N1cm5hbWUnLGhlcm8pCgkJCQkJCQkub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewoJCQkJCQkJCU1haW4uay5Qcm9maWxlcy5kaXNwbGF5KCQodGhpcykuZGF0YSgnZGV2X3N1cm5hbWUnKSk7CgkJCQkJCQl9KQoJCQkJCSk7CgkJCQlpZihvX2hlcm8uZGVhZCA9PSB0cnVlKXsKCQkJCQlhX2RpdnNfaGVyb2VzWydkZWFkJ10ucHVzaCgkZGl2X2hlcm8pOwoJCQkJCSQoJzxpbWc+JykuYXR0cih7CgkJCQkJCQlzcmM6ICcvaW1nL2ljb25zL3VpL2RlYWQucG5nJwoJCQkJCQl9KQoJCQkJCQkuY3NzKHsKCQkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQkJYm90dG9tOiAnLTZweCcsCgkJCQkJCQlyaWdodDogJy0ycHgnLAoJCQkJCQkJJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnCgkJCQkJCX0pCgkJCQkJCS5hcHBlbmRUbygkZGl2X2hlcm8pOwoJCQkJfWVsc2UgewoJCQkJCWlmKE1haW4uay5Qcm9maWxlcy5oYXNBdHRyKG9faGVybywnc3RhdHVzZXMnLE1haW4uay5zdGF0dXNlc1snbXVzaCddWydpbWcnXSkpewoJCQkJCQkkKCc8aW1nPicpLmF0dHIoewoJCQkJCQkJc3JjOiAnL2ltZy9pY29ucy91aS9tdXNoLnBuZycKCQkJCQkJfSkKCQkJCQkJCS5jc3MoewoJCQkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQkJCWJvdHRvbTogJy02cHgnLAoJCQkJCQkJCXJpZ2h0OiAnLTJweCcsCgkJCQkJCQkJJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnCgkJCQkJCQl9KQoJCQkJCQkJLmFwcGVuZFRvKCRkaXZfaGVybyk7CgkJCQkJfQoJCQkJCWZvciggdmFyIGluYyA9IDA7IGluYyA8IG9faGVyby5zdGF0dXNlcy5sZW5ndGg7IGluYyArKyl7CgkJCQkJCS8qKiBAdHlwZSB7e2Rlc2M6c3RyaW5nLGltZzpzdHJpbmcsIG5hbWU6c3RyaW5nfX0gKiovCgkJCQkJCXN0YXR1cyA9IG9faGVyby5zdGF0dXNlc1tpbmNdOwoJCQkJCQlpZihzdGF0dXMuaW1nKQoJCQkJCQkJaWYoJC5pbkFycmF5KHN0YXR1cy5pbWcsWydzbGVlcHknLCdub29iJ10pICE9IC0xKXsKCQkJCQkJCQlpbmFjdGl2ZV9zdGF0dXMgPSBzdGF0dXMuaW1nOwoJCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAoaW5hY3RpdmVfc3RhdHVzICE9IG51bGwpIHsKCQkJCQkJYV9kaXZzX2hlcm9lc1snaW5hY3RpdmUnXS5wdXNoKCRkaXZfaGVybyk7CgkJCQkJCSQoJzxpbWc+JykuYXR0cih7CgkJCQkJCQlzcmM6ICcvaW1nL2ljb25zL3VpLycgKyBpbmFjdGl2ZV9zdGF0dXMgKyAnLnBuZycKCQkJCQkJfSkKCQkJCQkJCS5jc3MoewoJCQkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQkJCWJvdHRvbTogJy02cHgnLAoJCQkJCQkJCXJpZ2h0OiAnLTJweCcsCgkJCQkJCQkJJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnCgkJCQkJCQl9KQoJCQkJCQkJLmFwcGVuZFRvKCRkaXZfaGVybyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJYV9kaXZzX2hlcm9lc1snYWxpdmUnXS5wdXNoKCRkaXZfaGVybyk7CgkJCQkJfQoJCQkJfQoJCX0KCQkkLmVhY2goYV9kaXZzX2hlcm9lcyxmdW5jdGlvbihrLGEpewoJCQkkLmVhY2goYSwgZnVuY3Rpb24oa2V5LCRkaXYpewoJCQkJbWlzc2luZ0Rpdi5hcHBlbmQoJGRpdik7CgkJCX0pOwoKCQl9KTsKCQl2YXIgY3J5b190YWJsZSA9ICQoJy53aGF0X2hhcHBlbmVkIC50YWJsZScpLmZpcnN0KCk7CgkJaWYoY3J5b190YWJsZS5sZW5ndGggPiAwICYmIGNyeW9fdGFibGUuZmluZCgnLmN0cmx3LXNhdmUtY3J5bycpLmxlbmd0aCA9PSAwKXsKCQkJY3J5b190YWJsZS5maW5kKCd0cicpLmxhc3QoKS5hZnRlcignPHRyPjx0ZCBjb2xzcGFuPSIyIiBjbGFzcz0iY3RybHctc2F2ZS1jcnlvIiBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWwiPjwvdGQ+PC90cj4nKTsKCQkJLyogVHJhbnNsYXRvcnM6IFRleHQgZm9yIENyeW9nZW5pemVkIHBlb3BsZSBmcm9tIENyeW9Nb2R1bGUgIFVzZWxlc3MgdG8gdHJhbnNsYXRlIGluIEVuZ2xpc2gqLwoJCQlpZihjcnlvX3RhYmxlLmZpbmQoJzpjb250YWlucygiJytNYWluLmsudGV4dC5nZXR0ZXh0KCJDcnlvIikrJyIpJykubGVuZ3RoID4gMCl7CgkJCQljcnlvX3RhYmxlLmZpbmQoJy5jdHJsdy1zYXZlLWNyeW8nKS5hcHBlbmQoTWFpbi5rLnRleHQuZ2V0dGV4dCgiVG91dCBsZSBtb25kZSBkb2l0IMOqdHJlIGTDqWNyeW9nw6luaXPDqSBwb3VyIHBvdXZvaXIgbWV0dHJlIMOgIGpvdXIgbGEgbGlzdGUgZCfDqXF1aXBhZ2UiKSk7CgkJCX1lbHNlewoJCQkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL25vdGVzLmdpZicgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJNZXR0cmUgw6Agam91ciBsYSBsaXN0ZSBkJ8OpcXVpcGFnZSIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJNZXR0cmUgw6Agam91ciBsYSBsaXN0ZSBkJ8OpcXVpcGFnZSIpLE1haW4uay50ZXh0LmdldHRleHQoIkNsaXF1ZXIgaWNpIHBvdXIgbWV0dHJlIMOgIGpvdXIgbGEgbGlzdGUgZCfDqXF1aXBhZ2UgZGUgQ1RSTCtXIikKCQkJCSkuYXBwZW5kVG8oY3J5b190YWJsZS5maW5kKCcuY3RybHctc2F2ZS1jcnlvJykpCgkJCQkuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHRkcyxidWJibGUsc3RhdHVzLGFkZF9ib29sOwoJCQkJCXZhciBoZXJvZXNfbGlzdCA9IFtdOwoJCQkJCXZhciBzdGF0dXNfdG9fc3RyID0gewoJCQkJCQkvKiBUcmFuc2xhdG9yczogVGV4dCBmb3IgaWRsZSBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlLiBSZWdleCBhbGxvd2VkKi8KCQkJCQkJJ2luYWN0aXZlJzogTWFpbi5rLnRleHQuZ2V0dGV4dCgnSW5hY3RpdmUnKSwKCQkJCQkJLyogVHJhbnNsYXRvcnM6IFRleHQgZm9yIGF3YWtlIHBlb3BsZSBmcm9tIENyeW9Nb2R1bGUuIFJlZ2V4IGFsbG93ZWQqLwoJCQkJCQknYXdha2UnIDogTWFpbi5rLnRleHQuZ2V0dGV4dCgnRXZlaWxsw6llPycpLAoJCQkJCQkvKiBUcmFuc2xhdG9yczogVGV4dCBmb3IgZGVhZCBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlLiBSZWdleCBhbGxvd2VkKi8KCQkJCQkJJ2RlYWQnIDogIE1haW4uay50ZXh0LmdldHRleHQoJ01vcnRlPycpLy9EZWFkCgkJCQkJfTsKCQkJCQljb25zb2xlLmluZm8oJ3N0YXR1c190b19zdHInLHN0YXR1c190b19zdHIpOwoJCQkJCWNyeW9fdGFibGUuZmluZCgndHInKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCXRkcyA9ICQodGhpcykuZmluZCgndGQnKTsKCQkJCQkJaWYodGRzLmxlbmd0aCA9PSAyKXsKCQkJCQkJCXN0YXR1cyA9IG51bGw7CgkJCQkJCQlidWJibGUgPSBNYWluLmsuc3VybmFtZVRvQnViYmxlKHRkcy5maXJzdCgpLnRleHQoKS50cmltKCkpOwoJCQkJCQkJJC5lYWNoKHN0YXR1c190b19zdHIsZnVuY3Rpb24oa2V5LHJlZ2V4KXsKCQkJCQkJCQlyZWdleCA9IG5ldyBSZWdFeHAocmVnZXgpOwoJCQkJCQkJCWlmKHJlZ2V4LmV4ZWModGRzLmxhc3QoKS50ZXh0KCkudHJpbSgpKSAhPSBudWxsKXsKCQkJCQkJCQkJc3RhdHVzID0ga2V5OwoJCQkJCQkJCX0KCQkJCQkJCX0pOwoJCQkJCQkJaWYoc3RhdHVzID09IG51bGwpewoJCQkJCQkJCWNvbnNvbGUuZXJyb3IoJ1N0YXR1dCBpbmNvbm51IDonLCB0ZHMubGFzdCgpLnRleHQoKS50cmltKCkpOwoJCQkJCQkJCXJldHVybiB0cnVlOwoJCQkJCQkJfQoJCQkJCQkJY29uc29sZS5sb2coYnViYmxlLHN0YXR1cyk7CgkJCQkJCQloZXJvZXNfbGlzdC5wdXNoKGJ1YmJsZSk7CgkJCQkJCQlwcm9maWxlID0gTWFpbi5rLlByb2ZpbGVzLmdldChidWJibGUpOwoJCQkJCQkJaWYoc3RhdHVzID09ICdpbmFjdGl2ZScpewoJCQkJCQkJCWFkZF9ib29sID0gdHJ1ZQoJCQkJCQkJCSQuZWFjaChwcm9maWxlLnN0YXR1c2VzLGZ1bmN0aW9uKGluZGV4LHN0YXR1cyl7CgkJCQkJCQkJCWlmKHN0YXR1cy5pbWcgPT0gInNsZWVweSIpewoJCQkJCQkJCQkJYWRkX2Jvb2wgPSBmYWxzZTsKCQkJCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmKGFkZF9ib29sKXsKCQkJCQkJCQkJcHJvZmlsZS5zdGF0dXNlcy5wdXNoKE1haW4uay5zdGF0dXNlc1snaW5hY3RpdmUnXSk7CgkJCQkJCQkJfQoJCQkJCQkJCXByb2ZpbGUuZGVhZCA9IGZhbHNlOwoJCQkJCQkJfWVsc2UgaWYgKHN0YXR1cyA9PSAnYXdha2UnKXsKCQkJCQkJCQlwcm9maWxlLmRlYWQgPSBmYWxzZTsKCQkJCQkJCQkkLmVhY2gocHJvZmlsZS5zdGF0dXNlcyxmdW5jdGlvbihpbmRleCxjdXJyZW50X3N0YXR1cyl7CgkJCQkJCQkJCWlmKGN1cnJlbnRfc3RhdHVzLmltZyA9PSAic2xlZXB5Iil7CgkJCQkJCQkJCQljb25zb2xlLmxvZygnaXMgc2xlZXB5Jyk7CgkJCQkJCQkJCQlwcm9maWxlID0gTWFpbi5rLlByb2ZpbGVzLnJlbW92ZUF0dHJGcm9tUHJvZmlsZShwcm9maWxlLCdzdGF0dXNlcycsTWFpbi5rLnN0YXR1c2VzWydpbmFjdGl2ZSddWydpbWcnXSk7CgkJCQkJCQkJCQlwcm9maWxlID0gTWFpbi5rLlByb2ZpbGVzLnJlbW92ZUF0dHJGcm9tUHJvZmlsZShwcm9maWxlLCdzdGF0dXNlcycsTWFpbi5rLnN0YXR1c2VzWydoaW5hY3RpdmUnXVsnaW1nJ10pOwoJCQkJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSk7CgkJCQkJCQl9ZWxzZSBpZihzdGF0dXMgPT0gJ2RlYWQnKXsKCQkJCQkJCQlwcm9maWxlLmRlYWQgPSB0cnVlOwoJCQkJCQkJfQoJCQkJCQkJTWFpbi5rLlByb2ZpbGVzLnNldChwcm9maWxlLGZhbHNlKTsKCgkJCQkJCX0KCQkJCQl9KTsKCQkJCQkvKiogVG8gZGV0ZWN0IGNyZXcgbGlzdCB1cGRhdGUgKiovCgkJCQkJTWFpbi5rLkhFUk9FUyA9IE1haW4uay5IRVJPRVNfQUxMLnNsaWNlKCk7CgkJCQkJTWFpbi5rLkdhbWVJbmZvcy5kYXRhLmhlcm9lc19saXN0ID0gaGVyb2VzX2xpc3Q7CgkJCQkJTWFpbi5rLkdhbWVJbmZvcy5zYXZlKCk7CgkJCQkJTWFpbi5rLlByb2ZpbGVzLnNhdmUoKTsKCQkJCQlNYWluLmsuTXVzaFVwZGF0ZSgpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pOwoJCQl9CgoJCX0KCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoKCgkJLy8gRXhwbG9yYXRpb24KCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoJCXZhciBleHBsb3JpbmcgPSAkKCIuZXhwbG9yaW5nIC5leHBsb3JpbmcyIik7CgkJJCgiI2V4cGJsb2NrIikuZW1wdHkoKTsKCQlpZiAoZXhwbG9yaW5nLmxlbmd0aCA+IDApIHsKCQkJdCA9ICQoIjxoMz4iKS5odG1sKCJFeHBsb3JhdGlvbiIpLmFwcGVuZFRvKCIjZXhwYmxvY2siKTsKCQkJJCgiPHNwYW4+IikuYWRkQ2xhc3MoImRpc3BsYXlsZXNzIikuYXR0cigiX3RhcmdldCIsICIjZXhwYmxvY2tkaXYiKS5hcHBlbmRUbyh0KS5vbigiY2xpY2siLCBNYWluLmsuVG9nZ2xlRGlzcGxheSk7CgkJCXZhciBleHBibG9jayA9ICQoIjxkaXY+IikuYXR0cigiaWQiLCAiZXhwYmxvY2tkaXYiKS5hcHBlbmRUbygiI2V4cGJsb2NrIik7CgoJCQlpID0gMDsKCQkJdmFyIHBsYW5ldG5hbWUgPSAiIjsKCQkJdmFyIGJhY2sgPSAiIjsKCQkJZXhwbG9yaW5nLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciBsaSA9ICQodGhpcykuY2xvbmUoKTsKCQkJCWxpLmZpbmQoInNwYW4iKS5yZW1vdmUoKTsKCQkJCXZhciBpbWdzcmMgPSAiIjsKCgkJCQkvL25vaW5zcGVjdGlvbiBGYWxsVGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlMKCQkJCXN3aXRjaChpKSB7CgkJCQkJY2FzZSAxOgoJCQkJCQl2YXIgcGxheWVycyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoIm1pc3NpbmdoZXJvZXMiKS5hcHBlbmRUbyhleHBibG9jayk7CgkJCQkJCXZhciBwID0gbGkuaHRtbCgpLnNwbGl0KCIsIik7CgkJCQkJCWZvciAodmFyIGo9MDsgajxwLmxlbmd0aDsgaisrKSB7CgkJCQkJCQl2YXIgaGVybyA9IHBbal0udHJpbSgpOwoJCQkJCQkJdmFyIGJ1YmJsZSA9IGhlcm8ucmVwbGFjZSgvKFxzKS9nLCAiXyIpLnRvTG93ZXJDYXNlKCk7CgkJCQkJCQl2YXIgaCA9IE1haW4uay5oW2J1YmJsZV07CgoJCQkJCQkJJCgiPGltZz4iKS5hZGRDbGFzcygiYm9keSAiICsgYnViYmxlKQoJCQkJCQkJLmF0dHIoInNyYyIsICIvaW1nL2Rlc2lnbi9waXhlbC5naWYiKQoJCQkJCQkJLmF0dHIoIl90aXRsZSIsIGhlcm8pCgkJCQkJCQkuYXR0cigiX2Rlc2MiLCBoLnNob3J0X2Rlc2MpCgkJCQkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApCgkJCQkJCQkuYXBwZW5kVG8ocGxheWVycyk7CgkJCQkJCX0KCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgMDoKCQkJCQkJaW1nc3JjID0gInBsYW5ldCI7CgkJCQkJY2FzZSAyOgoJCQkJCQlpZiAoaW1nc3JjID09ICIiKSBpbWdzcmMgPSAiY2FzaW8iOwoJCQkJCQkkKCI8cD4iKS5jc3MoewoJCQkJCQkJY29sb3I6ICIjREREIiwKCQkJCQkJCSJmb250LXNpemUiOiAiMTJweCIsCgkJCQkJCQltYXJnaW46ICItNnB4IDAgMCIsCgkJCQkJCQkidGV4dC1hbGlnbiI6ICJjZW50ZXIiCgkJCQkJCX0pLmh0bWwoIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpLyIgKyBpbWdzcmMgKyAiLnBuZycgLz4gIiArIGxpLmh0bWwoKS50cmltKCkpLmFwcGVuZFRvKGV4cGJsb2NrKQoJCQkJCQkuZmluZCgiaW1nIikuY3NzKHsKCQkJCQkJCXBvc2l0aW9uOiAicmVsYXRpdmUiLAoJCQkJCQkJdG9wOiAiNHB4IgoJCQkJCQl9KTsKCQkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJaSsrOwoJCQl9KTsKCQl9CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgoJCS8vIEludmVudG9yeQoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgkJdmFyIGhhc1BsYW50cyA9IGZhbHNlOwoJCXZhciBoYXNQaGFybWEgPSBmYWxzZTsKCQl2YXIgbXdpZHRoID0gMTIwOyAvLyQoIi51c0xlZnRiYXIiKS53aWR0aCgpOwoJCS8vJCgiI3Jvb20iKS5hZGRDbGFzcygicm9vbWludmVudG9yeSIpOyAvLyBOZXcgY2xhc3MgdXNlZCBmb3IgY2FuY2VsU2VsZWN0aW9uCgkJJCgiLmtvYmplY3RfbGlzdCIpLmVtcHR5KCk7CgkJdmFyICRyb29tID0gJCgiI3Jvb20iKTsKCQlpZiAoJHJvb20uZmluZCgiW2RhdGEtaWQ9J1RSRUVfUE9UJ10iKS5zaXplKCkpIGhhc1BsYW50cyA9IHRydWU7CgkJJHJvb20uZmluZCgibGkiKS5ub3QoIi5jZEVtcHR5U2xvdCIpLm5vdCgiW2RhdGEtaWQ9J1RSRUVfUE9UJ10iKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoJCQl2YXIgbGkgPSAkKCI8bGk+IikKCQkJCS5hZGRDbGFzcygiaXRlbSBmYWtlaXRlbSIpCgkJCQkuYXR0cigic2VyaWFsX2Zha2UiLCAkKHRoaXMpLmF0dHIoInNlcmlhbCIpKQoJCQkJLmF0dHIoImRhdGEtbmFtZSIsICQodGhpcykuYXR0cigiZGF0YS1uYW1lIikpCgkJCQkuYXR0cigiZGF0YS1pZCIsICJUUkVFX1BPVCIpCgkJCQkuY3NzKCJsaXN0LXN0eWxlLXR5cGUiLCAibm9uZSIpCgkJCQkuaHRtbCgkKHRoaXMpLmh0bWwoKSkKCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpZighJCgnI2NkSW52ZW50b3J5JykuaGFzQ2xhc3MoJ3BsYWNhcmRfb24nKSl7CgkJCQkJCU1haW4uY2xvc2V0LnNob3coKTsKCQkJCQl9CgkJCQkJJCh0aGlzKS5zaWJsaW5ncygpLmZpbmQoJy5zZWxlY3RlZCcpLnJlbW92ZSgpOwoJCQkJCSQodGhpcykucHJlcGVuZCgnPGRpdiBjbGFzcz0ic2VsZWN0ZWQiPjwvZGl2PicpOwoJCQkJCW11c2hfanF1ZXJ5KCdbc2VyaWFsPSInKyR0aGlzLmF0dHIoJ3NlcmlhbCcpKyciXScpLnRyaWdnZXIoJ2NsaWNrJykgOwoJCQkJfSkKCQkJCS5hcHBlbmRUbygiLmtvYmplY3RfbGlzdCIpCgkJCQkuZmluZCgidGQiKQoJCQkJLmF0dHIoIl90aXRsZSIsICQodGhpcykuYXR0cigiZGF0YS1uYW1lIikuc3BsaXQoIlxcJyIpLmpvaW4oIiciKSkKCQkJCS5hdHRyKCJfZGVzYyIsICQodGhpcykuYXR0cigiZGF0YS1kZXNjIikuc3BsaXQoIlxcJyIpLmpvaW4oIiciKSkKCQkJCS5vbigibW91c2VvdmVyIiwgTWFpbi5rLkN1c3RvbVRpcCkKCQkJCS5vbigibW91c2VvdXQiLCBNYWluLmsuaGlkZVRpcCk7CgoJCQkvLyBMb2FkcwoJCQl2YXIgbmFtZSA9ICQodGhpcykuYXR0cigiZGF0YS1uYW1lIik7CgkJCXZhciByZWcgPSAvXC8+eChbMC05XSspJC87CgkJCWlmIChyZWcudGVzdChuYW1lKSkgewoJCQkJdmFyIGNoYXJnZXMgPSByZWcuZXhlYyhuYW1lKVsxXTsKCQkJCSQoIjxzcGFuPiIpCgkJCQkJLmFkZENsYXNzKCJjaGFyZ2VzIikKCQkJCQkuaHRtbCgieCIgKyBjaGFyZ2VzKQoJCQkJCS5hcHBlbmRUbyhsaS5maW5kKCJ0ciIpKTsKCQkJfQoKCQkJLy8gQnJva2VuPwoJCQl2YXIgYnJva2VuID0gIi9pbWcvaWNvbnMvdWkvYnJva2VuLnBuZyI7CgkJCWlmIChuYW1lLmluZGV4T2YoYnJva2VuKSA+IC0xKSB7CgkJCQkkKCI8aW1nPiIpLmF0dHIoInNyYyIsIGJyb2tlbikuYWRkQ2xhc3MoImJyb2tlbiIpLmFwcGVuZFRvKGxpLmZpbmQoInRyIikpOwoJCQl9CgkJCS8vIFBoYXJtYT8KCQkJaWYgKCQodGhpcykuYXR0cigiZGF0YS1kZXNjIikuaW5kZXhPZigiRWZmZXRzIikgIT0gLTEgfHwgJCh0aGlzKS5kYXRhKCdpZCcpID09ICdDT05TVU1BQkxFJykgaGFzUGhhcm1hID0gdHJ1ZTsKCQl9KTsKCQkkKCIudXNMZWZ0YmFyIC5pbnZlbnRvcnkiKS5jc3MoIm1heC13aWR0aCIsIG13aWR0aCArICJweCIpLmNzcygibWFyZ2luLWxlZnQiLCAiMHB4Iik7CgkJLy8gUGhhcm1hCgkJJCgiI3BoYXJtYXNoYXJlIikuY3NzKCJkaXNwbGF5IiwgIWhhc1BoYXJtYSA/ICJub25lIiA6ICJibG9jayIpOwoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoKCQkvLyBMYWIgLSBOZXh1cyAtIFBpbGdyZWQgLSBQbGFudHMgLSBQbGFuZXRzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQl2YXIgcHJvamVjdF9saXN0ID0gJCgiI3Byb2plY3RfbGlzdCIpLmVtcHR5KCk7CgkJdmFyICRjZE1vZHVsZUNvbnRlbnQgPSAkKCIjY2RNb2R1bGVDb250ZW50Iik7CgkJdmFyIHByb2plY3RzID0gJGNkTW9kdWxlQ29udGVudC5maW5kKCJ1bC5kZXYgbGkuY2RQcm9qQ2FyZCIpOwoJCXZhciBwcm9qZWN0c2RpdjsKCQl2YXIgJHJlc2VhcmNoX21vZHVsZSA9ICQoIiNyZXNlYXJjaF9tb2R1bGUiKTsKCQl2YXIgcGF0dGNvcmUgPSBuZXcgUmVnRXhwKE1haW4uay50ZXh0LmdldHRleHQoIkNvZXVyIGRlIE5FUk9OIiksImkiKTsKCQkvLyBSZXNlYXJjaAoJCWlmICgkcmVzZWFyY2hfbW9kdWxlLmxlbmd0aCA+IDAgJiYgcHJvamVjdHMubGVuZ3RoID4gMCkgewoJCQl0ID0gJCgiPGgzPiIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiTGFib3JhdG9pcmUiKSkuYXBwZW5kVG8ocHJvamVjdF9saXN0KTsKCQkJJCgiPHNwYW4+IikuYWRkQ2xhc3MoImRpc3BsYXlsZXNzIikuYXR0cigiX3RhcmdldCIsICIjcHJvamVjdHNwcmV2aWV3IikKCQkJLm9uKCJjbGljayIsIE1haW4uay5Ub2dnbGVEaXNwbGF5KS5hcHBlbmRUbyh0KTsKCgkJCXByb2plY3RzZGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicHJvamVjdHNwcmV2aWV3IGxhYnByZXZpZXciKS5hdHRyKCJpZCIsICJwcm9qZWN0c3ByZXZpZXciKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpOwoJCQlwcm9qZWN0cy5lYWNoKGZ1bmN0aW9uKGkpIHsKCQkJCXZhciBwcm9qZWN0ZGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicHJvamVjdHByZXZpZXciKS5hcHBlbmRUbyhwcm9qZWN0c2Rpdik7CgoJCQkJLy8gUHJvamVjdCBjYXJkCgkJCQkkKCI8aW1nPiIpLmFkZENsYXNzKCJwcm9qZWN0aW1nIikKCQkJCS5hdHRyKCJzcmMiLCAkKHRoaXMpLmZpbmQoImltZy5kZXZjYXJkIikuYXR0cigic3JjIikpCgkJCQkuYXBwZW5kVG8ocHJvamVjdGRpdik7CgoJCQkJLy8gQ29tcGxldGlvbiAlCgkJCQkkKCI8ZGl2PiIpLmFkZENsYXNzKCJwcm9qZWN0cGN0IikKCQkJCS5odG1sKCQodGhpcykuZmluZCgic3BhbiIpLmh0bWwoKS50cmltKCkpCgkJCQkuYXBwZW5kVG8ocHJvamVjdGRpdik7CgoJCQkJLy8gQm9udXNlcwoJCQkJdmFyIHByb2plY3Rib251cyA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInByb2plY3Rib251cyIpLmFwcGVuZFRvKHByb2plY3RkaXYpOwoJCQkJJCh0aGlzKS5maW5kKCJkaXYuc3VnZ2VzdHByb2dyZXNzIHVsIGxpIGltZyIpLmVhY2goZnVuY3Rpb24oaSkgeyAkKHRoaXMpLmNsb25lKCkuYXBwZW5kVG8ocHJvamVjdGJvbnVzKTsgfSk7CgoJCQkJLy8gVG9vbHRpcAoJCQkJdmFyIGgzID0gJCh0aGlzKS5maW5kKCJoMyIpLmNsb25lKCk7CgkJCQloMy5maW5kKCJlbSIpLnJlbW92ZSgpOwoKCQkJCXByb2plY3RkaXYuYXR0cigiX3RpdGxlIiwgaDMuaHRtbCgpLnRyaW0oKSkKCQkJCS5hdHRyKCJfZGVzYyIsCgkJCQkJJCh0aGlzKS5maW5kKCJkaXYuZGVzYyIpLmh0bWwoKS50cmltKCkgKyAiPC9wPjxwPiIgKwoJCQkJCSQodGhpcykuZmluZCgicC5lZmZpY2FjaXR5IikuaHRtbCgpLnRyaW0oKQoJCQkJKQoJCQkJLm9uKCJtb3VzZW92ZXIiLCBNYWluLmsuQ3VzdG9tVGlwKQoJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCQkJfSk7CgoJCQkvLyBSZXNlYXJjaCBhY3Rpb25zCgkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9ndWlkZS5wbmcnIC8+ICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIiKSwgbnVsbCwgbnVsbCwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIgbGVzIHJlY2hlcmNoZXMiKSwKCQkJCU1haW4uay50ZXh0LmdldHRleHQoIjxwPkluc8OocmUgbGEgbGlzdGUgZGUgcmVjaGVyY2hlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+IiArCgkJCQkiPGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3DqWRlY2luPC9pPjwvbGk+IiArCgkJCQkiPGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3DqWRlY2luPC9pPjwvbGk+IiArCgkJCQkiPGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3DqWRlY2luPC9pPjwvbGk+PC9wPiIpCgkJCSkuYXBwZW5kVG8ocHJvamVjdF9saXN0KQoJCQkuZmluZCgiYSIpLmFkZENsYXNzKCJzaGFyZXJlc2VhcmNoYnRuIikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJCSQoJ3RleHRhcmVhOmZvY3VzJykuZWFjaChmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRSZXNlYXJjaCgpOwoJCQkJCSQodGhpcykuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJfSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoKCQkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3RhbGsuZ2lmJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIHYyIiksIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGxlcyByZWNoZXJjaGVzIiksCgkJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCI8cD5JbnPDqHJlIGxhIGxpc3RlIGRlIHJlY2hlcmNoZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPiIgKwoJCQkJCSI8bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPiIgKwoJCQkJCSI8bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPiIgKwoJCQkJCSI8bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPjwvcD4iKQoJCQkpLmFwcGVuZFRvKHByb2plY3RfbGlzdCkKCQkJCS5maW5kKCJhIikuYWRkQ2xhc3MoInNoYXJlcmVzZWFyY2hidG4iKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24oZSkgewoJCQkJCSQoJ3RleHRhcmVhOmZvY3VzJykuZWFjaChmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0UmVzZWFyY2godHJ1ZSk7CgkJCQkJCSQodGhpcykuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCX0pOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pOwoJCQkvKmNvbnNvbGUud2FybignaXRlbSByZXNlYXJjaCcsJHJlc2VhcmNoX21vZHVsZS5maW5kKCIgdWwuaW52ZW50b3J5IGxpLml0ZW0iKSk7CgkJCWNvbnNvbGUubG9nKCQoJy5oZXJvU2VyaWFsQWN0aW9ucyBkaXYnKS5sZW5ndGgpCgkJCSRyZXNlYXJjaF9tb2R1bGUuZmluZCgiIHVsLmludmVudG9yeSIpLmh0bWwoJCgnI3Jvb20nKS5odG1sKCkpOwoJCQl2YXIgJHJvb21BY3Rpb25zID0gJCgnLnJvb21JdGVtQWN0aW9ucycpLmNoaWxkcmVuKCkuY2xvbmUoKTsKCQkJY29uc29sZS5sb2coJCgnLnJvb21JdGVtQWN0aW9ucycpLmNoaWxkcmVuKCkubGVuZ3RoLCQoJy5yb29tSXRlbUFjdGlvbnMnKS5jaGlsZHJlbigpKTsKCQkJLy8kcm9vbUFjdGlvbnMuYXR0cignd2ViZGF0YScsJHJvb21BY3Rpb25zLmF0dHIoJ3NlcmlhbCcpKTsKCQkJJCgnLmhlcm9TZXJpYWxBY3Rpb25zJykuYXBwZW5kKCRyb29tQWN0aW9ucyk7CgkJCWNvbnNvbGUubG9nKCQoJy5oZXJvU2VyaWFsQWN0aW9ucyBkaXYnKS5sZW5ndGgpOyovCgkJCXZhciB0Z3QgPSAkKCIuY2RBY3Rpb25MaXN0Iik7CgkJCXZhciBzcmMgPSAkKCIuY2RBY3Rpb25SZXBvc2l0b3J5IC5oZXJvUm9vbUFjdGlvbnMiKS5jaGlsZHJlbigpLmNsb25lKCk7CgkJCXRndC5odG1sKHNyYyk7CgkJCSQoIi5jZEFjdGlvbkxpc3QgLm1vdmUiKS5oaWRlKCk7CgkJCW11c2hfanF1ZXJ5KCcjY2hhcl9jb2wgI215SW52ZW50b3J5ID4gbGknKS5yZW1vdmVBdHRyKCdvbmNsaWNrJyk7CgkJCSQoJyNjaGFyX2NvbCAjbXlJbnZlbnRvcnkgPiBsaScpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsKCQkJCU1haW4uay5DcmVhdGVOZXJvbkFsZXJ0KE1haW4uay50ZXh0LmdldHRleHQoIlZldWlsbGV6IHV0aWxpc2VyIGwnaW52ZW50YWlyZSBkdSBsYWJvIHMnaWwgdm91cyBwbGHDrnQiKSk7CgkJCX0pOwoJCQkkcmVzZWFyY2hfbW9kdWxlLmZpbmQoIiB1bC5pbnZlbnRvcnkgbGkuaXRlbSIpLm9mZignY2xpY2snKTsKCQkJJHJlc2VhcmNoX21vZHVsZS5maW5kKCIgdWwuaW52ZW50b3J5IGxpLml0ZW0iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJY29uc29sZS5sb2coJ3NlbGVjdCcsJCh0aGlzKSk7CgkJCQlzZXJpYWwgPSAkKHRoaXMpLmF0dHIoJ3NlcmlhbCcpOwoJCQkJdmFyIGpNZSA9ICQoIltzZXJpYWw9JyIgKyBzZXJpYWwgKyAiJ10iKTsKCQkJCWNvbnNvbGUubG9nKCdhdmFudCBjb29raWUnKTsKCQkJCWpzLkNvb2tpZS5zZXQoQ3Jvc3NDb25zdHMuQ09PS19TRUwsU3RyaW5nVG9vbHMudXJsRW5jb2RlKHNlcmlhbCksMzYwMCk7CgkJCQljb25zb2xlLmxvZygnYXByZXMgY29va2llJyk7CgkJCQl2YXIgcGFyZW50SWQgPSAiIjsKCQkJCXZhciBwYXJlbnQ7CgkJCQlyZWFsSk1lID0gJCh0aGlzKTsKLy8JCQkJak1lLmVhY2goZnVuY3Rpb24oKSB7Ci8vCQkJCQlpZiAoJCh0aGlzKS5wYXJlbnQoKS5hdHRyKCJpZCIpICE9IHVuZGVmaW5lZCAmJiAhJCh0aGlzKS5wYXJlbnRzKCcjY2hhcl9jb2wnKSkgewovLwkJCQkJCXJlYWxKTWUgPSAkKHRoaXMpOwovLwkJCQkJCXBhcmVudCA9ICQodGhpcykucGFyZW50KCk7Ci8vCQkJCQkJcGFyZW50SWQgPSBwYXJlbnQuYXR0cigiaWQiKTsKLy8JCQkJCX0KLy8JCQkJfSk7Ci8vCQkJCWlmIChwYXJlbnRJZCA9PSAibXlJbnZlbnRvcnkiKSB7CgkJCQkJaWYgKHJlYWxKTWUuaGFzQ2xhc3MoImZha2VzZWxlY3RlZCIpKSB7Ci8vIENsZWFyIHNlbGVjdGlvbgoJCQkJCQlyZWFsSk1lLnJlbW92ZUNsYXNzKCJmYWtlc2VsZWN0ZWQiKTsKCQkJCQkJJCgiI2NkQWN0aW9uTGlzdCBkaXYiKS5ub3QoIi5tb3ZlIikucmVtb3ZlKCk7CgkJCQkJCS8vTWFpbi5jYW5jZWxTZWxlY3Rpb24obXVzaF9qcXVlcnkocmVhbEpNZVswXSkpOwoJCQkJCQkkKCIjbXlJbnZlbnRvcnkgLnNlbGVjdGVkIikucGFyZW50KCkucmVtb3ZlQ2xhc3MoIm9uIik7CgkJCQkJCSQoIiNteUludmVudG9yeSAuc2VsZWN0ZWQiKS5yZW1vdmUoKTsKCQkJCQkJTWFpbi5zZWwuY3VycmVudEludlNlbGVjdGlvbiA9IG51bGw7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJcmVhbEpNZS5hZGRDbGFzcygib24iKTsKCQkJCQljb25zb2xlLndhcm4oJ3JlYWxKTWUnLHJlYWxKTWUpOwoJCQkJCXZhciBhbGxJdGVtcyA9ICQoIiNteUludmVudG9yeSAuaXRlbSIpLm5vdCgiLmNkRW1wdHlTbG90IikuYWRkKCJbc2VydmVyc2VsZWN0ZWQ9dHJ1ZV0iKTsKCQkJCQkkKCIuY2RDaGFyQ29sU2VsIikucmVtb3ZlKCk7CgkJCQkJJCgiI215SW52ZW50b3J5IC5zZWxlY3RlZCIpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJvbiIpOwoJCQkJCSQoIiNteUludmVudG9yeSAuc2VsZWN0ZWQiKS5yZW1vdmUoKTsKCQkJCQkkKCIjbXlJbnZlbnRvcnkgLmZha2VzZWxlY3RlZCIpLnJlbW92ZUNsYXNzKCdmYWtlc2VsZWN0ZWQnKTsKCQkJCQlyZWFsSk1lLmFkZENsYXNzKCJmYWtlc2VsZWN0ZWQiKTsKCQkJCQl2YXIgJGRpdiA9ICQoJzxkaXY+JykucHJlcGVuZFRvKHJlYWxKTWUpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwoJCQkJCWNvbnNvbGUubG9nKCdzZWxlY3RlZF9wYXJlbnQnLCRkaXYucGFyZW50KCkpOwoJCQkJCXZhciByZWFsSk1lID0gJCgiW2RhdGEtdGlwPSciICsgcmVhbEpNZS5hdHRyKCJkYXRhLXRpcCIpICsgIiddIikubm90KCJbc2VyaWFsPSciICsgc2VyaWFsICsgIiddIik7CgkJCQkJY29uc29sZS53YXJuKCdyZWFsSk1lJyxyZWFsSk1lKTsKCQkJCQl2YXIgc2VyaWFsID0gcmVhbEpNZS5hdHRyKCJzZXJpYWwiKTsKCQkJCQlNYWluLnNlbC5jdXJyZW50SW52U2VsZWN0aW9uID0gbnVsbDsKCQkJCQljb25zb2xlLndhcm4oMSwkKCcjbXlJbnZlbnRvcnkgLnNlbGVjdGVkJykpOwoJCQkJCS8vTWFpbi5jYW5jZWxTZWxlY3Rpb24obXVzaF9qcXVlcnkocmVhbEpNZVswXSkpOwoJCQkJCWNvbnNvbGUud2FybigyLCQoJyNteUludmVudG9yeSAuc2VsZWN0ZWQnKSk7CgkJCQkJTWFpbi5hY0xpc3RNYWludGFpbmVyLmhlcm9Xb3JraW5nID0gdHJ1ZTsKCQkJCQlNYWluLnNlbC5jdXJyZW50SW52U2VsZWN0aW9uID0gc2VyaWFsOwovLwkJCQkJTWFpbi5hY0xpc3RNYWludGFpbmVyLnJlZnJlc2hIZXJvSW52KCk7CgkJCQkJTWFpbi5hY0xpc3RNYWludGFpbmVyLmhlcm9Xb3JraW5nID0gdHJ1ZTsKCQkJCQkvL3RoaXMuY3VycmVudEludlNlbGVjdGlvbiA9IHNlcmlhbDsKCQkJCQlNYWluLmFjTGlzdE1haW50YWluZXIucmVmcmVzaEhlcm9JbnYoKTsKCQkJCQljb25zb2xlLndhcm4oJCgnI215SW52ZW50b3J5IC5zZWxlY3RlZCcpKTsKCQkJCQl2YXIgYWN0aW9ucyA9ICQoImRpdlt3ZWJkYXRhPSciICsgc2VyaWFsICsgIiddIik7CgkJCQkJY29uc29sZS5sb2coJ2FjdGlvbnMnLGFjdGlvbnMpOwoJCQkJCSQoIiNjZEFjdGlvbkxpc3QiKS5maW5kKCJkaXYiKS5oaWRlKCk7CgkJCQkJYWN0aW9ucy5lYWNoKGZ1bmN0aW9uICgpIHsKCQkJCQkJJCh0aGlzKS5jbG9uZSgpLmFwcGVuZFRvKCIjY2RBY3Rpb25MaXN0Iik7CgkJCQkJfSk7CgkJCQkJJCgiPGRpdiBjbGFzcz0nYWN0aW9uIHN0U2VsJz4gIiArIHJlYWxKTWUuYXR0cigiZGF0YS1uYW1lIikuc3BsaXQoIlxcJyIpLmpvaW4oIiciKSArICIgOjwvZGl2PiIpLnByZXBlbmRUbygiI2NkQWN0aW9uTGlzdCIpOwovLwkJCQl9CgkJCX0pOwoKCQkvLyBQcm9qZWN0cwoJCX0gZWxzZSBpZiAocHJvamVjdHMubGVuZ3RoID4gMCAmJiBwYXR0Y29yZS50ZXN0KCRjZE1vZHVsZUNvbnRlbnQuZmluZCgiaDIiKS5odG1sKCkudHJpbSgpKSkgewoJCQl0ID0gJCgiPGgzPiIpLmh0bWwoIlByb2pldHMgTmVyb24iKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpOwoJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiZGlzcGxheWxlc3MiKS5hdHRyKCJfdGFyZ2V0IiwgIiNwcm9qZWN0c3ByZXZpZXciKQoJCQkub24oImNsaWNrIiwgTWFpbi5rLlRvZ2dsZURpc3BsYXkpLmFwcGVuZFRvKHQpOwoKCQkJcHJvamVjdHNkaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJwcm9qZWN0c3ByZXZpZXciKS5hdHRyKCJpZCIsICJwcm9qZWN0c3ByZXZpZXciKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpOwoJCQlwcm9qZWN0cy5lYWNoKGZ1bmN0aW9uKGkpIHsKCQkJCXZhciBwcm9qZWN0ZGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicHJvamVjdHByZXZpZXciKS5hcHBlbmRUbyhwcm9qZWN0c2Rpdik7CgoJCQkJLy8gUHJvamVjdCBjYXJkCgkJCQkkKCI8aW1nPiIpLmFkZENsYXNzKCJwcm9qZWN0aW1nIikuYXR0cigic3JjIiwgJCh0aGlzKS5maW5kKCJpbWciKS5hdHRyKCJzcmMiKSkuYXBwZW5kVG8ocHJvamVjdGRpdik7CgoJCQkJLy8gQ29tcGxldGlvbiAlCgkJCQkkKCI8ZGl2PiIpLmFkZENsYXNzKCJwcm9qZWN0cGN0IikuaHRtbCgkKHRoaXMpLmZpbmQoInNwYW4iKS5odG1sKCkudHJpbSgpKS5hcHBlbmRUbyhwcm9qZWN0ZGl2KTsKCgkJCQkvLyBCb251c2VzCgkJCQl2YXIgcHJvamVjdGJvbnVzID0gJCgiPGRpdj4iKS5hZGRDbGFzcygicHJvamVjdGJvbnVzIikuYXBwZW5kVG8ocHJvamVjdGRpdik7CgkJCQkkKHRoaXMpLmZpbmQoImRpdi5zdWdnZXN0cHJvZ3Jlc3MgdWwgbGkgaW1nIikuZWFjaChmdW5jdGlvbihpKSB7ICQodGhpcykuY2xvbmUoKS5hcHBlbmRUbyhwcm9qZWN0Ym9udXMpOyB9KTsKCgkJCQkvLyBUb29sdGlwCgkJCQlwcm9qZWN0ZGl2LmF0dHIoIl90aXRsZSIsICQodGhpcykuZmluZCgiaDMiKS5odG1sKCkudHJpbSgpKQoJCQkJLmF0dHIoIl9kZXNjIiwKCQkJCQkkKHRoaXMpLmZpbmQoImRpdi5kZXNjIikuaHRtbCgpLnRyaW0oKSArICI8L3A+PHA+IiArCgkJCQkJJCh0aGlzKS5maW5kKCJwLmVmZmljYWNpdHkiKS5odG1sKCkudHJpbSgpCgkJCQkpCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoJCQl9KTsKCgkJCS8vIFByb2plY3RzIGFjdGlvbnMKCQkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3RhbGsuZ2lmJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIiksIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGxlcyBwcm9qZXRzIiksCgkJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCI8cD5JbnPDqHJlIGxhIGxpc3RlIGRlIHByb2pldHMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPiIgKwoJCQkJIjxsaT48c3Ryb25nPk5vbSBkdSBwcm9qZXQ8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZHUgcHJvamV0PGJyLz5Cb251cyA6IDxpPlRpcmV1cjwvaT4sIDxpPlBpbG90ZTwvaT48L2xpPiIgKwoJCQkJIjxsaT48c3Ryb25nPk5vbSBkdSBwcm9qZXQ8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZHUgcHJvamV0PGJyLz5Cb251cyA6IDxpPlRpcmV1cjwvaT4sIDxpPlBpbG90ZTwvaT48L2xpPiIgKwoJCQkJIjxsaT48c3Ryb25nPk5vbSBkdSBwcm9qZXQ8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZHUgcHJvamV0PGJyLz5Cb251cyA6IDxpPlRpcmV1cjwvaT4sIDxpPlBpbG90ZTwvaT48L2xpPjwvcD4iKQoJCQkpLmFwcGVuZFRvKHByb2plY3RfbGlzdCkKCQkJLmZpbmQoImEiKS5hZGRDbGFzcygic2hhcmVwcm9qZWN0YnRuIikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJCSQoJ3RleHRhcmVhOmZvY3VzJykuZWFjaChmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQcm9qZWN0cygpOwoJCQkJCSQodGhpcykuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJfSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoKCQkvLyBBc3RybwoJCX0gZWxzZSBpZiAoJCgiI25hdk1vZHVsZSIpLmxlbmd0aCA+IDApIHsKCQkJdmFyIG5hdiA9ICQoIiNuYXZNb2R1bGUiKTsKCQkJdmFyIHBsYW5ldHMgPSBuYXYuZmluZCgiLnBsYW5ldCIpLm5vdCgiLnBsYW5ldG9mZiIpOwoJCQlpZiAocGxhbmV0cy5sZW5ndGggPiAwKSB7CgkJCQl0ID0gJCgiPGgzPiIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGxhbsOodGVzIikpLmFwcGVuZFRvKHByb2plY3RfbGlzdCk7CgkJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiZGlzcGxheWxlc3MiKS5hdHRyKCJfdGFyZ2V0IiwgIiNwcm9qZWN0c3ByZXZpZXciKQoJCQkJLm9uKCJjbGljayIsIE1haW4uay5Ub2dnbGVEaXNwbGF5KS5hcHBlbmRUbyh0KTsKCgkJCQlwcm9qZWN0c2RpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInByb2plY3RzcHJldmlldyBwbGFuZXRwcmV2aWV3IikuYXR0cigiaWQiLCAicHJvamVjdHNwcmV2aWV3IikuYXBwZW5kVG8ocHJvamVjdF9saXN0KTsKCQkJCXBsYW5ldHMuZWFjaChmdW5jdGlvbihpKSB7CgkJCQkJLy8gUHJpbnQgcGxhbmV0CgkJCQkJdmFyIHBsYW5ldCA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoInBsYW5ldHByZXZpZXciKS5hcHBlbmRUbyhwcm9qZWN0c2Rpdik7CgkJCQkJJCgiPGltZz4iKS5hdHRyKCJ3aWR0aCIsICI0MCIpCgkJCQkJLmF0dHIoInNyYyIsICQodGhpcykuZmluZCgiaW1nLnByZXZpbWciKS5hdHRyKCJzcmMiKSkKCQkJCQkuY3NzKHsnY3Vyc29yJzoncG9pbnRlcid9KQoJCQkJCS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkkKCd0ZXh0YXJlYTpmb2N1cycpLmVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQbGFuZXRzKGkpOwoJCQkJCQkJJCh0aGlzKS5pbnNlcnRBdENhcmV0KHR4dCk7CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfSkKCQkJCQkuYXBwZW5kVG8ocGxhbmV0KTsKCQkJCQlpZigkKHRoaXMpLmZpbmQoJy5zaGFyZS1wbGFuZXQnKS5sZW5ndGggPT0gMCl7CgkJCQkJCXZhciAkYnV0dG9uX3NoYXJlX3BsYW5ldCA9IE1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS90YWxrLmdpZicgLz4gIiwgbnVsbCwgbnVsbCwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIgbGEgcGxhbsOodGUiKSwKCQkJCQkJCU1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2UgdW5pcXVlbWVudCBjZXR0ZSBwbGFuw6h0ZSBkYW5zIGwnaW52ZW50YWlyZSIpCgkJCQkJCSkKCQkJCQkJLmFkZENsYXNzKCdzaGFyZS1wbGFuZXQnKTsKCQkJCQkJJGJ1dHRvbl9zaGFyZV9wbGFuZXQuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkkKCd0ZXh0YXJlYTpmb2N1cycpLmVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCXZhciB0eHQgPSBNYWluLmsuRm9ybWF0UGxhbmV0cyhpKTsKCQkJCQkJCQkkKHRoaXMpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCQkJCX0pOwoJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQl9KTsKCQkJCQkJJCgnPHRkPicpLmFwcGVuZCgkYnV0dG9uX3NoYXJlX3BsYW5ldCkuaW5zZXJ0QWZ0ZXIoJCh0aGlzKS5maW5kKCcuYnV0dG9ucyB0ZDpsYXN0LWNoaWxkJykpOwoJCQkJCX0KCQkJCX0pOwoKCQkJCS8vIFBsYW5ldHMgYWN0aW9ucwoJCQkJTWFpbi5rLk1ha2VCdXR0b24oIjxpbWcgc3JjPScvaW1nL2ljb25zL3VpL3RhbGsuZ2lmJyAvPiAiK01haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIiksIG51bGwsIG51bGwsIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGxlcyBwbGFuw6h0ZXMiKSwKCQkJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCJJbnPDqHJlIGxhIGxpc3RlIGRlIHBsYW7DqHRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+IiArCgkJCQkJIlRPRE86IGFwZXLDp3UiKQoJCQkJKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpCgkJCQkuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCQkJJCgndGV4dGFyZWE6Zm9jdXMnKS5lYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQbGFuZXRzKG51bGwpOwoJCQkJCQkkKHRoaXMpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCQl9KTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KTsKCQkJfQoKCQkvLyBCSU9TCgkJfSBlbHNlIGlmICgkKCIjYmlvc01vZHVsZSIpLmxlbmd0aCA+IDApIHsKCQkJJCgiPGgzPiIpLmh0bWwoIkJJT1MgTkVST04iKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpOwoKCgkJCS8vIFNoYXJlIHBhcmFtcwoJCQlNYWluLmsuTWFrZUJ1dHRvbigiPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsay5naWYnIC8+ICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIiKSwgbnVsbCwgbnVsbCwgTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGFydGFnZXIgbGVzIHBhcmFtw6h0cmVzIiksCgkJCQlNYWluLmsudGV4dC5nZXR0ZXh0KCJJbnPDqHJlIGxhIGxpc3RlIGRlIHBhcmFtw6h0cmVzIEJJT1MgTmVyb24gZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPiIgKwoJCQkJIlRPRE86IGFwZXLDp3UiKQoJCQkpLmFwcGVuZFRvKHByb2plY3RfbGlzdCkKCQkJLmZpbmQoImEiKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24oZSkgewoJCQkJJCgndGV4dGFyZWE6Zm9jdXMnKS5lYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdHh0ID0gTWFpbi5rLkZvcm1hdEJJT1MoKTsKCQkJCQkkKHRoaXMpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCX0pOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQkJLy9Db21tCgkJfWVsc2UgaWYgKCQoIiN0cmFja2VyTW9kdWxlIikubGVuZ3RoID4gMCl7CgkJCXZhciB0ID0gJCgiPGgzPiIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiQ29tLiIpKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpOwoJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiZGlzcGxheWxlc3MiKS5hdHRyKCJfdGFyZ2V0IiwgIi5jb21tUHJldmlldyIpCgkJCQkub24oImNsaWNrIiwgTWFpbi5rLlRvZ2dsZURpc3BsYXkpLmFwcGVuZFRvKHQpOwoJCQl2YXIgbmF2ID0gJCgiI3RyYWNrZXJNb2R1bGUiKTsKCQkJdmFyIGNvbW0gPSAkKCI8ZGl2PiIpLmFkZENsYXNzKCJjb21tUHJldmlldyIpLmNzcyh7J3RleHQtYWxpZ24nOidjZW50ZXInLCdjdXJzb3InOidwb2ludGVyJ30pLmFwcGVuZFRvKHByb2plY3RfbGlzdCk7CgkJCXZhciAkaW1nX2NvbSA9ICQoIjxpbWc+IikKCQkJCQkuYXR0cigic3JjIiwgIi9pbWcvZGVzaWduL3NlbnNvcjAxLnBuZyIpCgkJCQkJLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCQkJJCgndGV4dGFyZWE6Zm9jdXMnKS5lYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRDb21tKCk7CgkJCQkJCSQodGhpcykuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCX0pOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9KS5hcHBlbmRUbyhjb21tKTsKCQkJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCSRpbWdfY29tLmF0dHIoJ3NyYycsJCgnI3RyYWNrZXJNb2R1bGUnKS5maW5kKCcuc2Vuc29ycyBpbWcnKS5hdHRyKCdzcmMnKSk7CgkJCX0sMTAwKTsKCQkJLy9UT0RPIG11bHRpCgkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS90YWxrLmdpZicgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJQYXJ0YWdlciIpLCBudWxsLCBudWxsLCBudWxsLAoJCQkJCSJUT0RPOiBhcGVyw6d1IgoJCQkJKS5hcHBlbmRUbyhwcm9qZWN0X2xpc3QpCgkJCQkuZmluZCgiYSIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CgkJCQkJJCgndGV4dGFyZWE6Zm9jdXMnKS5lYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRDb21tKCk7CgkJCQkJCSQodGhpcykuaW5zZXJ0QXRDYXJldCh0eHQpOwoJCQkJCX0pOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pOwoJCX0KCgkJLy8gUGxhbnRzCgkJJHVzTGVmdGJhci5maW5kKCIjcGxhbnRtYW5hZ2VyIikucmVtb3ZlKCk7CgkJaWYgKGhhc1BsYW50cykgewoJCQkvLyBDcmVhdGUgZGl2CgkJCXZhciBwbGFudHNESVYgPSAkKCI8ZGl2PiIpLmF0dHIoImlkIiwgInBsYW50bWFuYWdlciIpLmFwcGVuZFRvKCR1c0xlZnRiYXIpOwoJCQl0ID0gJCgiPGgzPiIpLmh0bWwoTWFpbi5rLnRleHQuZ2V0dGV4dCgiUGxhbnRlcyIpKS5hcHBlbmRUbyhwbGFudHNESVYpOwoJCQkkKCI8c3Bhbj4iKS5hZGRDbGFzcygiZGlzcGxheWxlc3MiKS5hdHRyKCJfdGFyZ2V0IiwgIi5rcGxhbnRsaXN0IikuYXBwZW5kVG8odCkub24oImNsaWNrIiwgTWFpbi5rLlRvZ2dsZURpc3BsYXkpOwoKCQkJLy8gTGlzdCBwbGFudHMKCQkJdmFyIHBsYW50bGlzdCA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoImtwbGFudGxpc3QgcGxhbnRzIGludmVudG9yeSIpLmNzcygibWF4LXdpZHRoIiwgbXdpZHRoICsgInB4IikuYXBwZW5kVG8ocGxhbnRzRElWKTsKCQkJJHJvb20uZmluZCgiW2RhdGEtaWQ9J1RSRUVfUE9UJ10iKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJdmFyICR0aGlzID0gJCh0aGlzKTsKCQkJCSQoIjxsaT4iKQoJCQkJCS5hZGRDbGFzcygiaXRlbSBmYWtlaXRlbSIpCgkJCQkJLmF0dHIoInNlcmlhbF9mYWtlIiwgJCh0aGlzKS5hdHRyKCJzZXJpYWwiKSkKCQkJCQkuYXR0cigiZGF0YS1uYW1lIiwgJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKSkKCQkJCQkuYXR0cigiZGF0YS1pZCIsICJUUkVFX1BPVCIpCgkJCQkJLmNzcygibGlzdC1zdHlsZS10eXBlIiwgIm5vbmUiKQoJCQkJCS5odG1sKCQodGhpcykuaHRtbCgpKQoJCQkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaWYoISQoJyNjZEludmVudG9yeScpLmhhc0NsYXNzKCdwbGFjYXJkX29uJykpewoJCQkJCQkJTWFpbi5jbG9zZXQuc2hvdygpOwoJCQkJCQl9CgkJCQkJCW11c2hfanF1ZXJ5KCdbc2VyaWFsPSInKyR0aGlzLmF0dHIoJ3NlcmlhbCcpKyciXScpLnRyaWdnZXIoJ2NsaWNrJykgOyB9KQoJCQkJCS5hcHBlbmRUbyhwbGFudGxpc3QpCgkJCQkJLmZpbmQoInRkIikKCQkJCQkuYXR0cigiX3RpdGxlIiwgJCh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKS5zcGxpdCgiXFwnIikuam9pbigiJyIpKQoJCQkJCS5hdHRyKCJfZGVzYyIsICQodGhpcykuYXR0cigiZGF0YS1kZXNjIikuc3BsaXQoIlxcJyIpLmpvaW4oIiciKSkKCQkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkJLm9uKCJtb3VzZW91dCIsIE1haW4uay5oaWRlVGlwKTsKCQkJfSk7CgoJCQkvLyBQbGFudHMgYWN0aW9ucwoJCQkkKCI8ZGl2PiIpLmNzcygiY2xlYXIiLCAiYm90aCIpLmNzcygiaGVpZ2h0IiwgIjVweCIpLmFwcGVuZFRvKHBsYW50c0RJVik7CgkJCU1haW4uay5NYWtlQnV0dG9uKCI8aW1nIHNyYz0nL2ltZy9pY29ucy91aS90YWxrLmdpZicgLz4gIitNYWluLmsudGV4dC5nZXR0ZXh0KCJQYXJ0YWdlciIpLCBudWxsLCBudWxsLCBNYWluLmsudGV4dC5nZXR0ZXh0KCJQbGFudGVzIiksIE1haW4uay50ZXh0LmdldHRleHQoIlBhcnRhZ2VyIGwnw6l0YXQgZGVzIHBsYW50ZXMuIikpCgkJCS5hcHBlbmRUbyhwbGFudHNESVYpCgkJCS5maW5kKCJhIikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJCSQoJ3RleHRhcmVhOmZvY3VzJykuZWFjaChmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHR4dCA9IE1haW4uay5Gb3JtYXRQbGFudHMoKTsKCQkJCQkkKHRoaXMpLmluc2VydEF0Q2FyZXQodHh0KTsKCQkJCX0pOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQl9CgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCgoJCS8vIEVuaGFuY2UgYWxlcnRzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQl2YXIgJHRvcGluZm9fYmFyID0gJCgiI3RvcGluZm9fYmFyIik7CgkJdmFyIGFsYXJtID0gJHRvcGluZm9fYmFyLmZpbmQoIi5hbGFybSIpOwoJCWlmIChhbGFybS5sZW5ndGggPiAwKSB7CgkJCWFsYXJtLmZpbmQoIi5hbGVydG5iIikucmVtb3ZlKCk7CgkJCXZhciBhbGFybV9lcXVpcCA9ICIvaW1nL2ljb25zL3VpL2FsZXJ0LnBuZyI7CgkJCXZhciBhbGFybV9kb29yID0gIi9pbWcvaWNvbnMvdWkvZG9vci5wbmciOwoJCQl2YXIgYWxhcm1faHVudGVyID0gIi9pbWcvaWNvbnMvdWkvaHVudGVyLnBuZyI7CgkJCXZhciBhbGFybV9maXJlID0gIi9pbWcvaWNvbnMvdWkvZmlyZS5wbmciOwoKCQkJYWxhcm0uZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciBfYWxhcm0gPSAkKHRoaXMpLmF0dHIoInNyYyIpLnRvTG93ZXJDYXNlKCk7CgkJCQl2YXIgYWxhcm1fbmIgPSAwOwoJCQkJdmFyIG9tbyA9ICQodGhpcykucGFyZW50KCkuYXR0cigib25tb3VzZW92ZXIiKTsKCgkJCQlzd2l0Y2ggKF9hbGFybSkgewoJCQkJCWNhc2UgYWxhcm1fZXF1aXA6CgkJCQkJCWFsYXJtX25iID0gcGFyc2VJbnQoLz4oWzAtOV0rKS8uZXhlYyhvbW8pWzFdKTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSBhbGFybV9kb29yOgoJCQkJCQlhbGFybV9uYiA9IHBhcnNlSW50KC8+KFswLTldKykvaS5leGVjKG9tbylbMV0pOwoJCQkJCQlicmVhazsKCQkJCQljYXNlIGFsYXJtX2h1bnRlcjoKCQkJCQkJdmFyIHBhdHQgPSBuZXcgUmVnRXhwKE1haW4uay50ZXh0LmdldHRleHQoIihbMC05XSt8dW58YSkrIGFwcGFyZWlsIiksICJpIik7CgkJCQkJCWlmIChwYXR0LnRlc3Qob21vKSkgewoJCQkJCQkJYWxhcm1fbmIgPSBwYXR0LmV4ZWMob21vKVsxXTsKCQkJCQkJfSBlbHNlIGlmICgvPihbMC05XSt8dW58YSkvaS50ZXN0KG9tbykpIHsKCQkJCQkJCWFsYXJtX25iID0gLz4oWzAtOV0rfHVufGEpL2kuZXhlYyhvbW8pWzFdOwoJCQkJCQl9CgkJCQkJCWlmIChhbGFybV9uYikgYWxhcm1fbmIgPSAoYWxhcm1fbmIudG9Mb3dlckNhc2UoKSA9PSAidW4iIHx8IGFsYXJtX25iLnRvTG93ZXJDYXNlKCkgPT0gImEiKSA/IDEgOiBwYXJzZUludChhbGFybV9uYik7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgYWxhcm1fZmlyZToKCQkJCQkJYWxhcm1fbmIgPSBwYXJzZUludCgvPihbMC05XSspL2kuZXhlYyhvbW8pWzFdKTsKCQkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJLy8gRGlzcGxheSBuYiBpZiBuZWVkZWQKCQkJCWlmIChhbGFybV9uYiE9MCkgewoJCQkJCXZhciB1cGRhdGViZyA9IHRydWU7CgoJCQkJCSQodGhpcykuY3NzKHsKCQkJCQkJcG9zaXRpb246ICJyZWxhdGl2ZSIsCgkJCQkJCSJ6LWluZGV4IjogIjUiCgkJCQkJfSk7CgkJCQkJJCh0aGlzKS5wYXJlbnQoKS5jc3MoInBvc2l0aW9uIiwgInJlbGF0aXZlIik7CgoJCQkJCXZhciB3cmFwID0gJCgiPGRpdj4iKS5hZGRDbGFzcygiYWxlcnRuYndyYXBwZXIiKQoJCQkJCS5jc3MoImxlZnQiLCBwYXJzZUludCgoJCh0aGlzKS5wYXJlbnQoKS53aWR0aCgpIC0gMjApIC8gMikgKyAicHgiKQoJCQkJCS5hcHBlbmRUbygkKHRoaXMpLnBhcmVudCgpKTsKCgkJCQkJJCgiPGRpdj4iKS5hZGRDbGFzcygiYWxlcnRuYiIpLmh0bWwoYWxhcm1fbmIpLmFwcGVuZFRvKHdyYXApOwoJCQkJfQoKCgoJCQl9KTsKCgoJCQkkdG9waW5mb19iYXIuZmluZCgiLmFsYXJtX29uIikuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwgInVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9hbGVydHBsZWZ0LmdpZikiKTsKCQkJJHRvcGluZm9fYmFyLmZpbmQoIi5hbGFybV9yaWdodF9vbiIpLmNzcygiYmFja2dyb3VuZC1pbWFnZSIsICJ1cmwoIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvYWxlcnRwcmlnaHQuZ2lmKSIpOwoJCQkkdG9waW5mb19iYXIuZmluZCgiLmFsYXJtX2JnX29uIikuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwgInVybCgiICsgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9hbGVydGJnLmdpZikiKTsKCQl9CgkJLy9EaXNwbGF5IHNoaWVsZCBpcyBuZWVkZWQKCQl2YXIgc3BhY2VzaGlwc3RhdHVzID0gJHRvcGluZm9fYmFyLmZpbmQoIi5zcGFjZXNoaXBzdGF0dXMiKTsKCQlpZiAoc3BhY2VzaGlwc3RhdHVzLmxlbmd0aCA+IDApIHsKCQkJc3BhY2VzaGlwc3RhdHVzLmZpbmQoIi5zcGFjZXNoaXBzdGF0dXMtaW5mbyIpLnJlbW92ZSgpOwoJCQlzcGFjZXNoaXBzdGF0dXMuZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciByZWdleCA9IC9cLyhbYS16XSspXC5wbmckLzsKCQkJCXZhciBtYXRjaGVzID0gcmVnZXguZXhlYygkKHRoaXMpLmF0dHIoJ3NyYycpKTsKCQkJCWlmKG1hdGNoZXMgIT0gbnVsbCl7CgkJCQkJc3dpdGNoIChtYXRjaGVzWzFdKSB7CgkJCQkJCWNhc2UgJ3NoaWVsZCc6CgkJCQkJCQlpZigvOiAqWzAtOV0rPGJyXC8+Lis6ICooWzAtOV0rKTxiclwvPi8udGVzdCgkKHRoaXMpLnBhcmVudCgpLmF0dHIoJ29ubW91c2VvdmVyJykpKXsKCQkJCQkJCQl2YXIgd3JhcCA9ICQoJzxkaXYgY2xhc3M9InNwYWNlc2hpcHN0YXR1cy1pbmZvIiBzdHlsZT0iZm9udC1zaXplOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4nK1JlZ0V4cC4kMSsnJm5ic3A7PGltZyBzcmM9Imh0dHA6Ly8nK01haW4uay5kb21haW4rJy9pbWcvaWNvbnMvdWkvcGxhc21hLnBuZyIgd2lkdGg9IjExIj48L2Rpdj4nKS5hcHBlbmRUbygkKHRoaXMpLnBhcmVudCgpKTsKCgkJCQkJCQl9CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoKCgkJLy8gRW5oYW5jZSBwcml2YXRlIGNoYXRzCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8KCQlmb3IgKGk9MDsgaTwzOyBpKyspIHsKCQkJdmFyIHRhYiA9ICQoIiNjZFRhYnNDaGF0IikuZmluZCgiLmNkUHJpdmF0ZVRhYiIgKyBpKTsKCQkJdmFyIHRhYmNvbnRlbnQgPSAkKCIjY2RQcml2YXRlIiArIGkpOwoJCQlpZiAodGFiLmxlbmd0aCA+IDAgJiYgdGFiY29udGVudC5sZW5ndGggPiAwKSB7CgkJCQl2YXIgdGlwID0gIiI7CgkJCQl2YXIgaGVyb2VzID0gdGFiY29udGVudC5maW5kKCIubWluaV9wcml2Iik7CgkJCQlmb3IgKGo9MDsgajxoZXJvZXMubGVuZ3RoOyBqKyspIHsKCQkJCQl2YXIgbW91c2VvdmVyID0gJChoZXJvZXNbal0pLmF0dHIoIm9ubW91c2VvdmVyIik7CgkJCQkJdmFyIG5hbWUgPSAvPGgxPihbXjxdKyk8XC9oMT4vLmV4ZWMobW91c2VvdmVyKVsxXTsKCQkJCQl2YXIgY28gPSAvW2EtekEtWl0rXHM/OlxzKFtePF0rKS8uZXhlYyhtb3VzZW92ZXIpWzFdLnRvTG93ZXJDYXNlKCk7CgkJCQkJdGlwICs9ICI8c3Ryb25nPiIgKyBuYW1lICsgIjwvc3Ryb25nPiAtICIrTWFpbi5rLnRleHQuZ2V0dGV4dCgiY29ubmVjdMOpKGUpIikrIiAiICsgY28gKyAiPGJyLz4iOwoJCQkJfQoKCQkJCXRhYi5maW5kKCJpbWciKS5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKQoJCQkJLmF0dHIoIl90aXRsZSIsIE1haW4uay50ZXh0LmdldHRleHQoIkNhbmFsIHByaXbDqSIpKyAiICMiICsgKGkrMSkpCgkJCQkuYXR0cigiX2Rlc2MiLCB0aXApCgkJCQkub24oIm1vdXNlb3ZlciIsIE1haW4uay5DdXN0b21UaXApCgkJCQkub24oIm1vdXNlb3V0IiwgTWFpbi5rLmhpZGVUaXApOwoJCQl9CgkJfQoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgoJCS8vIFVwZGF0ZSBtYW5hZ2VyPwoJCWlmIChNYWluLmsuTWFuYWdlci5vcGVuZWQpIE1haW4uay5NYW5hZ2VyLnVwZGF0ZSgpOwoKCQlNYWluLmsuUHJvZmlsZXMudXBkYXRlKCk7CgoJCS8vIE9wdGlvbnMKCQlNYWluLmsudXBkYXRlQm90dG9tKCk7CgkJTWFpbi5rLmN1c3RvbUJ1YmJsZXMoKTsKCgkJLy8gRml4IFBBYmlzCgkJJCgiI2NkUGFCbG9jIikuZmluZCgiaW1nW3NyYz0nL2ltZy9kZXNpZ24vcGExYmlzLnBuZyddIikuYXR0cigic3JjIiwgTWFpbi5rLnNlcnZ1cmwgKyAiL2ltZy9wYTFiaXMucG5nIik7CgoJCS8vIEZpeCBkaW1lbnNpb25zCgkJTWFpbi5rLlJlc2l6ZSgpOwoKCQkvLyBMYXN0IHNlbnQgbWVzc2FnZSBsb3N0ID8KCQl2YXIgY29vayA9IGpzLkNvb2tpZS5nZXQoImxhc3RzZW50bXNnIik7CgkJaWYgKGNvb2spIHsKCQkJTWFpbi5rLmRpc3BsYXlMYXN0U2VudCh0cnVlKTsKCQl9IGVsc2UgewoJCQkvL01haW4uay5kaXNwbGF5TGFzdFNlbnQoZmFsc2UpOwoJCX0KCX07CglleHBvcnRGdW5jdGlvbihNYWluLmsuTXVzaFVwZGF0ZSwgdW5zYWZlV2luZG93Lk1haW4uaywge2RlZmluZUFzOiAiTXVzaFVwZGF0ZSJ9KTsKCU1haW4uay5NdXNoSW5pdEhlcm9lcyA9IGZ1bmN0aW9uKCl7CgkJTWFpbi5rLmhlcm9lcyA9IHt9OwoJCU1haW4uay5oZXJvZXNfc2FtZV9yb29tID0gW107CgkJdmFyICRpdCA9IE1haW4uaGVyb2VzLml0ZXJhdG9yKCk7CgkJdmFyIGhlcm9lcyA9ICIiOwoJCXZhciB0YWJfaGVyb2VzID0galF1ZXJ5LmV4dGVuZChbXSwgTWFpbi5rLkhFUk9FUyk7CgkJdmFyIHRhYl9oZXJvZXNfc2FtZV9yb29tID0gW107CgkJd2hpbGUgKCRpdC5oYXNOZXh0KCkpIHsKCQkJKGZ1bmN0aW9uKCkgewoJCQkJLyoqIEB0eXBlIHt7c3VybmFtZTpzdHJpbmd9fSAqKi8KCQkJCXZhciBoZXJvID0gJGl0Lm5leHQoKTsKCgkJCQkvL01haW4uay5oZXJvZXNbaGVyby5kZXZfc3VybmFtZV0gPSBNYWluLmsuY29udmVydEhlcm9Ub1NpbXBsZUhlcm8oaGVybyxudWxsKTsKCgkJCQl0YWJfaGVyb2VzX3NhbWVfcm9vbS5wdXNoKE1haW4uay5zdXJuYW1lVG9CdWJibGUoaGVyby5zdXJuYW1lKSk7CgkJCQl0YWJfaGVyb2VzID0galF1ZXJ5LmdyZXAodGFiX2hlcm9lcywgZnVuY3Rpb24gKHZhbHVlKSB7CgkJCQkJcmV0dXJuIHZhbHVlICE9IE1haW4uay5zdXJuYW1lVG9CdWJibGUoaGVyby5zdXJuYW1lKTsKCQkJCX0pOwoJCQl9KSgpOwoKCQl9CgkJTWFpbi5rLmhlcm9lc19zYW1lX3Jvb20gPSB0YWJfaGVyb2VzX3NhbWVfcm9vbTsKCgkJaWYoTWFpbi5rLkhFUk9FU19BTEwubGVuZ3RoID09IE1haW4uay5IRVJPRVMubGVuZ3RoKXsKCQkJCi8vCQkJY29uc29sZS5sb2coJ2NoZWNrIGhlcm9lcyBsaXN0JyxNYWluLmsuR2FtZUluZm9zLmRhdGEuaGVyb2VzX2xpc3QpOwoJCQlpZihNYWluLmsuR2FtZUluZm9zLmRhdGEuaGVyb2VzX2xpc3QubGVuZ3RoID4gMCl7CgkJCQlNYWluLmsuSEVST0VTID0gTWFpbi5rLkdhbWVJbmZvcy5kYXRhLmhlcm9lc19saXN0OwoJCQl9ZWxzZXsKCQkJCXZhciBoZXJvZXNfcmVwbGFjZSA9IGpRdWVyeS5leHRlbmQoe30sIE1haW4uay5IRVJPRVNfUkVQTEFDRSk7CgkJCQlpZihNYWluLmsuR2FtZUluZm9zLmRhdGEuYW5kcmVrKXsKCQkJCQloZXJvZXNfcmVwbGFjZSA9IE1haW4uay5JbnZlcnRPYmplY3QoaGVyb2VzX3JlcGxhY2UpOwoJCQkJfQoJCQkJLy9yZXBsYWNlIGhlcm9lcwoJCQkJJC5lYWNoKGhlcm9lc19yZXBsYWNlLCBmdW5jdGlvbihrLHYpewoJCQkJCXZhciBpbmRleCA9ICQuaW5BcnJheSh2LE1haW4uay5IRVJPRVMpOwoJCQkJCU1haW4uay5IRVJPRVMuc3BsaWNlKGluZGV4LDEpOwoJCQkJfSk7CgkJCX0KCQl9CgoJfTsKCU1haW4uay5NdXNoSW5pdCgpOwoJTWFpbi5rLk11c2hVcGRhdGUoKTsKCU1haW4uay5NdXNoQWZ0ZXJJbml0KCk7CgoJLy8gVE9ETzogZml4IGZvciBjaHJvbWUKCSQoZG9jdW1lbnQpLmtleXByZXNzKGZ1bmN0aW9uKGUpewoJCWlmIChlLmtleUNvZGUgPT09IDI3KSBNYWluLmsuQ2xvc2VQb3B1cCgpOwoJfSk7Cn07Ck1haW4uay50YWJzLnJhbmtpbmcgPSBmdW5jdGlvbigpIHsKCglNYWluLmsuU3dpdGNoUmFua2luZ1RhYiA9IGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIHNlbGVjdGVkdGFiID0gJChldmVudC50YXJnZXQpLmF0dHIoImlkIik7CgkJJCgiZGl2LmJndGFibGVzdW1tYXIiKS5hZGRDbGFzcygiaGlkZSIpOwoJCSQoInVsLnRhYmxlZmlsdGVyIGxpIikuYWRkQ2xhc3MoIm9mZiIpOwoJCSQoZXZlbnQudGFyZ2V0KS5yZW1vdmVDbGFzcygib2ZmIik7CgoJCXN3aXRjaCAoc2VsZWN0ZWR0YWIpIHsKCQkJY2FzZSAiY2RUYWJGcmllbmRzIjoKCQkJCSQoImRpdi5jZEZyaWVuZHMiKS5yZW1vdmVDbGFzcygiaGlkZSIpOwoJCQkJYnJlYWs7CgoJCQljYXNlICJjZFRhYkNvbnRhY3RzIjoKCQkJCSQoImRpdi5jZENvbnRhY3RzIikucmVtb3ZlQ2xhc3MoImhpZGUiKTsKCQkJCWJyZWFrOwoKCQkJY2FzZSAiY2RUYWJBbGwiOgoJCQkJJCgiZGl2LmNkR2xvYmFsIikucmVtb3ZlQ2xhc3MoImhpZGUiKTsKCQkJCWJyZWFrOwoJCX0KCX07CgoJJCgiPHN0eWxlPiIpLmF0dHIoInR5cGUiLCAidGV4dC9jc3MiKS5odG1sKCJcCglzcGFuLnJhbmtoZWFkIHtcCgkJZGlzcGxheTogYmxvY2s7XAoJCXBvc2l0aW9uOiBhYnNvbHV0ZTtcCgkJdG9wOiAzMHB4OyBsZWZ0OiAyNTBweDtcCgkJYm90dG9tOiAzMHB4OyByaWdodDogMTBweDtcCgkJZm9udC1zaXplOiAyNHB0O1wKCQljb2xvcjogI0ZGRjtcCgkJdGV4dC1hbGlnbjogbGVmdDtcCgkJZm9udC1mYW1pbHk6ICdQVCBTYW5zIENhcHRpb24nLCdBcmlhbCcsJ1NlZ29lIFVJJywnTHVjaWRhIEdyYW5kZScsJ1RyZWJ1Y2hldCBNUycsJ2x1Y2lkYSBzYW5zIHVuaWNvZGUnLHNhbnMtc2VyaWY7XAoJCXRleHQtc2hhZG93OiAtMXB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpLCAwcHggMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyksIDFweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcCgkJdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcCgl9XAoJIikuYXBwZW5kVG8oJCgiaGVhZCIpKTsKCgl2YXIgJGNhdF90cml1bXBoX25vdmEgPSAkKCIjY2F0ZWdvcnlfdHJpdW1waCwgI2NhdGVnb3J5X25vdmEiKTsKCSRjYXRfdHJpdW1waF9ub3ZhLmNzcyh7CgkJbWFyZ2luOiAiMCIsCgkJd2lkdGg6ICI1MCUiLAoJCWZsb2F0OiAibGVmdCIsCgkJZGlzcGxheTogImJsb2NrIgoJfSk7CgoJJCgidGgiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCXZhciB0eHQgPSAkKHRoaXMpLmh0bWwoKS50cmltKCk7CgkJaWYgKHR4dCA9PSAiSMOpcm9zIEZhdm9yaSIpICQodGhpcykuaHRtbCgiIik7Cgl9KTsKCgkkKCJ1bC50YWJsZWZpbHRlciIpLmZpcnN0KCkuY2xvbmUoKS5jc3MoewoJCWZsb2F0OiAicmlnaHQiLAoJCXdpZHRoOiAiYXV0byIKCX0pLnByZXBlbmRUbygiI3JhbmtpbmciKS5maW5kKCJsaSIpLmF0dHIoIm9uY2xpY2siLCAiIikub24oImNsaWNrIiwgTWFpbi5rLlN3aXRjaFJhbmtpbmdUYWIpOwoJJGNhdF90cml1bXBoX25vdmEuZmluZCgiLnRhYmxlZmlsdGVyLCAuY2xlYXIiKS5yZW1vdmUoKTsKCSQoIiNyYW5raW5nIikuZmluZCgidGguZGlzdGluY3Rpb25zIikuY3NzKCJ3aWR0aCIsICJhdXRvIik7CgkkKCIuYmd0YWJsZXN1bW1hciIpLmNzcygibWFyZ2luIiwgIjAgNXB4Iik7CgkkKCJ0YWJsZS5zdW1tYXIiKS5jc3MoIndpZHRoIiwgIjEwMCUiKTsKCSQoInRhYmxlLnN1bW1hciB0ci50b3AgdGQiKS5jc3MoImZvbnQtc2l6ZSIsICIxMnB0Iik7CgkkKCIucGFnZXMiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOy8vVEVNUAoJJCgidWwuY2F0ZWdvcnkiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwoJJCgidHIuY2RSaHRUciIpLmNzcygiZGlzcGxheSIsICJ0YWJsZS1yb3ciKTsKCSQoIjxkaXY+IikuYWRkQ2xhc3MoImNsZWFyIikuYXBwZW5kVG8oIiNyYW5raW5nIik7CgkkKCI8ZGl2PiIpLmFkZENsYXNzKCJjbGVhciIpLmluc2VydEJlZm9yZSgiI2NhdGVnb3J5X3RyaXVtcGgiKTsKCgl2YXIgaGVhZGVycyA9ICQoIjxkaXY+IikuY3NzKHsibWFyZ2luIjogIjIwcHggYXV0byAxMHB4IiwgInRleHQtYWxpZ24iOiAiY2VudGVyIiwgcG9zaXRpb246ICJyZWxhdGl2ZSJ9KS5wcmVwZW5kVG8oIiNjYXRlZ29yeV90cml1bXBoLCAjY2F0ZWdvcnlfbm92YSIpOwoJaGVhZGVycy5maXJzdCgpLmh0bWwoIjxzcGFuIGNsYXNzPSdyYW5raGVhZCc+VHJpb21waGU8L3NwYW4+PGltZyBhbHQ9J1RyaW9tcGhlJyBzcmM9JyIgKyBNYWluLmsuc2VydnVybCArICIvaW1nL3JhbmtfdHJpdW1waC5wbmcnIC8+Iik7CgloZWFkZXJzLmxhc3QoKS5odG1sKCI8c3BhbiBjbGFzcz0ncmFua2hlYWQnPlN1cGVyIE5PVkE8L3NwYW4+PGltZyBhbHQ9J05PVkEnIHNyYz0nIiArIE1haW4uay5zZXJ2dXJsICsgIi9pbWcvcmFua19ub3ZhLnBuZycgLz4iKTsKfTsKCi8vIFNjcmlwdCBpbml0aWFsaXphdGlvbgpHTV9hZGRTdHlsZShHTV9nZXRSZXNvdXJjZVRleHQgKCdjc3M6amdyb3dsJykpOwpldmFsKEdNX2dldFJlc291cmNlVGV4dCgnamdyb3dsJykpOwokLmpHcm93bC5kZWZhdWx0cy5jbG9zZXJUZW1wbGF0ZSA9ICcnOwokLmpHcm93bC5kZWZhdWx0cy50aGVtZSA9ICdjdHJsLXcnOwokLmpHcm93bC5kZWZhdWx0cy50aGVtZVN0YXRlID0gJyc7CgpldmFsKEdNX2dldFJlc291cmNlVGV4dCgnbXVzaCcpKTsKCk1haW4uay5pbml0KCk7CgovLyBJZiBpbmdhbWUKaWYgKE1haW4uay5wbGF5aW5nICYmICQoIiN0b3BpbmZvX2JhciIpLmxlbmd0aCA+IDApIHsKCU1haW4uay50YWJzLnBsYXlpbmcoKTsKCi8vIEZpeCBlbmRpbmcgbWVzc2FnZXMKfSBlbHNlIGlmICgkKCIjY3JlZGl0cyIpLmxlbmd0aCA+IDApIHsKCU1haW4uay50YWJzLmNyZWRpdHMoKTsKCi8vIEZpeCBhY2NvdW50IHBhZ2UKfSBlbHNlIGlmICgkKCIjcHJvZmlsZS5jZFRhYlRndCIpLmxlbmd0aCA+IDApIHsKCU1haW4uay50YWJzLnBsYXllclByb2ZpbGUoKTsKCi8vIEZpeCByYW5raW5ncwp9IGVsc2UgaWYgKCQoIiNyYW5raW5nIikubGVuZ3RoID4gMCkgewoJTWFpbi5rLnRhYnMucmFua2luZygpOwoKLy8gRXhwUGVybWEKfSBlbHNlIGlmIChNYWluLmsud2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZXhwUGVybWEiKSAhPSAtMSkgewoJTWFpbi5rLnRhYnMuZXhwUGVybWEoKTsKCi8vIEdhbWUgb3Zlcgp9IGVsc2UgaWYgKCQoIiNnYW1lb3ZlciIpLmxlbmd0aCA+IDApIHsKCU1haW4uay50YWJzLmdhbWVvdmVyKCk7CgovLyBIb21lCn0gZWxzZSBpZiAoJCgiI21lZGlhU2hvdyIpLmxlbmd0aCA+IDApIHsKCSQoIiNtYWluY29udGFpbmVyLCAuYm94Y29udGFpbmVyIikuY3NzKCJtYXJnaW4iLCAiMCBhdXRvIDAiKTsKCSQoIi5rbWVudSIpLmNzcyh7CgkJcG9zaXRpb246ICJyZWxhdGl2ZSIsCgkJdG9wOiAiMTgwcHgiCgl9KTsKCSQoImEubG9nb3N0YXJ0IikuY3NzKCJ0b3AiLCAiMjBweCIpOwovL25ldyBnYW1lCn1lbHNlIGlmKCQoJy5jaG9vc2VoZXJvMicpLmxlbmd0aCA+IDApewoJTWFpbi5rLkdhbWUuY2xlYXIoKTsKCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdHJsd19uZXdnYW1lJywxKTsKfQoKaWYgKE1haW4uay5kZWJ1Zykge01haW4uay5kaXNwbGF5QnVnKCk7fQo=","resources":[{"meta":{"name":"Mush.js","url":"https://raw.github.com/badconker/ctrl-w/release/lib/Mush.js","ts":1544430113008,"mimetype":"text/javascript"},"source":"dmFyICRoeENsYXNzZXMgPSB7fSwkZXN0ciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4ganMuQm9vdC5fX3N0cmluZ19yZWModGhpcywnJyk7IH07CmZ1bmN0aW9uICRleHRlbmQoZnJvbSwgZmllbGRzKSB7CglmdW5jdGlvbiBpbmhlcml0KCkge307IGluaGVyaXQucHJvdG90eXBlID0gZnJvbTsgdmFyIHByb3RvID0gbmV3IGluaGVyaXQoKTsKCWZvciAodmFyIG5hbWUgaW4gZmllbGRzKSBwcm90b1tuYW1lXSA9IGZpZWxkc1tuYW1lXTsKCWlmKCBmaWVsZHMudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgKSBwcm90by50b1N0cmluZyA9IGZpZWxkcy50b1N0cmluZzsKCXJldHVybiBwcm90bzsKfQpqcy5Db29raWUgPSBmdW5jdGlvbigpIHsgfQokaHhDbGFzc2VzWyJqcy5Db29raWUiXSA9IGpzLkNvb2tpZTsKCnZhciBDcm9zc0NvbnN0cyA9IGZ1bmN0aW9uKCkgeyB9CiRoeENsYXNzZXNbIkNyb3NzQ29uc3RzIl0gPSBDcm9zc0NvbnN0czsKQ3Jvc3NDb25zdHMuX19uYW1lX18gPSBbIkNyb3NzQ29uc3RzIl07CkNyb3NzQ29uc3RzLkNPT0tfU0VMID0gInNlbCI7CkNyb3NzQ29uc3RzLkNPT0tfQ1VSQ0hBVCA9ICJjdXJDaGF0IjsKQ3Jvc3NDb25zdHMuUkVNT1RJTkdfQ09NX0NIQU5ORUwgPSAiZGVmYXVsdCI7CkNyb3NzQ29uc3RzLkNPT0tfSU5WX09GRlNFVF9MID0gImludl9vZmZzZXRfbCI7CkNyb3NzQ29uc3RzLkJBU0VMSU5FX05PTkUgPSA0Mzk7CkNyb3NzQ29uc3RzLkJBU0VMSU5FX0NMT1NFVCA9IDI2MDsKQ3Jvc3NDb25zdHMuQkFTRUxJTkVfQUNUSU9OUyA9IDM1MDsKQ3Jvc3NDb25zdHMuSVNPX1ZFUlNJT04gPSAyMTsKQ3Jvc3NDb25zdHMuTkJfUFJJVkFURV9DSEFOID0gMzsKQ3Jvc3NDb25zdHMuUFJJVkFURV9DSEFOX1NUQVJUID0gNzsKCgpqcy5Db29raWUuX19uYW1lX18gPSBbImpzIiwiQ29va2llIl07CmpzLkNvb2tpZS5zZXQgPSBmdW5jdGlvbihuYW1lLHZhbHVlLGV4cGlyZURlbGF5LHBhdGgsZG9tYWluKSB7Cgl2YXIgcyA9IG5hbWUgKyAiPSIgKyBTdHJpbmdUb29scy51cmxFbmNvZGUodmFsdWUpOwoJaWYoZXhwaXJlRGVsYXkgIT0gbnVsbCkgewoJCXZhciBkOwoJCXZhciBkMSA9IG5ldyBEYXRlKCk7CgkJdmFyIHQgPSBkMS5nZXRUaW1lKCkgKyBleHBpcmVEZWxheSAqIDEwMDA7CgkJdmFyIGQyID0gbmV3IERhdGUoKTsKCQlkMi5zZXRUaW1lKHQpOwoJCWQgPSBkMjsKCQlzICs9ICI7ZXhwaXJlcz0iICsgZC50b0dNVFN0cmluZygpOwoJfQoJaWYocGF0aCAhPSBudWxsKSBzICs9ICI7cGF0aD0iICsgcGF0aDsKCWlmKGRvbWFpbiAhPSBudWxsKSBzICs9ICI7ZG9tYWluPSIgKyBkb21haW47Cgl3aW5kb3cuZG9jdW1lbnQuY29va2llID0gczsKfQpqcy5Db29raWUuYWxsID0gZnVuY3Rpb24oKSB7Cgl2YXIgaCA9IG5ldyBoYXhlLmRzLlN0cmluZ01hcCgpOwoJdmFyIGEgPSB3aW5kb3cuZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7Cgl2YXIgX2cgPSAwOwoJd2hpbGUoX2cgPCBhLmxlbmd0aCkgewoJCXZhciBlID0gYVtfZ107CgkJKytfZzsKCQllID0gU3RyaW5nVG9vbHMubHRyaW0oZSk7CgkJdmFyIHQgPSBlLnNwbGl0KCI9Iik7CgkJaWYodC5sZW5ndGggPCAyKSBjb250aW51ZTsKCQloLnNldCh0WzBdLFN0cmluZ1Rvb2xzLnVybERlY29kZSh0WzFdKSk7Cgl9CglyZXR1cm4gaDsKfQpqcy5Db29raWUuZ2V0ID0gZnVuY3Rpb24obmFtZSkgewoJcmV0dXJuIGpzLkNvb2tpZS5hbGwoKS5nZXQobmFtZSk7Cn0KCmpzLkxpYiA9IGZ1bmN0aW9uKCkgeyB9CiRoeENsYXNzZXNbImpzLkxpYiJdID0ganMuTGliOwpqcy5MaWIuX19uYW1lX18gPSBbImpzIiwiTGliIl07CmlmICh0eXBlb2YgZG9jdW1lbnQgIT0gInVuZGVmaW5lZCIpIGpzLkxpYi5kb2N1bWVudCA9IGRvY3VtZW50OwppZiAodHlwZW9mIHdpbmRvdyAhPSAidW5kZWZpbmVkIikgewoJanMuTGliLndpbmRvdyA9IHdpbmRvdzsKCWpzLkxpYi53aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1zZyx1cmwsbGluZSkgewoJCXZhciBmID0ganMuTGliLm9uZXJyb3I7CgkJaWYoZiA9PSBudWxsKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIGYobXNnLFt1cmwgKyAiOiIgKyBsaW5lXSk7Cgl9Owp9Cgpqcy5Ccm93c2VyID0gZnVuY3Rpb24oKSB7IH0KJGh4Q2xhc3Nlc1sianMuQnJvd3NlciJdID0ganMuQnJvd3NlcjsKanMuQnJvd3Nlci5fX25hbWVfXyA9IFsianMiLCJCcm93c2VyIl07CmpzLkJyb3dzZXIuZ2V0TG9jYWxTdG9yYWdlID0gZnVuY3Rpb24oKSB7Cgl0cnkgewoJCXZhciBzID0gd2luZG93LmxvY2FsU3RvcmFnZTsKCQlzLmdldEl0ZW0oIiIpOwoJCXJldHVybiBzOwoJfSBjYXRjaChlKSB7CgkJcmV0dXJuIG51bGw7Cgl9Cn0KanMuQnJvd3Nlci5nZXRTZXNzaW9uU3RvcmFnZSA9IGZ1bmN0aW9uKCkgewoJdHJ5IHsKCQl2YXIgcyA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTsKCQlzLmdldEl0ZW0oIiIpOwoJCXJldHVybiBzOwoJfSBjYXRjaChlKSB7CgkJcmV0dXJuIG51bGw7Cgl9Cn0KanMuQnJvd3Nlci5jcmVhdGVYTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkgewoJaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPSAidW5kZWZpbmVkIikgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJaWYgKHR5cGVvZiBBY3RpdmVYT2JqZWN0ICE9ICJ1bmRlZmluZWQiKSByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7Cgl0aHJvdyAiVW5hYmxlIHRvIGNyZWF0ZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuIjsKfQoKdmFyIElNYXAgPSBmdW5jdGlvbigpIHsgfQokaHhDbGFzc2VzWyJJTWFwIl0gPSBJTWFwOwpJTWFwLl9fbmFtZV9fID0gWyJJTWFwIl07CnZhciBoYXhlID0ge30KaGF4ZS5kcyA9IHt9CmhheGUuZHMuU3RyaW5nTWFwID0gZnVuY3Rpb24oKSB7Cgl0aGlzLmggPSB7fTsKfTsKJGh4Q2xhc3Nlc1siaGF4ZS5kcy5TdHJpbmdNYXAiXSA9IGhheGUuZHMuU3RyaW5nTWFwOwpoYXhlLmRzLlN0cmluZ01hcC5fX25hbWVfXyA9IFsiaGF4ZSIsImRzIiwiU3RyaW5nTWFwIl07CmhheGUuZHMuU3RyaW5nTWFwLl9faW50ZXJmYWNlc19fID0gW0lNYXBdOwpoYXhlLmRzLlN0cmluZ01hcC5wcm90b3R5cGUgPSB7CglzZXQ6IGZ1bmN0aW9uKGtleSx2YWx1ZSkgewoJCXRoaXMuaFsiJCIgKyBrZXldID0gdmFsdWU7Cgl9CgksZ2V0OiBmdW5jdGlvbihrZXkpIHsKCQlyZXR1cm4gdGhpcy5oWyIkIiArIGtleV07Cgl9CgksZXhpc3RzOiBmdW5jdGlvbihrZXkpIHsKCQlyZXR1cm4gdGhpcy5oLmhhc093blByb3BlcnR5KCIkIiArIGtleSk7Cgl9Cgksa2V5czogZnVuY3Rpb24oKSB7CgkJdmFyIGEgPSBbXTsKCQlmb3IoIHZhciBrZXkgaW4gdGhpcy5oICkgewoJCWlmKHRoaXMuaC5oYXNPd25Qcm9wZXJ0eShrZXkpKSBhLnB1c2goa2V5LnN1YnN0cigxKSk7CgkJfQoJCXJldHVybiBIeE92ZXJyaWRlcy5pdGVyKGEpOwoJfQoJLF9fY2xhc3NfXzogaGF4ZS5kcy5TdHJpbmdNYXAKfQpoYXhlLnJlbW90aW5nID0ge30KaGF4ZS5yZW1vdGluZy5Db250ZXh0ID0gZnVuY3Rpb24oKSB7Cgl0aGlzLm9iamVjdHMgPSBuZXcgaGF4ZS5kcy5TdHJpbmdNYXAoKTsKfTsKJGh4Q2xhc3Nlc1siaGF4ZS5yZW1vdGluZy5Db250ZXh0Il0gPSBoYXhlLnJlbW90aW5nLkNvbnRleHQ7CmhheGUucmVtb3RpbmcuQ29udGV4dC5fX25hbWVfXyA9IFsiaGF4ZSIsInJlbW90aW5nIiwiQ29udGV4dCJdOwpoYXhlLnJlbW90aW5nLkNvbnRleHQucHJvdG90eXBlID0gewoJYWRkT2JqZWN0OiBmdW5jdGlvbihuYW1lLG9iaixyZWN1cnNpdmUpIHsKCQl0aGlzLm9iamVjdHMuc2V0KG5hbWUseyBvYmogOiBvYmosIHJlYyA6IHJlY3Vyc2l2ZX0pOwoJfQoJLGNhbGw6IGZ1bmN0aW9uKHBhdGgscGFyYW1zKSB7CgkJaWYocGF0aC5sZW5ndGggPCAyKSB0aHJvdyAiSW52YWxpZCBwYXRoICciICsgcGF0aC5qb2luKCIuIikgKyAiJyI7CgkJdmFyIGluZiA9IHRoaXMub2JqZWN0cy5nZXQocGF0aFswXSk7CgkJaWYoaW5mID09IG51bGwpIHRocm93ICJObyBzdWNoIG9iamVjdCAiICsgcGF0aFswXTsKCQl2YXIgbyA9IGluZi5vYmo7CgkJdmFyIG07CgkJdmFyIHYgPSBudWxsOwoJCXRyeSB7CgkJCXYgPSBvW3BhdGhbMV1dOwoJCX0gY2F0Y2goIGUgKSB7CgkJfQoJCW0gPSB2OwoJCWlmKHBhdGgubGVuZ3RoID4gMikgewoJCQlpZighaW5mLnJlYykgdGhyb3cgIkNhbid0IGFjY2VzcyAiICsgcGF0aC5qb2luKCIuIik7CgkJCXZhciBfZzEgPSAyOwoJCQl2YXIgX2cgPSBwYXRoLmxlbmd0aDsKCQkJd2hpbGUoX2cxIDwgX2cpIHsKCQkJCXZhciBpID0gX2cxKys7CgkJCQlvID0gbTsKCQkJCXZhciB2ID0gbnVsbDsKCQkJCXRyeSB7CgkJCQkJdiA9IG9bcGF0aFtpXV07CgkJCQl9IGNhdGNoKCBlICkgewoJCQkJfQoJCQkJbSA9IHY7CgkJCX0KCQl9CgkJaWYoIVJlZmxlY3QuaXNGdW5jdGlvbihtKSkgdGhyb3cgIk5vIHN1Y2ggbWV0aG9kICIgKyBwYXRoLmpvaW4oIi4iKTsKCQlyZXR1cm4gbS5hcHBseShvLHBhcmFtcyk7Cgl9CgksX19jbGFzc19fOiBoYXhlLnJlbW90aW5nLkNvbnRleHQKfQpoYXhlLnJlbW90aW5nLkV4dGVybmFsQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGRhdGEscGF0aCkgewoJdGhpcy5fX2RhdGEgPSBkYXRhOwoJdGhpcy5fX3BhdGggPSBwYXRoOwp9OwoKaGF4ZS5IdHRwID0gZnVuY3Rpb24odXJsKSB7Cgl0aGlzLnVybCA9IHVybDsKCXRoaXMuaGVhZGVycyA9IG5ldyBMaXN0KCk7Cgl0aGlzLnBhcmFtcyA9IG5ldyBMaXN0KCk7Cgl0aGlzLmFzeW5jID0gdHJ1ZTsKfTsKJGh4Q2xhc3Nlc1siaGF4ZS5IdHRwIl0gPSBoYXhlLkh0dHA7CmhheGUuSHR0cC5fX25hbWVfXyA9IFsiaGF4ZSIsIkh0dHAiXTsKaGF4ZS5IdHRwLnByb3RvdHlwZSA9IHsKCXNldFBhcmFtZXRlcjogZnVuY3Rpb24ocGFyYW0sdmFsdWUpIHsKCQl0aGlzLnBhcmFtcyA9IExhbWJkYS5maWx0ZXIodGhpcy5wYXJhbXMsZnVuY3Rpb24ocCkgewoJCQlyZXR1cm4gcC5wYXJhbSAhPSBwYXJhbTsKCQl9KTsKCQl0aGlzLnBhcmFtcy5wdXNoKHsgcGFyYW0gOiBwYXJhbSwgdmFsdWUgOiB2YWx1ZX0pOwoJCXJldHVybiB0aGlzOwoJfQoJLHJlcXVlc3Q6IGZ1bmN0aW9uKHBvc3QpIHsKCQl2YXIgbWUgPSB0aGlzOwoJCW1lLnJlc3BvbnNlRGF0YSA9IG51bGw7CgkJdmFyIHIgPSBqcy5Ccm93c2VyLmNyZWF0ZVhNTEh0dHBSZXF1ZXN0KCk7CgkJdmFyIG9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKF8pIHsKCQkJaWYoci5yZWFkeVN0YXRlICE9IDQpIHJldHVybjsKCQkJdmFyIHM7CgkJCXRyeSB7CgkJCQlzID0gci5zdGF0dXM7CgkJCX0gY2F0Y2goIGUgKSB7CgkJCQlzID0gbnVsbDsKCQkJfQoJCQlpZihzID09IHVuZGVmaW5lZCkgcyA9IG51bGw7CgkJCWlmKHMgIT0gbnVsbCkgbWUub25TdGF0dXMocyk7CgkJCWlmKHMgIT0gbnVsbCAmJiBzID49IDIwMCAmJiBzIDwgNDAwKSBtZS5vbkRhdGEobWUucmVzcG9uc2VEYXRhID0gci5yZXNwb25zZVRleHQpOyBlbHNlIGlmKHMgPT0gbnVsbCkgbWUub25FcnJvcigiRmFpbGVkIHRvIGNvbm5lY3Qgb3IgcmVzb2x2ZSBob3N0Iik7IGVsc2Ugc3dpdGNoKHMpIHsKCQkJY2FzZSAxMjAyOToKCQkJCW1lLm9uRXJyb3IoIkZhaWxlZCB0byBjb25uZWN0IHRvIGhvc3QiKTsKCQkJCWJyZWFrOwoJCQljYXNlIDEyMDA3OgoJCQkJbWUub25FcnJvcigiVW5rbm93biBob3N0Iik7CgkJCQlicmVhazsKCQkJZGVmYXVsdDoKCQkJCW1lLnJlc3BvbnNlRGF0YSA9IHIucmVzcG9uc2VUZXh0OwoJCQkJbWUub25FcnJvcigiSHR0cCBFcnJvciAjIiArIHIuc3RhdHVzKTsKCQkJfQoJCX07CgkJaWYodGhpcy5hc3luYykgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBvbnJlYWR5c3RhdGVjaGFuZ2U7CgkJdmFyIHVyaSA9IHRoaXMucG9zdERhdGE7CgkJaWYodXJpICE9IG51bGwpIHBvc3QgPSB0cnVlOyBlbHNlIHsKCQkJdmFyICRpdDAgPSB0aGlzLnBhcmFtcy5pdGVyYXRvcigpOwoJCQl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJCQl2YXIgcCA9ICRpdDAubmV4dCgpOwoJCQkJaWYodXJpID09IG51bGwpIHVyaSA9ICIiOyBlbHNlIHVyaSArPSAiJiI7CgkJCQl1cmkgKz0gU3RyaW5nVG9vbHMudXJsRW5jb2RlKHAucGFyYW0pICsgIj0iICsgU3RyaW5nVG9vbHMudXJsRW5jb2RlKHAudmFsdWUpOwoJCQl9CgkJfQoJCXRyeSB7CgkJCWlmKHBvc3QpIHIub3BlbigiUE9TVCIsdGhpcy51cmwsdGhpcy5hc3luYyk7IGVsc2UgaWYodXJpICE9IG51bGwpIHsKCQkJCXZhciBxdWVzdGlvbiA9IHRoaXMudXJsLnNwbGl0KCI/IikubGVuZ3RoIDw9IDE7CgkJCQlyLm9wZW4oIkdFVCIsdGhpcy51cmwgKyAocXVlc3Rpb24/Ij8iOiImIikgKyB1cmksdGhpcy5hc3luYyk7CgkJCQl1cmkgPSBudWxsOwoJCQl9IGVsc2Ugci5vcGVuKCJHRVQiLHRoaXMudXJsLHRoaXMuYXN5bmMpOwoJCX0gY2F0Y2goIGUgKSB7CgkJCXRoaXMub25FcnJvcihlLnRvU3RyaW5nKCkpOwoJCQlyZXR1cm47CgkJfQoJCWlmKCFMYW1iZGEuZXhpc3RzKHRoaXMuaGVhZGVycyxmdW5jdGlvbihoKSB7CgkJCXJldHVybiBoLmhlYWRlciA9PSAiQ29udGVudC1UeXBlIjsKCQl9KSAmJiBwb3N0ICYmIHRoaXMucG9zdERhdGEgPT0gbnVsbCkgci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKCQl2YXIgJGl0MSA9IHRoaXMuaGVhZGVycy5pdGVyYXRvcigpOwoJCXdoaWxlKCAkaXQxLmhhc05leHQoKSApIHsKCQkJdmFyIGggPSAkaXQxLm5leHQoKTsKCQkJci5zZXRSZXF1ZXN0SGVhZGVyKGguaGVhZGVyLGgudmFsdWUpOwoJCX0KCQlyLnNlbmQodXJpKTsKCQlpZighdGhpcy5hc3luYykgb25yZWFkeXN0YXRlY2hhbmdlKG51bGwpOwoJfQoJLG9uRGF0YTogZnVuY3Rpb24oZGF0YSkgewoJfQoJLG9uRXJyb3I6IGZ1bmN0aW9uKG1zZykgewoJfQoJLG9uU3RhdHVzOiBmdW5jdGlvbihzdGF0dXMpIHsKCX0KCSxfX2NsYXNzX186IGhheGUuSHR0cAp9CmhheGUuVGltZXIgPSBmdW5jdGlvbih0aW1lX21zKSB7Cgl2YXIgbWUgPSB0aGlzOwoJdGhpcy5pZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCW1lLnJ1bigpOwoJfSx0aW1lX21zKTsKfTsKJGh4Q2xhc3Nlc1siaGF4ZS5UaW1lciJdID0gaGF4ZS5UaW1lcjsKaGF4ZS5UaW1lci5fX25hbWVfXyA9IFsiaGF4ZSIsIlRpbWVyIl07CmhheGUuVGltZXIuZGVsYXkgPSBmdW5jdGlvbihmLHRpbWVfbXMpIHsKCXZhciB0ID0gbmV3IGhheGUuVGltZXIodGltZV9tcyk7Cgl0LnJ1biA9IGZ1bmN0aW9uKCkgewoJCXQuc3RvcCgpOwoJCWYoKTsKCX07CglyZXR1cm4gdDsKfTsKaGF4ZS5UaW1lci5wcm90b3R5cGUgPSB7CglzdG9wOiBmdW5jdGlvbigpIHsKCQlpZih0aGlzLmlkID09IG51bGwpIHJldHVybjsKCQljbGVhckludGVydmFsKHRoaXMuaWQpOwoJCXRoaXMuaWQgPSBudWxsOwoJfQoJLHJ1bjogZnVuY3Rpb24oKSB7Cgl9CgksX19jbGFzc19fOiBoYXhlLlRpbWVyCn07CgoKdmFyIFN0cmluZ0J1ZiA9IGZ1bmN0aW9uKCkgewoJdGhpcy5iID0gIiI7Cn07CiRoeENsYXNzZXNbIlN0cmluZ0J1ZiJdID0gU3RyaW5nQnVmOwpTdHJpbmdCdWYuX19uYW1lX18gPSBbIlN0cmluZ0J1ZiJdOwpTdHJpbmdCdWYucHJvdG90eXBlID0gewoJYWRkOiBmdW5jdGlvbih4KSB7CgkJdGhpcy5iICs9IFN0ZC5zdHJpbmcoeCk7Cgl9CgksYWRkQ2hhcjogZnVuY3Rpb24oYykgewoJCXRoaXMuYiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpOwoJfQoJLF9fY2xhc3NfXzogU3RyaW5nQnVmCn07Cgp2YXIgVHlwZSA9IGZ1bmN0aW9uKCkgeyB9OwokaHhDbGFzc2VzWyJUeXBlIl0gPSBUeXBlOwpUeXBlLl9fbmFtZV9fID0gWyJUeXBlIl07ClR5cGUuZ2V0Q2xhc3NOYW1lID0gZnVuY3Rpb24oYykgewoJdmFyIGEgPSBjLl9fbmFtZV9fOwoJcmV0dXJuIGEuam9pbigiLiIpOwp9OwpUeXBlLmdldEVudW1OYW1lID0gZnVuY3Rpb24oZSkgewoJdmFyIGEgPSBlLl9fZW5hbWVfXzsKCXJldHVybiBhLmpvaW4oIi4iKTsKfTsKVHlwZS5yZXNvbHZlQ2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7Cgl2YXIgY2wgPSAkaHhDbGFzc2VzW25hbWVdOwoJaWYoY2wgPT0gbnVsbCB8fCAhY2wuX19uYW1lX18pIHJldHVybiBudWxsOwoJcmV0dXJuIGNsOwp9OwpUeXBlLnJlc29sdmVFbnVtID0gZnVuY3Rpb24obmFtZSkgewoJdmFyIGUgPSAkaHhDbGFzc2VzW25hbWVdOwoJaWYoZSA9PSBudWxsIHx8ICFlLl9fZW5hbWVfXykgcmV0dXJuIG51bGw7CglyZXR1cm4gZTsKfTsKVHlwZS5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uKGNsLGFyZ3MpIHsKCXZhciBfZyA9IGFyZ3MubGVuZ3RoOwoJc3dpdGNoKF9nKSB7CgkJY2FzZSAwOgoJCQlyZXR1cm4gbmV3IGNsKCk7CgkJY2FzZSAxOgoJCQlyZXR1cm4gbmV3IGNsKGFyZ3NbMF0pOwoJCWNhc2UgMjoKCQkJcmV0dXJuIG5ldyBjbChhcmdzWzBdLGFyZ3NbMV0pOwoJCWNhc2UgMzoKCQkJcmV0dXJuIG5ldyBjbChhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSk7CgkJY2FzZSA0OgoJCQlyZXR1cm4gbmV3IGNsKGFyZ3NbMF0sYXJnc1sxXSxhcmdzWzJdLGFyZ3NbM10pOwoJCWNhc2UgNToKCQkJcmV0dXJuIG5ldyBjbChhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSxhcmdzWzNdLGFyZ3NbNF0pOwoJCWNhc2UgNjoKCQkJcmV0dXJuIG5ldyBjbChhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSxhcmdzWzNdLGFyZ3NbNF0sYXJnc1s1XSk7CgkJY2FzZSA3OgoJCQlyZXR1cm4gbmV3IGNsKGFyZ3NbMF0sYXJnc1sxXSxhcmdzWzJdLGFyZ3NbM10sYXJnc1s0XSxhcmdzWzVdLGFyZ3NbNl0pOwoJCWNhc2UgODoKCQkJcmV0dXJuIG5ldyBjbChhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSxhcmdzWzNdLGFyZ3NbNF0sYXJnc1s1XSxhcmdzWzZdLGFyZ3NbN10pOwoJCWRlZmF1bHQ6CgkJCXRocm93ICJUb28gbWFueSBhcmd1bWVudHMiOwoJfQoJcmV0dXJuIG51bGw7Cn07ClR5cGUuY3JlYXRlRW1wdHlJbnN0YW5jZSA9IGZ1bmN0aW9uKGNsKSB7CglmdW5jdGlvbiBlbXB0eSgpIHt9OyBlbXB0eS5wcm90b3R5cGUgPSBjbC5wcm90b3R5cGU7CglyZXR1cm4gbmV3IGVtcHR5KCk7Cn07ClR5cGUuY3JlYXRlRW51bSA9IGZ1bmN0aW9uKGUsY29uc3RyLHBhcmFtcykgewoJdmFyIGYgPSBSZWZsZWN0LmZpZWxkKGUsY29uc3RyKTsKCWlmKGYgPT0gbnVsbCkgdGhyb3cgIk5vIHN1Y2ggY29uc3RydWN0b3IgIiArIGNvbnN0cjsKCWlmKFJlZmxlY3QuaXNGdW5jdGlvbihmKSkgewoJCWlmKHBhcmFtcyA9PSBudWxsKSB0aHJvdyAiQ29uc3RydWN0b3IgIiArIGNvbnN0ciArICIgbmVlZCBwYXJhbWV0ZXJzIjsKCQlyZXR1cm4gZi5hcHBseShlLHBhcmFtcyk7Cgl9CglpZihwYXJhbXMgIT0gbnVsbCAmJiBwYXJhbXMubGVuZ3RoICE9IDApIHRocm93ICJDb25zdHJ1Y3RvciAiICsgY29uc3RyICsgIiBkb2VzIG5vdCBuZWVkIHBhcmFtZXRlcnMiOwoJcmV0dXJuIGY7Cn07ClR5cGUuY3JlYXRlRW51bUluZGV4ID0gZnVuY3Rpb24oZSxpbmRleCxwYXJhbXMpIHsKCXZhciBjID0gZS5fX2NvbnN0cnVjdHNfX1tpbmRleF07CglpZihjID09IG51bGwpIHRocm93IGluZGV4ICsgIiBpcyBub3QgYSB2YWxpZCBlbnVtIGNvbnN0cnVjdG9yIGluZGV4IjsKCXJldHVybiBUeXBlLmNyZWF0ZUVudW0oZSxjLHBhcmFtcyk7Cn07ClR5cGUuZ2V0RW51bUNvbnN0cnVjdHMgPSBmdW5jdGlvbihlKSB7Cgl2YXIgYSA9IGUuX19jb25zdHJ1Y3RzX187CglyZXR1cm4gYS5zbGljZSgpOwp9OwpUeXBlWyJ0eXBlb2YiXSA9IGZ1bmN0aW9uKHYpIHsKCXZhciBfZyA9IHR5cGVvZih2KTsKCXN3aXRjaChfZykgewoJCWNhc2UgImJvb2xlYW4iOgoJCQlyZXR1cm4gVmFsdWVUeXBlLlRCb29sOwoJCWNhc2UgInN0cmluZyI6CgkJCXJldHVybiBWYWx1ZVR5cGUuVENsYXNzKFN0cmluZyk7CgkJY2FzZSAibnVtYmVyIjoKCQkJaWYoTWF0aC5jZWlsKHYpID09IHYgJSAyMTQ3NDgzNjQ4LjApIHJldHVybiBWYWx1ZVR5cGUuVEludDsKCQkJcmV0dXJuIFZhbHVlVHlwZS5URmxvYXQ7CgkJY2FzZSAib2JqZWN0IjoKCQkJaWYodiA9PSBudWxsKSByZXR1cm4gVmFsdWVUeXBlLlROdWxsOwoJCQl2YXIgZSA9IHYuX19lbnVtX187CgkJCWlmKGUgIT0gbnVsbCkgcmV0dXJuIFZhbHVlVHlwZS5URW51bShlKTsKCQkJdmFyIGM7CgkJCWlmKCh2IGluc3RhbmNlb2YgQXJyYXkpICYmIHYuX19lbnVtX18gPT0gbnVsbCkgYyA9IEFycmF5OyBlbHNlIGMgPSB2Ll9fY2xhc3NfXzsKCQkJaWYoYyAhPSBudWxsKSByZXR1cm4gVmFsdWVUeXBlLlRDbGFzcyhjKTsKCQkJcmV0dXJuIFZhbHVlVHlwZS5UT2JqZWN0OwoJCWNhc2UgImZ1bmN0aW9uIjoKCQkJaWYodi5fX25hbWVfXyB8fCB2Ll9fZW5hbWVfXykgcmV0dXJuIFZhbHVlVHlwZS5UT2JqZWN0OwoJCQlyZXR1cm4gVmFsdWVUeXBlLlRGdW5jdGlvbjsKCQljYXNlICJ1bmRlZmluZWQiOgoJCQlyZXR1cm4gVmFsdWVUeXBlLlROdWxsOwoJCWRlZmF1bHQ6CgkJCXJldHVybiBWYWx1ZVR5cGUuVFVua25vd247Cgl9Cn07ClR5cGUuZW51bUVxID0gZnVuY3Rpb24oYSxiKSB7CglpZihhID09IGIpIHJldHVybiB0cnVlOwoJdHJ5IHsKCQlpZihhWzBdICE9IGJbMF0pIHJldHVybiBmYWxzZTsKCQl2YXIgX2cxID0gMjsKCQl2YXIgX2cgPSBhLmxlbmd0aDsKCQl3aGlsZShfZzEgPCBfZykgewoJCQl2YXIgaSA9IF9nMSsrOwoJCQlpZighVHlwZS5lbnVtRXEoYVtpXSxiW2ldKSkgcmV0dXJuIGZhbHNlOwoJCX0KCQl2YXIgZSA9IGEuX19lbnVtX187CgkJaWYoZSAhPSBiLl9fZW51bV9fIHx8IGUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlOwoJfSBjYXRjaCggZTEgKSB7CgkJcmV0dXJuIGZhbHNlOwoJfQoJcmV0dXJuIHRydWU7Cn07ClR5cGUuYWxsRW51bXMgPSBmdW5jdGlvbihlKSB7CglyZXR1cm4gZS5fX2VtcHR5X2NvbnN0cnVjdHNfXzsKfTsKCnZhciBWYWx1ZVR5cGUgPSAkaHhDbGFzc2VzWyJWYWx1ZVR5cGUiXSA9IHsgX19lbmFtZV9fIDogWyJWYWx1ZVR5cGUiXSwgX19jb25zdHJ1Y3RzX18gOiBbIlROdWxsIiwiVEludCIsIlRGbG9hdCIsIlRCb29sIiwiVE9iamVjdCIsIlRGdW5jdGlvbiIsIlRDbGFzcyIsIlRFbnVtIiwiVFVua25vd24iXSB9OwpWYWx1ZVR5cGUuVE51bGwgPSBbIlROdWxsIiwwXTsKVmFsdWVUeXBlLlROdWxsLnRvU3RyaW5nID0gJGVzdHI7ClZhbHVlVHlwZS5UTnVsbC5fX2VudW1fXyA9IFZhbHVlVHlwZTsKVmFsdWVUeXBlLlRJbnQgPSBbIlRJbnQiLDFdOwpWYWx1ZVR5cGUuVEludC50b1N0cmluZyA9ICRlc3RyOwpWYWx1ZVR5cGUuVEludC5fX2VudW1fXyA9IFZhbHVlVHlwZTsKVmFsdWVUeXBlLlRGbG9hdCA9IFsiVEZsb2F0IiwyXTsKVmFsdWVUeXBlLlRGbG9hdC50b1N0cmluZyA9ICRlc3RyOwpWYWx1ZVR5cGUuVEZsb2F0Ll9fZW51bV9fID0gVmFsdWVUeXBlOwpWYWx1ZVR5cGUuVEJvb2wgPSBbIlRCb29sIiwzXTsKVmFsdWVUeXBlLlRCb29sLnRvU3RyaW5nID0gJGVzdHI7ClZhbHVlVHlwZS5UQm9vbC5fX2VudW1fXyA9IFZhbHVlVHlwZTsKVmFsdWVUeXBlLlRPYmplY3QgPSBbIlRPYmplY3QiLDRdOwpWYWx1ZVR5cGUuVE9iamVjdC50b1N0cmluZyA9ICRlc3RyOwpWYWx1ZVR5cGUuVE9iamVjdC5fX2VudW1fXyA9IFZhbHVlVHlwZTsKVmFsdWVUeXBlLlRGdW5jdGlvbiA9IFsiVEZ1bmN0aW9uIiw1XTsKVmFsdWVUeXBlLlRGdW5jdGlvbi50b1N0cmluZyA9ICRlc3RyOwpWYWx1ZVR5cGUuVEZ1bmN0aW9uLl9fZW51bV9fID0gVmFsdWVUeXBlOwpWYWx1ZVR5cGUuVENsYXNzID0gZnVuY3Rpb24oYykgeyB2YXIgJHggPSBbIlRDbGFzcyIsNixjXTsgJHguX19lbnVtX18gPSBWYWx1ZVR5cGU7ICR4LnRvU3RyaW5nID0gJGVzdHI7IHJldHVybiAkeDsgfTsKVmFsdWVUeXBlLlRFbnVtID0gZnVuY3Rpb24oZSkgeyB2YXIgJHggPSBbIlRFbnVtIiw3LGVdOyAkeC5fX2VudW1fXyA9IFZhbHVlVHlwZTsgJHgudG9TdHJpbmcgPSAkZXN0cjsgcmV0dXJuICR4OyB9OwpWYWx1ZVR5cGUuVFVua25vd24gPSBbIlRVbmtub3duIiw4XTsKVmFsdWVUeXBlLlRVbmtub3duLnRvU3RyaW5nID0gJGVzdHI7ClZhbHVlVHlwZS5UVW5rbm93bi5fX2VudW1fXyA9IFZhbHVlVHlwZTsKVmFsdWVUeXBlLl9fZW1wdHlfY29uc3RydWN0c19fID0gW1ZhbHVlVHlwZS5UTnVsbCxWYWx1ZVR5cGUuVEludCxWYWx1ZVR5cGUuVEZsb2F0LFZhbHVlVHlwZS5UQm9vbCxWYWx1ZVR5cGUuVE9iamVjdCxWYWx1ZVR5cGUuVEZ1bmN0aW9uLFZhbHVlVHlwZS5UVW5rbm93bl07CgpoYXhlLlNlcmlhbGl6ZXIgPSBmdW5jdGlvbigpIHsKCXRoaXMuYnVmID0gbmV3IFN0cmluZ0J1ZigpOwoJdGhpcy5jYWNoZSA9IG5ldyBBcnJheSgpOwoJdGhpcy51c2VDYWNoZSA9IGhheGUuU2VyaWFsaXplci5VU0VfQ0FDSEU7Cgl0aGlzLnVzZUVudW1JbmRleCA9IGhheGUuU2VyaWFsaXplci5VU0VfRU5VTV9JTkRFWDsKCXRoaXMuc2hhc2ggPSBuZXcgaGF4ZS5kcy5TdHJpbmdNYXAoKTsKCXRoaXMuc2NvdW50ID0gMDsKfTsKJGh4Q2xhc3Nlc1siaGF4ZS5TZXJpYWxpemVyIl0gPSBoYXhlLlNlcmlhbGl6ZXI7CmhheGUuU2VyaWFsaXplci5fX25hbWVfXyA9IFsiaGF4ZSIsIlNlcmlhbGl6ZXIiXTsKaGF4ZS5TZXJpYWxpemVyLnJ1biA9IGZ1bmN0aW9uKHYpIHsKCXZhciBzID0gbmV3IGhheGUuU2VyaWFsaXplcigpOwoJcy5zZXJpYWxpemUodik7CglyZXR1cm4gcy50b1N0cmluZygpOwp9OwpoYXhlLlNlcmlhbGl6ZXIucHJvdG90eXBlID0gewoJdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmJ1Zi5iOwoJfQoJLHNlcmlhbGl6ZVN0cmluZzogZnVuY3Rpb24ocykgewoJCXZhciB4ID0gdGhpcy5zaGFzaC5nZXQocyk7CgkJaWYoeCAhPSBudWxsKSB7CgkJCXRoaXMuYnVmLmIgKz0gIlIiOwoJCQlpZih4ID09IG51bGwpIHRoaXMuYnVmLmIgKz0gIm51bGwiOyBlbHNlIHRoaXMuYnVmLmIgKz0gIiIgKyB4OwoJCQlyZXR1cm47CgkJfQoJCXRoaXMuc2hhc2guc2V0KHMsdGhpcy5zY291bnQrKyk7CgkJdGhpcy5idWYuYiArPSAieSI7CgkJcyA9IGVuY29kZVVSSUNvbXBvbmVudChzKTsKCQlpZihzLmxlbmd0aCA9PSBudWxsKSB0aGlzLmJ1Zi5iICs9ICJudWxsIjsgZWxzZSB0aGlzLmJ1Zi5iICs9ICIiICsgcy5sZW5ndGg7CgkJdGhpcy5idWYuYiArPSAiOiI7CgkJaWYocyA9PSBudWxsKSB0aGlzLmJ1Zi5iICs9ICJudWxsIjsgZWxzZSB0aGlzLmJ1Zi5iICs9ICIiICsgczsKCX0KCSxzZXJpYWxpemVSZWY6IGZ1bmN0aW9uKHYpIHsKCQl2YXIgdnQgPSB0eXBlb2Yodik7CgkJdmFyIF9nMSA9IDA7CgkJdmFyIF9nID0gdGhpcy5jYWNoZS5sZW5ndGg7CgkJd2hpbGUoX2cxIDwgX2cpIHsKCQkJdmFyIGkgPSBfZzErKzsKCQkJdmFyIGNpID0gdGhpcy5jYWNoZVtpXTsKCQkJaWYodHlwZW9mKGNpKSA9PSB2dCAmJiBjaSA9PSB2KSB7CgkJCQl0aGlzLmJ1Zi5iICs9ICJyIjsKCQkJCWlmKGkgPT0gbnVsbCkgdGhpcy5idWYuYiArPSAibnVsbCI7IGVsc2UgdGhpcy5idWYuYiArPSAiIiArIGk7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCQl0aGlzLmNhY2hlLnB1c2godik7CgkJcmV0dXJuIGZhbHNlOwoJfQoJLHNlcmlhbGl6ZUZpZWxkczogZnVuY3Rpb24odikgewoJCXZhciBfZyA9IDA7CgkJdmFyIF9nMSA9IFJlZmxlY3QuZmllbGRzKHYpOwoJCXdoaWxlKF9nIDwgX2cxLmxlbmd0aCkgewoJCQl2YXIgZiA9IF9nMVtfZ107CgkJCSsrX2c7CgkJCXRoaXMuc2VyaWFsaXplU3RyaW5nKGYpOwoJCQl0aGlzLnNlcmlhbGl6ZShSZWZsZWN0LmZpZWxkKHYsZikpOwoJCX0KCQl0aGlzLmJ1Zi5iICs9ICJnIjsKCX0KCSxzZXJpYWxpemU6IGZ1bmN0aW9uKHYpIHsKCQl7CgkJCXZhciBfZyA9IFR5cGVbInR5cGVvZiJdKHYpOwoJCQlzd2l0Y2goX2dbMV0pIHsKCQkJCWNhc2UgMDoKCQkJCQl0aGlzLmJ1Zi5iICs9ICJuIjsKCQkJCQlicmVhazsKCQkJCWNhc2UgMToKCQkJCQl2YXIgdjEgPSB2OwoJCQkJCWlmKHYxID09IDApIHsKCQkJCQkJdGhpcy5idWYuYiArPSAieiI7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJdGhpcy5idWYuYiArPSAiaSI7CgkJCQkJaWYodjEgPT0gbnVsbCkgdGhpcy5idWYuYiArPSAibnVsbCI7IGVsc2UgdGhpcy5idWYuYiArPSAiIiArIHYxOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAyOgoJCQkJCXZhciB2MiA9IHY7CgkJCQkJaWYoTWF0aC5pc05hTih2MikpIHRoaXMuYnVmLmIgKz0gImsiOyBlbHNlIGlmKCFNYXRoLmlzRmluaXRlKHYyKSkgaWYodjIgPCAwKSB0aGlzLmJ1Zi5iICs9ICJtIjsgZWxzZSB0aGlzLmJ1Zi5iICs9ICJwIjsgZWxzZSB7CgkJCQkJCXRoaXMuYnVmLmIgKz0gImQiOwoJCQkJCQlpZih2MiA9PSBudWxsKSB0aGlzLmJ1Zi5iICs9ICJudWxsIjsgZWxzZSB0aGlzLmJ1Zi5iICs9ICIiICsgdjI7CgkJCQkJfQoJCQkJCWJyZWFrOwoJCQkJY2FzZSAzOgoJCQkJCWlmKHYpIHRoaXMuYnVmLmIgKz0gInQiOyBlbHNlIHRoaXMuYnVmLmIgKz0gImYiOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSA2OgoJCQkJCXZhciBjID0gX2dbMl07CgkJCQkJaWYoYyA9PSBTdHJpbmcpIHsKCQkJCQkJdGhpcy5zZXJpYWxpemVTdHJpbmcodik7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJaWYodGhpcy51c2VDYWNoZSAmJiB0aGlzLnNlcmlhbGl6ZVJlZih2KSkgcmV0dXJuOwoJCQkJCXN3aXRjaChjKSB7CgkJCQkJCWNhc2UgQXJyYXk6CgkJCQkJCQl2YXIgdWNvdW50ID0gMDsKCQkJCQkJCXRoaXMuYnVmLmIgKz0gImEiOwoJCQkJCQkJdmFyIGwgPSB2Lmxlbmd0aDsKCQkJCQkJCXZhciBfZzEgPSAwOwoJCQkJCQkJd2hpbGUoX2cxIDwgbCkgewoJCQkJCQkJCXZhciBpID0gX2cxKys7CgkJCQkJCQkJaWYodltpXSA9PSBudWxsKSB1Y291bnQrKzsgZWxzZSB7CgkJCQkJCQkJCWlmKHVjb3VudCA+IDApIHsKCQkJCQkJCQkJCWlmKHVjb3VudCA9PSAxKSB0aGlzLmJ1Zi5iICs9ICJuIjsgZWxzZSB7CgkJCQkJCQkJCQkJdGhpcy5idWYuYiArPSAidSI7CgkJCQkJCQkJCQkJaWYodWNvdW50ID09IG51bGwpIHRoaXMuYnVmLmIgKz0gIm51bGwiOyBlbHNlIHRoaXMuYnVmLmIgKz0gIiIgKyB1Y291bnQ7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQl1Y291bnQgPSAwOwoJCQkJCQkJCQl9CgkJCQkJCQkJCXRoaXMuc2VyaWFsaXplKHZbaV0pOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCWlmKHVjb3VudCA+IDApIHsKCQkJCQkJCQlpZih1Y291bnQgPT0gMSkgdGhpcy5idWYuYiArPSAibiI7IGVsc2UgewoJCQkJCQkJCQl0aGlzLmJ1Zi5iICs9ICJ1IjsKCQkJCQkJCQkJaWYodWNvdW50ID09IG51bGwpIHRoaXMuYnVmLmIgKz0gIm51bGwiOyBlbHNlIHRoaXMuYnVmLmIgKz0gIiIgKyB1Y291bnQ7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJdGhpcy5idWYuYiArPSAiaCI7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSBMaXN0OgoJCQkJCQkJdGhpcy5idWYuYiArPSAibCI7CgkJCQkJCQl2YXIgdjMgPSB2OwoJCQkJCQkJdmFyICRpdDAgPSB2My5pdGVyYXRvcigpOwoJCQkJCQkJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCQkJCQkJCXZhciBpMSA9ICRpdDAubmV4dCgpOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplKGkxKTsKCQkJCQkJCX0KCQkJCQkJCXRoaXMuYnVmLmIgKz0gImgiOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgRGF0ZToKCQkJCQkJCXZhciBkID0gdjsKCQkJCQkJCXRoaXMuYnVmLmIgKz0gInYiOwoJCQkJCQkJdGhpcy5idWYuYWRkKEh4T3ZlcnJpZGVzLmRhdGVTdHIoZCkpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgaGF4ZS5kcy5TdHJpbmdNYXA6CgkJCQkJCQl0aGlzLmJ1Zi5iICs9ICJiIjsKCQkJCQkJCXZhciB2NCA9IHY7CgkJCQkJCQl2YXIgJGl0MSA9IHY0LmtleXMoKTsKCQkJCQkJCXdoaWxlKCAkaXQxLmhhc05leHQoKSApIHsKCQkJCQkJCQl2YXIgayA9ICRpdDEubmV4dCgpOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplU3RyaW5nKGspOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplKHY0LmdldChrKSk7CgkJCQkJCQl9CgkJCQkJCQl0aGlzLmJ1Zi5iICs9ICJoIjsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlIGhheGUuZHMuSW50TWFwOgoJCQkJCQkJdGhpcy5idWYuYiArPSAicSI7CgkJCQkJCQl2YXIgdjUgPSB2OwoJCQkJCQkJdmFyICRpdDIgPSB2NS5rZXlzKCk7CgkJCQkJCQl3aGlsZSggJGl0Mi5oYXNOZXh0KCkgKSB7CgkJCQkJCQkJdmFyIGsxID0gJGl0Mi5uZXh0KCk7CgkJCQkJCQkJdGhpcy5idWYuYiArPSAiOiI7CgkJCQkJCQkJaWYoazEgPT0gbnVsbCkgdGhpcy5idWYuYiArPSAibnVsbCI7IGVsc2UgdGhpcy5idWYuYiArPSAiIiArIGsxOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplKHY1LmdldChrMSkpOwoJCQkJCQkJfQoJCQkJCQkJdGhpcy5idWYuYiArPSAiaCI7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSBoYXhlLmRzLk9iamVjdE1hcDoKCQkJCQkJCXRoaXMuYnVmLmIgKz0gIk0iOwoJCQkJCQkJdmFyIHY2ID0gdjsKCQkJCQkJCXZhciAkaXQzID0gdjYua2V5cygpOwoJCQkJCQkJd2hpbGUoICRpdDMuaGFzTmV4dCgpICkgewoJCQkJCQkJCXZhciBrMiA9ICRpdDMubmV4dCgpOwoJCQkJCQkJCXZhciBpZCA9IFJlZmxlY3QuZmllbGQoazIsIl9faWRfXyIpOwoJCQkJCQkJCVJlZmxlY3QuZGVsZXRlRmllbGQoazIsIl9faWRfXyIpOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplKGsyKTsKCQkJCQkJCQlrMi5fX2lkX18gPSBpZDsKCQkJCQkJCQl0aGlzLnNlcmlhbGl6ZSh2Ni5oW2syLl9faWRfX10pOwoJCQkJCQkJfQoJCQkJCQkJdGhpcy5idWYuYiArPSAiaCI7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSBoYXhlLmlvLkJ5dGVzOgoJCQkJCQkJdmFyIHY3ID0gdjsKCQkJCQkJCXZhciBpMiA9IDA7CgkJCQkJCQl2YXIgbWF4ID0gdjcubGVuZ3RoIC0gMjsKCQkJCQkJCXZhciBjaGFyc0J1ZiA9IG5ldyBTdHJpbmdCdWYoKTsKCQkJCQkJCXZhciBiNjQgPSBoYXhlLlNlcmlhbGl6ZXIuQkFTRTY0OwoJCQkJCQkJd2hpbGUoaTIgPCBtYXgpIHsKCQkJCQkJCQl2YXIgYjEgPSB2Ny5nZXQoaTIrKyk7CgkJCQkJCQkJdmFyIGIyID0gdjcuZ2V0KGkyKyspOwoJCQkJCQkJCXZhciBiMyA9IHY3LmdldChpMisrKTsKCQkJCQkJCQljaGFyc0J1Zi5hZGQoYjY0LmNoYXJBdChiMSA+PiAyKSk7CgkJCQkJCQkJY2hhcnNCdWYuYWRkKGI2NC5jaGFyQXQoKGIxIDw8IDQgfCBiMiA+PiA0KSAmIDYzKSk7CgkJCQkJCQkJY2hhcnNCdWYuYWRkKGI2NC5jaGFyQXQoKGIyIDw8IDIgfCBiMyA+PiA2KSAmIDYzKSk7CgkJCQkJCQkJY2hhcnNCdWYuYWRkKGI2NC5jaGFyQXQoYjMgJiA2MykpOwoJCQkJCQkJfQoJCQkJCQkJaWYoaTIgPT0gbWF4KSB7CgkJCQkJCQkJdmFyIGIxMSA9IHY3LmdldChpMisrKTsKCQkJCQkJCQl2YXIgYjIxID0gdjcuZ2V0KGkyKyspOwoJCQkJCQkJCWNoYXJzQnVmLmFkZChiNjQuY2hhckF0KGIxMSA+PiAyKSk7CgkJCQkJCQkJY2hhcnNCdWYuYWRkKGI2NC5jaGFyQXQoKGIxMSA8PCA0IHwgYjIxID4+IDQpICYgNjMpKTsKCQkJCQkJCQljaGFyc0J1Zi5hZGQoYjY0LmNoYXJBdChiMjEgPDwgMiAmIDYzKSk7CgkJCQkJCQl9IGVsc2UgaWYoaTIgPT0gbWF4ICsgMSkgewoJCQkJCQkJCXZhciBiMTIgPSB2Ny5nZXQoaTIrKyk7CgkJCQkJCQkJY2hhcnNCdWYuYWRkKGI2NC5jaGFyQXQoYjEyID4+IDIpKTsKCQkJCQkJCQljaGFyc0J1Zi5hZGQoYjY0LmNoYXJBdChiMTIgPDwgNCAmIDYzKSk7CgkJCQkJCQl9CgkJCQkJCQl2YXIgY2hhcnMgPSBjaGFyc0J1Zi5iOwoJCQkJCQkJdGhpcy5idWYuYiArPSAicyI7CgkJCQkJCQlpZihjaGFycy5sZW5ndGggPT0gbnVsbCkgdGhpcy5idWYuYiArPSAibnVsbCI7IGVsc2UgdGhpcy5idWYuYiArPSAiIiArIGNoYXJzLmxlbmd0aDsKCQkJCQkJCXRoaXMuYnVmLmIgKz0gIjoiOwoJCQkJCQkJaWYoY2hhcnMgPT0gbnVsbCkgdGhpcy5idWYuYiArPSAibnVsbCI7IGVsc2UgdGhpcy5idWYuYiArPSAiIiArIGNoYXJzOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQlpZih0aGlzLnVzZUNhY2hlKSB0aGlzLmNhY2hlLnBvcCgpOwoJCQkJCQkJaWYodi5oeFNlcmlhbGl6ZSAhPSBudWxsKSB7CgkJCQkJCQkJdGhpcy5idWYuYiArPSAiQyI7CgkJCQkJCQkJdGhpcy5zZXJpYWxpemVTdHJpbmcoVHlwZS5nZXRDbGFzc05hbWUoYykpOwoJCQkJCQkJCWlmKHRoaXMudXNlQ2FjaGUpIHRoaXMuY2FjaGUucHVzaCh2KTsKCQkJCQkJCQl2Lmh4U2VyaWFsaXplKHRoaXMpOwoJCQkJCQkJCXRoaXMuYnVmLmIgKz0gImciOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0aGlzLmJ1Zi5iICs9ICJjIjsKCQkJCQkJCQl0aGlzLnNlcmlhbGl6ZVN0cmluZyhUeXBlLmdldENsYXNzTmFtZShjKSk7CgkJCQkJCQkJaWYodGhpcy51c2VDYWNoZSkgdGhpcy5jYWNoZS5wdXNoKHYpOwoJCQkJCQkJCXRoaXMuc2VyaWFsaXplRmllbGRzKHYpOwoJCQkJCQkJfQoJCQkJCX0KCQkJCQlicmVhazsKCQkJCWNhc2UgNDoKCQkJCQlpZih0aGlzLnVzZUNhY2hlICYmIHRoaXMuc2VyaWFsaXplUmVmKHYpKSByZXR1cm47CgkJCQkJdGhpcy5idWYuYiArPSAibyI7CgkJCQkJdGhpcy5zZXJpYWxpemVGaWVsZHModik7CgkJCQkJYnJlYWs7CgkJCQljYXNlIDc6CgkJCQkJdmFyIGUgPSBfZ1syXTsKCQkJCQlpZih0aGlzLnVzZUNhY2hlKSB7CgkJCQkJCWlmKHRoaXMuc2VyaWFsaXplUmVmKHYpKSByZXR1cm47CgkJCQkJCXRoaXMuY2FjaGUucG9wKCk7CgkJCQkJfQoJCQkJCWlmKHRoaXMudXNlRW51bUluZGV4KSB0aGlzLmJ1Zi5iICs9ICJqIjsgZWxzZSB0aGlzLmJ1Zi5iICs9ICJ3IjsKCQkJCQl0aGlzLnNlcmlhbGl6ZVN0cmluZyhUeXBlLmdldEVudW1OYW1lKGUpKTsKCQkJCQlpZih0aGlzLnVzZUVudW1JbmRleCkgewoJCQkJCQl0aGlzLmJ1Zi5iICs9ICI6IjsKCQkJCQkJdGhpcy5idWYuYiArPSBTdGQuc3RyaW5nKHZbMV0pOwoJCQkJCX0gZWxzZSB0aGlzLnNlcmlhbGl6ZVN0cmluZyh2WzBdKTsKCQkJCQl0aGlzLmJ1Zi5iICs9ICI6IjsKCQkJCQl2YXIgbDEgPSB2Lmxlbmd0aDsKCQkJCQl0aGlzLmJ1Zi5iICs9IFN0ZC5zdHJpbmcobDEgLSAyKTsKCQkJCQl2YXIgX2cxMSA9IDI7CgkJCQkJd2hpbGUoX2cxMSA8IGwxKSB7CgkJCQkJCXZhciBpMyA9IF9nMTErKzsKCQkJCQkJdGhpcy5zZXJpYWxpemUodltpM10pOwoJCQkJCX0KCQkJCQlpZih0aGlzLnVzZUNhY2hlKSB0aGlzLmNhY2hlLnB1c2godik7CgkJCQkJYnJlYWs7CgkJCQljYXNlIDU6CgkJCQkJdGhyb3cgIkNhbm5vdCBzZXJpYWxpemUgZnVuY3Rpb24iOwoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQl0aHJvdyAiQ2Fubm90IHNlcmlhbGl6ZSAiICsgU3RkLnN0cmluZyh2KTsKCQkJfQoJCX0KCX0KCSxzZXJpYWxpemVFeGNlcHRpb246IGZ1bmN0aW9uKGUpIHsKCQl0aGlzLmJ1Zi5iICs9ICJ4IjsKCQl0aGlzLnNlcmlhbGl6ZShlKTsKCX0KCSxfX2NsYXNzX186IGhheGUuU2VyaWFsaXplcgp9OwoKCk1hdGguX19uYW1lX18gPSBbIk1hdGgiXTsKCgp2YXIgTGlzdCA9IGZ1bmN0aW9uKCkgewoJdGhpcy5sZW5ndGggPSAwOwp9OwokaHhDbGFzc2VzWyJMaXN0Il0gPSBMaXN0OwpMaXN0Ll9fbmFtZV9fID0gWyJMaXN0Il07Ckxpc3QucHJvdG90eXBlID0gewoJYWRkOiBmdW5jdGlvbihpdGVtKSB7CgkJdmFyIHggPSBbaXRlbV07CgkJaWYodGhpcy5oID09IG51bGwpIHRoaXMuaCA9IHg7IGVsc2UgdGhpcy5xWzFdID0geDsKCQl0aGlzLnEgPSB4OwoJCXRoaXMubGVuZ3RoKys7Cgl9CgkscHVzaDogZnVuY3Rpb24oaXRlbSkgewoJCXZhciB4ID0gW2l0ZW0sdGhpcy5oXTsKCQl0aGlzLmggPSB4OwoJCWlmKHRoaXMucSA9PSBudWxsKSB0aGlzLnEgPSB4OwoJCXRoaXMubGVuZ3RoKys7Cgl9CgksZmlyc3Q6IGZ1bmN0aW9uKCkgewoJCWlmKHRoaXMuaCA9PSBudWxsKSByZXR1cm4gbnVsbDsgZWxzZSByZXR1cm4gdGhpcy5oWzBdOwoJfQoJLGxhc3Q6IGZ1bmN0aW9uKCkgewoJCWlmKHRoaXMucSA9PSBudWxsKSByZXR1cm4gbnVsbDsgZWxzZSByZXR1cm4gdGhpcy5xWzBdOwoJfQoJLHBvcDogZnVuY3Rpb24oKSB7CgkJaWYodGhpcy5oID09IG51bGwpIHJldHVybiBudWxsOwoJCXZhciB4ID0gdGhpcy5oWzBdOwoJCXRoaXMuaCA9IHRoaXMuaFsxXTsKCQlpZih0aGlzLmggPT0gbnVsbCkgdGhpcy5xID0gbnVsbDsKCQl0aGlzLmxlbmd0aC0tOwoJCXJldHVybiB4OwoJfQoJLGlzRW1wdHk6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmggPT0gbnVsbDsKCX0KCSxjbGVhcjogZnVuY3Rpb24oKSB7CgkJdGhpcy5oID0gbnVsbDsKCQl0aGlzLnEgPSBudWxsOwoJCXRoaXMubGVuZ3RoID0gMDsKCX0KCSxyZW1vdmU6IGZ1bmN0aW9uKHYpIHsKCQl2YXIgcHJldiA9IG51bGw7CgkJdmFyIGwgPSB0aGlzLmg7CgkJd2hpbGUobCAhPSBudWxsKSB7CgkJCWlmKGxbMF0gPT0gdikgewoJCQkJaWYocHJldiA9PSBudWxsKSB0aGlzLmggPSBsWzFdOyBlbHNlIHByZXZbMV0gPSBsWzFdOwoJCQkJaWYodGhpcy5xID09IGwpIHRoaXMucSA9IHByZXY7CgkJCQl0aGlzLmxlbmd0aC0tOwoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQkJcHJldiA9IGw7CgkJCWwgPSBsWzFdOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgksaXRlcmF0b3I6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB7IGggOiB0aGlzLmgsIGhhc05leHQgOiBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHRoaXMuaCAhPSBudWxsOwoJCX0sIG5leHQgOiBmdW5jdGlvbigpIHsKCQkJaWYodGhpcy5oID09IG51bGwpIHJldHVybiBudWxsOwoJCQl2YXIgeCA9IHRoaXMuaFswXTsKCQkJdGhpcy5oID0gdGhpcy5oWzFdOwoJCQlyZXR1cm4geDsKCQl9fTsKCX0KCSxqb2luOiBmdW5jdGlvbihzZXApIHsKCQl2YXIgcyA9IG5ldyBTdHJpbmdCdWYoKTsKCQl2YXIgZmlyc3QgPSB0cnVlOwoJCXZhciBsID0gdGhpcy5oOwoJCXdoaWxlKGwgIT0gbnVsbCkgewoJCQlpZihmaXJzdCkgZmlyc3QgPSBmYWxzZTsgZWxzZSBzLmIgKz0gU3RkLnN0cmluZyhzZXApOwoJCQlzLmIgKz0gU3RkLnN0cmluZyhsWzBdKTsKCQkJbCA9IGxbMV07CgkJfQoJCXJldHVybiBzLmI7Cgl9CgksZmlsdGVyOiBmdW5jdGlvbihmKSB7CgkJdmFyIGwyID0gbmV3IExpc3QoKTsKCQl2YXIgbCA9IHRoaXMuaDsKCQl3aGlsZShsICE9IG51bGwpIHsKCQkJdmFyIHYgPSBsWzBdOwoJCQlsID0gbFsxXTsKCQkJaWYoZih2KSkgbDIuYWRkKHYpOwoJCX0KCQlyZXR1cm4gbDI7Cgl9CgksbWFwOiBmdW5jdGlvbihmKSB7CgkJdmFyIGIgPSBuZXcgTGlzdCgpOwoJCXZhciBsID0gdGhpcy5oOwoJCXdoaWxlKGwgIT0gbnVsbCkgewoJCQl2YXIgdiA9IGxbMF07CgkJCWwgPSBsWzFdOwoJCQliLmFkZChmKHYpKTsKCQl9CgkJcmV0dXJuIGI7Cgl9CgksX19jbGFzc19fOiBMaXN0Cn0KCgoKdmFyIFN0cmluZ1Rvb2xzID0gZnVuY3Rpb24oKSB7IH0KJGh4Q2xhc3Nlc1siU3RyaW5nVG9vbHMiXSA9IFN0cmluZ1Rvb2xzOwpTdHJpbmdUb29scy5fX25hbWVfXyA9IFsiU3RyaW5nVG9vbHMiXTsKU3RyaW5nVG9vbHMudXJsRW5jb2RlID0gZnVuY3Rpb24ocykgewoJcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzKTsKfQpTdHJpbmdUb29scy51cmxEZWNvZGUgPSBmdW5jdGlvbihzKSB7CglyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMuc3BsaXQoIisiKS5qb2luKCIgIikpOwp9ClN0cmluZ1Rvb2xzLmh0bWxFc2NhcGUgPSBmdW5jdGlvbihzLHF1b3RlcykgewoJcyA9IHMuc3BsaXQoIiYiKS5qb2luKCImYW1wOyIpLnNwbGl0KCI8Iikuam9pbigiJmx0OyIpLnNwbGl0KCI+Iikuam9pbigiJmd0OyIpOwoJaWYocXVvdGVzKSByZXR1cm4gcy5zcGxpdCgiXCIiKS5qb2luKCImcXVvdDsiKS5zcGxpdCgiJyIpLmpvaW4oIiYjMDM5OyIpOyBlbHNlIHJldHVybiBzOwp9ClN0cmluZ1Rvb2xzLmh0bWxVbmVzY2FwZSA9IGZ1bmN0aW9uKHMpIHsKCXJldHVybiBzLnNwbGl0KCImZ3Q7Iikuam9pbigiPiIpLnNwbGl0KCImbHQ7Iikuam9pbigiPCIpLnNwbGl0KCImcXVvdDsiKS5qb2luKCJcIiIpLnNwbGl0KCImIzAzOTsiKS5qb2luKCInIikuc3BsaXQoIiZhbXA7Iikuam9pbigiJiIpOwp9ClN0cmluZ1Rvb2xzLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihzLHN0YXJ0KSB7CglyZXR1cm4gcy5sZW5ndGggPj0gc3RhcnQubGVuZ3RoICYmIEh4T3ZlcnJpZGVzLnN1YnN0cihzLDAsc3RhcnQubGVuZ3RoKSA9PSBzdGFydDsKfQpTdHJpbmdUb29scy5pc1NwYWNlID0gZnVuY3Rpb24ocyxwb3MpIHsKCXZhciBjID0gSHhPdmVycmlkZXMuY2NhKHMscG9zKTsKCXJldHVybiBjID4gOCAmJiBjIDwgMTQgfHwgYyA9PSAzMjsKfQpTdHJpbmdUb29scy5sdHJpbSA9IGZ1bmN0aW9uKHMpIHsKCXZhciBsID0gcy5sZW5ndGg7Cgl2YXIgciA9IDA7Cgl3aGlsZShyIDwgbCAmJiBTdHJpbmdUb29scy5pc1NwYWNlKHMscikpIHIrKzsKCWlmKHIgPiAwKSByZXR1cm4gSHhPdmVycmlkZXMuc3Vic3RyKHMscixsIC0gcik7IGVsc2UgcmV0dXJuIHM7Cn0KU3RyaW5nVG9vbHMucmVwbGFjZSA9IGZ1bmN0aW9uKHMsc3ViLGJ5KSB7CglyZXR1cm4gcy5zcGxpdChzdWIpLmpvaW4oYnkpOwp9ClN0cmluZ1Rvb2xzLmhleCA9IGZ1bmN0aW9uKG4sZGlnaXRzKSB7Cgl2YXIgcyA9ICIiOwoJdmFyIGhleENoYXJzID0gIjAxMjM0NTY3ODlBQkNERUYiOwoJZG8gewoJCXMgPSBoZXhDaGFycy5jaGFyQXQobiAmIDE1KSArIHM7CgkJbiA+Pj49IDQ7Cgl9IHdoaWxlKG4gPiAwKTsKCWlmKGRpZ2l0cyAhPSBudWxsKSB3aGlsZShzLmxlbmd0aCA8IGRpZ2l0cykgcyA9ICIwIiArIHM7CglyZXR1cm4gczsKfQp2YXIgSHhPdmVycmlkZXMgPSBmdW5jdGlvbigpIHsgfQokaHhDbGFzc2VzWyJIeE92ZXJyaWRlcyJdID0gSHhPdmVycmlkZXM7Ckh4T3ZlcnJpZGVzLl9fbmFtZV9fID0gWyJIeE92ZXJyaWRlcyJdOwpIeE92ZXJyaWRlcy5kYXRlU3RyID0gZnVuY3Rpb24oZGF0ZSkgewoJdmFyIG0gPSBkYXRlLmdldE1vbnRoKCkgKyAxOwoJdmFyIGQgPSBkYXRlLmdldERhdGUoKTsKCXZhciBoID0gZGF0ZS5nZXRIb3VycygpOwoJdmFyIG1pID0gZGF0ZS5nZXRNaW51dGVzKCk7Cgl2YXIgcyA9IGRhdGUuZ2V0U2Vjb25kcygpOwoJcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSArICItIiArIChtIDwgMTA/IjAiICsgbToiIiArIG0pICsgIi0iICsgKGQgPCAxMD8iMCIgKyBkOiIiICsgZCkgKyAiICIgKyAoaCA8IDEwPyIwIiArIGg6IiIgKyBoKSArICI6IiArIChtaSA8IDEwPyIwIiArIG1pOiIiICsgbWkpICsgIjoiICsgKHMgPCAxMD8iMCIgKyBzOiIiICsgcyk7Cn0KSHhPdmVycmlkZXMuc3RyRGF0ZSA9IGZ1bmN0aW9uKHMpIHsKCXZhciBfZyA9IHMubGVuZ3RoOwoJc3dpdGNoKF9nKSB7CgljYXNlIDg6CgkJdmFyIGsgPSBzLnNwbGl0KCI6Iik7CgkJdmFyIGQgPSBuZXcgRGF0ZSgpOwoJCWQuc2V0VGltZSgwKTsKCQlkLnNldFVUQ0hvdXJzKGtbMF0pOwoJCWQuc2V0VVRDTWludXRlcyhrWzFdKTsKCQlkLnNldFVUQ1NlY29uZHMoa1syXSk7CgkJcmV0dXJuIGQ7CgljYXNlIDEwOgoJCXZhciBrID0gcy5zcGxpdCgiLSIpOwoJCXJldHVybiBuZXcgRGF0ZShrWzBdLGtbMV0gLSAxLGtbMl0sMCwwLDApOwoJY2FzZSAxOToKCQl2YXIgayA9IHMuc3BsaXQoIiAiKTsKCQl2YXIgeSA9IGtbMF0uc3BsaXQoIi0iKTsKCQl2YXIgdCA9IGtbMV0uc3BsaXQoIjoiKTsKCQlyZXR1cm4gbmV3IERhdGUoeVswXSx5WzFdIC0gMSx5WzJdLHRbMF0sdFsxXSx0WzJdKTsKCWRlZmF1bHQ6CgkJdGhyb3cgIkludmFsaWQgZGF0ZSBmb3JtYXQgOiAiICsgczsKCX0KfQpIeE92ZXJyaWRlcy5jY2EgPSBmdW5jdGlvbihzLGluZGV4KSB7Cgl2YXIgeCA9IHMuY2hhckNvZGVBdChpbmRleCk7CglpZih4ICE9IHgpIHJldHVybiB1bmRlZmluZWQ7CglyZXR1cm4geDsKfQpIeE92ZXJyaWRlcy5zdWJzdHIgPSBmdW5jdGlvbihzLHBvcyxsZW4pIHsKCWlmKHBvcyAhPSBudWxsICYmIHBvcyAhPSAwICYmIGxlbiAhPSBudWxsICYmIGxlbiA8IDApIHJldHVybiAiIjsKCWlmKGxlbiA9PSBudWxsKSBsZW4gPSBzLmxlbmd0aDsKCWlmKHBvcyA8IDApIHsKCQlwb3MgPSBzLmxlbmd0aCArIHBvczsKCQlpZihwb3MgPCAwKSBwb3MgPSAwOwoJfSBlbHNlIGlmKGxlbiA8IDApIGxlbiA9IHMubGVuZ3RoICsgbGVuIC0gcG9zOwoJcmV0dXJuIHMuc3Vic3RyKHBvcyxsZW4pOwp9Ckh4T3ZlcnJpZGVzLnJlbW92ZSA9IGZ1bmN0aW9uKGEsb2JqKSB7Cgl2YXIgaSA9IDA7Cgl2YXIgbCA9IGEubGVuZ3RoOwoJd2hpbGUoaSA8IGwpIHsKCQlpZihhW2ldID09IG9iaikgewoJCQlhLnNwbGljZShpLDEpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJaSsrOwoJfQoJcmV0dXJuIGZhbHNlOwp9Ckh4T3ZlcnJpZGVzLml0ZXIgPSBmdW5jdGlvbihhKSB7CglyZXR1cm4geyBjdXIgOiAwLCBhcnIgOiBhLCBoYXNOZXh0IDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuY3VyIDwgdGhpcy5hcnIubGVuZ3RoOwoJfSwgbmV4dCA6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmFyclt0aGlzLmN1cisrXTsKCX19Owp9Cgp2YXIgSnFFeCA9IGZ1bmN0aW9uKCkgeyB9CiRoeENsYXNzZXNbIkpxRXgiXSA9IEpxRXg7CkpxRXguX19uYW1lX18gPSBbIkpxRXgiXTsKSnFFeC5ibGluayA9IGZ1bmN0aW9uKGoscGVyaW9kLHN0YXJ0LGZpbmlzaCkgewoJaWYoZmluaXNoID09IG51bGwpIGZpbmlzaCA9IC0xOwoJaWYoc3RhcnQgPT0gbnVsbCkgc3RhcnQgPSAwOwoJaWYocGVyaW9kID09IG51bGwpIHBlcmlvZCA9IDIwMDsKCXZhciBjYmsgPSBudWxsOwoJY2JrID0gZnVuY3Rpb24oKSB7CgkJaWYoc3RhcnQgIT0gZmluaXNoKSB7CgkJCXN0YXJ0ID0gc3RhcnQgKyAxOwoJCQlKcUV4LmJsaW5rKGoscGVyaW9kLHN0YXJ0LGZpbmlzaCk7CgkJfQoJfTsKCWouZmFkZU91dChwZXJpb2QpLmZhZGVJbihwZXJpb2QsY2JrKTsKCXJldHVybiBqOwp9CkpxRXguaiA9IGZ1bmN0aW9uKHNlbCkgewoJcmV0dXJuIG5ldyBqcy5KUXVlcnkoc2VsKTsKfQpKcUV4Lm9rID0gZnVuY3Rpb24oaikgewoJcmV0dXJuIGo7Cn0KSnFFeC5zb2Z0SGlkZSA9IGZ1bmN0aW9uKGopIHsKCWouY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7CglqLmF0dHIoIm9sZEhlaWdodCIsai5jc3MoImhlaWdodCIpKTsKCXJldHVybiBqOwp9CkpxRXgudmlzID0gZnVuY3Rpb24oaixvbk9mZikgewoJaWYob25PZmYpIGouY3NzKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpOyBlbHNlIGouY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7CglyZXR1cm4gajsKfQpKcUV4LnNvZnRTaG93ID0gZnVuY3Rpb24oaikgewoJai5jc3MoInZpc2liaWxpdHkiLCJ2aXNpYmxlIik7CglqLmNzcygiaGVpZ2h0IixqLmF0dHIoIm9sZEhlaWdodCIpKTsKCWoucmVtb3ZlQXR0cigib2xkSGVpZ2h0Iik7Cn0KSnFFeC5sb2FkaW5nID0gZnVuY3Rpb24oanEpIHsKCWpxLnByZXBlbmQoIjxpbWcgY2xhc3M9J2NkTG9hZGluZycgc3JjPScvaW1nL2ljb25zL3VpL2xvYWRpbmcxLmdpZicgYWx0PSdsb2FkaW5nLi4uJyAvPiIpOwp9CkpxRXgucG9zdExvYWRpbmcgPSBmdW5jdGlvbihqcSkgewoJanEuYXBwZW5kKCI8aW1nIGNsYXNzPSdjZExvYWRpbmcnIHNyYz0nL2ltZy9pY29ucy91aS9sb2FkaW5nMS5naWYnIGFsdD0nbG9hZGluZy4uLicgLz4iKTsKCXJldHVybiBqcTsKfQpKcUV4LnJlbUxvYWRpbmcgPSBmdW5jdGlvbihqcSkgewoJanEuZmluZCgiLmNkTG9hZGluZyIpLnJlbW92ZSgpOwoJcmV0dXJuIGpxOwp9CkpxRXgud2FycCA9IGZ1bmN0aW9uKGpxLHgseSkgewoJdmFyIGx2YWwgPSBqcS5jc3MoImxlZnQiKS5zcGxpdCgicHgiKVswXTsKCWpxLmNzcygibGVmdCIsU3RkLnBhcnNlSW50KGx2YWwpICsgeCArICJweCIpOwoJaWYoeSAhPSBudWxsKSB7CgkJdmFyIHR2YWwgPSBqcS5jc3MoInRvcCIpLnNwbGl0KCJweCIpWzBdOwoJCWpxLmNzcygidG9wIixTdGQucGFyc2VJbnQodHZhbCkgKyB5ICsgInB4Iik7Cgl9CglyZXR1cm4ganE7Cn0KSnFFeC5tb3ZlID0gZnVuY3Rpb24oanEseCx5LGR1cikgewoJaWYoZHVyID09IG51bGwpIGR1ciA9IDIwMDsKCXZhciBsdmFsID0ganEuY3NzKCJsZWZ0Iikuc3BsaXQoInB4IilbMF07CglqcS5hbmltYXRlKHsgbGVmdCA6IFN0ZC5wYXJzZUludChsdmFsKSArIHggKyAicHgifSxkdXIpOwoJaWYoeSAhPSBudWxsKSB7CgkJdmFyIHR2YWwgPSBqcS5jc3MoInRvcCIpLnNwbGl0KCJweCIpWzBdOwoJCWpxLmFuaW1hdGUoeyB0b3AgOiBTdGQucGFyc2VJbnQodHZhbCkgKyB5ICsgInB4In0sZHVyKTsKCX0KCXJldHVybiBqcTsKfQpKcUV4LmNvdW50VG8gPSBmdW5jdGlvbihqcSxpLGRlbGF5X21zKSB7CglpZihkZWxheV9tcyA9PSBudWxsKSBkZWxheV9tcyA9IDIwOwoJdmFyIHN0YXJ0ID0gU3RkLnBhcnNlSW50KGpxLnRleHQoKSk7CglpZihzdGFydCA9PSBudWxsKSBzdGFydCA9IDA7CglpZihzdGFydCA8PSBpICsgMSkgewoJCXZhciBzdGVwcyA9IGkgKyAxIC0gc3RhcnQ7CgkJdmFyIF9nID0gMDsKCQl3aGlsZShfZyA8IHN0ZXBzKSB7CgkJCXZhciBqID0gW19nKytdOwoJCQloYXhlLlRpbWVyLmRlbGF5KChmdW5jdGlvbihqKSB7CgkJCQlyZXR1cm4gZnVuY3Rpb24oKSB7CgkJCQkJanEudGV4dChTdGQuc3RyaW5nKHN0YXJ0ICsgalswXSkpOwoJCQkJfTsKCQkJfSkoaiksZGVsYXlfbXMgKiBqWzBdKTsKCQl9Cgl9IGVsc2UgewoJCXZhciBzdGVwcyA9IHN0YXJ0IC0gaSArIDE7CgkJdmFyIF9nID0gMDsKCQl3aGlsZShfZyA8IHN0ZXBzKSB7CgkJCXZhciBqMSA9IFtfZysrXTsKCQkJaGF4ZS5UaW1lci5kZWxheSgoZnVuY3Rpb24oajEpIHsKCQkJCXJldHVybiBmdW5jdGlvbigpIHsKCQkJCQlqcS50ZXh0KFN0ZC5zdHJpbmcoc3RhcnQgLSBqMVswXSkpOwoJCQkJfTsKCQkJfSkoajEpLGRlbGF5X21zICogajFbMF0pOwoJCX0KCX0KCXJldHVybiBqcTsKfQpKcUV4LnRpcCA9IGZ1bmN0aW9uKGpxLHQsYikgewoJanEuaG92ZXIoZnVuY3Rpb24oZSkgewoJCW10LmpzLlRpcC5zaG93VGlwKGpxLnRvQXJyYXkoKVswXSwiIiwiPGRpdiBjbGFzcz0ndGlwdG9wJyA+IiArICI8ZGl2IGNsYXNzPSd0aXBib3R0b20nPiIgKyAiPGRpdiBjbGFzcz0ndGlwYmcnPiIgKyAiPGRpdiBjbGFzcz0ndGlwY29udGVudCc+IiArICI8aDE+IiArIHQgKyAiPC9oMT4iICsgYiArICI8L2Rpdj4iICsgIjwvZGl2PiIgKyAiPC9kaXY+IiArICI8L2Rpdj4iKTsKCX0sZnVuY3Rpb24oZSkgewoJCW10LmpzLlRpcC5oaWRlKCk7Cgl9KTsKCXJldHVybiBqcTsKfQoKdmFyIFRvb2xzID0gJGh4Q2xhc3Nlc1siVG9vbHMiXSA9IGZ1bmN0aW9uKCkgeyB9ClRvb2xzLl9fbmFtZV9fID0gWyJUb29scyJdOwpUb29scy5nbG9iYWxFdmFsID0gZnVuY3Rpb24oc2NyaXB0KSB7CglpZihzY3JpcHQuY29udGVudCA9PSBudWxsIHx8IHNjcmlwdC5jb250ZW50Lmxlbmd0aCA9PSAwKSByZXR1cm47Cgl2YXIgbyA9IGpzLkxpYi5kb2N1bWVudDsKCWpzLkxpYi5kb2N1bWVudCA9IHsgd3JpdGUgOiBmdW5jdGlvbihkYXRhKSB7CgkJdmFyIHQgPSBvLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCXQuc2V0QXR0cmlidXRlKCJpZCIsIl8iICsgc2NyaXB0LmlkKTsKCQl0LmlubmVySFRNTCA9IGRhdGE7CgkJdmFyIHMgPSBvLmdldEVsZW1lbnRCeUlkKHNjcmlwdC5pZCk7CgkJcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LHMpOwoJfSwgZ2V0RWxlbWVudEJ5SWQgOiAkYmluZChvLG8uZ2V0RWxlbWVudEJ5SWQpLCBnZXRFbGVtZW50c0J5VGFnTmFtZSA6ICRiaW5kKG8sby5nZXRFbGVtZW50c0J5VGFnTmFtZSksIGdldEVsZW1lbnRzQnlOYW1lIDogJGJpbmQobyxvLmdldEVsZW1lbnRzQnlOYW1lKSwgYm9keSA6IG8uYm9keSwgYXR0YWNoRXZlbnQgOiBmdW5jdGlvbihldmVudE5hbWUsaGFuZGxlcikgewoJCXJldHVybiBvLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSxoYW5kbGVyKTsKCX0sIGRldGFjaEV2ZW50IDogZnVuY3Rpb24oZXZlbnROYW1lLGhhbmRsZXIpIHsKCQlyZXR1cm4gby5kZXRhY2hFdmVudChldmVudE5hbWUsaGFuZGxlcik7Cgl9LCBhZGRFdmVudExpc3RlbmVyIDogZnVuY3Rpb24oZXZlbnROYW1lLGhhbmRsZXIsdXNlQ2FwdHVyZSkgewoJCXJldHVybiBvLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGhhbmRsZXIsdXNlQ2FwdHVyZSk7Cgl9LCByZW1vdmVFdmVudExpc3RlbmVyIDogZnVuY3Rpb24oZXZlbnROYW1lLGhhbmRsZXIsdXNlQ2FwdHVyZSkgewoJCXJldHVybiBvLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGhhbmRsZXIsdXNlQ2FwdHVyZSk7Cgl9LCBfZG9jdW1lbnQgOiBvLCBjb29raWUgOiBvLmNvb2tpZX07Cgl0cnkgewoJCWlmKGpzLkxpYi53aW5kb3cuZXhlY1NjcmlwdCAhPSBudWxsKSBqcy5MaWIud2luZG93LmV4ZWNTY3JpcHQoc2NyaXB0LmNvbnRlbnQpOyBlbHNlIGlmKGpzLkxpYi53aW5kb3cuZXZhbCAhPSBudWxsKSBqcy5MaWIud2luZG93LmV2YWwoc2NyaXB0LmNvbnRlbnQpOyBlbHNlIHsKCQkJdmFyIHMgPSBqcy5MaWIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CgkJCXMuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9qYXR2YXNjcmlwdCIpOwoJCQlzLmlubmVySFRNTCA9IHNjcmlwdC5jb250ZW50OwoJCQlqcy5MaWIuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChzKTsKCQl9Cgl9IGNhdGNoKCBlICkgewoJCWpzLkxpYi5kb2N1bWVudCA9IG87CgkJdGhyb3cgZTsKCX0KCWpzLkxpYi5kb2N1bWVudCA9IG87CglyZXR1cm47Cn0KVG9vbHMuZXh0cmFjdElkID0gZnVuY3Rpb24oZmxvdyxpZCkgewoJdmFyIGEgPSBmbG93LnNwbGl0KCJpZD1cIiIgKyBpZCArICJcIiIpOwoJaWYoYS5sZW5ndGggIT0gMikgcmV0dXJuIG51bGw7Cgl2YXIgdGFnUGFydCA9IGFbMF07Cgl2YXIgaWQxID0gdGFnUGFydC5sYXN0SW5kZXhPZigiPCIpICsgMTsKCXZhciB0YWcgPSAiIjsKCXZhciBfZzEgPSBpZDEsIF9nID0gdGFnUGFydC5sZW5ndGg7Cgl3aGlsZShfZzEgPCBfZykgewoJCXZhciBpID0gX2cxKys7CgkJdmFyIGMgPSBIeE92ZXJyaWRlcy5jY2EodGFnUGFydCxpKTsKCQlpZigoYyA8IDk3IHx8IGMgPiAxMjIpICYmIChjIDwgNjUgfHwgYyA+IDkwKSAmJiBjICE9IDU4KSBicmVhazsKCQl0YWcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTsKCX0KCXZhciBpbXAgPSBhWzFdOwoJdmFyIGJlZ2luSW5kZXggPSBpbXAuaW5kZXhPZigiPiIpICsgMTsKCXZhciBjcnRJbmRleCA9IGJlZ2luSW5kZXg7Cgl2YXIgbmV4dENsb3NlSW5kZXggPSAwOwoJdmFyIG5leHRPcGVuSW5kZXggPSAwOwoJdmFyIGNvdW50ID0gMTsKCXZhciBsaW1pdCA9IDEwMDAwMDsKCXdoaWxlKHRydWUpIHsKCQluZXh0Q2xvc2VJbmRleCA9IGltcC5pbmRleE9mKCI8LyIgKyB0YWcgKyAiPiIsY3J0SW5kZXgpOwoJCW5leHRPcGVuSW5kZXggPSBpbXAuaW5kZXhPZigiPCIgKyB0YWcsY3J0SW5kZXgpOwoJCXZhciBkZXNjZW5kaW5nID0gbmV4dE9wZW5JbmRleCA8IG5leHRDbG9zZUluZGV4ICYmIG5leHRPcGVuSW5kZXggIT0gLTE7CgkJY291bnQgKz0gZGVzY2VuZGluZz8xOi0xOwoJCWlmKGNvdW50IDw9IDApIGJyZWFrOwoJCWNydEluZGV4ID0gZGVzY2VuZGluZz9pbXAuaW5kZXhPZigiPiIsbmV4dE9wZW5JbmRleCArIDEpOm5leHRDbG9zZUluZGV4ICsgMyArIHRhZy5sZW5ndGg7CgkJaWYobGltaXQtLSA9PSAwKSByZXR1cm4gbnVsbDsKCX0KCXJldHVybiBIeE92ZXJyaWRlcy5zdWJzdHIoaW1wLGJlZ2luSW5kZXgsbmV4dENsb3NlSW5kZXggLSAxIC0gYmVnaW5JbmRleCk7Cn0KVG9vbHMuZXh0cmFjdFRhZyA9IGZ1bmN0aW9uKGRhdGEsdGFnLG9mZnNldCkgewoJaWYob2Zmc2V0ID09IG51bGwpIG9mZnNldCA9IDA7Cgl2YXIgc3RhcnQgPSBkYXRhLmluZGV4T2YoIjwiICsgdGFnLG9mZnNldCk7CglpZihzdGFydCA9PSAtMSkgcmV0dXJuIG51bGw7Cgl2YXIgYmVnaW4gPSBkYXRhLmluZGV4T2YoIj4iLHN0YXJ0KSArIDE7Cgl2YXIgZW5kID0gZGF0YS5pbmRleE9mKCI8LyIgKyB0YWcgKyAiPiIsYmVnaW4pOwoJdmFyIGNvbnRlbnQgPSBIeE92ZXJyaWRlcy5zdWJzdHIoZGF0YSxiZWdpbixlbmQgLSBiZWdpbik7CgllbmQgKz0gMyArIHRhZy5sZW5ndGg7Cgl2YXIgZnVsbENvbnRlbnQgPSBIeE92ZXJyaWRlcy5zdWJzdHIoZGF0YSxzdGFydCxlbmQgLSBzdGFydCk7CglyZXR1cm4geyBjb250ZW50IDogY29udGVudCwgc3RhcnQgOiBzdGFydCwgZW5kIDogZW5kLCBmdWxsQ29udGVudCA6IGZ1bGxDb250ZW50LCBpZCA6IG51bGx9Owp9ClRvb2xzLmV4dHJhY3RTY3JpcHRzID0gZnVuY3Rpb24oZGF0YSkgewoJdmFyIHNjcmlwdHMgPSBbXTsKCXZhciBjdXJyZW50SW5kZXggPSAwOwoJd2hpbGUodHJ1ZSkgewoJCXZhciBpbmZvID0gVG9vbHMuZXh0cmFjdFRhZyhkYXRhLCJzY3JpcHQiLGN1cnJlbnRJbmRleCk7CgkJaWYoaW5mbyA9PSBudWxsKSBicmVhazsKCQlzY3JpcHRzLnB1c2goaW5mbyk7CgkJY3VycmVudEluZGV4ID0gaW5mby5lbmQ7Cgl9CglyZXR1cm4gc2NyaXB0czsKfQpUb29scy5oYXNUYWcgPSBmdW5jdGlvbih0YWcsc291cmNlKSB7CglyZXR1cm4gc291cmNlLnNwbGl0KHRhZyArICI9IikubGVuZ3RoID4gMTsKfQpUb29scy5tYWtlVGFnID0gZnVuY3Rpb24odGFnLHNvdXJjZSkgewoJdmFyIG91dHB1dCA9IHsgc291cmNlIDogc291cmNlLCBpZCA6ICIifTsKCXZhciBwb3MgPSBzb3VyY2UuaW5kZXhPZigiPiIpOwoJaWYocG9zID09IC0xKSByZXR1cm4gbnVsbDsKCWlmKFRvb2xzLmhhc1RhZyh0YWcsc291cmNlKSkgb3V0cHV0LmlkID0gc291cmNlLnNwbGl0KHRhZyArICI9IilbMV0uc3BsaXQoIlwiIilbMV07IGVsc2UgewoJCXZhciBiZWZvcmUgPSBIeE92ZXJyaWRlcy5zdWJzdHIoc291cmNlLDAscG9zKTsKCQl2YXIgYWZ0ZXIgPSBIeE92ZXJyaWRlcy5zdWJzdHIoc291cmNlLHBvcyxudWxsKTsKCQlvdXRwdXQuaWQgPSAic2NyaXB0XyIgKyBUb29scy5TQ1JJUFRfSUQrKzsKCQlvdXRwdXQuc291cmNlID0gYmVmb3JlICsgIiBpZD1cIiIgKyBvdXRwdXQuaWQgKyAiXCIiICsgYWZ0ZXI7Cgl9CglyZXR1cm4gb3V0cHV0Owp9ClRvb2xzLnVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbih1cmwsc2VlayxkZXN0LGNiKSB7Cgl2YXIgciA9IG5ldyBoYXhlLkh0dHAodXJsKTsKCXZhciBkYmcgPSBmYWxzZTsKCXIub25EYXRhID0gZnVuY3Rpb24oZGF0YSkgewoJCXZhciBtZVIgPSByOwoJCXZhciBfZzEgPSAwLCBfZyA9IHNlZWsubGVuZ3RoOwoJCXdoaWxlKF9nMSA8IF9nKSB7CgkJCXZhciBpID0gX2cxKys7CgkJCXZhciB0YXJnZXQgPSBqcy5MaWIuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVzdCAhPSBudWxsP2Rlc3RbaV06c2Vla1tpXSk7CgkJCWlmKHRhcmdldCA9PSBudWxsKSB7CgkJCQlpZihkYmcpIG51bGw7CgkJCQljb250aW51ZTsKCQkJfQoJCQl2YXIgaW5wdXQgPSBUb29scy5leHRyYWN0SWQoZGF0YSxzZWVrW2ldKTsKCQkJaWYoaW5wdXQgPT0gbnVsbCkgdHJ5IHsKCQkJCWlmKGRiZykgbnVsbDsKCQkJCXRhcmdldCA9IGpzLkxpYi5kb2N1bWVudC5ib2R5OwoJCQkJdmFyIHRhZyA9IFRvb2xzLmV4dHJhY3RUYWcoZGF0YSwiYm9keSIsMCk7CgkJCQlpbnB1dCA9IHRhZy5jb250ZW50OwoJCQkJdmFyIHNjcmlwdHMgPSBUb29scy5leHRyYWN0U2NyaXB0cyhpbnB1dCk7CgkJCQl2YXIgX2cyID0gMDsKCQkJCXdoaWxlKF9nMiA8IHNjcmlwdHMubGVuZ3RoKSB7CgkJCQkJdmFyIHMgPSBzY3JpcHRzW19nMl07CgkJCQkJKytfZzI7CgkJCQkJdmFyIGRhdGExID0gVG9vbHMubWFrZVRhZygiaWQiLHMuZnVsbENvbnRlbnQpOwoJCQkJCWlmKGRhdGExICE9IG51bGwpIHsKCQkJCQkJcy5pZCA9IGRhdGExLmlkOwoJCQkJCQlpbnB1dCA9IFN0cmluZ1Rvb2xzLnJlcGxhY2UoaW5wdXQscy5mdWxsQ29udGVudCxkYXRhMS5zb3VyY2UpOwoJCQkJCX0KCQkJCX0KCQkJCXRhcmdldC5pbm5lckhUTUwgPSBpbnB1dDsKCQkJCWlmKGRiZykgbnVsbDsKCQkJCXZhciBfZzIgPSAwOwoJCQkJd2hpbGUoX2cyIDwgc2NyaXB0cy5sZW5ndGgpIHsKCQkJCQl2YXIgcyA9IHNjcmlwdHNbX2cyXTsKCQkJCQkrK19nMjsKCQkJCQlUb29scy5nbG9iYWxFdmFsKHMpOwoJCQkJfQoJCQkJaWYoY2IgIT0gbnVsbCkgY2IoKTsKCQkJCXJldHVybjsKCQkJfSBjYXRjaCggZSApIHsKCQkJCXZhciByZWdJdCA9IHRydWU7CgkJCQl2YXIgaCA9ICIiOwoJCQkJdmFyIG1ldGEgPSAiIjsKCQkJCXRyeSB7CgkJCQkJaCA9IGRhdGEuc3BsaXQoIjxoZWFkPiIpWzFdLnNwbGl0KCI8L2hlYWQ+IilbMF07CgkJCQkJdmFyIHN0YXJ0ID0gIjxtZXRhIG5hbWU9XCJtc2hcIiBjb250ZW50PVwiIjsKCQkJCQl2YXIgaTEgPSBoLmluZGV4T2YoIjxtZXRhIG5hbWU9XCJtc2hcIiIpOwoJCQkJCWlmKGkxICE9IG51bGwpIHsKCQkJCQkJbWV0YSA9IEh4T3ZlcnJpZGVzLnN1YnN0cihoLGkxICsgc3RhcnQubGVuZ3RoLG51bGwpOwoJCQkJCQl2YXIgZW5kID0gbWV0YS5pbmRleE9mKCJcIiIpOwoJCQkJCQltZXRhID0gSHhPdmVycmlkZXMuc3Vic3RyKG1ldGEsMCxlbmQpOwoJCQkJCQl2YXIga2V5cyA9IG1ldGEuc3BsaXQoIiwiKTsKCQkJCQkJaWYoTGFtYmRhLmhhcyhrZXlzLCJERUFUSCIpKSByZWdJdCA9IGZhbHNlOwoJCQkJCX0KCQkJCX0gY2F0Y2goIGQgKSB7CgkJCQkJaCA9ICJwYXJzZSBlcnJvciBkYXRhOiIgKyBkYXRhLmxlbmd0aCArICIgIjsKCQkJCQlpZihkYXRhLmxlbmd0aCA8IDI1NikgaCA9IGggKyAiIGRhdGE6ICIgKyBkYXRhOwoJCQkJfQoJCQkJdmFyIGRzaXplID0gZGF0YS5sZW5ndGg7CgkJCQl2YXIgbXNnID0gImVycm9yIDIgIGxvYWRpbmc6IiArIHVybCArICIgdGd0OiIgKyBzZWVrW2ldICsgIiBtZXRhOiAiICsgbWV0YSArICIgaGxlbjogIiArIGgubGVuZ3RoICsgIiBlcnI6ICIgKyBTdGQuc3RyaW5nKGUpICsgIiBlczogIiArIGhheGUuU3RhY2suZXhjZXB0aW9uU3RhY2soKS50b1N0cmluZygpOwoJCQkJaWYoaC5sZW5ndGggPiAwKSBtc2cgKz0gIiBobCA6ID4+IiArIGggKyAiPDwiOwoJCQkJaWYoZGJnKSBudWxsOwoJCQkJanMuTGliLndpbmRvdy5sb2NhdGlvbi5hc3NpZ24oVG9vbHMuZGVmYXVsdFVybCA9PSBudWxsP3VybDpUb29scy5kZWZhdWx0VXJsKTsKCQkJCXZhciBzID0gU3RyaW5nVG9vbHMudXJsRW5jb2RlKG1zZyk7CgkJCQlpZihyZWdJdCkgVG9vbHMucGluZygicmVnaXN0ZXJFcnJvci8iICsgcyk7CgkJCQlyZXR1cm47CgkJCX0gZWxzZSBpZihkYmcpIG51bGw7CgkJCXZhciBzY3JpcHRzID0gVG9vbHMuZXh0cmFjdFNjcmlwdHMoaW5wdXQpOwoJCQl2YXIgX2cyID0gMDsKCQkJd2hpbGUoX2cyIDwgc2NyaXB0cy5sZW5ndGgpIHsKCQkJCXZhciBzID0gc2NyaXB0c1tfZzJdOwoJCQkJKytfZzI7CgkJCQl2YXIgZGF0YTEgPSBUb29scy5tYWtlVGFnKCJpZCIscy5mdWxsQ29udGVudCk7CgkJCQlpZihkYXRhMSAhPSBudWxsKSB7CgkJCQkJcy5pZCA9IGRhdGExLmlkOwoJCQkJCWlucHV0ID0gU3RyaW5nVG9vbHMucmVwbGFjZShpbnB1dCxzLmZ1bGxDb250ZW50LGRhdGExLnNvdXJjZSk7CgkJCQl9CgkJCX0KCQkJdGFyZ2V0LmlubmVySFRNTCA9IGlucHV0OwoJCQlpZihkYmcpIG51bGw7CgkJCXZhciBfZzIgPSAwOwoJCQl3aGlsZShfZzIgPCBzY3JpcHRzLmxlbmd0aCkgewoJCQkJdmFyIHMgPSBzY3JpcHRzW19nMl07CgkJCQkrK19nMjsKCQkJCVRvb2xzLmdsb2JhbEV2YWwocyk7CgkJCX0KCQkJaWYoZGJnKSBudWxsOwoJCX0KCQlpZihjYiAhPSBudWxsKSBjYigpOwoJfTsKCXIucmVxdWVzdChmYWxzZSk7CglyZXR1cm4gZmFsc2U7Cn0KVG9vbHMucGluZyA9IGZ1bmN0aW9uKHVybCxjYmspIHsKCXZhciByID0gbmV3IGhheGUuSHR0cCh1cmwpOwoJci5hc3luYyA9IHRydWU7CglyLnJlcXVlc3QoZmFsc2UpOwoJaWYoY2JrICE9IG51bGwpIHIub25EYXRhID0gY2JrOwp9ClRvb2xzLnNlbmQyU2Vzc2lvblN0b3JlID0gZnVuY3Rpb24oayx2KSB7Cgl0cnkgewoJCXZhciBzZXIgPSBoYXhlLlNlcmlhbGl6ZXIucnVuKHYpOwoJCSgoZnVuY3Rpb24oJHRoaXMpIHsKCQkJdmFyICRyOwoJCQl2YXIgczsKCQkJdHJ5IHsKCQkJCXMgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7CgkJCQlzLmdldEl0ZW0oIiIpOwoJCQl9IGNhdGNoKCBlICkgewoJCQkJcyA9IG51bGw7CgkJCX0KCQkJJHIgPSBzOwoJCQlyZXR1cm4gJHI7CgkJfSh0aGlzKSkpLnNldEl0ZW0oayxzZXIpOwoJfSBjYXRjaCggZCApIHsKCQludWxsOwoJfQp9ClRvb2xzLmdldEZyb21TZXNzaW9uU3RvcmUgPSBmdW5jdGlvbihrKSB7Cgl2YXIgdiA9ICgoZnVuY3Rpb24oJHRoaXMpIHsKCQl2YXIgJHI7CgkJdmFyIHM7CgkJdHJ5IHsKCQkJcyA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTsKCQkJcy5nZXRJdGVtKCIiKTsKCQl9IGNhdGNoKCBlICkgewoJCQlzID0gbnVsbDsKCQl9CgkJJHIgPSBzOwoJCXJldHVybiAkcjsKCX0odGhpcykpKS5nZXRJdGVtKGspOwoJaWYodiA9PSBudWxsKSByZXR1cm4gbnVsbDsKCXJldHVybiBoYXhlLlVuc2VyaWFsaXplci5ydW4odik7Cn07ClRvb2xzLnNlbmQyU3RvcmUgPSBmdW5jdGlvbihrLHYpIHsKCXRyeSB7CgkJdmFyIHNlciA9IGhheGUuU2VyaWFsaXplci5ydW4odik7CgkJanMuQnJvd3Nlci5nZXRMb2NhbFN0b3JhZ2UoKS5zZXRJdGVtKGssc2VyKTsKCX0gY2F0Y2goIGQgKSB7CgkJbnVsbDsKCX0KfTsKVG9vbHMuZ2V0RnJvbVN0b3JlID0gZnVuY3Rpb24oaykgewoJdmFyIHYgPSBqcy5Ccm93c2VyLmdldExvY2FsU3RvcmFnZSgpLmdldEl0ZW0oayk7CglpZih2ID09IG51bGwpIHJldHVybiBudWxsOwoJcmV0dXJuIGhheGUuVW5zZXJpYWxpemVyLnJ1bih2KTsKfTsKVG9vbHMuanFDb2xUb0ludCA9IGZ1bmN0aW9uKHN0cixkZWYpIHsKCWlmKFN0cmluZ1Rvb2xzLnN0YXJ0c1dpdGgoc3RyLCIjIikpIHJldHVybiBTdGQucGFyc2VJbnQoIjB4IiArIEh4T3ZlcnJpZGVzLnN1YnN0cihzdHIsMSw5OTkpKTsgZWxzZSBpZihTdHJpbmdUb29scy5zdGFydHNXaXRoKHN0ciwicmdiIikpIHsKCQlzdHIgPSBIeE92ZXJyaWRlcy5zdWJzdHIoc3RyLDMsbnVsbCk7CgkJdmFyIHNwbCA9IHN0ci5zcGxpdCgiLCIpOwoJCXZhciByID0gIjAiOwoJCXZhciBnID0gIjAiOwoJCXZhciBiID0gIjAiOwoJCXZhciBfZyA9IDA7CgkJd2hpbGUoX2cgPCBzcGwubGVuZ3RoKSB7CgkJCXZhciBzID0gc3BsW19nXTsKCQkJKytfZzsKCQkJaWYoU3RyaW5nVG9vbHMuc3RhcnRzV2l0aChzLCIoIikpIHIgPSBIeE92ZXJyaWRlcy5zdWJzdHIocywxLG51bGwpOyBlbHNlIGlmKFN0cmluZ0V4LmVuZHNXaXRoKHMsIikiKSkgYiA9IEh4T3ZlcnJpZGVzLnN1YnN0cihzLDAscy5sZW5ndGggLSAxKTsgZWxzZSBnID0gczsKCQl9CgkJcmV0dXJuIFN0ZC5wYXJzZUludChyKSA8PCAxNiB8IFN0ZC5wYXJzZUludChnKSA8PCA4IHwgU3RkLnBhcnNlSW50KGIpOwoJfSBlbHNlIHJldHVybiBkZWY7Cn0KCnZhciBMYW1iZGEgPSBmdW5jdGlvbigpIHsgfQokaHhDbGFzc2VzWyJMYW1iZGEiXSA9IExhbWJkYTsKTGFtYmRhLl9fbmFtZV9fID0gWyJMYW1iZGEiXTsKTGFtYmRhLmFycmF5ID0gZnVuY3Rpb24oaXQpIHsKCXZhciBhID0gbmV3IEFycmF5KCk7Cgl2YXIgJGl0MCA9ICRpdGVyYXRvcihpdCkoKTsKCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQl2YXIgaSA9ICRpdDAubmV4dCgpOwoJCWEucHVzaChpKTsKCX0KCXJldHVybiBhOwp9CkxhbWJkYS5saXN0ID0gZnVuY3Rpb24oaXQpIHsKCXZhciBsID0gbmV3IExpc3QoKTsKCXZhciAkaXQwID0gJGl0ZXJhdG9yKGl0KSgpOwoJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCXZhciBpID0gJGl0MC5uZXh0KCk7CgkJbC5hZGQoaSk7Cgl9CglyZXR1cm4gbDsKfQpMYW1iZGEubWFwID0gZnVuY3Rpb24oaXQsZikgewoJdmFyIGwgPSBuZXcgTGlzdCgpOwoJdmFyICRpdDAgPSAkaXRlcmF0b3IoaXQpKCk7Cgl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJdmFyIHggPSAkaXQwLm5leHQoKTsKCQlsLmFkZChmKHgpKTsKCX0KCXJldHVybiBsOwp9CkxhbWJkYS5oYXMgPSBmdW5jdGlvbihpdCxlbHQpIHsKCXZhciAkaXQwID0gJGl0ZXJhdG9yKGl0KSgpOwoJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCXZhciB4ID0gJGl0MC5uZXh0KCk7CgkJaWYoeCA9PSBlbHQpIHJldHVybiB0cnVlOwoJfQoJcmV0dXJuIGZhbHNlOwp9CkxhbWJkYS5leGlzdHMgPSBmdW5jdGlvbihpdCxmKSB7Cgl2YXIgJGl0MCA9ICRpdGVyYXRvcihpdCkoKTsKCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQl2YXIgeCA9ICRpdDAubmV4dCgpOwoJCWlmKGYoeCkpIHJldHVybiB0cnVlOwoJfQoJcmV0dXJuIGZhbHNlOwp9CkxhbWJkYS5pdGVyID0gZnVuY3Rpb24oaXQsZikgewoJdmFyICRpdDAgPSAkaXRlcmF0b3IoaXQpKCk7Cgl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJdmFyIHggPSAkaXQwLm5leHQoKTsKCQlmKHgpOwoJfQp9CkxhbWJkYS5maWx0ZXIgPSBmdW5jdGlvbihpdCxmKSB7Cgl2YXIgbCA9IG5ldyBMaXN0KCk7Cgl2YXIgJGl0MCA9ICRpdGVyYXRvcihpdCkoKTsKCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQl2YXIgeCA9ICRpdDAubmV4dCgpOwoJCWlmKGYoeCkpIGwuYWRkKHgpOwoJfQoJcmV0dXJuIGw7Cn0KTGFtYmRhLmZvbGQgPSBmdW5jdGlvbihpdCxmLGZpcnN0KSB7Cgl2YXIgJGl0MCA9ICRpdGVyYXRvcihpdCkoKTsKCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQl2YXIgeCA9ICRpdDAubmV4dCgpOwoJCWZpcnN0ID0gZih4LGZpcnN0KTsKCX0KCXJldHVybiBmaXJzdDsKfQpMYW1iZGEuY291bnQgPSBmdW5jdGlvbihpdCxwcmVkKSB7Cgl2YXIgbiA9IDA7CglpZihwcmVkID09IG51bGwpIHsKCQl2YXIgJGl0MCA9ICRpdGVyYXRvcihpdCkoKTsKCQl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJCXZhciBfID0gJGl0MC5uZXh0KCk7CgkJCW4rKzsKCQl9Cgl9IGVsc2UgewoJCXZhciAkaXQxID0gJGl0ZXJhdG9yKGl0KSgpOwoJCXdoaWxlKCAkaXQxLmhhc05leHQoKSApIHsKCQkJdmFyIHggPSAkaXQxLm5leHQoKTsKCQkJaWYocHJlZCh4KSkgbisrOwoJCX0KCX0KCXJldHVybiBuOwp9CkxhbWJkYS5lbXB0eSA9IGZ1bmN0aW9uKGl0KSB7CglyZXR1cm4gISRpdGVyYXRvcihpdCkoKS5oYXNOZXh0KCk7Cn0KZnVuY3Rpb24gJGl0ZXJhdG9yKG8pIHsgaWYoICQuaXNBcnJheShvKSApIHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIEh4T3ZlcnJpZGVzLml0ZXIobyk7IH07IHJldHVybiB0eXBlb2Yoby5pdGVyYXRvcikgPT0gJ2Z1bmN0aW9uJyA/ICRiaW5kKG8sby5pdGVyYXRvcikgOiBvLml0ZXJhdG9yOyB9Owp2YXIgJF8sICRmaWQgPSAwOwpmdW5jdGlvbiAkYmluZChvLG0pIHsKCWlmKCBtID09IG51bGwgKSByZXR1cm4gbnVsbDsKCWlmKCBtLl9faWRfXyA9PSBudWxsICkgbS5fX2lkX18gPSAkZmlkKys7Cgl2YXIgZjsKCWlmKCBvLmh4X19jbG9zdXJlc19fID09IG51bGwgKSBvLmh4X19jbG9zdXJlc19fID0ge307IGVsc2UgZiA9IG8uaHhfX2Nsb3N1cmVzX19bbS5fX2lkX19dOwoJaWYoIGYgPT0gbnVsbCApIHsKCQlmID0gZnVuY3Rpb24oKXsKCQkJcmV0dXJuIGYubWV0aG9kLmFwcGx5KGYuc2NvcGUsIGFyZ3VtZW50cyk7CgkJfTsKCQlmLnNjb3BlID0gbzsgZi5tZXRob2QgPSBtOyBvLmh4X19jbG9zdXJlc19fW20uX19pZF9fXSA9IGY7Cgl9IHJldHVybiBmOwp9OwokLmZuLml0ZXJhdG9yID0gZnVuY3Rpb24oKSB7CglyZXR1cm4gewoJcG9zIDogMCwgaiA6IHRoaXMsCgloYXNOZXh0IDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMucG9zIDwgdGhpcy5qLmxlbmd0aDsKCX0sIG5leHQgOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gJCh0aGlzLmpbdGhpcy5wb3MrK10pOwoJfX07Cn07CgoKdmFyIEFMTUhlcm9MaXN0U3RhdGUgPSAkaHhDbGFzc2VzWyJBTE1IZXJvTGlzdFN0YXRlIl0gPSB7IF9fZW5hbWVfXyA6IFsiQUxNSGVyb0xpc3RTdGF0ZSJdLCBfX2NvbnN0cnVjdHNfXyA6IFsiRGlzcGxheUhlcm9Sb29tQWN0aW9uQWN0aW9ucyIsIkRpc3BsYXlIZXJvSXRlbUFjdGlvbnMiXSB9CkFMTUhlcm9MaXN0U3RhdGUuRGlzcGxheUhlcm9Sb29tQWN0aW9uQWN0aW9ucyA9IFsiRGlzcGxheUhlcm9Sb29tQWN0aW9uQWN0aW9ucyIsMF07CkFMTUhlcm9MaXN0U3RhdGUuRGlzcGxheUhlcm9Sb29tQWN0aW9uQWN0aW9ucy50b1N0cmluZyA9ICRlc3RyOwpBTE1IZXJvTGlzdFN0YXRlLkRpc3BsYXlIZXJvUm9vbUFjdGlvbkFjdGlvbnMuX19lbnVtX18gPSBBTE1IZXJvTGlzdFN0YXRlOwpBTE1IZXJvTGlzdFN0YXRlLkRpc3BsYXlIZXJvSXRlbUFjdGlvbnMgPSBmdW5jdGlvbihzZXJpYWwpIHsgdmFyICR4ID0gWyJEaXNwbGF5SGVyb0l0ZW1BY3Rpb25zIiwxLHNlcmlhbF07ICR4Ll9fZW51bV9fID0gQUxNSGVyb0xpc3RTdGF0ZTsgJHgudG9TdHJpbmcgPSAkZXN0cjsgcmV0dXJuICR4OyB9CnZhciBBTE1Sb29tTGlzdFN0YXRlID0gJGh4Q2xhc3Nlc1siQUxNUm9vbUxpc3RTdGF0ZSJdID0geyBfX2VuYW1lX18gOiBbIkFMTVJvb21MaXN0U3RhdGUiXSwgX19jb25zdHJ1Y3RzX18gOiBbIkRpc3BsYXlIZXJvQWN0aW9uIiwiRGlzcGxheVJvb21BY3Rpb24iLCJEaXNwbGF5Tm9uZSJdIH0KQUxNUm9vbUxpc3RTdGF0ZS5EaXNwbGF5SGVyb0FjdGlvbiA9IGZ1bmN0aW9uKHNlcmlhbCkgeyB2YXIgJHggPSBbIkRpc3BsYXlIZXJvQWN0aW9uIiwwLHNlcmlhbF07ICR4Ll9fZW51bV9fID0gQUxNUm9vbUxpc3RTdGF0ZTsgJHgudG9TdHJpbmcgPSAkZXN0cjsgcmV0dXJuICR4OyB9CkFMTVJvb21MaXN0U3RhdGUuRGlzcGxheVJvb21BY3Rpb24gPSBmdW5jdGlvbihzZXJpYWwpIHsgdmFyICR4ID0gWyJEaXNwbGF5Um9vbUFjdGlvbiIsMSxzZXJpYWxdOyAkeC5fX2VudW1fXyA9IEFMTVJvb21MaXN0U3RhdGU7ICR4LnRvU3RyaW5nID0gJGVzdHI7IHJldHVybiAkeDsgfQpBTE1Sb29tTGlzdFN0YXRlLkRpc3BsYXlOb25lID0gWyJEaXNwbGF5Tm9uZSIsMl07CkFMTVJvb21MaXN0U3RhdGUuRGlzcGxheU5vbmUudG9TdHJpbmcgPSAkZXN0cjsKQUxNUm9vbUxpc3RTdGF0ZS5EaXNwbGF5Tm9uZS5fX2VudW1fXyA9IEFMTVJvb21MaXN0U3RhdGU7Cgp2YXIgQWN0aW9uTGlzdE1haW50YWluZXIgPSAkaHhDbGFzc2VzWyJBY3Rpb25MaXN0TWFpbnRhaW5lciJdID0gZnVuY3Rpb24oKSB7Cgl0aGlzLmhlcm9Xb3JraW5nID0gZmFsc2U7Cgl0aGlzLnJvb21Xb3JraW5nID0gZmFsc2U7Cn07CkFjdGlvbkxpc3RNYWludGFpbmVyLl9fbmFtZV9fID0gWyJBY3Rpb25MaXN0TWFpbnRhaW5lciJdOwpBY3Rpb25MaXN0TWFpbnRhaW5lci5qID0gZnVuY3Rpb24ocykgewoJcmV0dXJuIG5ldyBqcy5KUXVlcnkocyk7Cn0KQWN0aW9uTGlzdE1haW50YWluZXIucHJvdG90eXBlID0gewoJcmVmcmVzaFJvb21JbnY6IGZ1bmN0aW9uKCkgewoJCXZhciByb29tU2VsID0gSnFFeC5qKCIjcm9vbSAuc2VsZWN0ZWQiKTsKCQl2YXIgdG9TaG93ID0gbnVsbDsKCQlpZihyb29tU2VsLmxlbmd0aCA+IDApIHRvU2hvdyA9IHJvb21TZWwucGFyZW50KCkuYXR0cigic2VyaWFsIik7IGVsc2UgaWYoTWFpbi5zZWwuY3VycmVudFJvb21TZWxlY3Rpb24gIT0gbnVsbCkgewoJCQl0b1Nob3cgPSBNYWluLnNlbC5jdXJyZW50Um9vbVNlbGVjdGlvbjsKCQkJdGhpcy51cGRhdGVSb29tTGlzdFN0YXRlKEFMTVJvb21MaXN0U3RhdGUuRGlzcGxheVJvb21BY3Rpb24oTWFpbi5zZWwuY3VycmVudFJvb21TZWxlY3Rpb24pKTsKCQl9IGVsc2UgdGhpcy51cGRhdGVSb29tTGlzdFN0YXRlKEFMTVJvb21MaXN0U3RhdGUuRGlzcGxheU5vbmUpOwoJCWlmKHRvU2hvdyA9PSBudWxsKSB0aGlzLnVwZGF0ZVJvb21MaXN0U3RhdGUoQUxNUm9vbUxpc3RTdGF0ZS5EaXNwbGF5Tm9uZSk7IGVsc2UgaWYoTWFpbi5oZXJvZXMuZ2V0KHRvU2hvdykgIT0gbnVsbCkgdGhpcy51cGRhdGVSb29tTGlzdFN0YXRlKEFMTVJvb21MaXN0U3RhdGUuRGlzcGxheUhlcm9BY3Rpb24odG9TaG93KSk7IGVsc2UgdGhpcy51cGRhdGVSb29tTGlzdFN0YXRlKEFMTVJvb21MaXN0U3RhdGUuRGlzcGxheVJvb21BY3Rpb24odG9TaG93KSk7Cgl9CgkscmVmcmVzaEhlcm9JbnY6IGZ1bmN0aW9uKCkgewoJCXZhciBpdGVtU2VsID0gSnFFeC5qKCIjbXlJbnZlbnRvcnkgLnNlbGVjdGVkIik7CgkJaWYoaXRlbVNlbC5sZW5ndGggPD0gMCkgdGhpcy5jaGFuZ2VIZXJvTGlzdFN0YXRlKEFMTUhlcm9MaXN0U3RhdGUuRGlzcGxheUhlcm9Sb29tQWN0aW9uQWN0aW9ucyk7IGVsc2UgdGhpcy5jaGFuZ2VIZXJvTGlzdFN0YXRlKEFMTUhlcm9MaXN0U3RhdGUuRGlzcGxheUhlcm9JdGVtQWN0aW9ucyhpdGVtU2VsLnBhcmVudCgpLmF0dHIoInNlcmlhbCIpKSk7Cgl9CgkscmVmcmVzaDogZnVuY3Rpb24oZm9yY2UpIHsKCQlpZihmb3JjZSA9PSBudWxsKSBmb3JjZSA9IGZhbHNlOwoJCWlmKGZvcmNlKSB7CgkJCXRoaXMuaGVyb1N0YXRlID0gbnVsbDsKCQkJdGhpcy5yb29tU3RhdGUgPSBudWxsOwoJCQl0aGlzLnJvb21Xb3JraW5nID0gZmFsc2U7CgkJCXRoaXMuaGVyb1dvcmtpbmcgPSBmYWxzZTsKCQl9CgkJdGhpcy5yZWZyZXNoSGVyb0ludigpOwoJCXRoaXMucmVmcmVzaFJvb21JbnYoKTsKCX0KCSx1cGRhdGVSb29tTGlzdFN0YXRlOiBmdW5jdGlvbihzdCkgewoJCXZhciBfZyA9IHRoaXM7CgkJdmFyIHNldCA9IEpxRXguaigiI3Jvb21BY3Rpb25MaXN0MSIpLmFkZCgiI3Jvb21BY3Rpb25MaXN0MiIpOwoJCWlmKHRoaXMucm9vbVN0YXRlICE9IG51bGwgJiYgVHlwZS5lbnVtRXEodGhpcy5yb29tU3RhdGUsc3QpKSByZXR1cm47CgkJaWYodGhpcy5yb29tV29ya2luZykgewoJCQlpZih0aGlzLnJvb21TdGF0ZSA9PSBudWxsIHx8IHRoaXMucm9vbVN0YXRlID09IEFMTVJvb21MaXN0U3RhdGUuRGlzcGxheU5vbmUpIHsKCQkJCXNldC5zdG9wKCk7CgkJCQl0aGlzLnJvb21Xb3JraW5nID0gZmFsc2U7CgkJCQl0aGlzLnVwZGF0ZVJvb21MaXN0U3RhdGUoc3QpOwoJCQl9IGVsc2UgbnVsbDsKCQkJcmV0dXJuOwoJCX0KCQlpZihzZXQubGVuZ3RoID4gMCkgewoJCQl0aGlzLnJvb21Xb3JraW5nID0gdHJ1ZTsKCQkJc2V0LmZhZGVUbygxMjAsMCxmdW5jdGlvbigpIHsKCQkJCXZhciAkZSA9IChzdCk7CgkJCQlzd2l0Y2goICRlWzFdICkgewoJCQkJY2FzZSAwOgoJCQkJCXZhciBpblNlcmlhbCA9ICRlWzJdOwoJCQkJCXZhciBwYWNrID0gTWFpbi5oZXJvZXMuZ2V0KGluU2VyaWFsKTsKCQkJCQl2YXIgdGd0ID0gSnFFeC5qKCIjcm9vbUFjdGlvbkxpc3QyIik7CgkJCQkJdmFyIHNyYyA9IEpxRXguaigiLmNkQWN0aW9uUmVwb3NpdG9yeSIpOwoJCQkJCXZhciBhY3Rpb25zID0gc3JjLmZpbmQoIlt3ZWJkYXRhPSIgKyBpblNlcmlhbCArICJdIikuY2xvbmUoKTsKCQkJCQl0Z3QuaHRtbChhY3Rpb25zKTsKCQkJCQluZXcganMuSlF1ZXJ5KCIjY2RJdGVtQWN0aW9ucyIpLmFkZENsYXNzKCJzZWxlY3RwbGF5ZXIiKTsKCQkJCQl2YXIgdGd0aCA9IEpxRXguaigiI3Jvb21BY3Rpb25MaXN0MSIpOwoJCQkJCXRndGguaHRtbCgiIik7CgkJCQkJdGd0aC5wYXJlbnQoKS5hZGRDbGFzcygicGxheWVyIik7CgkJCQkJdmFyIGh0bWxSZXMgPSBuZXcganMuSlF1ZXJ5KCIuY2RIZXJvU2hlZXQiKS5jbG9uZSgpOwoJCQkJCWh0bWxSZXMuZmluZCgiLmNkRmFjZSIpLmFkZENsYXNzKCJwb3J0cmFpdF8iICsgcGFjay5kZXZfc3VybmFtZSk7CgkJCQkJaHRtbFJlcy5maW5kKCIuY2RDaGFyTmFtZSIpLmh0bWwocGFjay5uYW1lKTsKCQkJCQlodG1sUmVzLmZpbmQoIi5jZFNraWxscyIpLmh0bWwocGFjay5za2lsbHMubWFwKGZ1bmN0aW9uKHMpIHsKCQkJCQkJcmV0dXJuIG5ldyBUYWcoImxpIikuYXBwZW5kKG5ldyBUYWcoImltZyIpLmF0dHIoInNyYyIsIi9pbWcvaWNvbnMvc2tpbGxzLyIgKyBzLmltZyArICIucG5nIikpLnRpcChVdGlscy5lc2NhcGVKUyhzLm5hbWUpLFV0aWxzLmVzY2FwZUpTKHMuZGVzYykpLnRvU3RyaW5nKCk7CgkJCQkJfSkuam9pbigiIikpOwoJCQkJCXZhciBzdENvbnQgPSBuZXcganMuSlF1ZXJ5KCIuY2RTdGF0dXNMaXN0Iik7CgkJCQkJdmFyIGNvbnRlbnQgPSBuZXcgTGlzdCgpOwoJCQkJCXZhciAkaXQwID0gcGFjay5zdGF0dXNlcy5pdGVyYXRvcigpOwoJCQkJCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQkJCQkJdmFyIHN0MSA9ICRpdDAubmV4dCgpOwoJCQkJCQljb250ZW50LnB1c2gobmV3IFRhZygibGkiKS5hcHBlbmQobmV3IFRhZygiaW1nIikuYXR0cigic3JjIiwiL2ltZy9pY29ucy91aS9zdGF0dXMvIiArIHN0MS5pbWcgKyAiLnBuZyIpKS50aXAoVXRpbHMuZXNjYXBlSlMoc3QxLm5hbWUpLFV0aWxzLmVzY2FwZUpTKHN0MS5kZXNjKSkudG9TdHJpbmcoKSk7CgkJCQkJfQoJCQkJCXZhciAkaXQxID0gcGFjay50aXRsZXMuaXRlcmF0b3IoKTsKCQkJCQl3aGlsZSggJGl0MS5oYXNOZXh0KCkgKSB7CgkJCQkJCXZhciB0ID0gJGl0MS5uZXh0KCk7CgkJCQkJCWNvbnRlbnQucHVzaChuZXcgVGFnKCJsaSIpLmFwcGVuZChuZXcgVGFnKCJpbWciKS5hdHRyKCJzcmMiLCIvaW1nL2ljb25zL3VpLyIgKyB0LmltZyArICIucG5nIikpLnRpcChVdGlscy5lc2NhcGVKUyh0Lm5hbWUpLFV0aWxzLmVzY2FwZUpTKHQuZGVzYykpLnRvU3RyaW5nKCkpOwoJCQkJCX0KCQkJCQlpZihwYWNrLnNwb3JlcyAhPSBudWxsKSBjb250ZW50LnB1c2gobmV3IFRhZygic3BhbiIpLmFwcGVuZChuZXcgVGFnKCJsaSIpLmFwcGVuZChuZXcgVGFnKCJpbWciKS5hdHRyKCJzcmMiLHBhY2suc3BvcmVzLmltZykpKS5jb250ZW50KCJ4IiArIHBhY2suc3BvcmVzLm5iKS50b1N0cmluZygpKTsKCQkJCQlzdENvbnQuaHRtbChjb250ZW50LmpvaW4oIiIpKTsKCQkJCQlodG1sUmVzLmZpbmQoIi5jZFN0YXR1c0xpc3QiKS5odG1sKGNvbnRlbnQuam9pbigiIikpOwoJCQkJCWh0bWxSZXMuZmluZCgiLnByZXNlbnRhdGlvbiIpLmh0bWwocGFjay5zaG9ydF9kZXNjKTsKCQkJCQlpZihwYWNrLm1lKSBodG1sUmVzLmZpbmQoIi5jZEVjb0xpbmsiKS5oaWRlKCk7CgkJCQkJdGd0aC5odG1sKGh0bWxSZXMuY2hpbGRyZW4oKSk7CgkJCQkJdGd0LmZhZGVUbygxMjAsMSk7CgkJCQkJdGd0aC5mYWRlVG8oMTIwLDEpOwoJCQkJCU1haW4udGlwQWxsKCk7CgkJCQkJX2cucm9vbVdvcmtpbmcgPSBmYWxzZTsKCQkJCQlicmVhazsKCQkJCWNhc2UgMToKCQkJCQl2YXIgaW5TZXJpYWwgPSAkZVsyXTsKCQkJCQl2YXIgdGd0MSA9IEpxRXguaigiI3Jvb21BY3Rpb25MaXN0MSIpOwoJCQkJCXZhciB0Z3QyID0gSnFFeC5qKCIjcm9vbUFjdGlvbkxpc3QyIik7CgkJCQkJdmFyIHNyYyA9IEpxRXguaigiLmNkQWN0aW9uUmVwb3NpdG9yeSIpOwoJCQkJCXZhciBhY3Rpb25zID0gc3JjLmZpbmQoIlt3ZWJkYXRhPSIgKyBpblNlcmlhbCArICJdIikuY2xvbmUoKTsKCQkJCQluZXcganMuSlF1ZXJ5KCIjY2RJdGVtQWN0aW9ucyIpLnJlbW92ZUNsYXNzKCJzZWxlY3RwbGF5ZXIiKTsKCQkJCQl0Z3QxLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJwbGF5ZXIiKTsKCQkJCQl0Z3QxLmh0bWwoYWN0aW9ucy5maWx0ZXIoIjpldmVuIikpOwoJCQkJCXRndDIuaHRtbChhY3Rpb25zLmZpbHRlcigiOm9kZCIpKTsKCQkJCQl0Z3QxLmZhZGVUbygxMjAsMSk7CgkJCQkJdGd0Mi5mYWRlVG8oMTIwLDEpOwoJCQkJCU1haW4udGlwQWxsKCk7CgkJCQkJX2cucm9vbVdvcmtpbmcgPSBmYWxzZTsKCQkJCQlicmVhazsKCQkJCWNhc2UgMjoKCQkJCQl2YXIgdGd0MSA9IEpxRXguaigiI3Jvb21BY3Rpb25MaXN0MSIpOwoJCQkJCXZhciB0Z3QyID0gSnFFeC5qKCIjcm9vbUFjdGlvbkxpc3QyIik7CgkJCQkJdGd0MS5odG1sKCIiKTsKCQkJCQl0Z3QyLmh0bWwoIiIpOwoJCQkJCV9nLnJvb21Xb3JraW5nID0gZmFsc2U7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0pOwoJCX0gZWxzZSBudWxsOwoJfQoJLGNoYW5nZUhlcm9MaXN0U3RhdGU6IGZ1bmN0aW9uKHN0KSB7CgkJdmFyIF9nID0gdGhpczsKCQlpZih0aGlzLnJvb21TdGF0ZSAhPSBudWxsICYmIFR5cGUuZW51bUVxKHRoaXMuaGVyb1N0YXRlLHN0KSkgcmV0dXJuOwoJCWlmKHRoaXMuaGVyb1dvcmtpbmcpIHJldHVybjsKCQl0aGlzLmhlcm9Xb3JraW5nID0gdHJ1ZTsKCQlKcUV4LmooIi5jZEFjdGlvbkxpc3QiKS5mYWRlVG8oMTIwLDAsZnVuY3Rpb24oKSB7CgkJCV9nLmNoYW5nZUhlcm9MaXN0U3RhdGUyKHN0KTsKCQl9KTsKCX0KCSxjaGFuZ2VIZXJvTGlzdFN0YXRlMjogZnVuY3Rpb24oc3QpIHsKCQl2YXIgX2cgPSB0aGlzOwoJCXZhciAkZSA9IChzdCk7CgkJc3dpdGNoKCAkZVsxXSApIHsKCQljYXNlIDA6CgkJCXZhciB0Z3QgPSBKcUV4LmooIi5jZEFjdGlvbkxpc3QiKTsKCQkJdmFyIHNyYyA9IEpxRXguaigiLmNkQWN0aW9uUmVwb3NpdG9yeSAuaGVyb1Jvb21BY3Rpb25zIikuY2hpbGRyZW4oKS5jbG9uZSgpOwoJCQl0Z3QuaHRtbChzcmMpOwoJCQlKcUV4LmooIi5jZEFjdGlvbkxpc3QgLm1vdmUiKS5oaWRlKCk7CgkJCWJyZWFrOwoJCWNhc2UgMToKCQkJdmFyIHNlcmlhbCA9ICRlWzJdOwoJCQl2YXIgdGd0ID0gSnFFeC5qKCIuY2RBY3Rpb25MaXN0Iik7CgkJCXZhciBzcmMgPSBKcUV4LmooIi5jZEFjdGlvblJlcG9zaXRvcnkgLmhlcm9TZXJpYWxBY3Rpb25zIik7CgkJCXZhciBhY3Rpb25zID0gc3JjLmNoaWxkcmVuKCJbd2ViZGF0YT0iICsgc2VyaWFsICsgIl0iKS5hZGQoIi5jZEFjdGlvblJlcG9zaXRvcnkgLmhlcm9TZXJpYWxBY3Rpb25zIC5jZFJldHVybkZyb21TZWxCdXR0b24iKS5jbG9uZSgpOwoJCQl0Z3QuaHRtbChhY3Rpb25zKTsKCQkJTWFpbi50aXBBbGwoKTsKCQkJSnFFeC5qKCIuY2RBY3Rpb25MaXN0IC5tb3ZlIikuaGlkZSgpOwoJCQlicmVhazsKCQl9CgkJdGhpcy5oZXJvU3RhdGUgPSBzdDsKCQlKcUV4LmooIi5jZEFjdGlvbkxpc3QiKS5oaWRlKCkuZmFkZVRvKDEyMCwxLGZ1bmN0aW9uKCkgewoJCQlfZy5oZXJvV29ya2luZyA9IGZhbHNlOwoJCX0pOwoJfQoJLF9fY2xhc3NfXzogQWN0aW9uTGlzdE1haW50YWluZXIKfQoKdmFyIEFycmF5RXggPSBmdW5jdGlvbigpIHsgfQokaHhDbGFzc2VzWyJBcnJheUV4Il0gPSBBcnJheUV4OwpBcnJheUV4Ll9fbmFtZV9fID0gWyJBcnJheUV4Il07CkFycmF5RXguc2NyYW1ibGUgPSBmdW5jdGlvbihhcnIpIHsKCXZhciBfZzEgPSAwOwoJdmFyIF9nID0gMyAqIChhcnIubGVuZ3RoICsgU3RkLnJhbmRvbShhcnIubGVuZ3RoKSk7Cgl3aGlsZShfZzEgPCBfZykgewoJCXZhciB4ID0gX2cxKys7CgkJdmFyIGIgPSBTdGQucmFuZG9tKGFyci5sZW5ndGgpOwoJCXZhciBhID0gU3RkLnJhbmRvbShhcnIubGVuZ3RoKTsKCQl2YXIgdGVtcCA9IGFyclthXTsKCQlhcnJbYV0gPSBhcnJbYl07CgkJYXJyW2JdID0gdGVtcDsKCX0KCXJldHVybiBhcnI7Cn0KQXJyYXlFeC5maXJzdCA9IGZ1bmN0aW9uKGFycikgewoJcmV0dXJuIGFyclswXTsKfQpBcnJheUV4Lmxhc3QgPSBmdW5jdGlvbihhcnIpIHsKCXJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdOwp9CkFycmF5RXgucmFuZG9tID0gZnVuY3Rpb24oYXJyKSB7CglyZXR1cm4gYXJyW1N0ZC5yYW5kb20oYXJyLmxlbmd0aCldOwp9CkFycmF5RXgucmVzZXJ2ZSA9IGZ1bmN0aW9uKG4pIHsKCXZhciByID0gbmV3IEFycmF5KCk7CglyW25dID0gbnVsbDsKCXJldHVybiByOwp9CkFycmF5RXgucmZpbmQgPSBmdW5jdGlvbihhcnIscHJvYykgewoJdmFyIHJlcyA9IG51bGw7Cgl2YXIgX2cxID0gMDsKCXZhciBfZyA9IGFyci5sZW5ndGg7Cgl3aGlsZShfZzEgPCBfZykgewoJCXZhciBpID0gX2cxKys7CgkJdmFyIGlkeCA9IGFyci5sZW5ndGggLSBpIC0gMTsKCQlpZihwcm9jKGFycltpZHhdKSkgewoJCQlyZXMgPSBhcnJbaWR4XTsKCQkJYnJlYWs7CgkJfQoJfQoJcmV0dXJuIHJlczsKfQpBcnJheUV4LmNsZWFyID0gZnVuY3Rpb24oYXJyKSB7CglhcnIuc3BsaWNlKDAsYXJyLmxlbmd0aCk7Cn0KQXJyYXlFeC5yZW1vdmVCeUluZGV4ID0gZnVuY3Rpb24oYXJyLGkpIHsKCWFyci5zcGxpY2UoaSwxKTsKfQpBcnJheUV4LmVucXVldWUgPSBmdW5jdGlvbihhLGIpIHsKCXZhciAkaXQwID0gJGl0ZXJhdG9yKGIpKCk7Cgl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJdmFyIHggPSAkaXQwLm5leHQoKTsKCQlhLnB1c2goeCk7Cgl9CglyZXR1cm4gYTsKfQpBcnJheUV4LnN0cmlwID0gZnVuY3Rpb24oYSxmKSB7Cgl2YXIgdG9wID0gYS5sZW5ndGggLSAxOwoJd2hpbGUodG9wID49IDApIHsKCQlpZihmKGFbdG9wXSkpIGEuc3BsaWNlKHRvcCwxKTsKCQl0b3AtLTsKCX0KCXJldHVybiBhOwp9CkFycmF5RXguc3BsYXQgPSBmdW5jdGlvbihhcnIsbmIsZSkgewoJdmFyIF9nID0gMDsKCXdoaWxlKF9nIDwgbmIpIHsKCQl2YXIgaSA9IF9nKys7CgkJYXJyLnB1c2goUmVmbGVjdC5jb3B5KGUpKTsKCX0KCXJldHVybiBhcnI7Cn0KQXJyYXlFeC53cmFwID0gZnVuY3Rpb24oYXJyLHByZSxwb3N0KSB7Cgl2YXIgciA9IFtdOwoJdmFyIF9nID0gMDsKCXdoaWxlKF9nIDwgYXJyLmxlbmd0aCkgewoJCXZhciBrID0gYXJyW19nXTsKCQkrK19nOwoJCXIucHVzaChwcmUgKyBTdGQuc3RyaW5nKGspICsgcG9zdCk7Cgl9CglyZXR1cm4gcjsKfQpBcnJheUV4LmJzZWFyY2ggPSBmdW5jdGlvbihhLGtleSxmKSB7Cgl2YXIgc3QgPSAwOwoJdmFyIG1heCA9IGEubGVuZ3RoOwoJdmFyIGluZGV4ID0gLTE7Cgl3aGlsZShzdCA8IG1heCkgewoJCWluZGV4ID0gc3QgKyBtYXggPj4gMTsKCQl2YXIgdmFsID0gYVtpbmRleF07CgkJdmFyIGNtcCA9IGYoa2V5LHZhbCk7CgkJaWYoY21wIDwgMCkgbWF4ID0gaW5kZXg7IGVsc2UgaWYoY21wID4gMCkgc3QgPSBpbmRleCArIDE7IGVsc2UgcmV0dXJuIHZhbDsKCX0KCXJldHVybiBudWxsOwp9CkFycmF5RXguZXhjZXB0ID0gZnVuY3Rpb24oaXQsZXhjKSB7CglyZXR1cm4gTGFtYmRhLmZpbHRlcihpdCxmdW5jdGlvbihhKSB7CgkJcmV0dXJuICFMYW1iZGEuaGFzKGV4YyxhKTsKCX0pOwp9CkFycmF5RXguZXhjZXB0YSA9IGZ1bmN0aW9uKGl0LGV4YykgewoJcmV0dXJuIExhbWJkYS5hcnJheShBcnJheUV4LmV4Y2VwdChpdCxleGMpKTsKfQpBcnJheUV4LnB1c2hCYWNrID0gZnVuY3Rpb24obCxlKSB7CglsLnB1c2goZSk7CglyZXR1cm4gZTsKfQpBcnJheUV4LnB1c2hGcm9udCA9IGZ1bmN0aW9uKGwsZSkgewoJbC51bnNoaWZ0KGUpOwoJcmV0dXJuIGU7Cn0KQXJyYXlFeC5wYXJ0aXRpb24gPSBmdW5jdGlvbihpdCxwcmVkaWNhdGUpIHsKCXZhciBwID0gbmV3IG10Lmd4LlBhaXIoW10sW10pOwoJdmFyIF9nID0gMDsKCXdoaWxlKF9nIDwgaXQubGVuZ3RoKSB7CgkJdmFyIHggPSBpdFtfZ107CgkJKytfZzsKCQlpZihwcmVkaWNhdGUoeCkpIHAuZmlyc3QucHVzaCh4KTsgZWxzZSBwLnNlY29uZC5wdXNoKHgpOwoJfQoJcmV0dXJuIHA7Cn0KQXJyYXlFeC5yZW1vdmVMYXN0ID0gZnVuY3Rpb24oYXJyKSB7CglhcnIucG9wKCk7Cn0KQXJyYXlFeC5iZXN0ID0gZnVuY3Rpb24oYXJyLGYpIHsKCWlmKGFyci5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7IGVsc2UgewoJCXZhciBpID0gMDsKCQl2YXIgaWR4ID0gMDsKCQl2YXIgX2cxID0gMDsKCQl2YXIgX2cgPSBhcnIubGVuZ3RoOwoJCXdoaWxlKF9nMSA8IF9nKSB7CgkJCXZhciBpMSA9IF9nMSsrOwoJCQlpZihmKGFycltpZHhdKSA8IGYoYXJyW2kxXSkpIGlkeCA9IGkxOwoJCX0KCQlyZXR1cm4gYXJyW2ldOwoJfQp9CkFycmF5RXguYmVzdE5aID0gZnVuY3Rpb24oYXJyLGYpIHsKCWlmKGFyci5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7IGVsc2UgewoJCXZhciBjdXIgPSBudWxsOwoJCXZhciBpZHggPSBudWxsOwoJCXZhciBfZzEgPSAwOwoJCXZhciBfZyA9IGFyci5sZW5ndGg7CgkJd2hpbGUoX2cxIDwgX2cpIHsKCQkJdmFyIGkgPSBfZzErKzsKCQkJdmFyIG52ID0gZihhcnJbaV0pOwoJCQlpZihudiAhPSAwKSB7CgkJCQlpZihpZHggPT0gbnVsbCkgewoJCQkJCWlkeCA9IGk7CgkJCQkJY3VyID0gZihhcnJbaWR4XSk7CgkJCQl9IGVsc2UgaWYobnYgPiBjdXIpIHsKCQkJCQlpZHggPSBpOwoJCQkJCWN1ciA9IG52OwoJCQkJfQoJCQl9CgkJfQoJCWlmKGlkeCAhPSBudWxsKSByZXR1cm4gYXJyW2lkeF07IGVsc2UgcmV0dXJuIG51bGw7Cgl9Cn0KQXJyYXlFeC53b3JzdE5aID0gZnVuY3Rpb24oYXJyLGYpIHsKCWlmKGFyci5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7IGVsc2UgewoJCXZhciBpID0gMDsKCQl2YXIgY3VyID0gMDsKCQl2YXIgaWR4ID0gbnVsbDsKCQl2YXIgX2cxID0gMDsKCQl2YXIgX2cgPSBhcnIubGVuZ3RoOwoJCXdoaWxlKF9nMSA8IF9nKSB7CgkJCXZhciBpMSA9IF9nMSsrOwoJCQl2YXIgbnYgPSBmKGFycltpMV0pOwoJCQlpZihudiAhPSAwKSB7CgkJCQlpZihpZHggPT0gbnVsbCkgewoJCQkJCWlkeCA9IDA7CgkJCQkJY3VyID0gZihhcnJbaWR4XSk7CgkJCQl9IGVsc2UgaWYobnYgPCBjdXIpIHsKCQkJCQlpZHggPSBpMTsKCQkJCQljdXIgPSBudjsKCQkJCX0KCQkJfQoJCX0KCQlpZihpZHggIT0gbnVsbCkgcmV0dXJuIGFycltpZHhdOyBlbHNlIHJldHVybiBudWxsOwoJfQp9CkFycmF5RXgud29yc3QgPSBmdW5jdGlvbihhcnIsZikgewoJaWYoYXJyLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDsgZWxzZSB7CgkJdmFyIGkgPSAwOwoJCXZhciBpZHggPSAwOwoJCXZhciBfZzEgPSAxOwoJCXZhciBfZyA9IGFyci5sZW5ndGg7CgkJd2hpbGUoX2cxIDwgX2cpIHsKCQkJdmFyIGkxID0gX2cxKys7CgkJCWlmKGYoYXJyW2lkeF0pID4gZihhcnJbaTFdKSkgaWR4ID0gaTE7CgkJfQoJCXJldHVybiBhcnJbaV07Cgl9Cn0KQXJyYXlFeC5yZW1vdmVBbGwgPSBmdW5jdGlvbihhLGYpIHsKCXZhciBfZyA9IDA7Cgl2YXIgX2cxID0gYS5zbGljZSgpOwoJd2hpbGUoX2cgPCBfZzEubGVuZ3RoKSB7CgkJdmFyIGQgPSBfZzFbX2ddOwoJCSsrX2c7CgkJaWYoZihkKSkgSHhPdmVycmlkZXMucmVtb3ZlKGEsZCk7Cgl9Cn0KdmFyIENoYXRUeXBlID0gJGh4Q2xhc3Nlc1siQ2hhdFR5cGUiXSA9IHsgX19lbmFtZV9fIDogWyJDaGF0VHlwZSJdLCBfX2NvbnN0cnVjdHNfXyA6IFsiTG9jYWwiLCJfQ2VudHJhbCIsIk11c2giLCJfQWxlcnQiLCJPYmplY3RpdmVzIiwiV2FsbCIsIkZhdldhbGwiLCJQcml2YXRlMCIsIlByaXZhdGUxIiwiUHJpdmF0ZTIiXSB9CkNoYXRUeXBlLkxvY2FsID0gWyJMb2NhbCIsMF07CkNoYXRUeXBlLkxvY2FsLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLkxvY2FsLl9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLl9DZW50cmFsID0gWyJfQ2VudHJhbCIsMV07CkNoYXRUeXBlLl9DZW50cmFsLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLl9DZW50cmFsLl9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLk11c2ggPSBbIk11c2giLDJdOwpDaGF0VHlwZS5NdXNoLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLk11c2guX19lbnVtX18gPSBDaGF0VHlwZTsKQ2hhdFR5cGUuX0FsZXJ0ID0gWyJfQWxlcnQiLDNdOwpDaGF0VHlwZS5fQWxlcnQudG9TdHJpbmcgPSAkZXN0cjsKQ2hhdFR5cGUuX0FsZXJ0Ll9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLk9iamVjdGl2ZXMgPSBbIk9iamVjdGl2ZXMiLDRdOwpDaGF0VHlwZS5PYmplY3RpdmVzLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLk9iamVjdGl2ZXMuX19lbnVtX18gPSBDaGF0VHlwZTsKQ2hhdFR5cGUuV2FsbCA9IFsiV2FsbCIsNV07CkNoYXRUeXBlLldhbGwudG9TdHJpbmcgPSAkZXN0cjsKQ2hhdFR5cGUuV2FsbC5fX2VudW1fXyA9IENoYXRUeXBlOwpDaGF0VHlwZS5GYXZXYWxsID0gWyJGYXZXYWxsIiw2XTsKQ2hhdFR5cGUuRmF2V2FsbC50b1N0cmluZyA9ICRlc3RyOwpDaGF0VHlwZS5GYXZXYWxsLl9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLlByaXZhdGUwID0gWyJQcml2YXRlMCIsN107CkNoYXRUeXBlLlByaXZhdGUwLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLlByaXZhdGUwLl9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLlByaXZhdGUxID0gWyJQcml2YXRlMSIsOF07CkNoYXRUeXBlLlByaXZhdGUxLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLlByaXZhdGUxLl9fZW51bV9fID0gQ2hhdFR5cGU7CkNoYXRUeXBlLlByaXZhdGUyID0gWyJQcml2YXRlMiIsOV07CkNoYXRUeXBlLlByaXZhdGUyLnRvU3RyaW5nID0gJGVzdHI7CkNoYXRUeXBlLlByaXZhdGUyLl9fZW51bV9fID0gQ2hhdFR5cGU7CgptdC5neCA9IHt9Cm10Lmd4LlBhaXIgPSBmdW5jdGlvbihhLGIpIHsKCXRoaXMuZmlyc3QgPSBhOwoJdGhpcy5zZWNvbmQgPSBiOwp9OwoKdmFyIFRhZyA9IGZ1bmN0aW9uKG4pIHsKCXRoaXMubmFtZSA9IG47Cgl0aGlzLmNoaWxkcmVuID0gbmV3IExpc3QoKTsKCXRoaXMuYXR0ID0gbmV3IEFycmF5KCk7Cn07CiRoeENsYXNzZXNbIlRhZyJdID0gVGFnOwpUYWcuX19uYW1lX18gPSBbIlRhZyJdOwpUYWcuYXR0cjJIdG1sID0gZnVuY3Rpb24ocykgewoJdmFyIGwgPSBzOwoJdmFyICRpdDAgPSBUYWcuaGFzaDJBdHRyLmtleXMoKTsKCXdoaWxlKCAkaXQwLmhhc05leHQoKSApIHsKCQl2YXIgayA9ICRpdDAubmV4dCgpOwoJCWwgPSBsLnNwbGl0KGspLmpvaW4oVGFnLmhhc2gyQXR0ci5nZXQoaykpOwoJfQoJcmV0dXJuIGw7Cn0KdmFyIENsaWVudHMgPSAkaHhDbGFzc2VzWyJDbGllbnRzIl0gPSB7IF9fZW5hbWVfXyA6IFsiQ2xpZW50cyJdLCBfX2NvbnN0cnVjdHNfXyA6IFsiSVNPX01PRFVMRSJdIH0KQ2xpZW50cy5JU09fTU9EVUxFID0gWyJJU09fTU9EVUxFIiwwXTsKQ2xpZW50cy5JU09fTU9EVUxFLnRvU3RyaW5nID0gJGVzdHI7CkNsaWVudHMuSVNPX01PRFVMRS5fX2VudW1fXyA9IENsaWVudHM7CgpUYWcucHJvdG90eXBlID0gewoJY3NzOiBmdW5jdGlvbihuLHYpIHsKCQl0aGlzLmF0dC5wdXNoKG5ldyBtdC5neC5QYWlyKCJzdHlsZSIsIiIgKyBuICsgIjoiICsgdiArICI7IikpOwoJfQoJLGF0dHI6IGZ1bmN0aW9uKG4sYykgewoJCXRoaXMuYXR0LnB1c2gobmV3IG10Lmd4LlBhaXIobixjKSk7CgkJcmV0dXJuIHRoaXM7Cgl9CgksY2xvbmU6IGZ1bmN0aW9uKCkgewoJCXZhciBjbCA9IG5ldyBUYWcodGhpcy5uYW1lKTsKCQljbC5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJc3dpdGNoKGVbMV0pIHsKCQkJY2FzZSAwOgoJCQkJdmFyIHMgPSBlWzJdOwoJCQkJcmV0dXJuIFRhZ0VsZW0uVHh0KHMpOwoJCQljYXNlIDE6CgkJCQl2YXIgdCA9IGVbMl07CgkJCQlyZXR1cm4gVGFnRWxlbS5UZyh0LmNsb25lKCkpOwoJCQl9CgkJfSk7CgkJY2wuYXR0ID0gTGFtYmRhLmZvbGQodGhpcy5hdHQsZnVuY3Rpb24ocCxyKSB7CgkJCXIucHVzaChuZXcgbXQuZ3guUGFpcihwLmZpcnN0LHAuc2Vjb25kKSk7CgkJCXJldHVybiByOwoJCX0sW10pOwoJCXJldHVybiBjbDsKCX0KCSxjb250ZW50OiBmdW5jdGlvbihzdHIpIHsKCQl0aGlzLmNoaWxkcmVuLmFkZChUYWdFbGVtLlR4dChzdHIpKTsKCQlyZXR1cm4gdGhpczsKCX0KCSxhcHBlbmQ6IGZ1bmN0aW9uKHRnKSB7CgkJdGhpcy5jaGlsZHJlbi5hZGQoVGFnRWxlbS5UZyh0ZykpOwoJCXJldHVybiB0aGlzOwoJfQoJLGZvcm1hdDogZnVuY3Rpb24oYykgewoJCXRoaXMubmFtZSA9IFN0ZEV4LmZvcm1hdCh0aGlzLm5hbWUsYyk7CgkJdGhpcy5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJc3dpdGNoKGVbMV0pIHsKCQkJY2FzZSAwOgoJCQkJdmFyIHMgPSBlWzJdOwoJCQkJcmV0dXJuIFRhZ0VsZW0uVHh0KFN0ZEV4LmZvcm1hdChzLGMpKTsKCQkJY2FzZSAxOgoJCQkJdmFyIHQgPSBlWzJdOwoJCQkJdC5mb3JtYXQoYyk7CgkJCQlyZXR1cm4gVGFnRWxlbS5UZyh0KTsKCQkJfQoJCX0pOwoJCXZhciBfZyA9IDA7CgkJdmFyIF9nMSA9IHRoaXMuYXR0OwoJCXdoaWxlKF9nIDwgX2cxLmxlbmd0aCkgewoJCQl2YXIgcCA9IF9nMVtfZ107CgkJCSsrX2c7CgkJCXAuc2Vjb25kID0gU3RkRXguZm9ybWF0KHAuc2Vjb25kKTsKCQl9Cgl9CgksdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewoJCXZhciBfZyA9IHRoaXM7CgkJdmFyIGxpc3RBdHRyID0gZnVuY3Rpb24oKSB7CgkJCXZhciBzID0gIiAiOwoJCQl2YXIgX2cxID0gMDsKCQkJdmFyIF9nMiA9IF9nLmF0dDsKCQkJd2hpbGUoX2cxIDwgX2cyLmxlbmd0aCkgewoJCQkJdmFyIHAgPSBfZzJbX2cxXTsKCQkJCSsrX2cxOwoJCQkJcyArPSAiICIgKyBwLmZpcnN0ICsgIiA9XCIiICsgcC5zZWNvbmQgKyAiXCIgIjsKCQkJfQoJCQlyZXR1cm4gczsKCQl9OwoJCXZhciBzOwoJCXMgPSAiPCIgKyB0aGlzLm5hbWUgKyAiICIgKyBsaXN0QXR0cigpICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMD8iPiI6Ii8+Iik7CgkJdmFyICRpdDAgPSB0aGlzLmNoaWxkcmVuLml0ZXJhdG9yKCk7CgkJd2hpbGUoICRpdDAuaGFzTmV4dCgpICkgewoJCQl2YXIgYyA9ICRpdDAubmV4dCgpOwoJCQlzd2l0Y2goY1sxXSkgewoJCQljYXNlIDE6CgkJCQl2YXIgdGcgPSBjWzJdOwoJCQkJcyArPSB0Zy50b1N0cmluZygpOwoJCQkJYnJlYWs7CgkJCWNhc2UgMDoKCQkJCXZhciB0ID0gY1syXTsKCQkJCXMgKz0gdDsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJCWlmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMCkgcyArPSAiPC8iICsgdGhpcy5uYW1lICsgIj4iOwoJCXJldHVybiBzOwoJfQoJLGh0bWxFc2NhcGVFeDogZnVuY3Rpb24ocykgewoJCXZhciBsID0gczsKCQl2YXIgJGl0MCA9IFRhZy5lc2NhcGVIYXNoLmtleXMoKTsKCQl3aGlsZSggJGl0MC5oYXNOZXh0KCkgKSB7CgkJCXZhciBrID0gJGl0MC5uZXh0KCk7CgkJCWwgPSBsLnNwbGl0KGspLmpvaW4oVGFnLmVzY2FwZUhhc2guZ2V0KGspKTsKCQl9CgkJcmV0dXJuIFN0cmluZ1Rvb2xzLmh0bWxFc2NhcGUobCk7Cgl9CgksdGlwOiBmdW5jdGlvbih0aXRsZSxib2R5KSB7CgkJaWYoYm9keSA9PSBudWxsKSBib2R5ID0gIiI7CgkJdGhpcy5hdHRyKCJvbm1vdXNlb3ZlciIsIk1haW4uc2hvd1RpcCh0aGlzLCIgKyAiJzxkaXYgY2xhc3M9XFwndGlwdG9wXFwnID4iICsgIjxkaXYgY2xhc3M9XFwndGlwYm90dG9tXFwnPiIgKyAiPGRpdiBjbGFzcz1cXCd0aXBiZ1xcJz4iICsgIjxkaXYgY2xhc3M9XFwndGlwY29udGVudFxcJz4iICsgIjxoMT4iICsgVGFnLmF0dHIySHRtbCh0aXRsZSkgKyAiPC9oMT4iICsgVGFnLmF0dHIySHRtbChib2R5KSArICI8L2Rpdj4iICsgIjwvZGl2PiIgKyAiPC9kaXY+IiArICI8L2Rpdj4nKSIpOwoJCXRoaXMuYXR0cigib25tb3VzZW91dCIsIk1haW4uaGlkZVRpcCgpIik7CgkJcmV0dXJuIHRoaXM7Cgl9CgksX19jbGFzc19fOiBUYWcKfQp2YXIgUmVmbGVjdCA9IGZ1bmN0aW9uKCkgeyB9CiRoeENsYXNzZXNbIlJlZmxlY3QiXSA9IFJlZmxlY3Q7ClJlZmxlY3QuX19uYW1lX18gPSBbIlJlZmxlY3QiXTsKUmVmbGVjdC5oYXNGaWVsZCA9IGZ1bmN0aW9uKG8sZmllbGQpIHsKCXJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxmaWVsZCk7Cn0KUmVmbGVjdC5maWVsZHMgPSBmdW5jdGlvbihvKSB7Cgl2YXIgYSA9IFtdOwoJaWYobyAhPSBudWxsKSB7CgkJdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCQlmb3IoIHZhciBmIGluIG8gKSB7CgkJaWYoZiAhPSAiX19pZF9fIiAmJiBmICE9ICJoeF9fY2xvc3VyZXNfXyIgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvLGYpKSBhLnB1c2goZik7CgkJfQoJfQoJcmV0dXJuIGE7Cn0KUmVmbGVjdC5pc0Z1bmN0aW9uID0gZnVuY3Rpb24oZikgewoJcmV0dXJuIHR5cGVvZihmKSA9PSAiZnVuY3Rpb24iICYmICEoZi5fX25hbWVfXyB8fCBmLl9fZW5hbWVfXyk7Cn0KUmVmbGVjdC5jb21wYXJlID0gZnVuY3Rpb24oYSxiKSB7CglpZihhID09IGIpIHJldHVybiAwOyBlbHNlIGlmKGEgPiBiKSByZXR1cm4gMTsgZWxzZSByZXR1cm4gLTE7Cn0KUmVmbGVjdC5pc0VudW1WYWx1ZSA9IGZ1bmN0aW9uKHYpIHsKCXJldHVybiB2ICE9IG51bGwgJiYgdi5fX2VudW1fXyAhPSBudWxsOwp9ClJlZmxlY3QuZGVsZXRlRmllbGQgPSBmdW5jdGlvbihvLGZpZWxkKSB7CglpZighUmVmbGVjdC5oYXNGaWVsZChvLGZpZWxkKSkgcmV0dXJuIGZhbHNlOwoJZGVsZXRlKG9bZmllbGRdKTsKCXJldHVybiB0cnVlOwp9ClJlZmxlY3QuY29weSA9IGZ1bmN0aW9uKG8pIHsKCXZhciBvMiA9IHsgfTsKCXZhciBfZyA9IDA7Cgl2YXIgX2cxID0gUmVmbGVjdC5maWVsZHMobyk7Cgl3aGlsZShfZyA8IF9nMS5sZW5ndGgpIHsKCQl2YXIgZiA9IF9nMVtfZ107CgkJKytfZzsKCQl2YXIgdmFsdWU7CgkJdmFyIHYgPSBudWxsOwoJCXRyeSB7CgkJCXYgPSBvW2ZdOwoJCX0gY2F0Y2goIGUgKSB7CgkJfQoJCXZhbHVlID0gdjsKCQlvMltmXSA9IHZhbHVlOwoJfQoJcmV0dXJuIG8yOwp9CgpmdW5jdGlvbiAkaHhFeHBvc2Uoc3JjLCBwYXRoKSB7Cgl2YXIgbyA9IHR5cGVvZiB3aW5kb3cgIT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiBleHBvcnRzOwoJdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgiLiIpOwoJZm9yKHZhciBpaSA9IDA7IGlpIDwgcGFydHMubGVuZ3RoLTE7ICsraWkpIHsKCQl2YXIgcCA9IHBhcnRzW2lpXTsKCQlpZih0eXBlb2Ygb1twXSA9PSAidW5kZWZpbmVkIikgb1twXSA9IHt9OwoJCW8gPSBvW3BdOwoJfQoJb1twYXJ0c1twYXJ0cy5sZW5ndGgtMV1dID0gc3JjOwp9Cgp2YXIgU3RkID0gZnVuY3Rpb24oKSB7IH07CiRoeENsYXNzZXNbIlN0ZCJdID0gU3RkOwpTdGQuX19uYW1lX18gPSBbIlN0ZCJdOwpTdGQuc3RyaW5nID0gZnVuY3Rpb24ocykgewoJcmV0dXJuIGpzLkJvb3QuX19zdHJpbmdfcmVjKHMsIiIpOwp9OwpTdGQuaW50ID0gZnVuY3Rpb24oeCkgewoJcmV0dXJuIHggfCAwOwp9OwpTdGQucGFyc2VJbnQgPSBmdW5jdGlvbih4KSB7Cgl2YXIgdiA9IHBhcnNlSW50KHgsMTApOwoJaWYodiA9PSAwICYmIChIeE92ZXJyaWRlcy5jY2EoeCwxKSA9PSAxMjAgfHwgSHhPdmVycmlkZXMuY2NhKHgsMSkgPT0gODgpKSB2ID0gcGFyc2VJbnQoeCk7CglpZihpc05hTih2KSkgcmV0dXJuIG51bGw7CglyZXR1cm4gdjsKfTsKU3RkLnBhcnNlRmxvYXQgPSBmdW5jdGlvbih4KSB7CglyZXR1cm4gcGFyc2VGbG9hdCh4KTsKfTsKU3RkLnJhbmRvbSA9IGZ1bmN0aW9uKHgpIHsKCWlmKHggPD0gMCkgcmV0dXJuIDA7IGVsc2UgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHgpOwp9Owpqcy5Cb290ID0gZnVuY3Rpb24oKSB7IH07CiRoeENsYXNzZXNbImpzLkJvb3QiXSA9IGpzLkJvb3Q7CmpzLkJvb3QuX19uYW1lX18gPSBbImpzIiwiQm9vdCJdOwpqcy5Cb290Ll9fdW5odG1sID0gZnVuY3Rpb24ocykgewoJcmV0dXJuIHMuc3BsaXQoIiYiKS5qb2luKCImYW1wOyIpLnNwbGl0KCI8Iikuam9pbigiJmx0OyIpLnNwbGl0KCI+Iikuam9pbigiJmd0OyIpOwp9Owpqcy5Cb290Ll9fdHJhY2UgPSBmdW5jdGlvbih2LGkpIHsKCXZhciBtc2c7CglpZihpICE9IG51bGwpIG1zZyA9IGkuZmlsZU5hbWUgKyAiOiIgKyBpLmxpbmVOdW1iZXIgKyAiOiAiOyBlbHNlIG1zZyA9ICIiOwoJbXNnICs9IGpzLkJvb3QuX19zdHJpbmdfcmVjKHYsIiIpOwoJaWYoaSAhPSBudWxsICYmIGkuY3VzdG9tUGFyYW1zICE9IG51bGwpIHsKCQl2YXIgX2cgPSAwOwoJCXZhciBfZzEgPSBpLmN1c3RvbVBhcmFtczsKCQl3aGlsZShfZyA8IF9nMS5sZW5ndGgpIHsKCQkJdmFyIHYxID0gX2cxW19nXTsKCQkJKytfZzsKCQkJbXNnICs9ICIsIiArIGpzLkJvb3QuX19zdHJpbmdfcmVjKHYxLCIiKTsKCQl9Cgl9Cgl2YXIgZDsKCWlmKHR5cGVvZihkb2N1bWVudCkgIT0gInVuZGVmaW5lZCIgJiYgKGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGF4ZTp0cmFjZSIpKSAhPSBudWxsKSBkLmlubmVySFRNTCArPSBqcy5Cb290Ll9fdW5odG1sKG1zZykgKyAiPGJyLz4iOyBlbHNlIGlmKHR5cGVvZiBjb25zb2xlICE9ICJ1bmRlZmluZWQiICYmIGNvbnNvbGUubG9nICE9IG51bGwpIGNvbnNvbGUubG9nKG1zZyk7Cn07CmpzLkJvb3QuX19zdHJpbmdfcmVjID0gZnVuY3Rpb24obyxzKSB7CglpZihvID09IG51bGwpIHJldHVybiAibnVsbCI7CglpZihzLmxlbmd0aCA+PSA1KSByZXR1cm4gIjwuLi4+IjsKCXZhciB0ID0gdHlwZW9mKG8pOwoJaWYodCA9PSAiZnVuY3Rpb24iICYmIChvLl9fbmFtZV9fIHx8IG8uX19lbmFtZV9fKSkgdCA9ICJvYmplY3QiOwoJc3dpdGNoKHQpIHsKCWNhc2UgIm9iamVjdCI6CgkJaWYobyBpbnN0YW5jZW9mIEFycmF5KSB7CgkJCWlmKG8uX19lbnVtX18pIHsKCQkJCWlmKG8ubGVuZ3RoID09IDIpIHJldHVybiBvWzBdOwoJCQkJdmFyIHN0ciA9IG9bMF0gKyAiKCI7CgkJCQlzICs9ICJcdCI7CgkJCQl2YXIgX2cxID0gMjsKCQkJCXZhciBfZyA9IG8ubGVuZ3RoOwoJCQkJd2hpbGUoX2cxIDwgX2cpIHsKCQkJCQl2YXIgaSA9IF9nMSsrOwoJCQkJCWlmKGkgIT0gMikgc3RyICs9ICIsIiArIGpzLkJvb3QuX19zdHJpbmdfcmVjKG9baV0scyk7IGVsc2Ugc3RyICs9IGpzLkJvb3QuX19zdHJpbmdfcmVjKG9baV0scyk7CgkJCQl9CgkJCQlyZXR1cm4gc3RyICsgIikiOwoJCQl9CgkJCXZhciBsID0gby5sZW5ndGg7CgkJCXZhciBpMTsKCQkJdmFyIHN0cjEgPSAiWyI7CgkJCXMgKz0gIlx0IjsKCQkJdmFyIF9nMiA9IDA7CgkJCXdoaWxlKF9nMiA8IGwpIHsKCQkJCXZhciBpMiA9IF9nMisrOwoJCQkJc3RyMSArPSAoaTIgPiAwPyIsIjoiIikgKyBqcy5Cb290Ll9fc3RyaW5nX3JlYyhvW2kyXSxzKTsKCQkJfQoJCQlzdHIxICs9ICJdIjsKCQkJcmV0dXJuIHN0cjE7CgkJfQoJCXZhciB0b3N0cjsKCQl0cnkgewoJCQl0b3N0ciA9IG8udG9TdHJpbmc7CgkJfSBjYXRjaCggZSApIHsKCQkJcmV0dXJuICI/Pz8iOwoJCX0KCQlpZih0b3N0ciAhPSBudWxsICYmIHRvc3RyICE9IE9iamVjdC50b1N0cmluZykgewoJCQl2YXIgczIgPSBvLnRvU3RyaW5nKCk7CgkJCWlmKHMyICE9ICJbb2JqZWN0IE9iamVjdF0iKSByZXR1cm4gczI7CgkJfQoJCXZhciBrID0gbnVsbDsKCQl2YXIgc3RyMiA9ICJ7XG4iOwoJCXMgKz0gIlx0IjsKCQl2YXIgaGFzcCA9IG8uaGFzT3duUHJvcGVydHkgIT0gbnVsbDsKCQlmb3IoIHZhciBrIGluIG8gKSB7CgkJaWYoaGFzcCAmJiAhby5oYXNPd25Qcm9wZXJ0eShrKSkgewoJCQljb250aW51ZTsKCQl9CgkJaWYoayA9PSAicHJvdG90eXBlIiB8fCBrID09ICJfX2NsYXNzX18iIHx8IGsgPT0gIl9fc3VwZXJfXyIgfHwgayA9PSAiX19pbnRlcmZhY2VzX18iIHx8IGsgPT0gIl9fcHJvcGVydGllc19fIikgewoJCQljb250aW51ZTsKCQl9CgkJaWYoc3RyMi5sZW5ndGggIT0gMikgc3RyMiArPSAiLCBcbiI7CgkJc3RyMiArPSBzICsgayArICIgOiAiICsganMuQm9vdC5fX3N0cmluZ19yZWMob1trXSxzKTsKCQl9CgkJcyA9IHMuc3Vic3RyaW5nKDEpOwoJCXN0cjIgKz0gIlxuIiArIHMgKyAifSI7CgkJcmV0dXJuIHN0cjI7CgljYXNlICJmdW5jdGlvbiI6CgkJcmV0dXJuICI8ZnVuY3Rpb24+IjsKCWNhc2UgInN0cmluZyI6CgkJcmV0dXJuIG87CglkZWZhdWx0OgoJCXJldHVybiBTdHJpbmcobyk7Cgl9Cn07CmhheGUuTG9nID0gZnVuY3Rpb24oKSB7IH07CiRoeENsYXNzZXNbImhheGUuTG9nIl0gPSBoYXhlLkxvZzsKaGF4ZS5Mb2cuX19uYW1lX18gPSBbImhheGUiLCJMb2ciXTsKaGF4ZS5Mb2cudHJhY2UgPSBmdW5jdGlvbih2LGluZm9zKSB7Cglqcy5Cb290Ll9fdHJhY2UodixpbmZvcyk7Cn07"},{"meta":{"name":"ctrl-w.po","url":"https://raw.github.com/badconker/ctrl-w/release/translations/fr/LC_MESSAGES/ctrl-w.po","ts":1544430112976,"mimetype":"text/plain"},"source":"IyBUcmFuc2xhdGlvbnMgdGVtcGxhdGUgZm9yIENUUkwrVy4KIyBUaGlzIGZpbGUgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHNhbWUgbGljZW5zZSBhcyB0aGUgQ1RSTCtXIHByb2plY3QuCiMKbXNnaWQgIiIKbXNnc3RyICIiCiJQcm9qZWN0LUlkLVZlcnNpb246IGN0cmwrd1xuIgoiUmVwb3J0LU1zZ2lkLUJ1Z3MtVG86IGh0dHA6Ly90d2QuaW8vZS8wZmRiMHdcbiIKIlBPVC1DcmVhdGlvbi1EYXRlOiAyMDE2LTEwLTAxIDA5OjIxKzAyMDBcbiIKIlBPLVJldmlzaW9uLURhdGU6IDIwMTQtMTAtMTQgMTk6MTcrMDEwMFxuIgoiTGFzdC1UcmFuc2xhdG9yOiBcbiIKIkxhbmd1YWdlLVRlYW06IEZyZW5jaFxuIgoiTGFuZ3VhZ2U6IGZyX0ZSXG4iCiJNSU1FLVZlcnNpb246IDEuMFxuIgoiQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PVVURi04XG4iCiJDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0XG4iCiJHZW5lcmF0ZWQtQnk6IEJhYmVsIDAuOS42XG4iCiJQbHVyYWwtRm9ybXM6IG5wbHVyYWxzPTI7IHBsdXJhbD0obiA+IDEpO1xuIgoiWC1HZW5lcmF0b3I6IFBvZWRpdCAxLjYuNFxuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOm11c2giCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNvbW1hbmRhbnQgc3VwcsODwqptZSBkdSBEYWVkYWx1cy4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmppbl9zdSIKbXNnc3RyICIxOTYxNDIxMCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJTY2llbnRpZmlxdWUgbWlsbMODwqluYWlyZS4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmZyaWVkYSIKbXNnc3RyICIxOTY4OTU3NSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJHcmFuZCBhcmNoaXRlY3RlIGR1IERhZWRhbHVzLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6a3Vhbl90aSIKbXNnc3RyICIyMDcxOTc2NiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJQc3ljaG9sb2d1ZSBEaWdpdGFsZSBhdXggYXRvdXRzIGNlcnRhaW5zLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6amFuaWNlIgptc2dzdHIgIjE5NjQ1NDkzIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkh1bW9yaXN0ZSBwaWxvdGUgZGUgY2hhc3NlIMODwqAgc2VzIGhldXJlcy4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOnJvbGFuZCIKbXNnc3RyICIyMDM0MDY1MCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJFeHBsb3JhdHJpY2UgZGUgbCdFWFRSw4PCik1FLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6aHVhIgptc2dzdHIgIjIwMjYxNTM1IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIk9mZmljaWVyIHByaW5jaXBhbCBkZXMgQ29tbXVuaWNhdGlvbnMgZHUgRGFlZGFsdXMuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpwYW9sYSIKbXNnc3RyICIyMDQ1MTA0NiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDaGVmIGRlIGxhIHPDg8KpY3VyaXTDg8KpIGR1IERhZWRhbHVzLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Y2hhbyIKbXNnc3RyICIyMTAwNjgxOCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJCaW9sb2dpc3RlIGRlIHJlbm9tbcODwqllIGludGVybmF0aW9uYWxlLCBwaW9ubmnDg8KocmUgZGFucyBsJ8ODwql0dWRlIGR1IE11c2guIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpmaW5vbGEiCm1zZ3N0ciAiMjA1MDc3MDQiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ3Vpc2luaWVyIGxlIHBsdXMgZGFuZ2VyZXV4IGRlIGxhIGdhbGF4aWUuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpzdGVwaGVuIgptc2dzdHIgIjE5NjU0OTQxIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNoZXJjaGV1ciBmcnVnaXZvcmUgZmxleGlibGUuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDppYW4iCm1zZ3N0ciAiMjA0NDIzNTciCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRGVybmllciBlc3BvaXIgZGUgbCdIdW1hbml0w4PCqS4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmNodW4iCm1zZ3N0ciAiMjA1NTIwNTgiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiR8ODwqluaWUgZGUgbGEgcGh5c2lxdWUgcXVhbnRpcXVlIGbDg8KpbGlub3BoaWxlLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6cmFsdWNhIgptc2dzdHIgIjIwNDU4ODA1IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkFybWF0ZXVyIHBoaWxhbnRyb3Bob2JlLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Z2lvZWxlIgptc2dzdHIgIjIwNjI5NzY2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkludmVzdGlnYXRyaWNlIGTDg8KpY2h1ZSBkZSBwcmVtaWVyIHBsYW4uIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDplbGVlc2hhIgptc2dzdHIgIjIwNTA3MTQyIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlRlY2hub3BoaWxlIG1vdG9yaXPDg8KpLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6dGVycmVuY2UiCm1zZ3N0ciAiMjA1OTgzMDgiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRmF5b3QgZGUgbGEgZsODwqlkw4PCqXJhdGlvbi4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmFuZGllIgptc2dzdHIgIjM1NzI0MjIxIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkjDg8Kpcm9zIG1hbGdyw4PCqSBsdWkuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpkZXJlayIKbXNnc3RyICIzNTc1MTUyNCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJWb3VzIG5lIHZvdXMgw4PCqnRlcyBwYXMgY29ubmVjdMODwqkgZGVwdWlzIDI0aC4gQm9ubmUgY2hhbmNlIHBvdXIgbGEgc3VpdGUuLi4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkluYWN0aWYiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkRlc2NyaXB0aW9uIGdyYW5kIGluYWN0aWYiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkdyYW5kIGluYWN0aWYiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlZvdXMgZmFpdGVzIHBhcnRpZSBkdSBNdXNoLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTXVzaCIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogZG9tYWluIG5hbWUKbXNnaWQgIm11c2gudmciCm1zZ3N0ciAiIgoKbXNnaWQgIkpvdWVyIgptc2dzdHIgIiIKCm1zZ2lkICJNb24gY29tcHRlIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBDYXN0aW5ncyBpZAptc2dpZCAiRm9ydW1DYXN0aW5nc0lkIgptc2dzdHIgIjkzODQ3IgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIENhc3RpbmdzIGxhYmVsCm1zZ2lkICJDYXN0aW5ncyIKbXNnc3RyICIiCgptc2dpZCAiQ2xhc3NlbWVudHMiCm1zZ3N0ciAiIgoKbXNnaWQgIkZvcnVtIgptc2dzdHIgIiIKCm1zZ2lkICJBaWRlIgptc2dzdHIgIiIKCm1zZ2lkICJFeHDDg8KpcmllbmNlIgptc2dzdHIgIiIKCm1zZ2lkICJNYSBmaWNoZSIKbXNnc3RyICIiCgptc2dpZCAiTWVzIHLDg8KpZ2xhZ2VzIgptc2dzdHIgIiIKCm1zZ2lkICJOZXdzIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGlkCm1zZ2lkICJGb3J1bURpc2N1c3Npb25JZCIKbXNnc3RyICI2NzA2MSIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGxhYmVsCm1zZ2lkICJEaXNjdXNzaW9uIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBBZHZpY2UgaWQKbXNnaWQgIkZvcnVtQWR2aWNlSWQiCm1zZ3N0ciAiNjc1NjEiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gQWR2aWNlIGxhYmVsCm1zZ2lkICJFbnRyYWlkZSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gTG91bmdlIGlkCm1zZ2lkICJGb3J1bUxvdW5nZUlkIgptc2dzdHIgIjc0MzIzIgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIExvdW5nZSBsYWJlbAptc2dpZCAiRMODwql0ZW50ZSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gT2ZmaWNlcnMgaWQKbXNnaWQgIkZvcnVtT2ZmaWNlcnNJZCIKbXNnc3RyICI3ODI2NyIKCm1zZ2lkICJPZmZpY2llcnMiCm1zZ3N0ciAiIgoKbXNnaWQgIkFpZGUgTXVzaCIKbXNnc3RyICIiCgptc2dpZCAiUGF0Y2hsb2ciCm1zZ3N0ciAiIgoKbXNnaWQgIlR1dG8gJTEiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFdpa2kgdXJsCm1zZ2lkICJodHRwOi8vd3d3LnR3aW5wZWRpYS5jb20vbXVzaCIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogV2lraSBmYXZpY29uIHVybAptc2dpZCAiaHR0cDovL3d3dy50d2lucGVkaWEuY29tL19tZWRpYS9mYXZpY29uLmljbyIKbXNnc3RyICIiCgptc2dpZCAiVHdpbnBlZGlhIgptc2dzdHIgIiIKCm1zZ2lkICJtdXNoX2dhbWVfaWQiCm1zZ3N0ciAiNDEiCgptc2dpZCAiRm9ydW1GRFNJZCIKbXNnc3RyICI3NzcxNCIKCm1zZ2lkICJNYWdpc3RyYXR1cmUiCm1zZ3N0ciAiIgoKbXNnaWQgIk5vbSBjb21wbGV0Igptc2dzdHIgIiIKCm1zZ2lkICJNw4PCqW1vaXJlIgptc2dzdHIgIiIKCm1zZ2lkICJOZXh1cyIKbXNnc3RyICIiCgptc2dpZCAiTWVtYnJlcyIKbXNnc3RyICIiCgptc2dpZCAiSGlzdG9yaXF1ZSIKbXNnc3RyICIiCgptc2dpZCAib2siCm1zZ3N0ciAiIgoKbXNnaWQgInZhbGlkZXIiCm1zZ3N0ciAiIgoKbXNnaWQgImFubnVsZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIlNhaXNpc3NleiBsZSB0aXRyZSBkdSBtZXNzYWdlIgptc2dzdHIgIiIKCm1zZ2lkICJBc3Ryb3BhZCBzeW5jaHJvbmlzw4PCqS4iCm1zZ3N0ciAiIgoKbXNnaWQgIih+JTEgam91cikiCm1zZ2lkX3BsdXJhbCAiKH4lMSBqb3VycykiCm1zZ3N0clswXSAiIgptc2dzdHJbMV0gIiIKCm1zZ2lkICJJbmZvcyBkdSBqb3VldXIgbWlzZXMgw4PCoCBqb3VyLiIKbXNnc3RyICIiCgptc2dpZCAiQWN0aXZlciBsYSBtaXNlIGVuIGZvcm1lIHBlcnNvbm5hbGlzw4PCqWUgZGVzIG1lc3NhZ2VzIChib3JkdXJlICsgY291bGV1ciBub20gKyBpbWFnZSBkZSBmb25kKS4iCm1zZ3N0ciAiIgoKbXNnaWQgIlNpbXBsaWZpZXIgbGEgbWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8ODwqllIGRlcyBtZXNzYWdlcyAoc3VwcHJlc3Npb24gZGUgbCdpbWFnZSBkZSBmb25kKS4iCm1zZ3N0ciAiIgoKbXNnaWQgIkFmZmljaGVyIGxlIGxvZ28gTXVzaCBhdSBkZXNzdXMgZGVzIG9uZ2xldHMuIgptc2dzdHIgIiIKCm1zZ2lkICJTw4PCqXBhcmVyIGxlcyBwcm9qZXRzIC8gcmVjaGVyY2hlcyAvIHBpbGdyZWQgc291cyBsYSB6b25lIGRlIGpldS4iCm1zZ3N0ciAiIgoKbXNnaWQgIlBsdXMgZCdvcHRpb25zIGRpc3BvbmlibGVzIHByb2NoYWluZW1lbnQuIgptc2dzdHIgIiIKCm1zZ2lkICJOw4PCqWNlc3NpdGUgdW4gcmVjaGFyZ2VtZW50IGRlIGxhIHBhZ2UuIgptc2dzdHIgIiIKCm1zZ2lkICJWaWRlciBsZSBjYWNoZSBkdSBzY3JpcHQiCm1zZ3N0ciAiIgoKbXNnaWQgIkNlIGJvdXRvbiB2b3VzIHBlcm1ldCBkZSB2aWRlciBsZSBjYWNoZSBkdSBzY3JpcHQgcG91ciwgcGFyIGV4ZW1wbGUsIHByZW5kcmUgZW4gY29tcHRlIHRvdXQgZGUgc3VpdGUgdm90cmUgbW9kZSBPciBvdSBmb3JjZXIgdW5lIHbDg8KpcmlmaWNhdGlvbiBkZSBtaXNlIMODwqAgam91ci4gQSB1dGlsaXNlciBhdmVjIHBhcmNpbW9uaWUgc3ZwLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ3ljbGUgSHVtYWluIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZWNoZXJjaGUgTWluZXVyIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZWNoZXJjaGUiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkTDg8KpZmVuc2V1ciBEdSBEYWVkYWx1cyIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRXhww4PCqWRpdGlvbiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTm91dmVsIFBsYW7Dg8KodGUiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIk5vdXZlbGxlIFBsYW7Dg8KodGUiCm1zZ3N0ciAiIgoKbXNnaWQgIkdhZ27Dg8KpIMODwqAgY2hhcXVlIHBsYW7Dg8KodGUgKGFycml2w4PCqWUgZW4gb3JiaXRlKS4iCm1zZ3N0ciAiIgoKbXNnaWQgIkdhZ27Dg8KpIMODwqAgY2hhcXVlIGV4cGxvcmF0aW9uLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiUmVjaGVyY2hlIE1pbmV1cmUiCm1zZ3N0ciAiIgoKbXNnaWQgIkdhZ27Dg8KpIGxvcnNxdWUgbGEgcmVjaGVyY2hlIGVzdCB0ZXJtaW7Dg8KpZSBhaW5zaSBxdSd1bmUgc2Vjb25kZSBmb2lzIGxvcnMgZHUgcmV0b3VyIHN1ciBTT0wuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJEw4PCqWZlbnNldXIgZHUgRGFlZGFsdXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkdhZ27Dg8KpIHBvdXIgY2hhcXVlIEh1bnRlciBhYmF0dHUuIgptc2dzdHIgIiIKCm1zZ2lkICJHYWduw4PCqSDDg8KgIGNoYXF1ZSBjeWNsZS4iCm1zZ3N0ciAiIgoKbXNnaWQgIkNsaXF1ZXogcG91ciBwbHVzIGQnaW5mb3JtYXRpb25zIgptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBzb24gw4PCqXRhdCBkZSBzYW50w4PCqSIKbXNnc3RyICIiCgptc2dpZCAiPHA+SW5zw4PCqHJlIHZvdHJlIG5vbWJyZSBkZSBwb2ludHMgZGUgdmllIGV0IGRlIG1vcmFsIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBleGFtcGxlPC9wPiIKbXNnc3RyICIiCgptc2dpZCAiUGFydGFnZXIgbCdpbnZlbnRhaXJlIgptc2dzdHIgIiIKCm1zZ2lkICJJbnPDg8KocmUgbCdpbnZlbnRhaXJlIGRlIGxhIHBpw4PCqGNlIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48c3Ryb25nPkNvdWxvaXIgY2VudHJhbCA6PC9zdHJvbmc+IDxpPkNvbWJpbmFpc29uPC9pPiwgPGk+Q291dGVhdTwvaT4sIDxpPk3Dg8KpZGlraXQ8L2k+LCA8aT5FeHRpbmN0ZXVyPC9pPjwvcD48cD48c3Ryb25nPlBhcnRhZ2UgYXVzc2kgc3VyIEFzdHJvcGFkIHNpIGNlbHVpLWNpIGVzdCBpbnN0YWxsw4PCqS48L3N0cm9uZz48L3A+Igptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBsJ8ODwql0YXQgZGVzIHBsYW50ZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsJ8ODwql0YXQgZGVzIHBsYW50ZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZS48L3A+PHA+VE9ETzogRXhlbXBsZTwvcD4iCm1zZ3N0ciAiIgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyBwcm9qZXRzIgptc2dzdHIgIiIKCm1zZ2lkICJJbnPDg8KocmUgbGEgbGlzdGUgZGUgcHJvamV0cyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+Igptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcmVjaGVyY2hlcyIKbXNnc3RyICIiCgptc2dpZCAiSW5zw4PCqHJlIGxhIGxpc3RlIGRlIHJlY2hlcmNoZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPiIKbXNnc3RyICIiCgptc2dpZCAiUGFydGFnZXIgbGVzIHBhcmFtw4PCqHRyZXMgQklPUyIKbXNnc3RyICIiCgptc2dpZCAiSW5zw4PCqHJlIGxhIGxpc3RlIGRlIHBhcmFtw4PCqHRyZXMgQklPUyBOZXJvbiBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+VE9ETzogYXBlcsODwqd1Igptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGxhbsODwqh0ZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsZXMgZMODwql0YWlscyBkZXMgcGxhbsODwqh0ZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZS48L3A+PHA+VE9ETzogRXhlbXBsZTwvcD4iCm1zZ3N0ciAiIgoKbXNnaWQgIkluc8ODwqlyZXIgdW4gc21pbGV5Igptc2dzdHIgIiIKCm1zZ2lkICJCaWVudMODwrR0IGRpc3BvbmlibGUuIgptc2dzdHIgIiIKCm1zZ2lkICJWaWRlciBsYSB6b25lIGRlIHRleHRlLiIKbXNnc3RyICIiCgptc2dpZCAiRmVybWVyIGxhIHpvbmUgZGUgdGV4dGUuIgptc2dzdHIgIiIKCm1zZ2lkICJPdXZyaXIgbGUgbWFuYWdlci4iCm1zZ3N0ciAiIgoKbXNnaWQgIlZlcnNpb24gIgptc2dzdHIgIiIKCm1zZ2lkICJNZXR0cmUgw4PCoCBqb3VyIgptc2dzdHIgIiIKCm1zZ2lkICJQb3VyIGZpbmFsaXNlciBsYSBtaXNlIMODwqAgam91ciwgYXByw4PCqHMgYXZvaXIgaW5zdGFsbMODwqkgbGUgc2NyaXB0LCB2ZXVpbGxleiBjbGlxdWVyIHN1ciBsZSBib3V0b24gY2ktZGVzc291cy4iCm1zZ3N0ciAiIgoKbXNnaWQgIkZpbmFsaXNlciBsYSBtaXNlIMODwqAgam91ciIKbXNnc3RyICIiCgptc2dpZCAiRGVybmnDg8KocmUgdmVyc2lvbiBkZSBDVFJMK1cgaW5zdGFsbMODwqllICglMSkgOiIKbXNnc3RyICIiCgptc2dpZCAiVHLDg8KocyBiaWVuLCBtZXJjaSAhIgptc2dzdHIgIiIKCm1zZ2lkICJhcHByZW50cm9uIgptc2dzdHIgIiIKCm1zZ2lkICJjaGFyZ2VzIgptc2dzdHIgIiIKCm1zZ2lkICJ2aWRlIgptc2dzdHIgIiIKCm1zZ2lkICJjYW3Dg8KpcmEiCm1zZ3N0ciAiIgoKbXNnaWQgImRyb25lIgptc2dzdHIgIiIKCm1zZ2lkICJwbGFudGVzIgptc2dzdHIgIiIKCm1zZ2lkICJtYWxhZGUiCm1zZ3N0ciAiIgoKbXNnaWQgInNvaWYiCm1zZ3N0ciAiIgoKbXNnaWQgImRlc3PDg8KpY2jDg8KpIgptc2dzdHIgIiIKCm1zZ2lkICJSQVMiCm1zZ3N0ciAiIgoKbXNnaWQgIlByb2pldHMiCm1zZ3N0ciAiIgoKbXNnaWQgIlJlY2hlcmNoZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIlBsYW7Dg8KodGVzIgptc2dzdHIgIiIKCm1zZ2lkICIoTm9yZHxFc3R8T3Vlc3R8U3VkKSIKbXNnc3RyICIiCgptc2dpZCAiY2FzZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIlBhcmFtw4PCqHRyZXMgQklPUzoiCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbW11bmljYXRpb25zOiIKbXNnc3RyICIiCgptc2dpZCAiRMODwqljb2RhZ2U6ICIKbXNnc3RyICIiCgptc2dpZCAiQmFzZShzKSBkw4PCqWNvZMODwqllKHMpOiAiCm1zZ3N0ciAiIgoKbXNnaWQgIkJhc2UocykgcGVyZHVlKHMpOiAiCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbnNvbW1hYmxlcyA6Igptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuIChDb25zdW1tYWJsZXMgZGVzY3JpcHRpb24pCm1zZ2lkICJHdcODwqlyaWUgbGEgbWFsYWRpZSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAoQ29uc3VtbWFibGVzIGRlc2NyaXB0aW9uKQptc2dpZCAic2F0acODwql0w4PCqSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAoQ29uc3VtbWFibGVzIGRlc2NyaXB0aW9uKQptc2dpZCAiUHJvdm9xdWUgbGEgbWFsYWRpZSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAoQ29uc3VtbWFibGVzIGRlc2NyaXB0aW9uKQptc2dpZCAiSW1ww4PCqXJpc3NhYmxlIgptc2dzdHIgIiIKCm1zZ2lkICJUcmlvbXBoZSByZXRvdXIgc3VyIHNvbCIKbXNnc3RyICIiCgptc2dpZCAiUmV0b3VyIHN1ciBTb2wgOiIKbXNnc3RyICIiCgptc2dpZCAiQm9udXMgcmVjaGVyY2hlcyA6ICIKbXNnc3RyICIiCgptc2dpZCAiTWFsdXMgbXVzaCBlbiB2aWUgOiAiCm1zZ3N0ciAiIgoKbXNnaWQgIlRvdGFsIDoiCm1zZ3N0ciAiIgoKbXNnaWQgIk5lIHRpZW50IHBhcyBjb21wdGUgZGVzIG11c2hzIGFub255bWVzLiIKbXNnc3RyICIiCgptc2dpZCAiw4PCoCBsJ2luc3RhbnQiCm1zZ3N0ciAiIgoKbXNnaWQgIkNoYW4gSVJDIgptc2dzdHIgIiIKCm1zZ2lkICJWZW5leiBkaXNjdXRlciBzdXIgSVJDIGF2ZWMgbGVzIGF1dHJlcyB1dGlsaXNhdGV1cnMgZHUgc2NyaXB0LiBcdFx0XHRWb3VzIHBvdXJyZXogw4PCqWdhbGVtZW50IHkgdHJvdXZlciBkZSBsJ2FpZGUgb3UgZmFpcmUgZGVzIHN1Z2dlc3Rpb25zLjwvcD48cD48c3Ryb25nPkNoYW4gI2N0cmx3IHN1ciBRdWFrZW5ldDwvc3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiVG9waWMgKEZvcnVtIE11c2gpIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBTY3JpcHQgdG9waWMgKE11c2ggZm9ydW0pCm1zZ2lkICJodHRwOi8vdHdkLmlvL2UvMGZkYjB3Igptc2dzdHIgIiIKCm1zZ2lkICJDb250cmlidXRldXJzIDogIgptc2dzdHIgIiIKCm1zZ2lkICJUcmFkdWN0ZXVycyA6ICIKbXNnc3RyICIiCgptc2dpZCAiU2NyaXB0IGTDg8KpdmVsb3Bww4PCqSBwYXIgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvODI5Nyc+a2lsbDB1PC9hPiwgbWFpbnRlbnUgcGFyIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzEyNDQxNDMnPmJhZGNvbmtlcjwvYT48YnIvPkxlIGxvZ28sIGxlcyBpbWFnZXMgKG1pc2UgZW4gZm9ybWUgcGVyc29ubmFsaXPDg8KpZSBkZXMgbWVzc2FnZXMpIGV0IGxlIGRlc2lnbiBkdSBzaXRlIHdlYiBvbnQgw4PCqXTDg8KpIGZhaXRzIHBhciA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci8yOTkyMDUyJz5HbnV4PC9hPi48YnIvPiIKbXNnc3RyICIiCgptc2dpZCAiUmV0b3VyIGF1IGpldSIKbXNnc3RyICIiCgptc2dpZCAiQ2zDg8KpIDoiCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbGxleiB2b3RyZSBjbMODwqkgaWNpIgptc2dzdHIgIiIKCm1zZ2lkICJHw4PCqW7Dg8KpcmVyIHVuZSBub3V2ZWxsZSBjbMODwqkiCm1zZ3N0ciAiIgoKbXNnaWQgIlN1cHByaW1lciBsYSBjbMODwqkiCm1zZ3N0ciAiIgoKbXNnaWQgIlNpIHZvdXMgc3VwcHJpbWV6IGxhIGNsw4PCqSwgdm91cyBuZSBwb3VycmV6IHBsdXMgc3luY2hyb25pc2VyIHZvcyBkb25uw4PCqWVzLCB2b3VsZXogdm91cyBjb250aW51ZXIgPyIKbXNnc3RyICIiCgptc2dpZCAiQWZpbiBkZSBwb3V2b2lyIHN5bmNocm9uaXNlciB2b3MgZG9ubsODwqllcyB2b3VzIGRldmV6IGVudHJlciB2b3RyZSBjbMODwqkgZCdhdXRoZW50aWZpY2F0aW9uLiBTaSB2b3VzIG4nZW4gbidhdmV6IHBhcywgY2xpcXVleiBzdXIgbGUgYm91dG9uIFwiR8ODwqluw4PCqXJlciB1bmUgbm91dmVsbGUgY2zDg8KpXCIiCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbnNlcnZleiBwcsODwqljaWV1c2VtZW50IHZvdHJlIGNsw4PCqSAoZGFucyB2b3RyZSBibG9jLW5vdGUgVHdpbm9pZCBwYXIgZXhlbXBsZSkgYWZpbiBkZSBwb3V2b2lyIHLDg8KpY3Vww4PCqXJlciB2b3MgZG9ubsODwqllcy4iCm1zZ3N0ciAiIgoKbXNnaWQgIlN5bmNocm9uaXNhdGlvbiBlZmZlY3R1w4PCqWUiCm1zZ3N0ciAiIgoKbXNnaWQgIlN5bmNocm9uaXNhdGlvbiBpbXBvc3NpYmxlLCBjbMODwqkgaW5jb3JyZWN0ZSIKbXNnc3RyICIiCgptc2dpZCAiTGVzIGRvbm7Dg8KpZXMgZGlzdGFudGVzIHNvbnQgcGx1cyByw4PCqWNlbnRlcyBxdWUgbGVzIGRvbm7Dg8KpZXMgbG9jYWxlcy4gPGJyLz4gUXVlIHZvdWxleiB2b3VzIGZhaXJlID8iCm1zZ3N0ciAiIgoKbXNnaWQgIkRhdGUgc3luY2hybyBzZXJ2ZXVyIDogIgptc2dzdHIgIiIKCm1zZ2lkICJEYXRlIHN5bmNocm8gbG9jYWxlIDogIgptc2dzdHIgIiIKCm1zZ2lkICJFY3Jhc2VyIGxlcyBkb25uw4PCqWVzIGxvY2FsZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkVjcmFzZXIgbGVzIGRvbm7Dg8KpZXMgZGlzdGFudGVzIgptc2dzdHIgIiIKCm1zZ2lkICJFc3Bpb25uYWdlIgptc2dzdHIgIiIKCm1zZ2lkICI8cD5Wb3VzIMODwqp0ZXMgZGFucyBsYSBtw4PCqm1lIHBpw4PCqGNlIHF1ZSBjZXR0ZSBwZXJzb25uZSA7IHZvdXMgcG91dmV6IGRvbmMgbCdleGFtaW5lciBkZSBwbHVzIHByw4PCqHMuPC9wPjxwPjxzdHJvbmc+Q2xpcXVleiBpY2kgcG91ciBlbnJlZ2lzdHJlciBsZXMgY29tcMODwql0ZW5jZXMgdmlzaWJsZXMsIHN0YXR1dHMgcHVibGlxdWVzIGV0IHRpdHJlcyBkZSBjZSBwZXJzb25uYWdlLjwvc3Ryb25nPjxwPiIKbXNnc3RyICIiCgptc2dpZCAiTm90ZXMgcsODwqlzdW3Dg8KpZXMgOiIKbXNnc3RyICIiCgptc2dpZCAiQ2UgdGV4dGUgYXBwYXJhaXRyYSBhdSBzdXJ2b2wgZGUgbGEgc291cmlzIHN1ciBsJ2ljb25lIGR1IHBlcnNvbm5hZ2Ugw4PCoCBsYSBwbGFjZSBkZSBsYSBkZXNjcmlwdGlvbiBvcmlnaW5hbGUgZHUgamV1Igptc2dzdHIgIiIKCm1zZ2lkICJOb3RlcyBkw4PCqXRhaWxsw4PCqWVzIDoiCm1zZ3N0ciAiIgoKbXNnaWQgIkVucmVnaXN0cmVyIgptc2dzdHIgIiIKCm1zZ2lkICJDb21ww4PCqXRlbmNlIGluYWN0aXZlIG11c2giCm1zZ3N0ciAiIgoKbXNnaWQgIkNldHRlIGNvbXDDg8KpdGVuY2UgZXN0IGluYWN0aXZlIHF1YW5kIG9uIGVzdCBtdXNoIChzb3VyY2UgOiBUd2lucGVkaWEpLiIKbXNnc3RyICIiCgptc2dpZCAiQXVjdW5lIGRvbm7Dg8KpZSBlbnJlZ2lzdHLDg8KpZSIKbXNnc3RyICIiCgptc2dpZCAiTW9ydCIKbXNnc3RyICIiCgptc2dpZCAiU3RhdGlzdGlxdWVzIgptc2dzdHIgIiIKCm1zZ2lkICJBZmZpY2hlIGxlcyBzdGF0aXN0aXF1ZXMsIGV0IHBlcm1ldCBkZSBnw4PCqXJlciBsZSBub21icmUgZGUgbWVzc2FnZXMgY2hhcmfDg8KpcyBkYW5zIGxhIHBhZ2UuIgptc2dzdHIgIiIKCm1zZ2lkICJOb3V2ZWF1eCBNZXNzYWdlcyIKbXNnc3RyICIiCgptc2dpZCAiQmVhdWNvdXAgZGUgbWVzc2FnZXMgw4PCoCBsaXJlID8gTGUgbWFuYWdlciBwZXJtZXQgZGUgcmF0dHJhcGVyIHNvbiByZXRhcmQgcGx1cyBmYWNpbGVtZW50LiBFbiBjaGFyZ2VhbnQgdG91cyBsZXMgbWVzc2FnZXMgZGFucyBsJ29uZ2xldCBTdGF0aXN0aXF1ZXMsIHZvdXMgcG91dmV6IGF1c3NpIHZvaXIgbGVzIG1lc3NhZ2VzIG5vbiBsdXMgbWFucXXDg8KpcyDDg8KgIGNhdXNlIGR1IGJ1ZyAoTXVzaCkgZGVzIG1lc3NhZ2VzLiIKbXNnc3RyICIiCgptc2dpZCAiUmVjaGVyY2hlIGRlIE1lc3NhZ2VzIgptc2dzdHIgIiIKCm1zZ2lkICJVbmUgZGlzY3Vzc2lvbiDDg8KgIHJldHJvdXZlciA/IEVudmllIGRlIHNhdm9pciBjb21iaWVuIGQnaW5jZW5kaWVzIHNlIHNvbnQgZMODwqljbGFyw4PCqXMgPyAoQG5lcm9uIGluY2VuZGllIGRhZWRhbHVzKSIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTGUgY2FuYWwgZGUgZGlzY3Vzc2lvbiBlc3QgaW5kaXNwZW5zYWJsZSBwb3VyIHMnb3JnYW5pc2VyIGF2ZWMgbCfDg8KpcXVpcGFnZS48L3A+PHA+UG91ciBwYXJ0aWNpcGVyIHZvdXMgZGV2ZXogcG9zc8ODwqlkZXIgdW4gPHN0cm9uZz50YWxraWUtd2Fsa2llPC9zdHJvbmc+LiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRmF2b3JpcyIKbXNnc3RyICIiCgptc2dpZCAiVm90cmUgc8ODwqlsZWN0aW9uIGRlIHN1amV0cyBmYXZvcmlzLiIKbXNnc3RyICIiCgptc2dpZCAiQXVjdW4gdG9waWMgc8ODwqlsZWN0aW9ubsODwqkuIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGUgYmVnaW5uaW5nIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDYW5hbCBNdXNoIgptc2dzdHIgIiIKCm1zZ2lkICJTc3NoaCwgcGVyc29ubmUgbm91cyBlbnRlbmQgaWNpLi4uIExlIENhbmFsIE11c2ggZXN0IGxlIDxlbT5jYW5hbCBwcml2w4PCqTwvZW0+IHBvdXIgbGVzIGFkaMODwqlyZW50cyBhdXggPHN0cm9uZz5NdXNoPC9zdHJvbmc+IDxpbWcgc3JjPScvaW1nL2ljb25zL3VpL211c2gucG5nJyAvPi48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiRGlzcG9uaWJsZSBwcm9jaGFpbmVtZW50LiIKbXNnc3RyICIiCgptc2dpZCAiQ2hhdCBwcml2w4PCqSIKbXNnc3RyICIiCgptc2dpZCAiQ2hhdCBwcml2w4PCqSBvdXZlcnQgYXZlYyA6PGJyLz5bbGlzdGUgZGVzIHBhcnRpY2lwYW50c108L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiTm91dmVhdSBtZXNzYWdlIgptc2dzdHIgIiIKCm1zZ2lkICJSw4PCqXBvbmRleiDDg8KgIHVuIHRvcGljIC8gdW5lIGRpc2N1c3Npb24gb3UgY3LDg8KpZXogdW4gbm91dmVhdSB0b3BpYy4iCm1zZ3N0ciAiIgoKbXNnaWQgIkFubm9uY2VzIHZvY29kw4PCqWVzIgptc2dzdHIgIiIKCm1zZ2lkICJBc3Npc3RhbnQgcG91ciBsZXMgQWRtaW4uIE7Dg8Kpcm9uIHBvdXIgZmFjaWxpdGVyIGxhIGNyw4PCqWF0aW9uIGQnYW5ub25jZXMgdm9jb2TDg8KpZXMuPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w4PCqSBub24gY29kw4PCqWU8L3N0cm9uZz4iCm1zZ3N0ciAiIgoKbXNnaWQgIk1lc3NhZ2VzIHByw4PCqS1lbnJlZ2lzdHLDg8KpcyIKbXNnc3RyICIiCgptc2dpZCAiTWVzc2FnZXMgcsODwqljdXJyZW50cyAmIGF1dHJlcyAow4PCoCBkw4PCqWZpbmlyKS48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiRmVybWVyIGxlIE1hbmFnZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIlLDg8KpZHVpcmUgbGUgTWFuYWdlciIKbXNnc3RyICIiCgptc2dpZCAiQ2hhcmdlbWVudCBlbiBjb3Vycy4uLiIKbXNnc3RyICIiCgptc2dpZCAiR8ODwqlyZXogbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw4PCqXMuTGUgbWFuYWdlciBlc3QgcGx1cyBjb21wbGV0IGxvcnNxdWUgdG91cyBsZXMgbWVzc2FnZXMgc29udCBjaGFyZ8ODwqlzLCBtYWlzIGxlIGpldSBkZXZpZW50IGJlYXVjb3VwIHBsdXMgbGVudCDDg8KgIGNhdXNlIGR1IGNoYXJnZW1lbnQgZGUgY2VzIG1lc3NhZ2VzIMODwqAgY2hhcXVlIGFjdGlvbiAocGFydGljdWxhcml0w4PCqSBkZSBtdXNoLi4uKS4iCm1zZ3N0ciAiIgoKbXNnaWQgIlRvdXQgY2hhcmdlciIKbXNnc3RyICIiCgptc2dpZCAiQ2hhcmdlciB0b3VzIGxlcyBtZXNzYWdlcyIKbXNnc3RyICIiCgptc2dpZCAiQ2hhcmdleiB0b3VzIGxlcyBtZXNzYWdlcyBwb3VyIHByb2ZpdGVyIHBsZWluZW1lbnQgZHUgbWFuYWdlciA6IHJlY2hlcmNoZXMgZGFucyB0b3VzIGxlcyBtZXNzYWdlcyBkZXB1aXMgbGUgZMODwqlidXQgZGUgbGEgcGFydGllLCBub3V2ZWF1eCBtZXNzYWdlcyBtYW5xdcODwqlzIMODwqAgY2F1c2UgZHUgYnVnIGRlIG11c2gsIHN0YXRpc3RpcXVlcyBjb21wbMODwqh0ZXMsIGV0Yy48L3A+PHA+PHN0cm9uZz5DZXR0ZSBhY3Rpb24gcGV1dCBwcmVuZHJlIHVuIGNlcnRhaW4gdGVtcHMsIHN1aXZhbnQgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIHBvc3TDg8KpcyBzdXIgdm90cmUgdmFpc3NlYXUuPC9zdHJvbmc+Igptc2dzdHIgIiIKCm1zZ2lkICJEw4PCqWNoYXJnZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIkTDg8KpY2hhcmdlciBsZXMgbWVzc2FnZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkTDg8KpY2hhcmdleiBsYSBsaXN0ZSBkZSBtZXNzYWdlcyBwb3VyIGFsbMODwqlnZXIgbGUgamV1LiBMb3JzcXVlIHZvdXMgY2hhcmdleiBkZXMgbWVzc2FnZXMgKGVuIHNjcm9sbGFudCBzdXIgbGUgY2hhdCwgcGFyIGV4ZW1wbGUpLCBjZXV4LWNpIHJlc3RlbnQgY2hhcmfDg8Kpcy4gTXVzaCBjaGFyZ2VhbnQgdG91dGUgbGEgcGFnZSAoZG9udCBsZXMgbWVzc2FnZXMpIMODwqAgY2hhcXVlIGFjdGlvbiwgdm90cmUgamV1IGVzdCBncmFuZGVtZW50IHJhbGVudGkgbG9yc3F1ZSBsZSBub21icmUgZGUgbWVzc2FnZXMgY2hhcmfDg8KpcyBlc3QgY29uc8ODwqlxdWVudC48L3A+PHA+PHN0cm9uZz5DZXR0ZSBhY3Rpb24gZmVybWVyYSBsZSBNZXNzYWdlIE1hbmFnZXIgZXQgcmFmcmHDg8KuY2hpcmEgbGEgcGFnZS48L3N0cm9uZz4iCm1zZ3N0ciAiIgoKbXNnaWQgIlRvdGFsIDogPGI+JTE8L2I+IG1lc3NhZ2UgY2hhcmfDg8KpIgptc2dpZF9wbHVyYWwgIlRvdGFsIDogPGI+JTE8L2I+IG1lc3NhZ2VzIGNoYXJnw4PCqXMiCm1zZ3N0clswXSAiIgptc2dzdHJbMV0gIiIKCm1zZ2lkICJlbiA8Yj4lMTwvYj4gdG9waWMuIDxici8+IChkZXB1aXMgJTIpIgptc2dpZF9wbHVyYWwgImVuIDxiPiUxPC9iPiB0b3BpY3MuIDxici8+IChkZXB1aXMgJTIpIgptc2dzdHJbMF0gIiIKbXNnc3RyWzFdICIiCgptc2dpZCAiVG90YWwgOiAlMSBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIlRvdGFsIDogJTEgbWVzc2FnZXMiCm1zZ3N0clswXSAiIgptc2dzdHJbMV0gIiIKCm1zZ2lkICI8Yj4lMTwvYj4gbWVzc2FnZSIKbXNnaWRfcGx1cmFsICI8Yj4lMTwvYj4gbWVzc2FnZXMiCm1zZ3N0clswXSAiIgptc2dzdHJbMV0gIiIKCm1zZ2lkICJkb250IDxiPiUxPC9iPiB0b3BpYy4iCm1zZ2lkX3BsdXJhbCAiZG9udCA8Yj4lMTwvYj4gdG9waWNzLiIKbXNnc3RyWzBdICIiCm1zZ3N0clsxXSAiIgoKIy4gVHJhbnNsYXRvcnM6ICUxID0gY2hhcmFjdGVyIG5hbWUsICUyID0gbWVzc2FnZSBjb3VudAptc2dpZCAiKiolMSA6ICoqIC8vJTIvLyBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZXMiCm1zZ3N0clswXSAiIgptc2dzdHJbMV0gIiIKCm1zZ2lkICIlMSByw4PCqXBvbnNlIgptc2dpZF9wbHVyYWwgIiUxIHLDg8KpcG9uc2VzIgptc2dzdHJbMF0gIiIKbXNnc3RyWzFdICIiCgptc2dpZCAiJTEgbWVzc2FnZSBub24gbHUiCm1zZ2lkX3BsdXJhbCAiJTEgbWVzc2FnZXMgbm9uIGx1cyIKbXNnc3RyWzBdICIiCm1zZ3N0clsxXSAiIgoKbXNnaWQgIkF1Y3VuIG1lc3NhZ2Ugbm9uIGx1LiIKbXNnc3RyICIiCgptc2dpZCAiVm91cyBuJ2F2ZXogcGFzIGRlIGZhdm9yaXMuIgptc2dzdHIgIiIKCm1zZ2lkICJGb25jdGlvbiBkZSByZWNoZXJjaGUiCm1zZ3N0ciAiIgoKbXNnaWQgIi0gVm91cyBwb3V2ZXogcmVjaGVyY2hlciBwbHVzaWV1cnMgbW90cywgZGFucyBsZSBkw4PCqXNvcmRyZSwgY29tcGxldHMgb3Ugbm9uLCBxdSdpbXBvcnRlIGxlIGNvbnRlbnUgZW50cmUgZXV4IGRhbnMgbGUgbWVzc2FnZS4iCm1zZ3N0ciAiIgoKbXNnaWQgIi0gUG91ciByZWNoZXJjaGVyIGxlcyBtZXNzYWdlcyBkJ3VuIGpvdWV1ciBlbiBwYXJ0aWN1bGllciwgdXRpbGlzZXogPGk+QHBlcnNvbm5hZ2U8L2k+IChsZSBwcsODwqlub20gZW4gbWludXNjdWxlLCBhdmVjIHVuIF8gcG91ciBrdWFuX3RpIGV0IGppbl9zdSkuIgptc2dzdHIgIiIKCm1zZ2lkICItIFBvdXIgcmVjaGVyY2hlciB1bmlxdWVtZW50IGRhbnMgbGUgcHJlbWllciBtZXNzYWdlIGRlcyB0b3BpY3MsIHV0aWxpc2V6IDxpPkB0b3BpYzwvaT4uIgptc2dzdHIgIiIKCm1zZ2lkICIlMSByw4PCqXN1bHRhdCAobWF4aW11bSA6ICUyKS4iCm1zZ2lkX3BsdXJhbCAiJTEgcsODwqlzdWx0YXRzIChtYXhpbXVtIDogJTIpLiIKbXNnc3RyWzBdICIiCm1zZ3N0clsxXSAiIgoKbXNnaWQgIkF1Y3VuIHLDg8Kpc3VsdGF0LiIKbXNnc3RyICIiCgptc2dpZCAiTGUgdGV4dGUgcmVjaGVyY2jDg8KpIGVzdCB0cm9wIGNvdXJ0LiIKbXNnc3RyICIiCgptc2dpZCAiQ2hhcmdlbWVudMOiwoDCpiIKbXNnc3RyICIiCgptc2dpZCAiUsODwqlwb25kcmUgYXUgdG9waWMiCm1zZ3N0ciAiIgoKbXNnaWQgIkVudm95ZXIgY2UgbWVzc2FnZSBlbiB0YW50IHF1ZSByw4PCqXBvbnNlIGF1IHRvcGljIGFmZmljaMODwqkgY2ktY29udHJlLiIKbXNnc3RyICIiCgptc2dpZCAiTm91dmVhdSB0b3BpYyIKbXNnc3RyICIiCgptc2dpZCAiUG9zdGVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgbm91dmVhdSB0b3BpYy4iCm1zZ3N0ciAiIgoKbXNnaWQgIkFqb3V0ZXIgYXV4IGZhdm9yaXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkxlIG1lc3NhZ2UgZXhpc3RlIGTDg8KpasODwqAuIgptc2dzdHIgIiIKCm1zZ2lkICJMZSB0aXRyZSBlc3QgdmlkZS4iCm1zZ3N0ciAiIgoKbXNnaWQgIkxlIG1lc3NhZ2UgZXN0IHZpZGUuIgptc2dzdHIgIiIKCm1zZ2lkICJBam91dGVyIHVuIG1lc3NhZ2Ugw4PCoCB2b3RyZSBsaXN0ZSBkZXMgbWVzc2FnZXMgcHLDg8KpLWVucmVnaXN0csODwqlzLiIKbXNnc3RyICIiCgptc2dpZCAiU3VwcHJpbWVyIHVuIGZhdm9yaSIKbXNnc3RyICIiCgptc2dpZCAiTGUgbWVzc2FnZSBxdWUgdm91cyB2b3VsZXogc3VwcHJpbWVyIG4nZXhpc3RlIHBhcy4iCm1zZ3N0ciAiIgoKbXNnaWQgIlN1cHByaW1lciB1bmUgbWVzc2FnZSBkZSB2b3RyZSBsaXN0ZSBkZXMgbWVzc2dlcyBwcsODwqktZW5yZWdpc3Ryw4PCqXMuIgptc2dzdHIgIiIKCm1zZ2lkICLDg8KgIHByb3BvcyIKbXNnc3RyICIiCgptc2dpZCAiQ2xpcXVleiBpY2kgcG91ciBwbHVzIGQnaW5mb3JtYXRpb25zIHN1ciBsZSBzY3JpcHQuIgptc2dzdHIgIiIKCm1zZ2lkICJDVFJMK1cgOiBWZXVpbGxleiBhdHRlbmRyZSBsYSBmaW4gZGUgbGEgc3luY2hyb25pc2F0aW9uIGF2YW50IGRlIHF1aXR0ZXIgY2V0dGUgcGFnZS4iCm1zZ3N0ciAiIgoKbXNnaWQgIm91dGlscyIKbXNnc3RyICIiCgptc2dpZCAiTWlzZSDDg8KgIGpvdXIiCm1zZ3N0ciAiIgoKbXNnaWQgIk1pc2Ugw4PCoCBqb3VyIGR1IHNjcmlwdCIKbXNnc3RyICIiCgptc2dpZCAiTXNnIE1hbmFnZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIk1lc3NhZ2UgTWFuYWdlciIKbXNnc3RyICIiCgptc2dpZCAiTmUgbWFucXVleiBwbHVzIGRlIG1lc3NhZ2VzICEgVG91cyBsZXMgdG9waWNzIGF2ZWMgZGVzIG1lc3NhZ2VzIG5vbiBsdXMgc2Vyb250IG1pcyBlbiDDg8KpdmlkZW5jZSwgZXQgdm91cyBwb3VycmV6IGVmZmVjdHVlciBkZXMgcmVjaGVyY2hlcyBwYXIgYXV0ZXVyIG91IGNvbnRlbnUuIgptc2dzdHIgIiIKCm1zZ2lkICJPcHRpb25zIgptc2dzdHIgIiIKCm1zZ2lkICJHw4PCqXJlciBsZXMgb3B0aW9ucyIKbXNnc3RyICIiCgptc2dpZCAiQ2VydGFpbmVzIGZvbmN0aW9ubmFsaXTDg8KpZXMgZGUgQ3RybCtXIHNvbnQgY29uZmlndXJhYmxlcy4gQ2xpcXVleiBpY2kgcG91ciBzcMODwqljaWZpZXIgdm9zIHByw4PCqWbDg8KpcmVuY2VzLiIKbXNnc3RyICIiCgptc2dpZCAiU3luYyIKbXNnc3RyICIiCgptc2dpZCAiUGVybWV0IGRlIHN5bmNocm9uaXNlciBsZXMgZG9ubsODwqllcyBkdSBzY3JpcHQgZW50cmUgdm9zIGRpZmbDg8KpcmVudHMgbmF2aWdhdGV1cnMiCm1zZ3N0ciAiIgoKbXNnaWQgIkFjdHVhbGlzZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIkFjdHVhbGlzZXIgbGEgcGFnZSBzYW5zIHRvdXQgcmVjaGFyZ2VyLiA8c3Ryb25nPkZvbmN0aW9ubmFsaXTDg8KpIGVuIGNvdXJzIGQnb3B0aW1pc2F0aW9uLjwvc3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiTm91dmVsbGUgcGFydGllID8iCm1zZ3N0ciAiIgoKbXNnaWQgIk5vdXZlbGxlIHBhcnRpZSIKbXNnc3RyICIiCgptc2dpZCAiVm91cyB2ZW5leiBkZSBjb21tZW5jZXIgdW5lIG5vdXZlbGxlIHBhcnRpZSA/IFV0aWxpc2V6IGNlIGJvdXRvbiBwb3VyIHN1cHByaW1lciBsZXMgaW5mb3JtYXRpb25zIGRlIHZvdHJlIGFuY2llbm5lIHBhcnRpZSIKbXNnc3RyICIiCgptc2dpZCAiw4PCinRlcyB2b3VzIHPDg8K7ciBkZSB2b3Vsb2lyIGVmZmFjZXIgbGVzIGluZm9ybWF0aW9ucyBkZSBsYSBwYXJ0aWUgcHLDg8KpY8ODwqlkZW50ZSA/Igptc2dzdHIgIiIKCm1zZ2lkICJ0aXRyZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIlByw4PCqXNlbnQocykiCm1zZ3N0ciAiIgoKbXNnaWQgIsODwqlxdWlwYWdlIgptc2dzdHIgIiIKCm1zZ2lkICJpbnZlbnRhaXJlIgptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciIKbXNnc3RyICIiCgptc2dpZCAiPHA+SW5zw4PCqHJlIGwnaW52ZW50YWlyZSBkZSBsYSBwacODwqhjZSBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PHN0cm9uZz5Db3Vsb2lyIGNlbnRyYWwgOjwvc3Ryb25nPiA8aT5Db21iaW5haXNvbjwvaT4sIDxpPkNvdXRlYXU8L2k+LCA8aT5Nw4PCqWRpa2l0PC9pPiwgPGk+RXh0aW5jdGV1cjwvaT48L3A+PHA+PHN0cm9uZz5QYXJ0YWdlIGF1c3NpIHN1ciBBc3Ryb3BhZCBzaSBjZWx1aS1jaSBlc3QgaW5zdGFsbMODwqkuPC9zdHJvbmc+PC9wPiIKbXNnc3RyICIiCgptc2dpZCAiQ29uc29tbWFibGVzIgptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgZWZmZXRzIGRlcyBjb25zb21tYWJsZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZXMgY29uc29tbWFibGVzIGF2ZWMgbGV1cnMgZWZmZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBhcGVyw4PCp3U8L3A+Igptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDb21tYW5kYW50Igptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJMZSBDb21tYW5kYW50IGTDg8KpY2lkZSBkZXMgcGxhbsODwqh0ZXMgcXVlIGxlIERhZWRhbHVzIGV4cGxvcmVyYS4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkFkbWluaXN0cmF0ZXVyIE5FUk9OIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJMZSByZXNwb25zYWJsZSBORVJPTiBzZW1ibGUgYXZvaXIgdW5lIGNlcnRhaW5lIGluZmx1ZW5jZSBhdXByw4PCqHMgZGUgbCdvcmRpbmF0ZXVyIGRlIGJvcmQuIElsIGVzdCBub3RhbW1lbnQgbGUgc2V1bCDDg8KgIGF2b2lyIGxhIHBvc3NpYmlsaXTDg8KpIGRlIHRyYW5zbWV0dHJlIGRlcyBtZXNzYWdlcyDDg8KgIHRvdXQgbCfDg8KpcXVpcGFnZS4iCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlJlc3BvbnNhYmxlIGRlIENvbW11bmljYXRpb25zIgptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJMZSBSZXNwb25zYWJsZSBkZSBDb21tdW5pY2F0aW9ucyBlc3QgbGEgc2V1bGUgcGVyc29ubmUgaGFiaWxpdMODwqllIMODwqAgZMODwqljaWRlciBxdWVscyBzZXJvbnQgbGVzIHTDg8KpbMODwqljaGFyZ2VtZW50cyBwcmlvcml0YWlyZXMgZHUgQ2VudHJlIGRlIENvbW11bmljYXRpb24uIgptc2dzdHIgIiIKCm1zZ2lkICJBdHRlbnRpb24iCm1zZ3N0ciAiIgoKbXNnaWQgIlZvdXMgcG91dmV6IGF1c3NpIG1vZGlmaWVyIGxlIGR1byBBbmRyZWsvQ2hhb2xhIGVuIGNsaXF1YW50IHN1ciBsJ2ljb25lIgptc2dzdHIgIiIKCm1zZ2lkICJQb3VyIGF2b2lyIHVuZSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIGNvcnJlY3RlLCB2b3VzIGRldmV6IG1ldHRyZSDDg8KgIGpvdXIgY2V0dGUgbGlzdGUgdmlhIGxlIG1vZHVsZSBDcnlvLiA8YnIvPlBvdXIgY2UgZmFpcmUsIHZldWlsbGV6IHZvdXMgcmVuZHJlIGF1IGxhYm8sIGxpc3RleiBsJ8ODwqlxdWlwYWdlIHZpYSBsZSBtb2R1bGUgQ3J5byBldCBjbGlxdWV6IHN1ciBsZSBib3V0b24gYXUgYmFzIGRlIGxhIGxpc3RlIGRlcyBwZXJzb25uYWdlcy48YnIvPkF0dGVudGlvbiwgbGUgYm91dG9uIG4nYXBwYXJhaXQgcXVlIGxvcnNxdWUgbCfDg8KpcXVpcGFnZSBlc3QgYXUgY29tcGxldC48cD48c3Ryb25nPiIKbXNnc3RyICIiCgptc2dpZCAiPHA+Vm91cyDDg8KqdGVzIGRhbnMgbGEgbcODwqptZSBwacODwqhjZSBxdWUgY2V0dGUgcGVyc29ubmUgOyB2b3VzIHBvdXZleiBkb25jIGwnZXhhbWluZXIgZGUgcGx1cyBwcsODwqhzLjwvcD48cD48c3Ryb25nPkNsaXF1ZXogaWNpIHBvdXIgZW5yZWdpc3RyZXIgbGVzIGNvbXDDg8KpdGVuY2VzIHZpc2libGVzLCBzdGF0dXRzIHB1YmxpcXVlcyBldCB0aXRyZXMgZGUgY2UgcGVyc29ubmFnZS48L3N0cm9uZz48L3A+Igptc2dzdHIgIiIKCiMuIFRyYW5zbGF0b3JzOiBUZXh0IGZvciBDcnlvZ2VuaXplZCBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlICBVc2VsZXNzIHRvIHRyYW5zbGF0ZSBpbiBFbmdsaXNoCm1zZ2lkICJDcnlvIgptc2dzdHIgIiIKCm1zZ2lkICJUb3V0IGxlIG1vbmRlIGRvaXQgw4PCqnRyZSBkw4PCqWNyeW9nw4PCqW5pc8ODwqkgcG91ciBwb3V2b2lyIG1ldHRyZSDDg8KgIGpvdXIgbGEgbGlzdGUgZCfDg8KpcXVpcGFnZSIKbXNnc3RyICIiCgptc2dpZCAiTWV0dHJlIMODwqAgam91ciBsYSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIgptc2dzdHIgIiIKCm1zZ2lkICJDbGlxdWVyIGljaSBwb3VyIG1ldHRyZSDDg8KgIGpvdXIgbGEgbGlzdGUgZCfDg8KpcXVpcGFnZSBkZSBDVFJMK1ciCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRleHQgZm9yIGlkbGUgcGVvcGxlIGZyb20gQ3J5b01vZHVsZS4gUmVnZXggYWxsb3dlZAptc2dpZCAiSW5hY3RpdmUiCm1zZ3N0ciAiIgoKIy4gVHJhbnNsYXRvcnM6IFRleHQgZm9yIGF3YWtlIHBlb3BsZSBmcm9tIENyeW9Nb2R1bGUuIFJlZ2V4IGFsbG93ZWQKbXNnaWQgIkV2ZWlsbMODwqllPyIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgZGVhZCBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlLiBSZWdleCBhbGxvd2VkCm1zZ2lkICJNb3J0ZT8iCm1zZ3N0ciAiIgoKbXNnaWQgIkNvZXVyIGRlIE5FUk9OIgptc2dzdHIgIiIKCm1zZ2lkICJMYWJvcmF0b2lyZSIKbXNnc3RyICIiCgptc2dpZCAiPHA+SW5zw4PCqHJlIGxhIGxpc3RlIGRlIHJlY2hlcmNoZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPjwvcD4iCm1zZ3N0ciAiIgoKbXNnaWQgIlBhcnRhZ2VyIHYyIgptc2dzdHIgIiIKCm1zZ2lkICI8cD5JbnPDg8KocmUgbGEgbGlzdGUgZGUgcmVjaGVyY2hlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPC9saT48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTwvbGk+PC9wPiIKbXNnc3RyICIiCgptc2dpZCAiVmV1aWxsZXogdXRpbGlzZXIgbCdpbnZlbnRhaXJlIGR1IGxhYm8gcydpbCB2b3VzIHBsYcODwq50Igptc2dzdHIgIiIKCm1zZ2lkICI8cD5JbnPDg8KocmUgbGEgbGlzdGUgZGUgcHJvamV0cyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PC9wPiIKbXNnc3RyICIiCgptc2dpZCAiUGFydGFnZXIgbGEgcGxhbsODwqh0ZSIKbXNnc3RyICIiCgptc2dpZCAiUGFydGFnZSB1bmlxdWVtZW50IGNldHRlIHBsYW7Dg8KodGUgZGFucyBsJ2ludmVudGFpcmUiCm1zZ3N0ciAiIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwbGFuw4PCqHRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+VE9ETzogYXBlcsODwqd1Igptc2dzdHIgIiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGFyYW3Dg8KodHJlcyIKbXNnc3RyICIiCgptc2dpZCAiQ29tLiIKbXNnc3RyICIiCgptc2dpZCAiUGxhbnRlcyIKbXNnc3RyICIiCgptc2dpZCAiUGFydGFnZXIgbCfDg8KpdGF0IGRlcyBwbGFudGVzLiIKbXNnc3RyICIiCgptc2dpZCAiKFswLTldK3x1bnxhKSsgYXBwYXJlaWwiCm1zZ3N0ciAiIgoKbXNnaWQgImNvbm5lY3TDg8KpKGUpIgptc2dzdHIgIiIKCm1zZ2lkICJDYW5hbCBwcml2w4PCqSIKbXNnc3RyICIiCg=="},{"meta":{"name":"jquery.jgrowl.css","url":"https://raw.github.com/badconker/ctrl-w/release/lib/jquery.jgrowl.css","ts":1544430112989,"mimetype":"text/css"},"source":"Ci8qKiBTcGVjaWFsIElFNiBTdHlsZSBQb3NpdGlvbmluZyAqKi8KLmllNiB7Cglwb3NpdGlvbjogCQkJYWJzb2x1dGU7Cn0KCi5pZTYudG9wLXJpZ2h0IHsKCXJpZ2h0OiAJCQkJYXV0bzsKCWJvdHRvbTogCQkJYXV0bzsKCWxlZnQ6IAkJCQlleHByZXNzaW9uKCAoIDAgLSBqR3Jvd2wub2Zmc2V0V2lkdGggKyAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKSArICggaWdub3JlTWUyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCApICkgKyAncHgnICk7Cgl0b3A6IAkJCQlleHByZXNzaW9uKCAoIDAgKyAoIGlnbm9yZU1lID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCApICkgKyAncHgnICk7Cn0KCi5pZTYudG9wLWxlZnQgewoJbGVmdDogCQkJCWV4cHJlc3Npb24oICggMCArICggaWdub3JlTWUyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCApICkgKyAncHgnICk7Cgl0b3A6IAkJCQlleHByZXNzaW9uKCAoIDAgKyAoIGlnbm9yZU1lID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCApICkgKyAncHgnICk7Cn0KCi5pZTYuYm90dG9tLXJpZ2h0IHsKCWxlZnQ6IAkJCQlleHByZXNzaW9uKCAoIDAgLSBqR3Jvd2wub2Zmc2V0V2lkdGggKyAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKSArICggaWdub3JlTWUyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCApICkgKyAncHgnICk7Cgl0b3A6IAkJCQlleHByZXNzaW9uKCAoIDAgLSBqR3Jvd2wub2Zmc2V0SGVpZ2h0ICsgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA6IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICkgKyAoIGlnbm9yZU1lID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCApICkgKyAncHgnICk7Cn0KCi5pZTYuYm90dG9tLWxlZnQgewoJbGVmdDogCQkJCWV4cHJlc3Npb24oICggMCArICggaWdub3JlTWUyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCApICkgKyAncHgnICk7Cgl0b3A6IAkJCQlleHByZXNzaW9uKCAoIDAgLSBqR3Jvd2wub2Zmc2V0SGVpZ2h0ICsgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA6IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICkgKyAoIGlnbm9yZU1lID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCApICkgKyAncHgnICk7Cn0KCi5pZTYuY2VudGVyIHsKCWxlZnQ6IAkJCQlleHByZXNzaW9uKCAoIDAgKyAoIGlnbm9yZU1lMiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgKSApICsgJ3B4JyApOwoJdG9wOiAJCQkJZXhwcmVzc2lvbiggKCAwICsgKCBpZ25vcmVNZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKSApICsgJ3B4JyApOwoJd2lkdGg6IAkJCQkxMDAlOwp9CgoKLyoqIGpHcm93bCBTdHlsaW5nICoqLwouakdyb3dsIHsKCXotaW5kZXg6IAkJCTk5OTk7Cgljb2xvcjogCQkJCSNmZmY7Cglmb250LXNpemU6IAkJCTEycHg7Cglwb3NpdGlvbjoJCQlmaXhlZDsKfQoKLmpHcm93bC50b3AtbGVmdCB7CglsZWZ0OiAJCQkJMHB4OwoJdG9wOiAJCQkJMHB4Owp9Cgouakdyb3dsLnRvcC1yaWdodCB7CglyaWdodDogCQkJCTBweDsKCXRvcDogCQkJCTMwcHg7Cn0KCi5qR3Jvd2wuYm90dG9tLWxlZnQgewoJbGVmdDogCQkJCTBweDsKCWJvdHRvbToJCQkJMHB4Owp9Cgouakdyb3dsLmJvdHRvbS1yaWdodCB7CglyaWdodDogCQkJCTBweDsKCWJvdHRvbTogCQkJMHB4Owp9Cgouakdyb3dsLmNlbnRlciB7Cgl0b3A6IAkJCQkwcHg7Cgl3aWR0aDogCQkJCTUwJTsKCWxlZnQ6IAkJCQkyNSU7Cn0KCi8qKiBDcm9zcyBCcm93c2VyIFN0eWxpbmcgKiovCi5jZW50ZXIgLmpHcm93bC1ub3RpZmljYXRpb24sIC5jZW50ZXIgLmpHcm93bC1jbG9zZXIgewoJbWFyZ2luLWxlZnQ6IAkJYXV0bzsKCW1hcmdpbi1yaWdodDogCQlhdXRvOwp9Cgouakdyb3dsIC5qR3Jvd2wtbm90aWZpY2F0aW9uLCAuakdyb3dsIC5qR3Jvd2wtY2xvc2VyIHsKCWJhY2tncm91bmQtY29sb3I6IAkJcmdiYSg1Myw1NSwxMTIsMC42KTsKCWJvcmRlcjogMnB4IHNvbGlkICMzOTY1RkI7CgktbXMtZmlsdGVyOiAJCQkicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9ODUpIjsgCglmaWx0ZXI6IAkJCQlwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT04NSk7IAoJem9vbTogCQkJCQkxOwoJd2lkdGg6IAkJCQkJMjM1cHg7CglwYWRkaW5nOiAJCQkJMTBweDsKCW1hcmdpbi10b3A6IAkJCTVweDsKCW1hcmdpbi1ib3R0b206IAkJCTVweDsKCWZvbnQtZmFtaWx5OiAJCQlUYWhvbWEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7Cglmb250LXNpemU6IAkJCQkxZW07Cgl0ZXh0LWFsaWduOiAJCQlsZWZ0OwoJZGlzcGxheTogCQkJCW5vbmU7Cgktd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA4cHggMnB4IHJnYmEoNTcsMTAxLDI1MSwxKTsKCS1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDhweCAycHggcmdiYSg1NywxMDEsMjUxLDEpOwoJYm94LXNoYWRvdzogaW5zZXQgMCAwIDhweCAycHggcmdiYSg1NywxMDEsMjUxLDEpOwp9Ci5qR3Jvd2wtbWVzc2FnZXsKCWxpbmUtaGVpZ2h0OiAxM3B4Owp9Ci5qR3Jvd2wtbWVzc2FnZSBpbWd7Cgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9Ci5qR3Jvd2wgLmpHcm93bC1ub3RpZmljYXRpb24gewoJbWluLWhlaWdodDogCQkJNDBweDsKfQoKLmpHcm93bCAuakdyb3dsLW5vdGlmaWNhdGlvbiwKLmpHcm93bCAuakdyb3dsLWNsb3NlciB7CgltYXJnaW46IAkJCQkxMHB4Owp9Cgouakdyb3dsIC5qR3Jvd2wtbm90aWZpY2F0aW9uIC5qR3Jvd2wtaGVhZGVyIHsKCWZvbnQtd2VpZ2h0OiAJCQlib2xkOwoJZm9udC1zaXplOgkJCQkuODVlbTsKfQoKLmpHcm93bCAuakdyb3dsLW5vdGlmaWNhdGlvbiAuakdyb3dsLWNsb3NlIHsKCXotaW5kZXg6CQkJCTk5OwoJZmxvYXQ6IAkJCQkJcmlnaHQ7Cglmb250LXdlaWdodDogCQkJYm9sZDsKCWZvbnQtc2l6ZTogCQkJCTFlbTsKCWN1cnNvcjoJCQkJCXBvaW50ZXI7Cn0KCi5qR3Jvd2wgLmpHcm93bC1jbG9zZXIgewoJcGFkZGluZy10b3A6IAkJCTRweDsKCXBhZGRpbmctYm90dG9tOiAJCTRweDsKCWN1cnNvcjogCQkJCXBvaW50ZXI7Cglmb250LXNpemU6CQkJCS45ZW07Cglmb250LXdlaWdodDogCQkJYm9sZDsKCXRleHQtYWxpZ246IAkJCWNlbnRlcjsKfQoKLyoqIEhpZGUgakdyb3dsIHdoZW4gcHJpbnRpbmcgKiovCkBtZWRpYSBwcmludCB7Cgkuakdyb3dsIHsKCQlkaXNwbGF5OiAJCQlub25lOwoJfQp9Cgouakdyb3dsIC5qR3Jvd2wtbm90aWZpY2F0aW9uLmN0cmx3LWVycm9yewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjcsMzYsNDcsMC41KTsKICAgIGJvcmRlci1jb2xvcjogI0UzMjQyRDsKICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDhweCAycHggI0UzMjQyRDsKICAgIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDhweCAycHggI0UzMjQyRDsKICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA4cHggMnB4ICNFMzI0MkQ7Cn0="},{"meta":{"name":"jquery.jgrowl.js","url":"https://raw.github.com/badconker/ctrl-w/release/lib/jquery.jgrowl.js","ts":1544430113013,"mimetype":"text/javascript"},"source":"LyoqCiAqIGpHcm93bCAxLjMuMAogKgogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKQogKiBhbmQgR1BMIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2dwbC1saWNlbnNlLnBocCkgbGljZW5zZXMuCiAqCiAqIFdyaXR0ZW4gYnkgU3RhbiBMZW1vbiA8c3Rvc2gxOTg1QGdtYWlsLmNvbT4KICogTGFzdCB1cGRhdGVkOiAyMDE0LjA0LjE4CiAqCiAqIGpHcm93bCBpcyBhIGpRdWVyeSBwbHVnaW4gaW1wbGVtZW50aW5nIHVub2J0cnVzaXZlIHVzZXJsYW5kIG5vdGlmaWNhdGlvbnMuICBUaGVzZQogKiBub3RpZmljYXRpb25zIGZ1bmN0aW9uIHNpbWlsYXJseSB0byB0aGUgR3Jvd2wgRnJhbWV3b3JrIGF2YWlsYWJsZSBmb3IKICogTWFjIE9TIFggKGh0dHA6Ly9ncm93bC5pbmZvKS4KICoKICogVG8gRG86CiAqIC0gTW92ZSBsaWJyYXJ5IHNldHRpbmdzIHRvIGNvbnRhaW5lcnMgYW5kIGFsbG93IHRoZW0gdG8gYmUgY2hhbmdlZCBwZXIgY29udGFpbmVyCiAqCiAqIENoYW5nZXMgaW4gMS4zLjAKICogLSBBZGRlZCBub24tdmVuZG9yIGJvcmRlci1yYWRpdXMgdG8gc3R5bGVzaGVldAogKiAtIEFkZGVkIGdydW50IGZvciBnZW5lcmF0aW5nIG1pbmlmaWVkIGpzIGFuZCBjc3MKICogLSBBZGRlZCBucG0gcGFja2FnZSBpbmZvCiAqIC0gQWRkZWQgYm93ZXIgcGFja2FnZSBpbmZvCiAqIC0gVXBkYXRlcyBmb3IganNoaW50CiAqCiAqIENoYW5nZXMgaW4gMS4yLjEzCiAqIC0gRml4ZWQgY2xlYXJpbmcgaW50ZXJ2YWwgd2hlbiB0aGUgY29udGFpbmVyIHNodXRzIGRvd24KICoKICogQ2hhbmdlcyBpbiAxLjIuMTIKICogLSBBZGRlZCBjb21wcmVzc2VkIHZlcnNpb25zIHVzaW5nIFVnbGlmeUpTIGFuZCBTcXdpc2gKICogLSBJbXByb3ZlZCBSRUFETUUgd2l0aCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZXhwbGFuYXRpb24KICogLSBBZGRlZCBhIHNvdXJjZSBtYXAKICoKICogQ2hhbmdlcyBpbiAxLjIuMTEKICogLSBGaXggYXJ0aWZhY3RzIGxlZnQgYmVoaW5kIGJ5IHRoZSBzaHV0ZG93biBtZXRob2QgYW5kIHRleHQtY2xlYW51cAogKgogKiBDaGFuZ2VzIGluIDEuMi4xMAogKiAtIEZpeCBiZWZvcmVDbG9zZSB0byBiZSBjYWxsZWQgaW4gY2xpY2sgZXZlbnQKICoKICogQ2hhbmdlcyBpbiAxLjIuOQogKiAtIEZpeGVkIEJDIGJyZWFrIGluIGpRdWVyeSAyLjAgYmV0YQogKgogKiBDaGFuZ2VzIGluIDEuMi44CiAqIC0gRml4ZXMgZm9yIGpRdWVyeSAxLjkgYW5kIHRoZSBNU0lFNiBjaGVjaywgbm90ZSB0aGF0IHdpdGggalF1ZXJ5IDIuMCBzdXBwb3J0CiAqICAgakdyb3dsIGludGVuZHMgdG8gZHJvcCBzdXBwb3J0IGZvciBJRTYgYWx0b2dldGhlcgogKgogKiBDaGFuZ2VzIGluIDEuMi42CiAqIC0gRml4ZWQganMgZXJyb3Igd2hlbiBhIG5vdGlmaWNhdGlvbiBpcyBvcGVuaW5nIGFuZCBjbG9zaW5nIGF0IHRoZSBzYW1lIHRpbWUKICoKICogQ2hhbmdlcyBpbiAxLjIuNQogKiAtIENoYW5nZWQgd3JhcHBlciBqR3Jvd2wncyBvcHRpb25zIHVzYWdlIHRvICJvIiBpbnN0ZWFkIG9mICQuakdyb3dsLmRlZmF1bHRzCiAqIC0gQWRkZWQgdGhlbWVTdGF0ZSBvcHRpb24gdG8gY29udHJvbCAnaGlnaGxpZ2h0JyBvciAnZXJyb3InIGZvciBqUXVlcnkgVUkKICogLSBBbW1lbmRlZCBzb21lIENTUyB0byBwcm92aWRlIGRlZmF1bHQgcG9zaXRpb25pbmcgZm9yIG5lc3RlZCB1c2FnZS4KICogLSBDaGFuZ2VkIHNvbWUgQ1NTIHRvIGJlIHByZWZpeGVkIHdpdGggakdyb3dsLSB0byBwcmV2ZW50IG5hbWVzcGFjaW5nIGlzc3VlcwogKiAtIEFkZGVkIHR3byBuZXcgb3B0aW9ucyAtIG9wZW5EdXJhdGlvbiBhbmQgY2xvc2VEdXJhdGlvbiB0byBhbGxvdwogKiAgIGJldHRlciBjb250cm9sIG9mIG5vdGlmaWNhdGlvbiBvcGVuIGFuZCBjbG9zZSBzcGVlZHMsIHJlc3BlY3RpdmVseQogKiAgIFBhdGNoIGNvbnRyaWJ1dGVkIGJ5IEplc3NlIFZpbmNldC4KICogLSBBZGRlZCBhZnRlck9wZW4gY2FsbGJhY2suICBQYXRjaCBjb250cmlidXRlZCBieSBSdXNzZWwgQnJhbmNhLgogKgogKiBDaGFuZ2VzIGluIDEuMi40CiAqIC0gRml4ZWQgSUUgYnVnIHdpdGggdGhlIGNsb3NlLWFsbCBidXR0b24KICogLSBGaXhlZCBJRSBidWcgd2l0aCB0aGUgZmlsdGVyIENTUyBhdHRyaWJ1dGUgKHNwZWNpYWwgdGhhbmtzIHRvIGdvdHdpYykKICogLSBVcGRhdGUgSUUgb3BhY2l0eSBDU1MKICogLSBDaGFuZ2VkIGZvbnQgc2l6ZXMgdG8gdXNlICJlbSIsIGFuZCBvbmx5IHNldCB0aGUgYmFzZSBzdHlsZQogKgogKiBDaGFuZ2VzIGluIDEuMi4zCiAqIC0gVGhlIGNhbGxiYWNrcyBubyBsb25nZXIgdXNlIHRoZSBjb250YWluZXIgYXMgY29udGV4dCwgaW5zdGVhZCB0aGV5IHVzZSB0aGUgYWN0dWFsIG5vdGlmaWNhdGlvbgogKiAtIFRoZSBjYWxsYmFja3Mgbm93IHJlY2VpdmUgdGhlIGNvbnRhaW5lciBhcyBhIHBhcmFtZXRlciBhZnRlciB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIKICogLSBiZWZvcmVPcGVuIGFuZCBiZWZvcmVDbG9zZSBub3cgY2hlY2sgdGhlIHJldHVybiB2YWx1ZSwgaWYgaXQncyBmYWxzZSAtIHRoZSBub3RpZmljYXRpb24gZG9lcwogKiAgIG5vdCBjb250aW51ZS4gIFRoZSBvcGVuIGNhbGxiYWNrIHdpbGwgYWxzbyBoYWx0IGV4ZWN1dGlvbiBpZiBpdCByZXR1cm5zIGZhbHNlLgogKiAtIEZpeGVkIGJ1ZyB3aGVyZSBjb250YWluZXJzIHdvdWxkIGdldCBjb25mdXNlZAogKiAtIEV4cGFuZGVkIHRoZSBwYXVzZSBmdW5jdGlvbmFsaXR5IHRvIHBhdXNlIGFuIGVudGlyZSBjb250YWluZXIuCiAqCiAqIENoYW5nZXMgaW4gMS4yLjIKICogLSBOb3RpZmljYXRpb24gY2FuIG5vdyBiZSB0aGVtZSByb2xsZWQgZm9yIGpRdWVyeSBVSSwgc3BlY2lhbCB0aGFua3MgdG8gSmVmZiBDaGFuIQogKgogKiBDaGFuZ2VzIGluIDEuMi4xCiAqIC0gRml4ZWQgaW5zdGFuY2Ugd2hlcmUgdGhlIGludGVydmFsIHdvdWxkIGZpcmUgdGhlIGNsb3NlIG1ldGhvZCBtdWx0aXBsZSB0aW1lcy4KICogLSBBZGRlZCBDU1MgdG8gaGlkZSBmcm9tIHByaW50IG1lZGlhCiAqIC0gRml4ZWQgaXNzdWUgd2l0aCBjbG9zZXIgYnV0dG9uIHdoZW4gZGl2IHsgcG9zaXRpb246IHJlbGF0aXZlIH0gaXMgc2V0CiAqIC0gRml4ZWQgbGVha2luZyBpc3N1ZSB3aXRoIG11bHRpcGxlIGNvbnRhaW5lcnMuICBTcGVjaWFsIHRoYW5rcyB0byBNYXR0aGV3IEhhbmxvbiEKICoKICogQ2hhbmdlcyBpbiAxLjIuMAogKiAtIEFkZGVkIG1lc3NhZ2UgcG9vbGluZyB0byBsaW1pdCB0aGUgbnVtYmVyIG9mIG1lc3NhZ2VzIGFwcGVhcmluZyBhdCBhIGdpdmVuIHRpbWUuCiAqIC0gQ2xvc2luZyBhIG5vdGlmaWNhdGlvbiBpcyBub3cgYm91bmQgdG8gdGhlIG5vdGlmaWNhdGlvbiBvYmplY3QgYW5kIHRyaWdnZXJlZCBieSB0aGUgY2xvc2UgYnV0dG9uLgogKgogKiBDaGFuZ2VzIGluIDEuMS4yCiAqIC0gQWRkZWQgaVBob25lIHN0eWxlZCBleGFtcGxlCiAqIC0gRml4ZWQgcG9zc2libGUgSUU3IGJ1ZyB3aGVuIGRldGVybWluaW5nIGlmIHRoZSBpZTYgY2xhc3Mgc2hvdWRsIGJlIGFwcGxpZWQuCiAqIC0gQWRkZWQgdGVtcGxhdGUgZm9yIHRoZSBjbG9zZSBidXR0b24sIHNvIHRoYXQgaXQncyBjb250ZW50IGNvdWxkIGJlIGN1c3RvbWl6ZWQuCiAqCiAqIENoYW5nZXMgaW4gMS4xLjEKICogLSBGaXhlZCBDU1Mgc3R5bGluZyBidWcgZm9yIGllNiBjYXVzZWQgYnkgYSBtaXNwZWxsaW5nCiAqIC0gQ2hhbmdlcyBoZWlnaHQgcmVzdHJpY3Rpb24gb24gZGVmYXVsdCBub3RpZmljYXRpb25zIHRvIG1pbi1oZWlnaHQKICogLSBBZGRlZCBza2lubmVkIGV4YW1wbGVzIHVzaW5nIGEgdmFyaWV0eSBvZiBpbWFnZXMKICogLSBBZGRlZCB0aGUgYWJpbGl0eSB0byBjdXN0b21pemUgdGhlIGNvbnRlbnQgb2YgdGhlIFtjbG9zZSBhbGxdIGJveAogKiAtIEFkZGVkIGpUd2VldCwgYW4gZXhhbXBsZSBvZiB1c2luZyBqR3Jvd2wgKyBUd2l0dGVyCiAqCiAqIENoYW5nZXMgaW4gMS4xLjAKICogLSBNdWx0aXBsZSBjb250YWluZXIgYW5kIGluc3RhbmNlcy4KICogLSBTdGFuZGFyZCAkLmpHcm93bCgpIG5vdyB3cmFwcyAkLmZuLmpHcm93bCgpIGJ5IGZpcnN0IGVzdGFibGlzaGluZyBhIGdlbmVyaWMgakdyb3dsIGNvbnRhaW5lci4KICogLSBJbnN0YW5jZSBtZXRob2RzIG9mIGEgakdyb3dsIGNvbnRhaW5lciBjYW4gYmUgY2FsbGVkIGJ5ICQuZm4uakdyb3dsKG1ldGhvZE5hbWUpCiAqIC0gQWRkZWQgZ2x1ZSBwcmVmZXJlbmNlZCwgd2hpY2ggYWxsb3dzIG5vdGlmaWNhdGlvbnMgdG8gYmUgaW5zZXJ0ZWQgYmVmb3JlIG9yIGFmdGVyIG5vZGVzIGluIHRoZSBjb250YWluZXIKICogLSBBZGRlZCBuZXcgbG9nIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBiZWZvcmUgYW55dGhpbmcgaXMgZG9uZSBmb3IgdGhlIG5vdGlmaWNhdGlvbgogKiAtIENvcm5lcidzIGF0dHJpYnV0ZSBhcmUgbm93IGFwcGxpZWQgb24gYW4gaW5kaXZpZHVhbCBub3RpZmljYXRpb24gYmFzaXMuCiAqCiAqIENoYW5nZXMgaW4gMS4wLjQKICogLSBWYXJpb3VzIENTUyBmaXhlcyBzbyB0aGF0IGpHcm93bCByZW5kZXJzIGNvcnJlY3RseSBpbiBJRTYuCiAqCiAqIENoYW5nZXMgaW4gMS4wLjMKICogLSBGaXhlZCBidWcgd2l0aCBvcHRpb25zIHBlcnNpc3RpbmcgYWNyb3NzIG5vdGlmaWNhdGlvbnMKICogLSBGaXhlZCB0aGVtZSBhcHBsaWNhdGlvbiBidWcKICogLSBTaW1wbGlmaWVkIHNvbWUgc2VsZWN0b3JzIGFuZCBtYW5pcHVsYXRpb25zLgogKiAtIEFkZGVkIGJlZm9yZU9wZW4gYW5kIGJlZm9yZUNsb3NlIGNhbGxiYWNrcwogKiAtIFJlb3JnYW5pemVkIHNvbWUgbGluZXMgb2YgY29kZSB0byBiZSBtb3JlIHJlYWRhYmxlCiAqIC0gUmVtb3ZlZCB1bm5lY2Vzc2FyeSB0aGlzLmRlZmF1bHRzIGNvbnRleHQKICogLSBJZiBjb3JuZXJzIHBsdWdpbiBpcyBwcmVzZW50LCBpdCdzIG5vdyBjdXN0b21pemFibGUuCiAqIC0gQ3VzdG9taXphYmxlIG9wZW4gYW5pbWF0aW9uLgogKiAtIEN1c3RvbWl6YWJsZSBjbG9zZSBhbmltYXRpb24uCiAqIC0gQ3VzdG9taXphYmxlIGFuaW1hdGlvbiBlYXNpbmcuCiAqIC0gQWRkZWQgY3VzdG9taXphYmxlIHBvc2l0aW9uaW5nICh0b3AtbGVmdCwgdG9wLXJpZ2h0LCBib3R0b20tbGVmdCwgYm90dG9tLXJpZ2h0LCBjZW50ZXIpCiAqCiAqIENoYW5nZXMgaW4gMS4wLjIKICogLSBBbGwgQ1NTIHN0eWxpbmcgaXMgbm93IGV4dGVybmFsLgogKiAtIEFkZGVkIGEgdGhlbWUgcGFyYW1ldGVyIHdoaWNoIHNwZWNpZmllcyBhIHNlY29uZGFyeSBjbGFzcyBmb3Igc3R5bGluZywgc3VjaAogKiAgIHRoYXQgbm90aWZpY2F0aW9ucyBjYW4gYmUgY3VzdG9taXplZCBpbiBhcHBlYXJhbmNlIG9uIGEgcGVyIG1lc3NhZ2UgYmFzaXMuCiAqIC0gTm90aWZpY2F0aW9uIGxpZmUgc3BhbiBpcyBub3cgY3VzdG9taXphYmxlIG9uIGEgcGVyIG1lc3NhZ2UgYmFzaXMuCiAqIC0gQWRkZWQgdGhlIGFiaWxpdHkgdG8gZGlzYWJsZSB0aGUgZ2xvYmFsIGNsb3NlciwgZW5hYmxlZCBieSBkZWZhdWx0LgogKiAtIEFkZGVkIGNhbGxiYWNrcyBmb3Igd2hlbiBhIG5vdGlmaWNhdGlvbiBpcyBvcGVuZWQgb3IgY2xvc2VkLgogKiAtIEFkZGVkIGNhbGxiYWNrIGZvciB0aGUgZ2xvYmFsIGNsb3Nlci4KICogLSBDdXN0b21pemFibGUgYW5pbWF0aW9uIHNwZWVkLgogKiAtIGpHcm93bCBub3cgc2V0IGl0c2VsZiB1cCBhbmQgdGVhcnMgaXRzZWxmIGRvd24uCiAqCiAqIENoYW5nZXMgaW4gMS4wLjE6CiAqIC0gUmVtb3ZlZCBkZXBlbmRlbmN5IG9uIG1ldGFkYXRhIHBsdWdpbiBpbiBmYXZvciBvZiAuZGF0YSgpCiAqIC0gTmFtZXNwYWNlZCBhbGwgZXZlbnRzCiAqLwooZnVuY3Rpb24oJCkgewoJLyoqIENvbXBhdGliaWxpdHkgaG9sZG92ZXIgZm9yIDEuOSB0byBjaGVjayBJRTYgKiovCgl2YXIgJGllNiA9IChmdW5jdGlvbigpewoJCXJldHVybiBmYWxzZSA9PT0gJC5zdXBwb3J0LmJveE1vZGVsICYmICQuc3VwcG9ydC5vYmplY3RBbGwgJiYgJC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlOwoJfSkoKTsKCgkvKiogakdyb3dsIFdyYXBwZXIgLSBFc3RhYmxpc2ggYSBiYXNlIGpHcm93bCBDb250YWluZXIgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciByZWxlYXNlcy4gKiovCgkkLmpHcm93bCA9IGZ1bmN0aW9uKCBtICwgbyApIHsKCQkvLyBUbyBtYWludGFpbiBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgdmVyc2lvbiB0aGF0IG9ubHkgc3VwcG9ydGVkIG9uZSBpbnN0YW5jZSB3ZSdsbCBjcmVhdGUgdGhlIGJhc2UgY29udGFpbmVyLgoJCWlmICggJCgnI2pHcm93bCcpLnNpemUoKSA9PT0gMCApCgkJCSQoJzxkaXYgaWQ9ImpHcm93bCI+PC9kaXY+JykuYWRkQ2xhc3MoIChvICYmIG8ucG9zaXRpb24pID8gby5wb3NpdGlvbiA6ICQuakdyb3dsLmRlZmF1bHRzLnBvc2l0aW9uICkuYXBwZW5kVG8oJ2JvZHknKTsKCgkJLy8gQ3JlYXRlIGEgbm90aWZpY2F0aW9uIG9uIHRoZSBjb250YWluZXIuCgkJJCgnI2pHcm93bCcpLmpHcm93bChtLG8pOwoJfTsKCgoJLyoqIFJhaXNlIGpHcm93bCBOb3RpZmljYXRpb24gb24gYSBqR3Jvd2wgQ29udGFpbmVyICoqLwoJJC5mbi5qR3Jvd2wgPSBmdW5jdGlvbiggbSAsIG8gKSB7CgkJaWYgKCAkLmlzRnVuY3Rpb24odGhpcy5lYWNoKSApIHsKCQkJdmFyIGFyZ3MgPSBhcmd1bWVudHM7CgoJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJLyoqIENyZWF0ZSBhIGpHcm93bCBJbnN0YW5jZSBvbiB0aGUgQ29udGFpbmVyIGlmIGl0IGRvZXMgbm90IGV4aXN0ICoqLwoJCQkJaWYgKCAkKHRoaXMpLmRhdGEoJ2pHcm93bC5pbnN0YW5jZScpID09PSB1bmRlZmluZWQgKSB7CgkJCQkJJCh0aGlzKS5kYXRhKCdqR3Jvd2wuaW5zdGFuY2UnLCAkLmV4dGVuZCggbmV3ICQuZm4uakdyb3dsKCksIHsgbm90aWZpY2F0aW9uczogW10sIGVsZW1lbnQ6IG51bGwsIGludGVydmFsOiBudWxsIH0gKSk7CgkJCQkJJCh0aGlzKS5kYXRhKCdqR3Jvd2wuaW5zdGFuY2UnKS5zdGFydHVwKCB0aGlzICk7CgkJCQl9CgoJCQkJLyoqIE9wdGlvbmFsbHkgY2FsbCBqR3Jvd2wgaW5zdGFuY2UgbWV0aG9kcywgb3IganVzdCByYWlzZSBhIG5vcm1hbCBub3RpZmljYXRpb24gKiovCgkJCQlpZiAoICQuaXNGdW5jdGlvbigkKHRoaXMpLmRhdGEoJ2pHcm93bC5pbnN0YW5jZScpW21dKSApIHsKCQkJCQkkKHRoaXMpLmRhdGEoJ2pHcm93bC5pbnN0YW5jZScpW21dLmFwcGx5KCAkKHRoaXMpLmRhdGEoJ2pHcm93bC5pbnN0YW5jZScpICwgJC5tYWtlQXJyYXkoYXJncykuc2xpY2UoMSkgKTsKCQkJCX0gZWxzZSB7CgkJCQkJJCh0aGlzKS5kYXRhKCdqR3Jvd2wuaW5zdGFuY2UnKS5jcmVhdGUoIG0gLCBvICk7CgkJCQl9CgkJCX0pOwoJCX0KCX07CgoJJC5leHRlbmQoICQuZm4uakdyb3dsLnByb3RvdHlwZSAsIHsKCgkJLyoqIERlZmF1bHQgSkdyb3dsIFNldHRpbmdzICoqLwoJCWRlZmF1bHRzOiB7CgkJCXBvb2w6CQkJCTAsCgkJCWhlYWRlcjoJCQkJJycsCgkJCWdyb3VwOgkJCQknJywKCQkJc3RpY2t5OgkJCQlmYWxzZSwKCQkJcG9zaXRpb246CQkJJ3RvcC1yaWdodCcsCgkJCWdsdWU6CQkJCSdhZnRlcicsCgkJCXRoZW1lOgkJCQknZGVmYXVsdCcsCgkJCXRoZW1lU3RhdGU6CQkJJ2hpZ2hsaWdodCcsCgkJCWNvcm5lcnM6CQkJJzEwcHgnLAoJCQljaGVjazoJCQkJMjUwLAoJCQlsaWZlOgkJCQkzMDAwLAoJCQljbG9zZUR1cmF0aW9uOgkJJ25vcm1hbCcsCgkJCW9wZW5EdXJhdGlvbjoJCSdub3JtYWwnLAoJCQllYXNpbmc6CQkJCSdzd2luZycsCgkJCWNsb3NlcjoJCQkJdHJ1ZSwKCQkJY2xvc2VUZW1wbGF0ZToJCScmdGltZXM7JywKCQkJY2xvc2VyVGVtcGxhdGU6CQknPGRpdj5bIGNsb3NlIGFsbCBdPC9kaXY+JywKCQkJbG9nOgkJCQlmdW5jdGlvbigpIHt9LAoJCQliZWZvcmVPcGVuOgkJCWZ1bmN0aW9uKCkge30sCgkJCWFmdGVyT3BlbjoJCQlmdW5jdGlvbigpIHt9LAoJCQlvcGVuOgkJCQlmdW5jdGlvbigpIHt9LAoJCQliZWZvcmVDbG9zZToJCWZ1bmN0aW9uKCkge30sCgkJCWNsb3NlOgkJCQlmdW5jdGlvbigpIHt9LAoJCQlhbmltYXRlT3BlbjoJCXsKCQkJCW9wYWNpdHk6CQknc2hvdycKCQkJfSwKCQkJYW5pbWF0ZUNsb3NlOgkJewoJCQkJb3BhY2l0eToJCSdoaWRlJwoJCQl9CgkJfSwKCgkJbm90aWZpY2F0aW9uczogW10sCgoJCS8qKiBqR3Jvd2wgQ29udGFpbmVyIE5vZGUgKiovCgkJZWxlbWVudDoJCQkJbnVsbCwKCgkJLyoqIEludGVydmFsIEZ1bmN0aW9uICoqLwoJCWludGVydmFsOgkJCQludWxsLAoKCQkvKiogQ3JlYXRlIGEgTm90aWZpY2F0aW9uICoqLwoJCWNyZWF0ZTogZnVuY3Rpb24oIG1lc3NhZ2UgLCBvcHRpb25zICkgewoJCQl2YXIgbyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zKTsKCgkJCS8qIFRvIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIDEuMjQgYW5kIGVhcmxpZXIsIGhvbm9yICdzcGVlZCcgaWYgdGhlIHVzZXIgaGFzIHNldCBpdCAqLwoJCQlpZiAodHlwZW9mIG8uc3BlZWQgIT09ICd1bmRlZmluZWQnKSB7CgkJCQlvLm9wZW5EdXJhdGlvbiA9IG8uc3BlZWQ7CgkJCQlvLmNsb3NlRHVyYXRpb24gPSBvLnNwZWVkOwoJCQl9CgoJCQl0aGlzLm5vdGlmaWNhdGlvbnMucHVzaCh7IG1lc3NhZ2U6IG1lc3NhZ2UgLCBvcHRpb25zOiBvIH0pOwoKCQkJby5sb2cuYXBwbHkoIHRoaXMuZWxlbWVudCAsIFt0aGlzLmVsZW1lbnQsbWVzc2FnZSxvXSApOwoJCX0sCgoJCXJlbmRlcjogZnVuY3Rpb24oIG4gKSB7CgkJCXZhciBzZWxmID0gdGhpczsKCQkJdmFyIG1lc3NhZ2UgPSBuLm1lc3NhZ2U7CgkJCXZhciBvID0gbi5vcHRpb25zOwoKCQkJLy8gU3VwcG9ydCBmb3IgalF1ZXJ5IHRoZW1lLXN0YXRlcywgaWYgdGhpcyBpcyBub3QgdXNlZCBpdCBkaXNwbGF5cyBhIHdpZGdldCBoZWFkZXIKCQkJby50aGVtZVN0YXRlID0gKG8udGhlbWVTdGF0ZSA9PT0gJycpID8gJycgOiAndWktc3RhdGUtJyArIG8udGhlbWVTdGF0ZTsKCgkJCXZhciBub3RpZmljYXRpb24gPSAkKCc8ZGl2Lz4nKQoJCQkJLmFkZENsYXNzKCdqR3Jvd2wtbm90aWZpY2F0aW9uICcgKyBvLnRoZW1lU3RhdGUgKyAnIHVpLWNvcm5lci1hbGwnICsgKChvLmdyb3VwICE9PSB1bmRlZmluZWQgJiYgby5ncm91cCAhPT0gJycpID8gJyAnICsgby5ncm91cCA6ICcnKSkKCQkJCS5hcHBlbmQoJCgnPGRpdi8+JykuYWRkQ2xhc3MoJ2pHcm93bC1jbG9zZScpLmh0bWwoby5jbG9zZVRlbXBsYXRlKSkKCQkJCS5hcHBlbmQoJCgnPGRpdi8+JykuYWRkQ2xhc3MoJ2pHcm93bC1oZWFkZXInKS5odG1sKG8uaGVhZGVyKSkKCQkJCS5hcHBlbmQoJCgnPGRpdi8+JykuYWRkQ2xhc3MoJ2pHcm93bC1tZXNzYWdlJykuaHRtbChtZXNzYWdlKSkKCQkJCS5kYXRhKCJqR3Jvd2wiLCBvKS5hZGRDbGFzcyhvLnRoZW1lKS5jaGlsZHJlbignZGl2LmpHcm93bC1jbG9zZScpLmJpbmQoImNsaWNrLmpHcm93bCIsIGZ1bmN0aW9uKCkgewoJCQkJCSQodGhpcykucGFyZW50KCkudHJpZ2dlcignakdyb3dsLmJlZm9yZUNsb3NlJyk7CgkJCQl9KQoJCQkJLnBhcmVudCgpOwoKCgkJCS8qKiBOb3RpZmljYXRpb24gQWN0aW9ucyAqKi8KCQkJJChub3RpZmljYXRpb24pLmJpbmQoIm1vdXNlb3Zlci5qR3Jvd2wiLCBmdW5jdGlvbigpIHsKCQkJCSQoJ2Rpdi5qR3Jvd2wtbm90aWZpY2F0aW9uJywgc2VsZi5lbGVtZW50KS5kYXRhKCJqR3Jvd2wucGF1c2UiLCB0cnVlKTsKCQkJfSkuYmluZCgibW91c2VvdXQuakdyb3dsIiwgZnVuY3Rpb24oKSB7CgkJCQkkKCdkaXYuakdyb3dsLW5vdGlmaWNhdGlvbicsIHNlbGYuZWxlbWVudCkuZGF0YSgiakdyb3dsLnBhdXNlIiwgZmFsc2UpOwoJCQl9KS5iaW5kKCdqR3Jvd2wuYmVmb3JlT3BlbicsIGZ1bmN0aW9uKCkgewoJCQkJaWYgKCBvLmJlZm9yZU9wZW4uYXBwbHkoIG5vdGlmaWNhdGlvbiAsIFtub3RpZmljYXRpb24sbWVzc2FnZSxvLHNlbGYuZWxlbWVudF0gKSAhPT0gZmFsc2UgKSB7CgkJCQkJJCh0aGlzKS50cmlnZ2VyKCdqR3Jvd2wub3BlbicpOwoJCQkJfQoJCQl9KS5iaW5kKCdqR3Jvd2wub3BlbicsIGZ1bmN0aW9uKCkgewoJCQkJaWYgKCBvLm9wZW4uYXBwbHkoIG5vdGlmaWNhdGlvbiAsIFtub3RpZmljYXRpb24sbWVzc2FnZSxvLHNlbGYuZWxlbWVudF0gKSAhPT0gZmFsc2UgKSB7CgkJCQkJaWYgKCBvLmdsdWUgPT0gJ2FmdGVyJyApIHsKCQkJCQkJJCgnZGl2LmpHcm93bC1ub3RpZmljYXRpb246bGFzdCcsIHNlbGYuZWxlbWVudCkuYWZ0ZXIobm90aWZpY2F0aW9uKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkKCdkaXYuakdyb3dsLW5vdGlmaWNhdGlvbjpmaXJzdCcsIHNlbGYuZWxlbWVudCkuYmVmb3JlKG5vdGlmaWNhdGlvbik7CgkJCQkJfQoKCQkJCQkkKHRoaXMpLmFuaW1hdGUoby5hbmltYXRlT3Blbiwgby5vcGVuRHVyYXRpb24sIG8uZWFzaW5nLCBmdW5jdGlvbigpIHsKCQkJCQkJLy8gRml4ZXMgc29tZSBhbnRpLWFsaWFzaW5nIGlzc3VlcyB3aXRoIElFIGZpbHRlcnMuCgkJCQkJCWlmICgkLnN1cHBvcnQub3BhY2l0eSA9PT0gZmFsc2UpCgkJCQkJCQl0aGlzLnN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnZmlsdGVyJyk7CgoJCQkJCQlpZiAoICQodGhpcykuZGF0YSgiakdyb3dsIikgIT09IG51bGwgKSAvLyBIYXBwZW5zIHdoZW4gYSBub3RpZmljYXRpb24gaXMgY2xvc2luZyBiZWZvcmUgaXQncyBvcGVuLgoJCQkJCQkJJCh0aGlzKS5kYXRhKCJqR3Jvd2wiKS5jcmVhdGVkID0gbmV3IERhdGUoKTsKCgkJCQkJCSQodGhpcykudHJpZ2dlcignakdyb3dsLmFmdGVyT3BlbicpOwoJCQkJCX0pOwoJCQkJfQoJCQl9KS5iaW5kKCdqR3Jvd2wuYWZ0ZXJPcGVuJywgZnVuY3Rpb24oKSB7CgkJCQlvLmFmdGVyT3Blbi5hcHBseSggbm90aWZpY2F0aW9uICwgW25vdGlmaWNhdGlvbixtZXNzYWdlLG8sc2VsZi5lbGVtZW50XSApOwoJCQl9KS5iaW5kKCdqR3Jvd2wuYmVmb3JlQ2xvc2UnLCBmdW5jdGlvbigpIHsKCQkJCWlmICggby5iZWZvcmVDbG9zZS5hcHBseSggbm90aWZpY2F0aW9uICwgW25vdGlmaWNhdGlvbixtZXNzYWdlLG8sc2VsZi5lbGVtZW50XSApICE9PSBmYWxzZSApCgkJCQkJJCh0aGlzKS50cmlnZ2VyKCdqR3Jvd2wuY2xvc2UnKTsKCQkJfSkuYmluZCgnakdyb3dsLmNsb3NlJywgZnVuY3Rpb24oKSB7CgkJCQkvLyBQYXVzZSB0aGUgbm90aWZpY2F0aW9uLCBsZXN0IGR1cmluZyB0aGUgY291cnNlIG9mIGFuaW1hdGlvbiBhbm90aGVyIGNsb3NlIGV2ZW50IGdldHMgY2FsbGVkLgoJCQkJJCh0aGlzKS5kYXRhKCdqR3Jvd2wucGF1c2UnLCB0cnVlKTsKCQkJCSQodGhpcykuYW5pbWF0ZShvLmFuaW1hdGVDbG9zZSwgby5jbG9zZUR1cmF0aW9uLCBvLmVhc2luZywgZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCAkLmlzRnVuY3Rpb24oby5jbG9zZSkgKSB7CgkJCQkJCWlmICggby5jbG9zZS5hcHBseSggbm90aWZpY2F0aW9uICwgW25vdGlmaWNhdGlvbixtZXNzYWdlLG8sc2VsZi5lbGVtZW50XSApICE9PSBmYWxzZSApCgkJCQkJCQkkKHRoaXMpLnJlbW92ZSgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSQodGhpcykucmVtb3ZlKCk7CgkJCQkJfQoJCQkJfSk7CgkJCX0pLnRyaWdnZXIoJ2pHcm93bC5iZWZvcmVPcGVuJyk7CgoJCQkvKiogT3B0aW9uYWwgQ29ybmVycyBQbHVnaW4gKiovCgkJCWlmICggby5jb3JuZXJzICE9PSAnJyAmJiAkLmZuLmNvcm5lciAhPT0gdW5kZWZpbmVkICkgJChub3RpZmljYXRpb24pLmNvcm5lciggby5jb3JuZXJzICk7CgoJCQkvKiogQWRkIGEgR2xvYmFsIENsb3NlciBpZiBtb3JlIHRoYW4gb25lIG5vdGlmaWNhdGlvbiBleGlzdHMgKiovCgkJCWlmICgkKCdkaXYuakdyb3dsLW5vdGlmaWNhdGlvbjpwYXJlbnQnLCBzZWxmLmVsZW1lbnQpLnNpemUoKSA+IDEgJiYKCQkJCSQoJ2Rpdi5qR3Jvd2wtY2xvc2VyJywgc2VsZi5lbGVtZW50KS5zaXplKCkgPT09IDAgJiYgdGhpcy5kZWZhdWx0cy5jbG9zZXIgIT09IGZhbHNlICkgewoJCQkJJCh0aGlzLmRlZmF1bHRzLmNsb3NlclRlbXBsYXRlKS5hZGRDbGFzcygnakdyb3dsLWNsb3NlciAnICsgdGhpcy5kZWZhdWx0cy50aGVtZVN0YXRlICsgJyB1aS1jb3JuZXItYWxsJykuYWRkQ2xhc3ModGhpcy5kZWZhdWx0cy50aGVtZSkKCQkJCQkuYXBwZW5kVG8oc2VsZi5lbGVtZW50KS5hbmltYXRlKHRoaXMuZGVmYXVsdHMuYW5pbWF0ZU9wZW4sIHRoaXMuZGVmYXVsdHMuc3BlZWQsIHRoaXMuZGVmYXVsdHMuZWFzaW5nKQoJCQkJCS5iaW5kKCJjbGljay5qR3Jvd2wiLCBmdW5jdGlvbigpIHsKCQkJCQkJJCh0aGlzKS5zaWJsaW5ncygpLnRyaWdnZXIoImpHcm93bC5iZWZvcmVDbG9zZSIpOwoKCQkJCQkJaWYgKCAkLmlzRnVuY3Rpb24oIHNlbGYuZGVmYXVsdHMuY2xvc2VyICkgKSB7CgkJCQkJCQlzZWxmLmRlZmF1bHRzLmNsb3Nlci5hcHBseSggJCh0aGlzKS5wYXJlbnQoKVswXSAsIFskKHRoaXMpLnBhcmVudCgpWzBdXSApOwoJCQkJCQl9CgkJCQkJfSk7CgkJCX0KCQl9LAoKCQkvKiogVXBkYXRlIHRoZSBqR3Jvd2wgQ29udGFpbmVyLCByZW1vdmluZyBvbGQgakdyb3dsIG5vdGlmaWNhdGlvbnMgKiovCgkJdXBkYXRlOiBmdW5jdGlvbigpIHsKCQkJJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ2Rpdi5qR3Jvd2wtbm90aWZpY2F0aW9uOnBhcmVudCcpLmVhY2goIGZ1bmN0aW9uKCkgewoJCQkJaWYgKCQodGhpcykuZGF0YSgiakdyb3dsIikgIT09IHVuZGVmaW5lZCAmJiAkKHRoaXMpLmRhdGEoImpHcm93bCIpLmNyZWF0ZWQgIT09IHVuZGVmaW5lZCAmJgoJCQkJCSgkKHRoaXMpLmRhdGEoImpHcm93bCIpLmNyZWF0ZWQuZ2V0VGltZSgpICsgcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCJqR3Jvd2wiKS5saWZlLCAxMCkpICA8IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgJiYKCQkJCQkkKHRoaXMpLmRhdGEoImpHcm93bCIpLnN0aWNreSAhPT0gdHJ1ZSAmJgoJCQkJCSgkKHRoaXMpLmRhdGEoImpHcm93bC5wYXVzZSIpID09PSB1bmRlZmluZWQgfHwgJCh0aGlzKS5kYXRhKCJqR3Jvd2wucGF1c2UiKSAhPT0gdHJ1ZSkgKSB7CgoJCQkJCS8vIFBhdXNlIHRoZSBub3RpZmljYXRpb24sIGxlc3QgZHVyaW5nIHRoZSBjb3Vyc2Ugb2YgYW5pbWF0aW9uIGFub3RoZXIgY2xvc2UgZXZlbnQgZ2V0cyBjYWxsZWQuCgkJCQkJJCh0aGlzKS50cmlnZ2VyKCdqR3Jvd2wuYmVmb3JlQ2xvc2UnKTsKCQkJCX0KCQkJfSk7CgoJCQlpZiAodGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCA+IDAgJiYKCQkJCSh0aGlzLmRlZmF1bHRzLnBvb2wgPT09IDAgfHwgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ2Rpdi5qR3Jvd2wtbm90aWZpY2F0aW9uOnBhcmVudCcpLnNpemUoKSA8IHRoaXMuZGVmYXVsdHMucG9vbCkgKQoJCQkJdGhpcy5yZW5kZXIoIHRoaXMubm90aWZpY2F0aW9ucy5zaGlmdCgpICk7CgoJCQlpZiAoJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ2Rpdi5qR3Jvd2wtbm90aWZpY2F0aW9uOnBhcmVudCcpLnNpemUoKSA8IDIgKSB7CgkJCQkkKHRoaXMuZWxlbWVudCkuZmluZCgnZGl2LmpHcm93bC1jbG9zZXInKS5hbmltYXRlKHRoaXMuZGVmYXVsdHMuYW5pbWF0ZUNsb3NlLCB0aGlzLmRlZmF1bHRzLnNwZWVkLCB0aGlzLmRlZmF1bHRzLmVhc2luZywgZnVuY3Rpb24oKSB7CgkJCQkJJCh0aGlzKS5yZW1vdmUoKTsKCQkJCX0pOwoJCQl9CgkJfSwKCgkJLyoqIFNldHVwIHRoZSBqR3Jvd2wgTm90aWZpY2F0aW9uIENvbnRhaW5lciAqKi8KCQlzdGFydHVwOiBmdW5jdGlvbihlKSB7CgkJCXRoaXMuZWxlbWVudCA9ICQoZSkuYWRkQ2xhc3MoJ2pHcm93bCcpLmFwcGVuZCgnPGRpdiBjbGFzcz0iakdyb3dsLW5vdGlmaWNhdGlvbiI+PC9kaXY+Jyk7CgkJCXRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7CgkJCQkkKGUpLmRhdGEoJ2pHcm93bC5pbnN0YW5jZScpLnVwZGF0ZSgpOwoJCQl9LCBwYXJzZUludCh0aGlzLmRlZmF1bHRzLmNoZWNrLCAxMCkpOwoKCQkJaWYgKCRpZTYpIHsKCQkJCSQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnaWU2Jyk7CgkJCX0KCQl9LAoKCQkvKiogU2h1dGRvd24gakdyb3dsLCByZW1vdmluZyBpdCBhbmQgY2xlYXJpbmcgdGhlIGludGVydmFsICoqLwoJCXNodXRkb3duOiBmdW5jdGlvbigpIHsKCQkJJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCdqR3Jvd2wnKQoJCQkJLmZpbmQoJ2Rpdi5qR3Jvd2wtbm90aWZpY2F0aW9uJykudHJpZ2dlcignakdyb3dsLmNsb3NlJykKCQkJCS5wYXJlbnQoKS5lbXB0eSgpCgkJCTsKCgkJCWNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CgkJfSwKCgkJY2xvc2U6IGZ1bmN0aW9uKCkgewoJCQkkKHRoaXMuZWxlbWVudCkuZmluZCgnZGl2LmpHcm93bC1ub3RpZmljYXRpb24nKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkkKHRoaXMpLnRyaWdnZXIoJ2pHcm93bC5iZWZvcmVDbG9zZScpOwoJCQl9KTsKCQl9Cgl9KTsKCgkvKiogUmVmZXJlbmNlIHRoZSBEZWZhdWx0cyBPYmplY3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBqR3Jvd2wgKiovCgkkLmpHcm93bC5kZWZhdWx0cyA9ICQuZm4uakdyb3dsLnByb3RvdHlwZS5kZWZhdWx0czsKCn0pKGpRdWVyeSk7"},{"meta":{"name":"ctrl-w.po","url":"https://raw.github.com/badconker/ctrl-w/release/translations/en/LC_MESSAGES/ctrl-w.po","ts":1544430113016,"mimetype":"text/plain"},"source":"bXNnaWQgIiIKbXNnc3RyICIiCiJQcm9qZWN0LUlkLVZlcnNpb246IENUUkwrV1xuIgoiUmVwb3J0LU1zZ2lkLUJ1Z3MtVG86IGh0dHA6Ly90d2QuaW8vZS8wZmRiMHdcbiIKIlBPVC1DcmVhdGlvbi1EYXRlOiAyMDE2LTEwLTAxIDA5OjIxKzAyMDBcbiIKIkxhbmd1YWdlOiBlblxuIgoiTUlNRS1WZXJzaW9uOiAxLjBcbiIKIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFxuIgoiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogOGJpdFxuIgoiWC1HZW5lcmF0b3I6IFBPRWRpdG9yLmNvbVxuIgoiUGx1cmFsLUZvcm1zOiBucGx1cmFscz0yOyBwbHVyYWw9KG4gIT0gMSk7XG4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6bXVzaCIKbXNnc3RyICIzMjUzNDg3NSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDb21tYW5kYW50IHN1cHLDg8KqbWUgZHUgRGFlZGFsdXMuIgptc2dzdHIgIlN1cHJlbWUgQ29tbWFuZGVyIG9mIHRoZSBEYWVkYWx1cy4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6amluX3N1Igptc2dzdHIgIjMyMjcwMTM1IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlNjaWVudGlmaXF1ZSBtaWxsw4PCqW5haXJlLiIKbXNnc3RyICJWaW50YWdlIEFzdHJvLVBoeXNpY2lzdC4gQWxsZWdlZGx5IGEgZGVzY2VuZGFudCBvZiBDb3Blcm5pY3VzLi4uIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmZyaWVkYSIKbXNnc3RyICIzMjYyMTM1NiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJHcmFuZCBhcmNoaXRlY3RlIGR1IERhZWRhbHVzLiIKbXNnc3RyICJHcmFuZCBBcmNoaXRlY3Qgb2YgdGhlIERhZWRhbHVzLiBIaXMga25vd2xlZGdlIG9mIHRoZSBzaGlwIGlzIHVubWF0Y2hlZC4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6a3Vhbl90aSIKbXNnc3RyICIzMjc3NzY2MSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJQc3ljaG9sb2d1ZSBEaWdpdGFsZSBhdXggYXRvdXRzIGNlcnRhaW5zLiIKbXNnc3RyICJBIERpZ2l0YWwgUHN5Y2hvbG9naXN0IGFuZCBvbmUtd29tYW4gZW5pZ21hIG1hY2hpbmUuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmphbmljZSIKbXNnc3RyICIzMjQ4ODI4MyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJIdW1vcmlzdGUgcGlsb3RlIGRlIGNoYXNzZSDDg8KgIHNlcyBoZXVyZXMuIgptc2dzdHIgIkFtYXRldXIgY29tZWRpYW4gYW5kIGVsaXRlIGZpZ2h0ZXIgcGlsb3QuIEJvcm4gdG8gZGVzdHJveSBIdW50ZXJzLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpyb2xhbmQiCm1zZ3N0ciAiMzIyNTU2MzMiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgojLCBmdXp6eQptc2dpZCAiRXhwbG9yYXRyaWNlIGRlIGwnRVhUUsODwopNRS4iCm1zZ3N0ciAiQW4gZXh0cmVtZSBleHBsb3JlciB3aXRoIGFuIGlycmF0aW9uYWwgZmVhciBvZiBiYWxsb29uIGFuaW1hbHMuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmh1YSIKbXNnc3RyICIzMjY0MTgzMSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJPZmZpY2llciBwcmluY2lwYWwgZGVzIENvbW11bmljYXRpb25zIGR1IERhZWRhbHVzLiIKbXNnc3RyICJDaGllZiBDb21tdW5pY2F0aW9ucyBPZmZpY2VyIGFuZCBmb3JtZXIgcG9saXRpY2FsIGFjdGl2aXN0LiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpwYW9sYSIKbXNnc3RyICIzMjQyMzE1NCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDaGVmIGRlIGxhIHPDg8KpY3VyaXTDg8KpIGR1IERhZWRhbHVzLiIKbXNnc3RyICJIZWFkIG9mIHNlY3VyaXR5IGFib2FyZCB0aGUgRGFlZGFsdXMuIEEgYmxhc3Rlci10b3RpbmcgcHN5Y2hvcGF0aC4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Y2hhbyIKbXNnc3RyICIzMjMwMDE4NiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJCaW9sb2dpc3RlIGRlIHJlbm9tbcODwqllIGludGVybmF0aW9uYWxlLCBwaW9ubmnDg8KocmUgZGFucyBsJ8ODwql0dWRlIGR1IE11c2guIgptc2dzdHIgIkludGVybmF0aW9uYWxseSByZW5vd25lZCBiaW9sb2dpc3QgYW5kIHBpb25lZXIgYWJkdWN0ZWQgZnJvbSBFYXJ0aC4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Zmlub2xhIgptc2dzdHIgIjIwNTA3NzA0IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkN1aXNpbmllciBsZSBwbHVzIGRhbmdlcmV1eCBkZSBsYSBnYWxheGllLiIKbXNnc3RyICJUaGUgbW9zdCBkYW5nZXJvdXMgY29vayBpbiBoaXN0b3J5LiBLZWVwIHlvdXIgZmluZ2VycyBvdXQgb2YgaGlzIHNvdXAhIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOnN0ZXBoZW4iCm1zZ3N0ciAiMTk2NTQ5NDEiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ2hlcmNoZXVyIGZydWdpdm9yZSBmbGV4aWJsZS4iCm1zZ3N0ciAiRmxleGlibGUgZnJ1Y3Rpdm9yb3VzIHJlc2VhcmNoZXIuIEJldHRlciBsaXZpbmcgdGhyb3VnaCBib3RhbnkhIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmlhbiIKbXNnc3RyICIzMDI0MjU1MCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJEZXJuaWVyIGVzcG9pciBkZSBsJ0h1bWFuaXTDg8KpLiIKbXNnc3RyICJFdmVyeW9uZSBvbiBib2FyZCBpcyBpbXBvcnRhbnQsIGJ1dCBzaGUgaXMgSHVtYW5pdHkncyBsYXN0IGhvcGUhIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmNodW4iCm1zZ3N0ciAiMzI1ODc5MzciCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiR8ODwqluaWUgZGUgbGEgcGh5c2lxdWUgcXVhbnRpcXVlIGbDg8KpbGlub3BoaWxlLiIKbXNnc3RyICJSZWNsdXNpdmUgY2F0LWxvdmluZyBxdWFudHVtIHBoeXNpY2lzdCBwcm9kaWd5IGFuZCBlbGVjdHJvbmljcyBnZW5pdXMuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOnJhbHVjYSIKbXNnc3RyICIzMjYwOTIwOCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJBcm1hdGV1ciBwaGlsYW50cm9waG9iZS4iCm1zZ3N0ciAiU2hpcC1vd25pbmcgY29tYmF0LXJlYWR5IGNhZmZlaW5lLWp1bmtpZS4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Z2lvZWxlIgptc2dzdHIgIjIwNjI5NzY2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkludmVzdGlnYXRyaWNlIGTDg8KpY2h1ZSBkZSBwcmVtaWVyIHBsYW4uIgptc2dzdHIgIkRlcG9zZWQgZmlyc3QtcmF0ZSBpbnZlc3RpZ2F0b3Igb24gdGhlIHJ1biBmcm9tIHRoZSBGZWRlcmF0aW9uLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDplbGVlc2hhIgptc2dzdHIgIjMyNzkwOTE2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlRlY2hub3BoaWxlIG1vdG9yaXPDg8KpLiIKbXNnc3RyICJEaXNpbGx1c2lvbmVkIG1vdG9yaXplZCB0ZWNobm9waGlsZSB3aXRoIGFuIHVuaGVhbHRoeSBkcm9uZSBmaXhhdGlvbi4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6dGVycmVuY2UiCm1zZ3N0ciAiMzIzMjMwMjEiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRmF5b3QgZGUgbGEgZsODwqlkw4PCqXJhdGlvbi4iCm1zZ3N0ciAiRmVkZXJhdGlvbiBib290LWxpY2tlciIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDphbmRpZSIKbXNnc3RyICIzMjQ4ODI4MyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJIw4PCqXJvcyBtYWxncsODwqkgbHVpLiIKbXNnc3RyICJBIHRydWUgaGVybyBpbiBzcGl0ZSBvZiBldmVyeXRoaW5nIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmRlcmVrIgptc2dzdHIgIjMyMzIzMDIxIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlZvdXMgbmUgdm91cyDDg8KqdGVzIHBhcyBjb25uZWN0w4PCqSBkZXB1aXMgMjRoLiBCb25uZSBjaGFuY2UgcG91ciBsYSBzdWl0ZS4uLiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiSW5hY3RpZiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRGVzY3JpcHRpb24gZ3JhbmQgaW5hY3RpZiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiR3JhbmQgaW5hY3RpZiIKbXNnc3RyICIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiVm91cyBmYWl0ZXMgcGFydGllIGR1IE11c2guIgptc2dzdHIgIllvdSBoYXZlIGpvaW5lZCB0aGUgTXVzaCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCiMsIGZ1enp5Cm1zZ2lkICJNdXNoIgptc2dzdHIgIk11c2ggaGVscCIKCiMuIFRyYW5zbGF0b3JzOiBkb21haW4gbmFtZQptc2dpZCAibXVzaC52ZyIKbXNnc3RyICJtdXNoLnR3aW5vaWQuY29tIgoKbXNnaWQgIkpvdWVyIgptc2dzdHIgIlBsYXkiCgptc2dpZCAiTW9uIGNvbXB0ZSIKbXNnc3RyICJNeSBhY2NvdW50IgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIENhc3RpbmdzIGlkCm1zZ2lkICJGb3J1bUNhc3RpbmdzSWQiCm1zZ3N0ciAiMTM0OTc2IgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIENhc3RpbmdzIGxhYmVsCm1zZ2lkICJDYXN0aW5ncyIKbXNnc3RyICJDYXN0aW5ncyIKCm1zZ2lkICJDbGFzc2VtZW50cyIKbXNnc3RyICJSYW5raW5nIgoKbXNnaWQgIkZvcnVtIgptc2dzdHIgIkZvcnVtIgoKbXNnaWQgIkFpZGUiCm1zZ3N0ciAiSGVscCIKCm1zZ2lkICJFeHDDg8KpcmllbmNlIgptc2dzdHIgIkV4cGVyaWVuY2UiCgptc2dpZCAiTWEgZmljaGUiCm1zZ3N0ciAiTXkgZmlsZSIKCm1zZ2lkICJNZXMgcsODwqlnbGFnZXMiCm1zZ3N0ciAiTXkgc2V0dGluZ3MiCgptc2dpZCAiTmV3cyIKbXNnc3RyICJOZXdzIgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIERpc2N1c3Npb24gaWQKbXNnaWQgIkZvcnVtRGlzY3Vzc2lvbklkIgptc2dzdHIgIjEwNDkwOSIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGxhYmVsCm1zZ2lkICJEaXNjdXNzaW9uIgptc2dzdHIgIkRpc2N1c3Npb24iCgojLiBUcmFuc2xhdG9yczogRm9ydW0gQWR2aWNlIGlkCm1zZ2lkICJGb3J1bUFkdmljZUlkIgptc2dzdHIgIjExMjIyMiIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBBZHZpY2UgbGFiZWwKbXNnaWQgIkVudHJhaWRlIgptc2dzdHIgIkFkdmljZSIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBMb3VuZ2UgaWQKbXNnaWQgIkZvcnVtTG91bmdlSWQiCm1zZ3N0ciAiMTEyMjE2IgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIExvdW5nZSBsYWJlbAptc2dpZCAiRMODwql0ZW50ZSIKbXNnc3RyICJMb3VuZ2UiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gT2ZmaWNlcnMgaWQKbXNnaWQgIkZvcnVtT2ZmaWNlcnNJZCIKbXNnc3RyICIxMDQ5MTgiCgptc2dpZCAiT2ZmaWNpZXJzIgptc2dzdHIgIk9mZmljZXJzIgoKbXNnaWQgIkFpZGUgTXVzaCIKbXNnc3RyICJNdXNoIGhlbHAiCgptc2dpZCAiUGF0Y2hsb2ciCm1zZ3N0ciAiUGF0Y2ggbG9nIgoKbXNnaWQgIlR1dG8gJTEiCm1zZ3N0ciAiVGlwcyBmb3IgJTEiCgojLiBUcmFuc2xhdG9yczogV2lraSB1cmwKbXNnaWQgImh0dHA6Ly93d3cudHdpbnBlZGlhLmNvbS9tdXNoIgptc2dzdHIgImh0dHA6Ly93d3cubXVzaHBlZGlhLmNvbS8iCgojLiBUcmFuc2xhdG9yczogV2lraSBmYXZpY29uIHVybAptc2dpZCAiaHR0cDovL3d3dy50d2lucGVkaWEuY29tL19tZWRpYS9mYXZpY29uLmljbyIKbXNnc3RyICJodHRwOi8vbXVzaHBlZGlhLmNvbS9mYXZpY29uLmljbyIKCm1zZ2lkICJUd2lucGVkaWEiCm1zZ3N0ciAiTXVzaHBlZGlhIgoKbXNnaWQgIm11c2hfZ2FtZV9pZCIKbXNnc3RyICI3NyIKCiMsIGZ1enp5Cm1zZ2lkICJGb3J1bUZEU0lkIgptc2dzdHIgIkZvcnVtIgoKbXNnaWQgIk1hZ2lzdHJhdHVyZSIKbXNnc3RyICIiCgptc2dpZCAiTm9tIGNvbXBsZXQiCm1zZ3N0ciAiRnVsbCBuYW1lIgoKbXNnaWQgIk3Dg8KpbW9pcmUiCm1zZ3N0ciAiIgoKbXNnaWQgIk5leHVzIgptc2dzdHIgIk5leHVzIgoKbXNnaWQgIk1lbWJyZXMiCm1zZ3N0ciAiIgoKbXNnaWQgIkhpc3RvcmlxdWUiCm1zZ3N0ciAiIgoKbXNnaWQgIm9rIgptc2dzdHIgIm9rIgoKIywgZnV6enkKbXNnaWQgInZhbGlkZXIiCm1zZ3N0ciAidmFsaWRhdGUiCgojLCBmdXp6eQptc2dpZCAiYW5udWxlciIKbXNnc3RyICJjYW5jZWwiCgojLCBmdXp6eQptc2dpZCAiU2Fpc2lzc2V6IGxlIHRpdHJlIGR1IG1lc3NhZ2UiCm1zZ3N0ciAiRW50ZXIgdGhlIG1lc3NhZ2UgdGl0bGUiCgptc2dpZCAiQXN0cm9wYWQgc3luY2hyb25pc8ODwqkuIgptc2dzdHIgIkFzdHJvcGFkIHN5bmNocm9uaXNlZC4iCgptc2dpZCAiKH4lMSBqb3VyKSIKbXNnaWRfcGx1cmFsICIofiUxIGpvdXJzKSIKbXNnc3RyWzBdICIofiUxIGRheSkiCm1zZ3N0clsxXSAiKH4lMSBkYXlzKSIKCm1zZ2lkICJJbmZvcyBkdSBqb3VldXIgbWlzZXMgw4PCoCBqb3VyLiIKbXNnc3RyICJQbGF5ZXIgaW5mb3JtYXRpb24gaGF2ZSBiZWVuIHVwZGF0ZWQuIgoKbXNnaWQgIkFjdGl2ZXIgbGEgbWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8ODwqllIGRlcyBtZXNzYWdlcyAoYm9yZHVyZSArIGNvdWxldXIgbm9tICsgaW1hZ2UgZGUgZm9uZCkuIgptc2dzdHIgIlVzZSBjdXN0b20gc3R5bGluZyBmb3IgbWVzc2FnZXMgKGNvbG9yZWQgYm9yZGVyIGFuZCBuYW1lICsgYmFja2dyb3VuZCBpbWFnZSkiCgptc2dpZCAiU2ltcGxpZmllciBsYSBtaXNlIGVuIGZvcm1lIHBlcnNvbm5hbGlzw4PCqWUgZGVzIG1lc3NhZ2VzIChzdXBwcmVzc2lvbiBkZSBsJ2ltYWdlIGRlIGZvbmQpLiIKbXNnc3RyICJTaW1wbGlmeSBjdXN0b20gc3R5bGluZyAoZG9uJ3QgZGlzcGxheSBiYWNrZ3JvdW5kIGltYWdlcykiCgptc2dpZCAiQWZmaWNoZXIgbGUgbG9nbyBNdXNoIGF1IGRlc3N1cyBkZXMgb25nbGV0cy4iCm1zZ3N0ciAiRGlzcGxheSBNdXNoIGxvZ28gYWJvdmUgdGhlIHRhYnMiCgptc2dpZCAiU8ODwqlwYXJlciBsZXMgcHJvamV0cyAvIHJlY2hlcmNoZXMgLyBwaWxncmVkIHNvdXMgbGEgem9uZSBkZSBqZXUuIgptc2dzdHIgIkFkZCBsaW5lIGJyZWFrcyBiZXR3ZWVuIE5FUk9OIHByb2plY3RzLCByZXNlYXJjaCBwcm9qZWN0cyBhbmQgUGlsZ3JlZCIKCm1zZ2lkICJQbHVzIGQnb3B0aW9ucyBkaXNwb25pYmxlcyBwcm9jaGFpbmVtZW50LiIKbXNnc3RyICJNb3JlIG9wdGlvbnMgd2lsbCBiZSBhdmFpbGFibGUgc29vbi4iCgptc2dpZCAiTsODwqljZXNzaXRlIHVuIHJlY2hhcmdlbWVudCBkZSBsYSBwYWdlLiIKbXNnc3RyICJQYWdlIHJlbG9hZCBuZWVkZWQuIgoKbXNnaWQgIlZpZGVyIGxlIGNhY2hlIGR1IHNjcmlwdCIKbXNnc3RyICJFbXB0eSBzY3JpcHQncyBjYWNoZSIKCm1zZ2lkICJDZSBib3V0b24gdm91cyBwZXJtZXQgZGUgdmlkZXIgbGUgY2FjaGUgZHUgc2NyaXB0IHBvdXIsIHBhciBleGVtcGxlLCBwcmVuZHJlIGVuIGNvbXB0ZSB0b3V0IGRlIHN1aXRlIHZvdHJlIG1vZGUgT3Igb3UgZm9yY2VyIHVuZSB2w4PCqXJpZmljYXRpb24gZGUgbWlzZSDDg8KgIGpvdXIuIEEgdXRpbGlzZXIgYXZlYyBwYXJjaW1vbmllIHN2cC4iCm1zZ3N0ciAiVGhpcyBidXR0b24gYWxsb3dzIHlvdSB0byBlbXB0eSB0aGUgc2NyaXB0J3MgY2FjaGUgaW4gb3JkZXIgdG8sIGZvciBpbnN0YW5jZSwgaW1tZWRpYXRlbHkgdGFrZSBpbnRvIGFjY291bnQgR29sZCBtb2RlIG9yIGZvcmNlIGFuIHVwZGF0ZSBjaGVjay4gUGxlYXNlIGRvIG5vdCBvdmVydXNlLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDeWNsZSBIdW1haW4iCm1zZ3N0ciAiSHVtYW4gQ3ljbGUiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiUmVjaGVyY2hlIE1pbmV1ciIKbXNnc3RyICJNaW5vciBSZXNlYXJjaCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZWNoZXJjaGUiCm1zZ3N0ciAiUmVzZWFyY2giCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRMODwqlmZW5zZXVyIER1IERhZWRhbHVzIgptc2dzdHIgIkRlZmVuZGVyIG9mIHRoZSBEYWVkYWx1cyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJFeHDDg8KpZGl0aW9uIgptc2dzdHIgIkV4cGVkaXRpb24iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTm91dmVsIFBsYW7Dg8KodGUiCm1zZ3N0ciAiTmV3IFBsYW5ldCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJOb3V2ZWxsZSBQbGFuw4PCqHRlIgptc2dzdHIgIk5ldyBQbGFuZXQiCgptc2dpZCAiR2FnbsODwqkgw4PCoCBjaGFxdWUgcGxhbsODwqh0ZSAoYXJyaXbDg8KpZSBlbiBvcmJpdGUpLiIKbXNnc3RyICJFYXJuZWQgZm9yIGV2ZXJ5IHBsYW5ldCAoYXJyaXZpbmcgaW50byBvcmJpdCkuIgoKbXNnaWQgIkdhZ27Dg8KpIMODwqAgY2hhcXVlIGV4cGxvcmF0aW9uLiIKbXNnc3RyICJFYXJuZWQgZm9yIGV2ZXJ5IGV4cGxvcmF0aW9uLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZWNoZXJjaGUgTWluZXVyZSIKbXNnc3RyICJNaW5vciBSZXNlYXJjaCIKCm1zZ2lkICJHYWduw4PCqSBsb3JzcXVlIGxhIHJlY2hlcmNoZSBlc3QgdGVybWluw4PCqWUgYWluc2kgcXUndW5lIHNlY29uZGUgZm9pcyBsb3JzIGR1IHJldG91ciBzdXIgU09MLiIKbXNnc3RyICJFYXJuZWQgd2hlbiB0aGUgcmVzZWFyY2ggaXMgZmluaXNoZWQsIGFuZCBhIHNlY29uZCB0aW1lIHdoZW4gcmV0dXJuaW5nIHRvIFNPTC4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRMODwqlmZW5zZXVyIGR1IERhZWRhbHVzIgptc2dzdHIgIkRlZmVuZGVyIG9mIHRoZSBEYWVkYWx1cyIKCm1zZ2lkICJHYWduw4PCqSBwb3VyIGNoYXF1ZSBIdW50ZXIgYWJhdHR1LiIKbXNnc3RyICJFYXJuZWQgZm9yIGV2ZXJ5IGRlc3Ryb3llZCBIdW50ZXIuIgoKbXNnaWQgIkdhZ27Dg8KpIMODwqAgY2hhcXVlIGN5Y2xlLiIKbXNnc3RyICJFYXJuZWQgZm9yIGV2ZXJ5IGN5Y2xlLiIKCiMsIGZ1enp5Cm1zZ2lkICJDbGlxdWV6IHBvdXIgcGx1cyBkJ2luZm9ybWF0aW9ucyIKbXNnc3RyICJDbGljayBoZXJlIGZvciBtb3JlIGluZm9ybWF0aW9uLiIKCm1zZ2lkICJQYXJ0YWdlciBzb24gw4PCqXRhdCBkZSBzYW50w4PCqSIKbXNnc3RyICJTaGFyZSBoZWFsdGgiCgptc2dpZCAiPHA+SW5zw4PCqHJlIHZvdHJlIG5vbWJyZSBkZSBwb2ludHMgZGUgdmllIGV0IGRlIG1vcmFsIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBleGFtcGxlPC9wPiIKbXNnc3RyICI8cD5JbnNlcnRzIGhlYWx0aCBwb2ludHMgYW5kIG1vcmFsZSBwb2ludHMgaW4gYWN0aXZlIHRleHQgYXJlYSwgYXMgZm9sbG93czo8L3A+PHA+VE9ETzogZXhhbXBsZTwvcD4iCgptc2dpZCAiUGFydGFnZXIgbCdpbnZlbnRhaXJlIgptc2dzdHIgIlNoYXJlIHNoZWxmIGNvbnRlbnQiCgptc2dpZCAiSW5zw4PCqHJlIGwnaW52ZW50YWlyZSBkZSBsYSBwacODwqhjZSBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PHN0cm9uZz5Db3Vsb2lyIGNlbnRyYWwgOjwvc3Ryb25nPiA8aT5Db21iaW5haXNvbjwvaT4sIDxpPkNvdXRlYXU8L2k+LCA8aT5Nw4PCqWRpa2l0PC9pPiwgPGk+RXh0aW5jdGV1cjwvaT48L3A+PHA+PHN0cm9uZz5QYXJ0YWdlIGF1c3NpIHN1ciBBc3Ryb3BhZCBzaSBjZWx1aS1jaSBlc3QgaW5zdGFsbMODwqkuPC9zdHJvbmc+PC9wPiIKbXNnc3RyICJJbnNlcnRzIHJvb20gaW52ZW50b3J5IGluIHRoZSBhY3RpdmUgdGV4dCBhcmVhLCBhcyBmb2xsb3dzOjwvcD48cD48c3Ryb25nPkNlbnRyYWwgQ29ycmlkb3I6PC9zdHJvbmc+IDxpPlNwYWNlc3VpdDwvaT4sIDxpPktuaWZlPC9pPiwgPGk+TWVkaWtpdDwvaT4sIDxpPkV4dGluZ3Vpc2hlcjwvaT48L3A+PHA+PHN0cm9uZz5BbHNvIHNoYXJlcyBvbiBBc3Ryb3BhZCBpZiBpdCdzIGluc3RhbGxlZC48L3N0cm9uZz48L3A+IgoKbXNnaWQgIlBhcnRhZ2VyIGwnw4PCqXRhdCBkZXMgcGxhbnRlcyIKbXNnc3RyICJTaGFyZSBzdGF0ZSBvZiBwbGFudHMiCgptc2dpZCAiPHA+SW5zw4PCqHJlIGwnw4PCqXRhdCBkZXMgcGxhbnRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLjwvcD48cD5UT0RPOiBFeGVtcGxlPC9wPiIKbXNnc3RyICI8cD5JbnNlcnRzIHN0YXRlIG9mIHBsYW50cyBpbiBhY3RpdmUgdGV4dCBhcmVhLjwvcD48cD5UT0RPOiBFeGFtcGxlPC9wPiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcHJvamV0cyIKbXNnc3RyICJTaGFyZSBwcm9qZWN0cyIKCm1zZ2lkICJJbnPDg8KocmUgbGEgbGlzdGUgZGUgcHJvamV0cyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGR1IHByb2pldDwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkdSBwcm9qZXQ8YnIvPkJvbnVzIDogPGk+VGlyZXVyPC9pPiwgPGk+UGlsb3RlPC9pPjwvbGk+Igptc2dzdHIgIkluc2VydHMgcHJvamVjdCBsaXN0IGluIGFjdGl2ZSB0ZXh0IGFyZWEsIGFzIGZvbGxvd3M6PC9wPjxwPjxsaT48c3Ryb25nPlByb2plY3QgTmFtZTwvc3Ryb25nPiAtIDAlPGJyLz5Qcm9qZWN0IERlc2NyaXB0aW9uPGJyLz5Cb251czogPGk+U2hvb3RlcjwvaT4sIDxpPlBpbG90PC9pPjwvbGk+PGxpPjxzdHJvbmc+UHJvamVjdCBOYW1lPC9zdHJvbmc+IC0gMCU8YnIvPlByb2plY3QgRGVzY3JpcHRpb248YnIvPkJvbnVzOiA8aT5TaG9vdGVyPC9pPiwgPGk+UGlsb3Q8L2k+PC9saT48bGk+PHN0cm9uZz5Qcm9qZWN0IE5hbWU8L3N0cm9uZz4gLSAwJTxici8+UHJvamVjdCBEZXNjcmlwdGlvbjxici8+Qm9udXM6IDxpPlNob290ZXI8L2k+LCA8aT5QaWxvdDwvaT48L2xpPiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcmVjaGVyY2hlcyIKbXNnc3RyICJTaGFyZSByZXNlYXJjaGVzIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSByZWNoZXJjaGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT4iCm1zZ3N0ciAiSW5zZXJ0cyByZXNlYXJjaCBsaXN0IGluIGFjdGl2ZSB0ZXh0IGFyZWEsIGFzIGZvbGxvd3M6PC9wPjxwPjxsaT48c3Ryb25nPlJlc2VhcmNoIE5hbWU8L3N0cm9uZz4gLSAwJTxici8+UmVzZWFyY2ggRGVzY3JpcHRpb248YnIvPkJvbnVzOiA8aT5CaW9sb2dpc3Q8L2k+LCA8aT5NZWRpYzwvaT48L2xpPjxsaT48c3Ryb25nPlJlc2VhcmNoIE5hbWU8L3N0cm9uZz4gLSAwJTxici8+UmVzZWFyY2ggRGVzY3JpcHRpb248YnIvPkJvbnVzOiA8aT5CaW9sb2dpc3Q8L2k+LCA8aT5NZWRpYzwvaT48L2xpPjxsaT48c3Ryb25nPlJlc2VhcmNoIE5hbWU8L3N0cm9uZz4gLSAwJTxici8+UmVzZWFyY2ggRGVzY3JpcHRpb248YnIvPkJvbnVzOiA8aT5CaW9sb2dpc3Q8L2k+LCA8aT5NZWRpYzwvaT48L2xpPiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGFyYW3Dg8KodHJlcyBCSU9TIgptc2dzdHIgIlNoYXJlIEJJT1MgcGFyYW1ldGVycyIKCm1zZ2lkICJJbnPDg8KocmUgbGEgbGlzdGUgZGUgcGFyYW3Dg8KodHJlcyBCSU9TIE5lcm9uIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBhcGVyw4PCp3UiCm1zZ3N0ciAiSW5zZXJ0cyBsaXN0IG9mIE5lcm9uIEJJT1MgcGFyYW1ldGVycyBpbiBhY3RpdmUgdGV4dCBhcmVhLCBhcyBmb2xsb3dzOiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGxhbsODwqh0ZXMiCm1zZ3N0ciAiU2hhcmUgcGxhbmV0cyIKCm1zZ2lkICI8cD5JbnPDg8KocmUgbGVzIGTDg8KpdGFpbHMgZGVzIHBsYW7Dg8KodGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUuPC9wPjxwPlRPRE86IEV4ZW1wbGU8L3A+Igptc2dzdHIgIjxwPkluc2VydHMgcGxhbmV0IGRldGFpbHMgaW4gYWN0aXZlIHRleHQgYXJlYS48L3A+PHA+VE9ETzogRXhlbXBsZTwvcD4iCgptc2dpZCAiSW5zw4PCqXJlciB1biBzbWlsZXkiCm1zZ3N0ciAiSW5zZXJ0IGEgc21pbGV5IgoKbXNnaWQgIkJpZW50w4PCtHQgZGlzcG9uaWJsZS4iCm1zZ3N0ciAiQXZhaWxhYmxlIHNvb24iCgptc2dpZCAiVmlkZXIgbGEgem9uZSBkZSB0ZXh0ZS4iCm1zZ3N0ciAiRW1wdHkgdGV4dCBhcmVhLiIKCm1zZ2lkICJGZXJtZXIgbGEgem9uZSBkZSB0ZXh0ZS4iCm1zZ3N0ciAiQ2xvc2UgdGV4dCBhcmVhLiIKCm1zZ2lkICJPdXZyaXIgbGUgbWFuYWdlci4iCm1zZ3N0ciAiT3BlbiBtYW5hZ2VyLiIKCm1zZ2lkICJWZXJzaW9uICIKbXNnc3RyICJWZXJzaW9uIgoKbXNnaWQgIk1ldHRyZSDDg8KgIGpvdXIiCm1zZ3N0ciAiVXBkYXRlIgoKbXNnaWQgIlBvdXIgZmluYWxpc2VyIGxhIG1pc2Ugw4PCoCBqb3VyLCBhcHLDg8KocyBhdm9pciBpbnN0YWxsw4PCqSBsZSBzY3JpcHQsIHZldWlsbGV6IGNsaXF1ZXIgc3VyIGxlIGJvdXRvbiBjaS1kZXNzb3VzLiIKbXNnc3RyICJUbyBmaW5hbGlzZSB0aGUgdXBkYXRlLCBwbGVhc2UgY2xpY2sgdGhlIGJ1dHRvbiBhZnRlciBpbnN0YWxsaW5nIHRoZSBzY3JpcHQuIgoKbXNnaWQgIkZpbmFsaXNlciBsYSBtaXNlIMODwqAgam91ciIKbXNnc3RyICJGaW5hbGlzZSB1cGRhdGUiCgptc2dpZCAiRGVybmnDg8KocmUgdmVyc2lvbiBkZSBDVFJMK1cgaW5zdGFsbMODwqllICglMSkgOiIKbXNnc3RyICJMYXRlc3QgdmVyc2lvbiBvZiBDVFJMK1cgd2FzIGluc3RhbGxlZCAoJTEpOiIKCm1zZ2lkICJUcsODwqhzIGJpZW4sIG1lcmNpICEiCm1zZ3N0ciAiT2siCgptc2dpZCAiYXBwcmVudHJvbiIKbXNnc3RyICJtYWdlIGJvb2siCgptc2dpZCAiY2hhcmdlcyIKbXNnc3RyICJsb2FkcyIKCm1zZ2lkICJ2aWRlIgptc2dzdHIgImVtcHR5IgoKbXNnaWQgImNhbcODwqlyYSIKbXNnc3RyICJjYW1lcmEiCgptc2dpZCAiZHJvbmUiCm1zZ3N0ciAiZHJvbmUiCgptc2dpZCAicGxhbnRlcyIKbXNnc3RyICJwbGFudHMiCgptc2dpZCAibWFsYWRlIgptc2dzdHIgImRpc2Vhc2VkIgoKbXNnaWQgInNvaWYiCm1zZ3N0ciAidGhpcnN0eSIKCm1zZ2lkICJkZXNzw4PCqWNow4PCqSIKbXNnc3RyICJkcnkiCgptc2dpZCAiUkFTIgptc2dzdHIgIm5vdGhpbmcgdG8gcmVwb3J0IgoKbXNnaWQgIlByb2pldHMiCm1zZ3N0ciAiUHJvamVjdHMiCgptc2dpZCAiUmVjaGVyY2hlcyIKbXNnc3RyICJSZXNlYXJjaGVzIgoKbXNnaWQgIlBsYW7Dg8KodGVzIgptc2dzdHIgIlBsYW5ldHMiCgptc2dpZCAiKE5vcmR8RXN0fE91ZXN0fFN1ZCkiCm1zZ3N0ciAiKE5vcnRofEVhc3R8V2VzdHxTb3V0aCkiCgptc2dpZCAiY2FzZXMiCm1zZ3N0ciAiIgoKIywgZnV6enkKbXNnaWQgIlBhcmFtw4PCqHRyZXMgQklPUzoiCm1zZ3N0ciAiU2hhcmUgQklPUyBwYXJhbWV0ZXJzIgoKIywgZnV6enkKbXNnaWQgIkNvbW11bmljYXRpb25zOiIKbXNnc3RyICJDb21tdW5pY2F0aW9uczoiCgojLCBmdXp6eQptc2dpZCAiRMODwqljb2RhZ2U6ICIKbXNnc3RyICJEZWNvZGluZzogIgoKIywgZnV6enkKbXNnaWQgIkJhc2UocykgZMODwqljb2TDg8KpZShzKTogIgptc2dzdHIgIkRlY29kZWQgYmFzZShzKTogIgoKIywgZnV6enkKbXNnaWQgIkJhc2UocykgcGVyZHVlKHMpOiAiCm1zZ3N0ciAiTG9zdCBiYXNlKHMpOiAiCgptc2dpZCAiQ29uc29tbWFibGVzIDoiCm1zZ3N0ciAiQ29uc3VtbWFibGVzOiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuIChDb25zdW1tYWJsZXMgZGVzY3JpcHRpb24pCm1zZ2lkICJHdcODwqlyaWUgbGEgbWFsYWRpZSIKbXNnc3RyICJDdXJlcyBkaXNlYXNlIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikKbXNnaWQgInNhdGnDg8KpdMODwqkiCm1zZ3N0ciAic2F0aXNmYWN0aW9uIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikKbXNnaWQgIlByb3ZvcXVlIGxhIG1hbGFkaWUiCm1zZ3N0ciAiQ2F1c2VzIGRpc2Vhc2UiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLiAoQ29uc3VtbWFibGVzIGRlc2NyaXB0aW9uKQptc2dpZCAiSW1ww4PCqXJpc3NhYmxlIgptc2dzdHIgIk5vbi1wZXJpc2hhYmxlIgoKbXNnaWQgIlRyaW9tcGhlIHJldG91ciBzdXIgc29sIgptc2dzdHIgIkdsb3J5IG9uIFJldHVybiB0byBTb2w6IgoKbXNnaWQgIlJldG91ciBzdXIgU29sIDoiCm1zZ3N0ciAiUmV0dXJuIHRvIFNvbDoiCgptc2dpZCAiQm9udXMgcmVjaGVyY2hlcyA6ICIKbXNnc3RyICJbQm9udXNdIFJlc2VhcmNoOiIKCm1zZ2lkICJNYWx1cyBtdXNoIGVuIHZpZSA6ICIKbXNnc3RyICJbUGVuYWx0eV0gTGl2ZSBNdXNoOiIKCm1zZ2lkICJUb3RhbCA6Igptc2dzdHIgIlRvdGFsOiIKCm1zZ2lkICJOZSB0aWVudCBwYXMgY29tcHRlIGRlcyBtdXNocyBhbm9ueW1lcy4iCm1zZ3N0ciAiSWdub3JlcyBtdXNocyB3aXRoIGFub255bXVzaCBza2lsbC4iCgptc2dpZCAiw4PCoCBsJ2luc3RhbnQiCm1zZ3N0ciAiIgoKbXNnaWQgIkNoYW4gSVJDIgptc2dzdHIgIklSQyBDaGFuIgoKbXNnaWQgIlZlbmV6IGRpc2N1dGVyIHN1ciBJUkMgYXZlYyBsZXMgYXV0cmVzIHV0aWxpc2F0ZXVycyBkdSBzY3JpcHQuIFx0XHRcdFZvdXMgcG91cnJleiDDg8KpZ2FsZW1lbnQgeSB0cm91dmVyIGRlIGwnYWlkZSBvdSBmYWlyZSBkZXMgc3VnZ2VzdGlvbnMuPC9wPjxwPjxzdHJvbmc+Q2hhbiAjY3RybHcgc3VyIFF1YWtlbmV0PC9zdHJvbmc+Igptc2dzdHIgIkNvbWUgY2hhdCBvbiBJUkMgd2l0aCBvdGhlciBzY3JpcHQgdXNlcnMuIFx0XHRcdFlvdSBjYW4gYWxzbyBmaW5kIGhlbHAgb3Igb2ZmZXIgYWR2aWNlPC9wPjxwPjxzdHJvbmc+Q2hhbiAjY3RybHcgb24gUXVha2VuZXQ8L3N0cm9uZz4iCgptc2dpZCAiVG9waWMgKEZvcnVtIE11c2gpIgptc2dzdHIgIlRvcGljIChNdXNoIEZvcnVtKSIKCiMuIFRyYW5zbGF0b3JzOiBTY3JpcHQgdG9waWMgKE11c2ggZm9ydW0pCm1zZ2lkICJodHRwOi8vdHdkLmlvL2UvMGZkYjB3Igptc2dzdHIgImh0dHA6Ly90d2QuaW8vZS92ZXpTMGciCgojLCBmdXp6eQptc2dpZCAiQ29udHJpYnV0ZXVycyA6ICIKbXNnc3RyICJDb250cmlidXRvcnM6IgoKbXNnaWQgIlRyYWR1Y3RldXJzIDogIgptc2dzdHIgIlRyYW5zbGF0b3JzOiAiCgojLCBmdXp6eQptc2dpZCAiU2NyaXB0IGTDg8KpdmVsb3Bww4PCqSBwYXIgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvODI5Nyc+a2lsbDB1PC9hPiwgbWFpbnRlbnUgcGFyIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzEyNDQxNDMnPmJhZGNvbmtlcjwvYT48YnIvPkxlIGxvZ28sIGxlcyBpbWFnZXMgKG1pc2UgZW4gZm9ybWUgcGVyc29ubmFsaXPDg8KpZSBkZXMgbWVzc2FnZXMpIGV0IGxlIGRlc2lnbiBkdSBzaXRlIHdlYiBvbnQgw4PCqXTDg8KpIGZhaXRzIHBhciA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci8yOTkyMDUyJz5HbnV4PC9hPi48YnIvPiIKbXNnc3RyICJTY3JpcHQgZGV2ZWxvcGVkIGJ5IDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzgyOTcnPmtpbGwwdTwvYT4sIG1haW50YWluZWQgYnkgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMTI0NDE0Myc+YmFkY29ua2VyPC9hPjxici8+VGhlIGxvZ28sIGltYWdlcyAoY3VzdG9tIG1lc3NhZ2Ugc3R5bGluZykgYW5kIHdlYnNpdGUgZGVzaWduIGJ5IDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzI5OTIwNTInPkdudXg8L2E+Ljxicj5Db250cmlidXRvcnMgOiA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci84MDExNTY1Jz5OaWdodEV4Y2Vzc2l2ZTwvYT48YnIvPlRyYW5zbGF0b3JzIDogPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvNzg0NTY3MSc+QXZpc3RldzwvYT48YnI+IgoKbXNnaWQgIlJldG91ciBhdSBqZXUiCm1zZ3N0ciAiQmFjayB0byBnYW1lIgoKbXNnaWQgIkNsw4PCqSA6Igptc2dzdHIgIktleTogIgoKIywgZnV6enkKbXNnaWQgIkNvbGxleiB2b3RyZSBjbMODwqkgaWNpIgptc2dzdHIgIkNvcHkgeW91ciBrZXkgaGVyZSIKCiMsIGZ1enp5Cm1zZ2lkICJHw4PCqW7Dg8KpcmVyIHVuZSBub3V2ZWxsZSBjbMODwqkiCm1zZ3N0ciAiR2VuZXJhdGUgYSBuZXcga2V5IgoKIywgZnV6enkKbXNnaWQgIlN1cHByaW1lciBsYSBjbMODwqkiCm1zZ3N0ciAiRGVsZXRlIHRoZSBrZXkiCgojLCBmdXp6eQptc2dpZCAiU2kgdm91cyBzdXBwcmltZXogbGEgY2zDg8KpLCB2b3VzIG5lIHBvdXJyZXogcGx1cyBzeW5jaHJvbmlzZXIgdm9zIGRvbm7Dg8KpZXMsIHZvdWxleiB2b3VzIGNvbnRpbnVlciA/Igptc2dzdHIgIklmIHlvdSByZW1vdmUgdGhlIGtleSwgeW91IGNhbiBub3Qgc3luY2hyb25pemUgeW91ciBkYXRhLiBEbyB5b3Ugd2FudCB0byBjb250aW51ZT8iCgojLCBmdXp6eQptc2dpZCAiQWZpbiBkZSBwb3V2b2lyIHN5bmNocm9uaXNlciB2b3MgZG9ubsODwqllcyB2b3VzIGRldmV6IGVudHJlciB2b3RyZSBjbMODwqkgZCdhdXRoZW50aWZpY2F0aW9uLiBTaSB2b3VzIG4nZW4gbidhdmV6IHBhcywgY2xpcXVleiBzdXIgbGUgYm91dG9uIFwiR8ODwqluw4PCqXJlciB1bmUgbm91dmVsbGUgY2zDg8KpXCIiCm1zZ3N0ciAiSW4gb3JkZXIgdG8gc3luY2hyb25pemUgeW91ciBkYXRhIHlvdSBuZWVkIHRvIGVudGVyIHlvdXIgcGFzc2tleS4gSWYgeW91IGRvIG5vdCBoYXZlIG9uZSwgY2xpY2sgdGhlIGJ1dHRvbiBcIkdlbmVyYXRlIGEgbmV3IGtleSBcIiIKCiMsIGZ1enp5Cm1zZ2lkICJDb25zZXJ2ZXogcHLDg8KpY2lldXNlbWVudCB2b3RyZSBjbMODwqkgKGRhbnMgdm90cmUgYmxvYy1ub3RlIFR3aW5vaWQgcGFyIGV4ZW1wbGUpIGFmaW4gZGUgcG91dm9pciByw4PCqWN1cMODwqlyZXIgdm9zIGRvbm7Dg8KpZXMuIgptc2dzdHIgIlBsZWFzZSBrZWVwIHlvdXIga2V5IChpbiB5b3VyIFR3aW5vaWQgbm90ZXBhZCBmb3IgZXhhbXBsZSkgc28geW91IGNhbiByZWNvdmVyIHlvdXIgZGF0YS4iCgojLCBmdXp6eQptc2dpZCAiU3luY2hyb25pc2F0aW9uIGVmZmVjdHXDg8KpZSIKbXNnc3RyICJTeW5jaHJvbml6YXRpb24gY29tcGxldGUiCgojLCBmdXp6eQptc2dpZCAiU3luY2hyb25pc2F0aW9uIGltcG9zc2libGUsIGNsw4PCqSBpbmNvcnJlY3RlIgptc2dzdHIgIlN5bmNocm9uaXphdGlvbiBpbXBvc3NpYmxlLCB3cm9uZyBrZXkiCgojLCBmdXp6eQptc2dpZCAiTGVzIGRvbm7Dg8KpZXMgZGlzdGFudGVzIHNvbnQgcGx1cyByw4PCqWNlbnRlcyBxdWUgbGVzIGRvbm7Dg8KpZXMgbG9jYWxlcy4gPGJyLz4gUXVlIHZvdWxleiB2b3VzIGZhaXJlID8iCm1zZ3N0ciAiUmVtb3RlIGRhdGEgaXMgbW9yZSByZWNlbnQgdGhhbiB0aGUgbG9jYWwgZGF0YS4gPGJyLz4gV2hhdCBkbyB5b3UgZG8/IgoKIywgZnV6enkKbXNnaWQgIkRhdGUgc3luY2hybyBzZXJ2ZXVyIDogIgptc2dzdHIgIkRhdGUgc3luYyBzZXJ2ZXI6IgoKIywgZnV6enkKbXNnaWQgIkRhdGUgc3luY2hybyBsb2NhbGUgOiAiCm1zZ3N0ciAiRGF0ZSBzeW5jIGxvY2FsOiAiCgojLCBmdXp6eQptc2dpZCAiRWNyYXNlciBsZXMgZG9ubsODwqllcyBsb2NhbGVzIgptc2dzdHIgIk92ZXJ3cml0ZSBsb2NhbCBkYXRhIgoKIywgZnV6enkKbXNnaWQgIkVjcmFzZXIgbGVzIGRvbm7Dg8KpZXMgZGlzdGFudGVzIgptc2dzdHIgIk92ZXJ3cml0ZSBSZW1vdGUgRGF0YSIKCiMsIGZ1enp5Cm1zZ2lkICJFc3Bpb25uYWdlIgptc2dzdHIgIkVzcGlvbmFnZSIKCiMsIGZ1enp5Cm1zZ2lkICI8cD5Wb3VzIMODwqp0ZXMgZGFucyBsYSBtw4PCqm1lIHBpw4PCqGNlIHF1ZSBjZXR0ZSBwZXJzb25uZSA7IHZvdXMgcG91dmV6IGRvbmMgbCdleGFtaW5lciBkZSBwbHVzIHByw4PCqHMuPC9wPjxwPjxzdHJvbmc+Q2xpcXVleiBpY2kgcG91ciBlbnJlZ2lzdHJlciBsZXMgY29tcMODwql0ZW5jZXMgdmlzaWJsZXMsIHN0YXR1dHMgcHVibGlxdWVzIGV0IHRpdHJlcyBkZSBjZSBwZXJzb25uYWdlLjwvc3Ryb25nPjxwPiIKbXNnc3RyICI8cD4gWW91IGFyZSBpbiB0aGUgc2FtZSByb29tIGFzIHRoYXQgcGVyc29uOyBzbyB5b3UgY2FuIGV4YW1pbmUgaXQgbW9yZSBjbG9zZWx5LiA8LyBwPiA8cD4gPHN0cm9uZz4gQ2xpY2sgaGVyZSB0byByZWNvcmQgdmlzaWJsZSBza2lsbHMsIHB1YmxpYyBzdGF0dXMgYW5kIHRpdGxlcyBvZiB0aGlzIGNoYXJhY3Rlci4gPC8gc3Ryb25nPiA8cD4iCgojLCBmdXp6eQptc2dpZCAiTm90ZXMgcsODwqlzdW3Dg8KpZXMgOiIKbXNnc3RyICJTdW1tYXJ5IG5vdGVzOiIKCiMsIGZ1enp5Cm1zZ2lkICJDZSB0ZXh0ZSBhcHBhcmFpdHJhIGF1IHN1cnZvbCBkZSBsYSBzb3VyaXMgc3VyIGwnaWNvbmUgZHUgcGVyc29ubmFnZSDDg8KgIGxhIHBsYWNlIGRlIGxhIGRlc2NyaXB0aW9uIG9yaWdpbmFsZSBkdSBqZXUiCm1zZ3N0ciAiVGhpcyB0ZXh0IHdpbGwgYXBwZWFyIG9uIGhvdmVyaW5nIHRoZSBtb3VzZSBvdmVyIHRoZSBpY29uIG9mIHRoZSBjaGFyYWN0ZXIgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgZ2FtZSBkZXNjcmlwdGlvbiIKCiMsIGZ1enp5Cm1zZ2lkICJOb3RlcyBkw4PCqXRhaWxsw4PCqWVzIDoiCm1zZ3N0ciAiRGV0YWlsZWQgbm90ZXM6IgoKIywgZnV6enkKbXNnaWQgIkVucmVnaXN0cmVyIgptc2dzdHIgIlNhdmUiCgptc2dpZCAiQ29tcMODwql0ZW5jZSBpbmFjdGl2ZSBtdXNoIgptc2dzdHIgIkluYWN0aXZlIHNraWxsIHdoZW4gbXVzaCIKCm1zZ2lkICJDZXR0ZSBjb21ww4PCqXRlbmNlIGVzdCBpbmFjdGl2ZSBxdWFuZCBvbiBlc3QgbXVzaCAoc291cmNlIDogVHdpbnBlZGlhKS4iCm1zZ3N0ciAiVGhpcyBza2lsbCBpcyBpbmFjdGl2ZSB3aGVuIHlvdSBhcmUgbXVzaCAoc291cmNlOiBUd2lucGVkaWEpLiIKCiMsIGZ1enp5Cm1zZ2lkICJBdWN1bmUgZG9ubsODwqllIGVucmVnaXN0csODwqllIgptc2dzdHIgIk5vIGluZm9ybWF0aW9uIGF2YWlsYWJsZSIKCiMsIGZ1enp5Cm1zZ2lkICJNb3J0Igptc2dzdHIgIkRlYWQiCgptc2dpZCAiU3RhdGlzdGlxdWVzIgptc2dzdHIgIlN0YXRpc3RpY3MiCgptc2dpZCAiQWZmaWNoZSBsZXMgc3RhdGlzdGlxdWVzLCBldCBwZXJtZXQgZGUgZ8ODwqlyZXIgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw4PCqXMgZGFucyBsYSBwYWdlLiIKbXNnc3RyICJTaG93cyBzdGF0aXN0aWNzIGFuZCBhbGxvd3MgeW91IHRvIG1hbmFnZSB0aGUgbnVtYmVyIG9mIG1lc3NhZ2VzIGxvYWRlZCBvbiB0aGUgcGFnZS4iCgptc2dpZCAiTm91dmVhdXggTWVzc2FnZXMiCm1zZ3N0ciAiTmV3IE1lc3NhZ2VzIgoKbXNnaWQgIkJlYXVjb3VwIGRlIG1lc3NhZ2VzIMODwqAgbGlyZSA/IExlIG1hbmFnZXIgcGVybWV0IGRlIHJhdHRyYXBlciBzb24gcmV0YXJkIHBsdXMgZmFjaWxlbWVudC4gRW4gY2hhcmdlYW50IHRvdXMgbGVzIG1lc3NhZ2VzIGRhbnMgbCdvbmdsZXQgU3RhdGlzdGlxdWVzLCB2b3VzIHBvdXZleiBhdXNzaSB2b2lyIGxlcyBtZXNzYWdlcyBub24gbHVzIG1hbnF1w4PCqXMgw4PCoCBjYXVzZSBkdSBidWcgKE11c2gpIGRlcyBtZXNzYWdlcy4iCm1zZ3N0ciAiTG90cyBvZiBtZXNzYWdlcyB0byByZWFkPyBUaGUgbWFuYWdlciBhbGxvd3MgeW91IHRvIGNhdGNoIHVwIG1vcmUgZWFzaWx5LiBXaGVuIHlvdSBsb2FkIGFsbCBtZXNzYWdlcyBpbiB0aGUgU3RhdGlzdGljcyB0YWIsIHlvdSBjYW4gYWxzbyBzZWUgdW5yZWFkIG1lc3NhZ2VzIHRoYXQgdGhlIE11c2ggYnVnIG1hZGUgeW91IG1pc3MuIgoKbXNnaWQgIlJlY2hlcmNoZSBkZSBNZXNzYWdlcyIKbXNnc3RyICJTZWFyY2ggTWVzc2FnZXMiCgptc2dpZCAiVW5lIGRpc2N1c3Npb24gw4PCoCByZXRyb3V2ZXIgPyBFbnZpZSBkZSBzYXZvaXIgY29tYmllbiBkJ2luY2VuZGllcyBzZSBzb250IGTDg8KpY2xhcsODwqlzID8gKEBuZXJvbiBpbmNlbmRpZSBkYWVkYWx1cykiCm1zZ3N0ciAiV2FudCB0byBmaW5kIGEgc3BlY2lmaWMgdGhyZWFkPyBUcnlpbmcgdG8gZmlndXJlIG91dCBob3cgbWFueSBmaXJlcyBoYXZlIHN0YXJ0ZWQ/IChAbmVyb24gaW5jZW5kaWUgZGFlZGFsdXMpIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkxlIGNhbmFsIGRlIGRpc2N1c3Npb24gZXN0IGluZGlzcGVuc2FibGUgcG91ciBzJ29yZ2FuaXNlciBhdmVjIGwnw4PCqXF1aXBhZ2UuPC9wPjxwPlBvdXIgcGFydGljaXBlciB2b3VzIGRldmV6IHBvc3PDg8KpZGVyIHVuIDxzdHJvbmc+dGFsa2llLXdhbGtpZTwvc3Ryb25nPi4iCm1zZ3N0ciAiVGhlIERpc2N1c3Npb24gQ2hhbm5lbCBpcyBlc3NlbnRpYWwgZm9yIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIHRlYW0uPC9wPjxwPlRvIHBhcnRpY2lwYXRlIHlvdSBoYXZlIGEgPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsa2llLnBuZycgLz4gPHN0cm9uZz53YWxraWUtdGFsa2llPC9zdHJvbmc+LiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJGYXZvcmlzIgptc2dzdHIgIkZhdm9yaXRlcyIKCm1zZ2lkICJWb3RyZSBzw4PCqWxlY3Rpb24gZGUgc3VqZXRzIGZhdm9yaXMuIgptc2dzdHIgIllvdXIgY2hvc2VuIGZhdm91cml0ZSB0b3BpY3MuIgoKbXNnaWQgIkF1Y3VuIHRvcGljIHPDg8KpbGVjdGlvbm7Dg8KpLiIKbXNnc3RyICJObyBzZWxlY3RlZCB0b3BpYy4iCgojLiBUcmFuc2xhdG9yczogVGhlIGJlZ2lubmluZyBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ2FuYWwgTXVzaCIKbXNnc3RyICJNdXNoIENoYW5uZWwiCgptc2dpZCAiU3NzaGgsIHBlcnNvbm5lIG5vdXMgZW50ZW5kIGljaS4uLiBMZSBDYW5hbCBNdXNoIGVzdCBsZSA8ZW0+Y2FuYWwgcHJpdsODwqk8L2VtPiBwb3VyIGxlcyBhZGjDg8KpcmVudHMgYXV4IDxzdHJvbmc+TXVzaDwvc3Ryb25nPiA8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9tdXNoLnBuZycgLz4uPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w4PCqSBub24gY29kw4PCqWU8L3N0cm9uZz4iCm1zZ3N0ciAiU3NzaGgsIG5vYm9keSBjYW4gaGVhciB1cyBoZXJlLi4uIHRoZSBNdXNoIENoYW5uZWwgaXMgdGhlIDxlbT5wcml2YXRlIGNoYW5uZWw8L2VtPiBmb3IgdGhlIDxzdHJvbmc+TXVzaCBTdXBlcmlvcml0eTwvc3Ryb25nPiA8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9tdXNoLnBuZycgLz4uPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGZWF0dXJlIG5vdCBjb2RlZDwvc3Ryb25nPiIKCm1zZ2lkICJEaXNwb25pYmxlIHByb2NoYWluZW1lbnQuIgptc2dzdHIgIkF2YWlsYWJsZSBzb29uIgoKbXNnaWQgIkNoYXQgcHJpdsODwqkiCm1zZ3N0ciAiUHJpdmF0ZSBDaGF0IgoKbXNnaWQgIkNoYXQgcHJpdsODwqkgb3V2ZXJ0IGF2ZWMgOjxici8+W2xpc3RlIGRlcyBwYXJ0aWNpcGFudHNdPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w4PCqSBub24gY29kw4PCqWU8L3N0cm9uZz4iCm1zZ3N0ciAiUHJpdmF0ZSBjaGF0IG9wZW4gd2l0aDo8YnIvPltwYXJ0aWNpcGFudHMgbGlzdF08L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZlYXR1cmUgbm90IGNvZGVkPC9zdHJvbmc+IgoKbXNnaWQgIk5vdXZlYXUgbWVzc2FnZSIKbXNnc3RyICJOZXcgbWVzc2FnZSIKCm1zZ2lkICJSw4PCqXBvbmRleiDDg8KgIHVuIHRvcGljIC8gdW5lIGRpc2N1c3Npb24gb3UgY3LDg8KpZXogdW4gbm91dmVhdSB0b3BpYy4iCm1zZ3N0ciAiUmVwbHkgdG8gdG9waWMgb3IgY3JlYXRlIG5ldyB0b3BpYy4iCgptc2dpZCAiQW5ub25jZXMgdm9jb2TDg8KpZXMiCm1zZ3N0ciAiVm9jb2RlZCBBbm5vdW5jZW1lbnRzIgoKbXNnaWQgIkFzc2lzdGFudCBwb3VyIGxlcyBBZG1pbi4gTsODwqlyb24gcG91ciBmYWNpbGl0ZXIgbGEgY3LDg8KpYXRpb24gZCdhbm5vbmNlcyB2b2NvZMODwqllcy48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICJBc3Npc3RhbnQgZm9yIE5lcm9uIEFkbWlucyB0byBoZWxwIGNyZWF0aW9uIG9mIHZvY29kZWQgYW5vdW5jZW1lbnRzIgoKbXNnaWQgIk1lc3NhZ2VzIHByw4PCqS1lbnJlZ2lzdHLDg8KpcyIKbXNnc3RyICJQcmUtcmVjb3JkZWQgbWVzc2FnZXMiCgptc2dpZCAiTWVzc2FnZXMgcsODwqljdXJyZW50cyAmIGF1dHJlcyAow4PCoCBkw4PCqWZpbmlyKS48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICJSZWN1cnJpbmcgbWVzc2FnZXMgJiBtb3JlICh0byBkZWZpbmUpLjwvcD48cD48c3Ryb25nPi8hJiM5MjsgRmVhdHVyZSBub3QgY29kZWQ8L3N0cm9uZz4iCgptc2dpZCAiRmVybWVyIGxlIE1hbmFnZXIiCm1zZ3N0ciAiQ2xvc2UgTWFuYWdlciIKCm1zZ2lkICJSw4PCqWR1aXJlIGxlIE1hbmFnZXIiCm1zZ3N0ciAiTWluaW1pc2UgTWFuYWdlciIKCm1zZ2lkICJDaGFyZ2VtZW50IGVuIGNvdXJzLi4uIgptc2dzdHIgIkxvYWRpbmcuLi4iCgptc2dpZCAiR8ODwqlyZXogbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw4PCqXMuTGUgbWFuYWdlciBlc3QgcGx1cyBjb21wbGV0IGxvcnNxdWUgdG91cyBsZXMgbWVzc2FnZXMgc29udCBjaGFyZ8ODwqlzLCBtYWlzIGxlIGpldSBkZXZpZW50IGJlYXVjb3VwIHBsdXMgbGVudCDDg8KgIGNhdXNlIGR1IGNoYXJnZW1lbnQgZGUgY2VzIG1lc3NhZ2VzIMODwqAgY2hhcXVlIGFjdGlvbiAocGFydGljdWxhcml0w4PCqSBkZSBtdXNoLi4uKS4iCm1zZ3N0ciAiTWFuYWdlIG51bWJlciBvZiBsb2FkZWQgbWVzc2FnZXMuIFRoZSBtYW5hZ2VyIGlzIG1vcmUgY29tcGxldGUgd2hlbiBhbGwgbWVzc2FnZXMgYXJlIGxvYWRlZCwgYnV0IHRoZSBnYW1lIGJlY29tZXMgbXVjaCBzbG93ZXIgZHVlIHRvIGxvYWRpbmcgYWxsIHRoZXNlIG1lc3NhZ2VzIGV2ZXJ5IGFjdGlvbiAod2hpY2ggdGhlIGdhbWUgZG9lcykuIgoKbXNnaWQgIlRvdXQgY2hhcmdlciIKbXNnc3RyICJMb2FkIGFsbCIKCm1zZ2lkICJDaGFyZ2VyIHRvdXMgbGVzIG1lc3NhZ2VzIgptc2dzdHIgIkxvYWQgYWxsIG1lc3NhZ2VzIgoKbXNnaWQgIkNoYXJnZXogdG91cyBsZXMgbWVzc2FnZXMgcG91ciBwcm9maXRlciBwbGVpbmVtZW50IGR1IG1hbmFnZXIgOiByZWNoZXJjaGVzIGRhbnMgdG91cyBsZXMgbWVzc2FnZXMgZGVwdWlzIGxlIGTDg8KpYnV0IGRlIGxhIHBhcnRpZSwgbm91dmVhdXggbWVzc2FnZXMgbWFucXXDg8KpcyDDg8KgIGNhdXNlIGR1IGJ1ZyBkZSBtdXNoLCBzdGF0aXN0aXF1ZXMgY29tcGzDg8KodGVzLCBldGMuPC9wPjxwPjxzdHJvbmc+Q2V0dGUgYWN0aW9uIHBldXQgcHJlbmRyZSB1biBjZXJ0YWluIHRlbXBzLCBzdWl2YW50IGxlIG5vbWJyZSBkZSBtZXNzYWdlcyBwb3N0w4PCqXMgc3VyIHZvdHJlIHZhaXNzZWF1Ljwvc3Ryb25nPiIKbXNnc3RyICJMb2FkIGFsbCBtZXNzYWdlcyB0byBnZXQgYWxsIGJlbmVmaXRzIGZyb20gbWFuYWdlcjogc2VhcmNoIGFsbCBtZXNzYWdlcyBmcm9tIGdhbWUgc3RhcnQsIG5ldyBtZXNzYWdlcyBtaXNzZWQgZHVlIHRvIGEgYnVnIGluIHRoZSBnYW1lLCBjb21wbGV0ZSBzdGF0aXN0aWNzLCBldGMuPC9wPjxwPjxzdHJvbmc+VGhpcyBhY3Rpb24gY2FuIHRha2UgYSBsb25nIHRpbWUsIGRlcGVuZGluZyBvbiB0aGUgbnVtYmVyIG9mIG1lc3NhZ2VzIHBvc3RlZCBpbiBjdXJyZW50IHNoaXAuPC9zdHJvbmc+IgoKbXNnaWQgIkTDg8KpY2hhcmdlciIKbXNnc3RyICJVbmxvYWQiCgptc2dpZCAiRMODwqljaGFyZ2VyIGxlcyBtZXNzYWdlcyIKbXNnc3RyICJVbmxvYWQgbWVzc2FnZXMiCgojLCBmdXp6eQptc2dpZCAiRMODwqljaGFyZ2V6IGxhIGxpc3RlIGRlIG1lc3NhZ2VzIHBvdXIgYWxsw4PCqWdlciBsZSBqZXUuIExvcnNxdWUgdm91cyBjaGFyZ2V6IGRlcyBtZXNzYWdlcyAoZW4gc2Nyb2xsYW50IHN1ciBsZSBjaGF0LCBwYXIgZXhlbXBsZSksIGNldXgtY2kgcmVzdGVudCBjaGFyZ8ODwqlzLiBNdXNoIGNoYXJnZWFudCB0b3V0ZSBsYSBwYWdlIChkb250IGxlcyBtZXNzYWdlcykgw4PCoCBjaGFxdWUgYWN0aW9uLCB2b3RyZSBqZXUgZXN0IGdyYW5kZW1lbnQgcmFsZW50aSBsb3JzcXVlIGxlIG5vbWJyZSBkZSBtZXNzYWdlcyBjaGFyZ8ODwqlzIGVzdCBjb25zw4PCqXF1ZW50LjwvcD48cD48c3Ryb25nPkNldHRlIGFjdGlvbiBmZXJtZXJhIGxlIE1lc3NhZ2UgTWFuYWdlciBldCByYWZyYcODwq5jaGlyYSBsYSBwYWdlLjwvc3Ryb25nPiIKbXNnc3RyICJVbmxvYWQgbWVzc2FnZSBsaXN0IHRvIG1ha2UgZ2FtZSBmYXN0ZXIuIEFmdGVyIG1lc3NhZ2VzIGxvYWQgKGR1ZSB0byBzY3JvbGxpbmcgZm9yIGluc3RhbmNlKSwgdGhleSBzdGF5IGxvYWRlZC4gTXVzaCByZWxvYWRzIHRoZSB3aG9sZSBwYWdlIChpbmNsdWRpbmcgbWVzc2FnZXMpIGV2ZXJ5IGFjdGlvbiwgd2hpY2ggc2xvd3MgZG93biB0aGUgZ2FtZSBhIGxvdCB3aGVuIHRoZXJlIGFyZSBhIGxvdCBvZiBtZXNzYWdlcy48L3A+PHA+PHN0cm9uZz5UaGlzIGFjdGlvbiBibG9ja3MgdGhlIGdhbWUgZm9yIGEgZmV3IHNlY29uZHMuPC9zdHJvbmc+IgoKbXNnaWQgIlRvdGFsIDogPGI+JTE8L2I+IG1lc3NhZ2UgY2hhcmfDg8KpIgptc2dpZF9wbHVyYWwgIlRvdGFsIDogPGI+JTE8L2I+IG1lc3NhZ2VzIGNoYXJnw4PCqXMiCm1zZ3N0clswXSAiVG90YWw6IDxiPiUxPC9iPiBsb2FkZWQgbWVzc2FnZSIKbXNnc3RyWzFdICJUb3RhbDogPGI+JTE8L2I+IGxvYWRlZCBtZXNzYWdlcyIKCm1zZ2lkICJlbiA8Yj4lMTwvYj4gdG9waWMuIDxici8+IChkZXB1aXMgJTIpIgptc2dpZF9wbHVyYWwgImVuIDxiPiUxPC9iPiB0b3BpY3MuIDxici8+IChkZXB1aXMgJTIpIgptc2dzdHJbMF0gImluIDxiPiUxPC9iPiB0b3BpYy4gPGJyLz4gKGZvciAlMikiCm1zZ3N0clsxXSAiaW4gPGI+JTE8L2I+IHRvcGljcy4gPGJyLz4gKGZvciAlMikiCgptc2dpZCAiVG90YWwgOiAlMSBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIlRvdGFsIDogJTEgbWVzc2FnZXMiCm1zZ3N0clswXSAiVG90YWw6ICUxIG1lc3NhZ2UiCm1zZ3N0clsxXSAiVG90YWw6ICUxIG1lc3NhZ2VzIgoKbXNnaWQgIjxiPiUxPC9iPiBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIjxiPiUxPC9iPiBtZXNzYWdlcyIKbXNnc3RyWzBdICI8Yj4lMTwvYj4gbWVzc2FnZSIKbXNnc3RyWzFdICI8Yj4lMTwvYj4gbWVzc2FnZXMiCgptc2dpZCAiZG9udCA8Yj4lMTwvYj4gdG9waWMuIgptc2dpZF9wbHVyYWwgImRvbnQgPGI+JTE8L2I+IHRvcGljcy4iCm1zZ3N0clswXSAib2Ygd2hpY2ggPGI+JTE8L2I+IHRvcGljLiIKbXNnc3RyWzFdICJvZiB3aGljaCA8Yj4lMTwvYj4gdG9waWNzLiIKCiMuIFRyYW5zbGF0b3JzOiAlMSA9IGNoYXJhY3RlciBuYW1lLCAlMiA9IG1lc3NhZ2UgY291bnQKbXNnaWQgIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZSIKbXNnaWRfcGx1cmFsICIqKiUxIDogKiogLy8lMi8vIG1lc3NhZ2VzIgptc2dzdHJbMF0gIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZSIKbXNnc3RyWzFdICIqKiUxIDogKiogLy8lMi8vIG1lc3NhZ2VzIgoKbXNnaWQgIiUxIHLDg8KpcG9uc2UiCm1zZ2lkX3BsdXJhbCAiJTEgcsODwqlwb25zZXMiCm1zZ3N0clswXSAiJTEgcmVwbHkiCm1zZ3N0clsxXSAiJTEgcmVwbGllcyIKCm1zZ2lkICIlMSBtZXNzYWdlIG5vbiBsdSIKbXNnaWRfcGx1cmFsICIlMSBtZXNzYWdlcyBub24gbHVzIgptc2dzdHJbMF0gIiUxIHVucmVhZCBtZXNzYWdlIgptc2dzdHJbMV0gIiUxIHVucmVhZCBtZXNzYWdlcyIKCm1zZ2lkICJBdWN1biBtZXNzYWdlIG5vbiBsdS4iCm1zZ3N0ciAiTm8gdW5yZWFkIG1lc3NhZ2VzLiIKCm1zZ2lkICJWb3VzIG4nYXZleiBwYXMgZGUgZmF2b3Jpcy4iCm1zZ3N0ciAiWW91IGRvbid0IGhhdmUgZmF2b3VyaXRlcy4iCgptc2dpZCAiRm9uY3Rpb24gZGUgcmVjaGVyY2hlIgptc2dzdHIgIlNlYXJjaCBmZWF0dXJlIgoKbXNnaWQgIi0gVm91cyBwb3V2ZXogcmVjaGVyY2hlciBwbHVzaWV1cnMgbW90cywgZGFucyBsZSBkw4PCqXNvcmRyZSwgY29tcGxldHMgb3Ugbm9uLCBxdSdpbXBvcnRlIGxlIGNvbnRlbnUgZW50cmUgZXV4IGRhbnMgbGUgbWVzc2FnZS4iCm1zZ3N0ciAiLSBZb3UgY2FuIHNlYXJjaCBmb3Igc2V2ZXJhbCB3b3Jkcywgb3V0IG9mIG9yZGVyLCBjb21wbGV0ZSBvciBub3QsIGV2ZW4gaWYgdGhlcmUgaXMgY29udGVudCBiZXR3ZWVuIHRoZW0gaW4gdGhlIG1lc3NhZ2UuIgoKbXNnaWQgIi0gUG91ciByZWNoZXJjaGVyIGxlcyBtZXNzYWdlcyBkJ3VuIGpvdWV1ciBlbiBwYXJ0aWN1bGllciwgdXRpbGlzZXogPGk+QHBlcnNvbm5hZ2U8L2k+IChsZSBwcsODwqlub20gZW4gbWludXNjdWxlLCBhdmVjIHVuIF8gcG91ciBrdWFuX3RpIGV0IGppbl9zdSkuIgptc2dzdHIgIi0gVG8gc2VhcmNoIGZvciBhIHBsYXllcidzIG1lc3NhZ2VzLCB1c2UgPGk+QGNoYXJhY3RlcjwvaT4gKGZpcnN0IG5hbWUgaW4gbG93ZXJjYXNlLCB3aXRoIF8gZm9yIGt1YW5fdGkgYW5kIGppbl9zdSkuIgoKbXNnaWQgIi0gUG91ciByZWNoZXJjaGVyIHVuaXF1ZW1lbnQgZGFucyBsZSBwcmVtaWVyIG1lc3NhZ2UgZGVzIHRvcGljcywgdXRpbGlzZXogPGk+QHRvcGljPC9pPi4iCm1zZ3N0ciAiLSBUbyByZXN0cmljdCBzZWFyY2ggdG8gZmlyc3QgbWVzc2FnZXMgb2YgdG9waWNzLCB1c2UgPGk+QHRvcGljPC9pPi4iCgptc2dpZCAiJTEgcsODwqlzdWx0YXQgKG1heGltdW0gOiAlMikuIgptc2dpZF9wbHVyYWwgIiUxIHLDg8Kpc3VsdGF0cyAobWF4aW11bSA6ICUyKS4iCm1zZ3N0clswXSAiJTEgcmVzdWx0IChtYXhpbXVtOiAlMikuIgptc2dzdHJbMV0gIiUxIHJlc3VsdHMgKG1heGltdW06ICUyKS4iCgptc2dpZCAiQXVjdW4gcsODwqlzdWx0YXQuIgptc2dzdHIgIk5vIHJlc3VsdC4iCgptc2dpZCAiTGUgdGV4dGUgcmVjaGVyY2jDg8KpIGVzdCB0cm9wIGNvdXJ0LiIKbXNnc3RyICJUaGUgc2VhcmNoIHRleHQgaXMgdG9vIHNob3J0LiIKCm1zZ2lkICJDaGFyZ2VtZW50w6LCgMKmIgptc2dzdHIgIkxvYWRpbmcuLi4iCgptc2dpZCAiUsODwqlwb25kcmUgYXUgdG9waWMiCm1zZ3N0ciAiUmVwbHkgdG8gdG9waWMiCgptc2dpZCAiRW52b3llciBjZSBtZXNzYWdlIGVuIHRhbnQgcXVlIHLDg8KpcG9uc2UgYXUgdG9waWMgYWZmaWNow4PCqSBjaS1jb250cmUuIgptc2dzdHIgIlNlbmQgdGhpcyBtZXNzYWdlIGFzIGEgcmVwbHkgdG8gY3VycmVudCB0b3BpYy4iCgptc2dpZCAiTm91dmVhdSB0b3BpYyIKbXNnc3RyICJOZXcgdG9waWMiCgptc2dpZCAiUG9zdGVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgbm91dmVhdSB0b3BpYy4iCm1zZ3N0ciAiUG9zdCB0aGlzIG1lc3NhZ2UgYXMgYSBuZXcgdG9waWMuIgoKIywgZnV6enkKbXNnaWQgIkFqb3V0ZXIgYXV4IGZhdm9yaXMiCm1zZ3N0ciAiQWRkIHRvIHlvdXIgZmF2b3VyaXRlcyIKCiMsIGZ1enp5Cm1zZ2lkICJMZSBtZXNzYWdlIGV4aXN0ZSBkw4PCqWrDg8KgLiIKbXNnc3RyICJUaGUgbWVzc2FnZSBhbHJlYWR5IGV4aXN0cy4iCgojLCBmdXp6eQptc2dpZCAiTGUgdGl0cmUgZXN0IHZpZGUuIgptc2dzdHIgIlRoZSB0aXRsZSBpcyBlbXB0eS4iCgptc2dpZCAiTGUgbWVzc2FnZSBlc3QgdmlkZS4iCm1zZ3N0ciAiVGhlIG1lc3NhZ2UgaXMgZW1wdHkuIgoKIywgZnV6enkKbXNnaWQgIkFqb3V0ZXIgdW4gbWVzc2FnZSDDg8KgIHZvdHJlIGxpc3RlIGRlcyBtZXNzYWdlcyBwcsODwqktZW5yZWdpc3Ryw4PCqXMuIgptc2dzdHIgIkFkZCBhIG1lc3NhZ2UgdG8geW91ciBsaXN0IG9mIHByZS1yZWNvcmRlZCBtZXNzYWdlcy4gVGhlIG1lc3NhZ2UgaXMgZW1wdHkuIgoKIywgZnV6enkKbXNnaWQgIlN1cHByaW1lciB1biBmYXZvcmkiCm1zZ3N0ciAiRGVsZXRlIHRoZSBmYXZvcml0ZSIKCiMsIGZ1enp5Cm1zZ2lkICJMZSBtZXNzYWdlIHF1ZSB2b3VzIHZvdWxleiBzdXBwcmltZXIgbidleGlzdGUgcGFzLiIKbXNnc3RyICJUaGUgbWVzc2FnZSB5b3Ugd2FudCB0byBkZWxldGUgZG9lcyBub3QgZXhpc3QuIgoKIywgZnV6enkKbXNnaWQgIlN1cHByaW1lciB1bmUgbWVzc2FnZSBkZSB2b3RyZSBsaXN0ZSBkZXMgbWVzc2dlcyBwcsODwqktZW5yZWdpc3Ryw4PCqXMuIgptc2dzdHIgIkRlbGV0ZSBhIG1lc3NhZ2UgZnJvbSB5b3VyIGxpc3Qgb2YgcHJlLXJlY29yZGVkIG1lc3NhZ2VzLiIKCm1zZ2lkICLDg8KgIHByb3BvcyIKbXNnc3RyICJhYm91dCIKCm1zZ2lkICJDbGlxdWV6IGljaSBwb3VyIHBsdXMgZCdpbmZvcm1hdGlvbnMgc3VyIGxlIHNjcmlwdC4iCm1zZ3N0ciAiQ2xpY2sgaGVyZSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBDdHJsK1cuIgoKIywgZnV6enkKbXNnaWQgIkNUUkwrVyA6IFZldWlsbGV6IGF0dGVuZHJlIGxhIGZpbiBkZSBsYSBzeW5jaHJvbmlzYXRpb24gYXZhbnQgZGUgcXVpdHRlciBjZXR0ZSBwYWdlLiIKbXNnc3RyICJDVFJMICsgVzogUGxlYXNlIHdhaXQgZm9yIHN5bmNocm9uaXphdGlvbiBiZWZvcmUgbGVhdmluZyB0aGlzIHBhZ2UuIgoKbXNnaWQgIm91dGlscyIKbXNnc3RyICJ0b29scyIKCm1zZ2lkICJNaXNlIMODwqAgam91ciIKbXNnc3RyICJVcGRhdGUiCgptc2dpZCAiTWlzZSDDg8KgIGpvdXIgZHUgc2NyaXB0Igptc2dzdHIgIlVwZGF0ZSBTY3JpcHQiCgptc2dpZCAiTXNnIE1hbmFnZXIiCm1zZ3N0ciAiTXNnIE1hbmFnZXIiCgptc2dpZCAiTWVzc2FnZSBNYW5hZ2VyIgptc2dzdHIgIk1lc3NhZ2UgTWFuYWdlciIKCm1zZ2lkICJOZSBtYW5xdWV6IHBsdXMgZGUgbWVzc2FnZXMgISBUb3VzIGxlcyB0b3BpY3MgYXZlYyBkZXMgbWVzc2FnZXMgbm9uIGx1cyBzZXJvbnQgbWlzIGVuIMODwql2aWRlbmNlLCBldCB2b3VzIHBvdXJyZXogZWZmZWN0dWVyIGRlcyByZWNoZXJjaGVzIHBhciBhdXRldXIgb3UgY29udGVudS4iCm1zZ3N0ciAiRG9uJ3QgbWlzcyBtZXNzYWdlcyBhbnltb3JlISBBbGwgdG9waWNzIHdpdGggdW5yZWFkIG1lc3NhZ2VzIHdpbGwgYmUgZW1waGFzaXNlZCwgYW5kIHlvdSBjYW4gc2VhcmNoIGJ5IGF1dGhvciBvciBjb250ZW50LiIKCm1zZ2lkICJPcHRpb25zIgptc2dzdHIgIk9wdGlvbnMiCgptc2dpZCAiR8ODwqlyZXIgbGVzIG9wdGlvbnMiCm1zZ3N0ciAiTWFuYWdlIE9wdGlvbnMiCgptc2dpZCAiQ2VydGFpbmVzIGZvbmN0aW9ubmFsaXTDg8KpZXMgZGUgQ3RybCtXIHNvbnQgY29uZmlndXJhYmxlcy4gQ2xpcXVleiBpY2kgcG91ciBzcMODwqljaWZpZXIgdm9zIHByw4PCqWbDg8KpcmVuY2VzLiIKbXNnc3RyICJTb21lIGZlYXR1cmVzIGluIEN0cmwrVyBhcmUgY3VzdG9taXNhYmxlLiBDbGljayBoZXJlIHRvIHNldCBwcmVmZXJlbmNlcy4iCgptc2dpZCAiU3luYyIKbXNnc3RyICJTeW5jIgoKIywgZnV6enkKbXNnaWQgIlBlcm1ldCBkZSBzeW5jaHJvbmlzZXIgbGVzIGRvbm7Dg8KpZXMgZHUgc2NyaXB0IGVudHJlIHZvcyBkaWZmw4PCqXJlbnRzIG5hdmlnYXRldXJzIgptc2dzdHIgIkxldHMgeW91IHN5bmNocm9uaXplIHNjcmlwdCBkYXRhIGJldHdlZW4geW91ciBicm93c2VycyIKCm1zZ2lkICJBY3R1YWxpc2VyIgptc2dzdHIgIlVwZGF0ZSIKCm1zZ2lkICJBY3R1YWxpc2VyIGxhIHBhZ2Ugc2FucyB0b3V0IHJlY2hhcmdlci4gPHN0cm9uZz5Gb25jdGlvbm5hbGl0w4PCqSBlbiBjb3VycyBkJ29wdGltaXNhdGlvbi48L3N0cm9uZz4iCm1zZ3N0ciAiVXBkYXRlIHBhZ2Ugd2l0aG91dCByZWxvYWRpbmcgZXZlcnl0aW5nLiA8c3Ryb25nPkZlYXR1cmUgaXMgYmVpbmcgb3B0aW1pc2VkLjwvc3Ryb25nPiIKCiMsIGZ1enp5Cm1zZ2lkICJOb3V2ZWxsZSBwYXJ0aWUgPyIKbXNnc3RyICJOZXcgZ2FtZSA/IgoKIywgZnV6enkKbXNnaWQgIk5vdXZlbGxlIHBhcnRpZSIKbXNnc3RyICJOZXcgZ2FtZSIKCiMsIGZ1enp5Cm1zZ2lkICJWb3VzIHZlbmV6IGRlIGNvbW1lbmNlciB1bmUgbm91dmVsbGUgcGFydGllID8gVXRpbGlzZXogY2UgYm91dG9uIHBvdXIgc3VwcHJpbWVyIGxlcyBpbmZvcm1hdGlvbnMgZGUgdm90cmUgYW5jaWVubmUgcGFydGllIgptc2dzdHIgIllvdSBqdXN0IHN0YXJ0IGEgbmV3IGdhbWU/IFVzZSB0aGlzIGJ1dHRvbiB0byByZW1vdmUgdGhlIGluZm9ybWF0aW9uIGZyb20geW91ciBsYXRlc3QgZ2FtZS4iCgojLCBmdXp6eQptc2dpZCAiw4PCinRlcyB2b3VzIHPDg8K7ciBkZSB2b3Vsb2lyIGVmZmFjZXIgbGVzIGluZm9ybWF0aW9ucyBkZSBsYSBwYXJ0aWUgcHLDg8KpY8ODwqlkZW50ZSA/Igptc2dzdHIgIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIHByZXZpb3VzIGdhbWU/IgoKbXNnaWQgInRpdHJlcyIKbXNnc3RyICJ0aXRsZXMiCgojLCBmdXp6eQptc2dpZCAiUHLDg8Kpc2VudChzKSIKbXNnc3RyICJQcmVzZW50KHMpIgoKbXNnaWQgIsODwqlxdWlwYWdlIgptc2dzdHIgImNyZXcgbWVtYmVycyIKCm1zZ2lkICJpbnZlbnRhaXJlIgptc2dzdHIgInNoZWxmIGNvbnRlbnQiCgptc2dpZCAiUGFydGFnZXIiCm1zZ3N0ciAiU2hhcmUiCgptc2dpZCAiPHA+SW5zw4PCqHJlIGwnaW52ZW50YWlyZSBkZSBsYSBwacODwqhjZSBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PHN0cm9uZz5Db3Vsb2lyIGNlbnRyYWwgOjwvc3Ryb25nPiA8aT5Db21iaW5haXNvbjwvaT4sIDxpPkNvdXRlYXU8L2k+LCA8aT5Nw4PCqWRpa2l0PC9pPiwgPGk+RXh0aW5jdGV1cjwvaT48L3A+PHA+PHN0cm9uZz5QYXJ0YWdlIGF1c3NpIHN1ciBBc3Ryb3BhZCBzaSBjZWx1aS1jaSBlc3QgaW5zdGFsbMODwqkuPC9zdHJvbmc+PC9wPiIKbXNnc3RyICI8cD5JbnNlcnRzIHJvb20gc2hlbGYgY29udGVudCBpbiBhY3RpdmUgdGV4dCBhcmVhIGFzIGZvbGxvd3M6PC9wPjxwPjxzdHJvbmc+Q2VudHJhbCBDb3JyaWRvcjo8L3N0cm9uZz4gPGk+U3BhY2VzdWl0PC9pPiwgPGk+S25pZmU8L2k+LCA8aT5NZWRpa2l0PC9pPiwgPGk+RXh0aW5ndWlzaGVyPC9pPjwvcD48cD48c3Ryb25nPkFsc28gc2hhcmVzIG9uIEFzdHJvcGFkLCBpZiBpbnN0YWxsZWQ8L3N0cm9uZz48L3A+IgoKbXNnaWQgIkNvbnNvbW1hYmxlcyIKbXNnc3RyICJDb25zdW1tYWJsZXMiCgptc2dpZCAiUGFydGFnZXIgbGVzIGVmZmV0cyBkZXMgY29uc29tbWFibGVzIgptc2dzdHIgIlNoYXJlIGNvbnN1bW1hYmxlcycgZWZmZWN0cyIKCm1zZ2lkICJJbnPDg8KocmUgbGEgbGlzdGUgZGVzIGNvbnNvbW1hYmxlcyBhdmVjIGxldXJzIGVmZmV0cyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+VE9ETzogYXBlcsODwqd1PC9wPiIKbXNnc3RyICJJbnNlcnRzIGxpc3Qgb2YgY29uc3VtYWJsZXMgd2l0aCBlZmZlY3RzIGluIGFjdGl2ZSB0ZXh0IGFyZWEsIGFzIGZvbGxvd3MmbmJzcDs6PC9wPjxwPlRPRE86IGFwZXLDg8KndTwvcD4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ29tbWFuZGFudCIKbXNnc3RyICJDb21tYW5kZXIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTGUgQ29tbWFuZGFudCBkw4PCqWNpZGUgZGVzIHBsYW7Dg8KodGVzIHF1ZSBsZSBEYWVkYWx1cyBleHBsb3JlcmEuIgptc2dzdHIgIlRoZSBDb21tYW5kZXIgZGVjaWRlcyB3aGVyZSB0aGUgRGFlZGFsdXMgd2lsbCBnby4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQWRtaW5pc3RyYXRldXIgTkVST04iCm1zZ3N0ciAiTkVST04gQWRtaW4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTGUgcmVzcG9uc2FibGUgTkVST04gc2VtYmxlIGF2b2lyIHVuZSBjZXJ0YWluZSBpbmZsdWVuY2UgYXVwcsODwqhzIGRlIGwnb3JkaW5hdGV1ciBkZSBib3JkLiBJbCBlc3Qgbm90YW1tZW50IGxlIHNldWwgw4PCoCBhdm9pciBsYSBwb3NzaWJpbGl0w4PCqSBkZSB0cmFuc21ldHRyZSBkZXMgbWVzc2FnZXMgw4PCoCB0b3V0IGwnw4PCqXF1aXBhZ2UuIgptc2dzdHIgIlRoZSBORVJPTiBBZG1pbiBoYXMgc29tZSBpbmZsdWVuY2Ugd2l0aCBORVJPTiwgdGhlIG9uYm9hcmQgY29tcHV0ZXIuIFRoZXkgY2FuIGFsc28gc2VuZCBtZXNzYWdlcyB0byB0aGUgZW50aXJlIGNyZXcgdmlhIE5FUk9OLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZXNwb25zYWJsZSBkZSBDb21tdW5pY2F0aW9ucyIKbXNnc3RyICJDb21tcyBNYW5hZ2VyIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkxlIFJlc3BvbnNhYmxlIGRlIENvbW11bmljYXRpb25zIGVzdCBsYSBzZXVsZSBwZXJzb25uZSBoYWJpbGl0w4PCqWUgw4PCoCBkw4PCqWNpZGVyIHF1ZWxzIHNlcm9udCBsZXMgdMODwqlsw4PCqWNoYXJnZW1lbnRzIHByaW9yaXRhaXJlcyBkdSBDZW50cmUgZGUgQ29tbXVuaWNhdGlvbi4iCm1zZ3N0ciAiVGhlIENvbW11bmljYXRpb25zIE1hbmFnZXIgY2FuIHN0YXJ0IHRvIGNvbnRhY3Qgb3RoZXJzIG9uY2UgY29udGFjdCB3aXRoIFNvbCBpcyByZS1lc3RhYmxpc2hlZC4gVGhleSBjYW4gYWxzbyBzZW5kIGJyb2FkY2FzdHMgdG8gdGhlIGVudGlyZSBjcmV3LiIKCm1zZ2lkICJBdHRlbnRpb24iCm1zZ3N0ciAiIgoKbXNnaWQgIlZvdXMgcG91dmV6IGF1c3NpIG1vZGlmaWVyIGxlIGR1byBBbmRyZWsvQ2hhb2xhIGVuIGNsaXF1YW50IHN1ciBsJ2ljb25lIgptc2dzdHIgIiIKCm1zZ2lkICJQb3VyIGF2b2lyIHVuZSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIGNvcnJlY3RlLCB2b3VzIGRldmV6IG1ldHRyZSDDg8KgIGpvdXIgY2V0dGUgbGlzdGUgdmlhIGxlIG1vZHVsZSBDcnlvLiA8YnIvPlBvdXIgY2UgZmFpcmUsIHZldWlsbGV6IHZvdXMgcmVuZHJlIGF1IGxhYm8sIGxpc3RleiBsJ8ODwqlxdWlwYWdlIHZpYSBsZSBtb2R1bGUgQ3J5byBldCBjbGlxdWV6IHN1ciBsZSBib3V0b24gYXUgYmFzIGRlIGxhIGxpc3RlIGRlcyBwZXJzb25uYWdlcy48YnIvPkF0dGVudGlvbiwgbGUgYm91dG9uIG4nYXBwYXJhaXQgcXVlIGxvcnNxdWUgbCfDg8KpcXVpcGFnZSBlc3QgYXUgY29tcGxldC48cD48c3Ryb25nPiIKbXNnc3RyICIiCgojLCBmdXp6eQptc2dpZCAiPHA+Vm91cyDDg8KqdGVzIGRhbnMgbGEgbcODwqptZSBwacODwqhjZSBxdWUgY2V0dGUgcGVyc29ubmUgOyB2b3VzIHBvdXZleiBkb25jIGwnZXhhbWluZXIgZGUgcGx1cyBwcsODwqhzLjwvcD48cD48c3Ryb25nPkNsaXF1ZXogaWNpIHBvdXIgZW5yZWdpc3RyZXIgbGVzIGNvbXDDg8KpdGVuY2VzIHZpc2libGVzLCBzdGF0dXRzIHB1YmxpcXVlcyBldCB0aXRyZXMgZGUgY2UgcGVyc29ubmFnZS48L3N0cm9uZz48L3A+Igptc2dzdHIgIjxwPiBZb3UgYXJlIGluIHRoZSBzYW1lIHJvb20gYXMgdGhhdCBwZXJzb247IHNvIHlvdSBjYW4gZXhhbWluZSBpdCBtb3JlIGNsb3NlbHkuIDwvIHA+IDxwPiA8c3Ryb25nPiBDbGljayBoZXJlIHRvIHJlY29yZCB2aXNpYmxlIHNraWxscywgcHVibGljIHN0YXR1cyBhbmQgdGl0bGVzIG9mIHRoaXMgY2hhcmFjdGVyLiA8LyBzdHJvbmc+IDwvIHA+IgoKIy4gVHJhbnNsYXRvcnM6IFRleHQgZm9yIENyeW9nZW5pemVkIHBlb3BsZSBmcm9tIENyeW9Nb2R1bGUgIFVzZWxlc3MgdG8gdHJhbnNsYXRlIGluIEVuZ2xpc2gKbXNnaWQgIkNyeW8iCm1zZ3N0ciAiQ3J5byIKCm1zZ2lkICJUb3V0IGxlIG1vbmRlIGRvaXQgw4PCqnRyZSBkw4PCqWNyeW9nw4PCqW5pc8ODwqkgcG91ciBwb3V2b2lyIG1ldHRyZSDDg8KgIGpvdXIgbGEgbGlzdGUgZCfDg8KpcXVpcGFnZSIKbXNnc3RyICJFdmVyeWJvZHkgbXVzdCBiZSBkZWNyeW9nZW5pemVkIHRvIHVwZGF0ZSB0aGUgY3JldyBsaXN0IgoKbXNnaWQgIk1ldHRyZSDDg8KgIGpvdXIgbGEgbGlzdGUgZCfDg8KpcXVpcGFnZSIKbXNnc3RyICJVcGRhdGUgdGhlIGNyZXcgbGlzdCIKCm1zZ2lkICJDbGlxdWVyIGljaSBwb3VyIG1ldHRyZSDDg8KgIGpvdXIgbGEgbGlzdGUgZCfDg8KpcXVpcGFnZSBkZSBDVFJMK1ciCm1zZ3N0ciAiQ2xpY2sgaGVyZSB0byB1cGRhdGUgQ1RSTCtXIGNyZXcgbGlzdCIKCiMuIFRyYW5zbGF0b3JzOiBUZXh0IGZvciBpZGxlIHBlb3BsZSBmcm9tIENyeW9Nb2R1bGUuIFJlZ2V4IGFsbG93ZWQKbXNnaWQgIkluYWN0aXZlIgptc2dzdHIgIklkbGUiCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgYXdha2UgcGVvcGxlIGZyb20gQ3J5b01vZHVsZS4gUmVnZXggYWxsb3dlZAptc2dpZCAiRXZlaWxsw4PCqWU/Igptc2dzdHIgIkF3YWtlIgoKIy4gVHJhbnNsYXRvcnM6IFRleHQgZm9yIGRlYWQgcGVvcGxlIGZyb20gQ3J5b01vZHVsZS4gUmVnZXggYWxsb3dlZAptc2dpZCAiTW9ydGU/Igptc2dzdHIgIkRlYWQiCgptc2dpZCAiQ29ldXIgZGUgTkVST04iCm1zZ3N0ciAiTkVST04nUyBDT1JFIgoKbXNnaWQgIkxhYm9yYXRvaXJlIgptc2dzdHIgIlJlc2VhcmNoIExhYiIKCm1zZ2lkICI8cD5JbnPDg8KocmUgbGEgbGlzdGUgZGUgcmVjaGVyY2hlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PC9wPiIKbXNnc3RyICJJbnNlcnRzIHJlc2VhcmNoIGxpc3QgaW4gYWN0aXZlIHRleHQgYXJlYSwgYXMgZm9sbG93czo8L3A+PHA+PGxpPjxzdHJvbmc+UmVzZWFyY2ggTmFtZTwvc3Ryb25nPiAtIDAlPGJyLz5SZXNlYXJjaCBEZXNjcmlwdGlvbjxici8+Qm9udXM6IDxpPkJpb2xvZ2lzdDwvaT4sIDxpPk1lZGljPC9pPjwvbGk+PGxpPjxzdHJvbmc+UmVzZWFyY2ggTmFtZTwvc3Ryb25nPiAtIDAlPGJyLz5SZXNlYXJjaCBEZXNjcmlwdGlvbjxici8+Qm9udXM6IDxpPkJpb2xvZ2lzdDwvaT4sIDxpPk1lZGljPC9pPjwvbGk+PGxpPjxzdHJvbmc+UmVzZWFyY2ggTmFtZTwvc3Ryb25nPiAtIDAlPGJyLz5SZXNlYXJjaCBEZXNjcmlwdGlvbjxici8+Qm9udXM6IDxpPkJpb2xvZ2lzdDwvaT4sIDxpPk1lZGljPC9pPjwvbGk+IgoKIywgZnV6enkKbXNnaWQgIlBhcnRhZ2VyIHYyIgptc2dzdHIgIlNoYXJlIHYyIgoKIywgZnV6enkKbXNnaWQgIjxwPkluc8ODwqhyZSBsYSBsaXN0ZSBkZSByZWNoZXJjaGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPC9saT48L3A+Igptc2dzdHIgIkluc2VydHMgcmVzZWFyY2ggbGlzdCBpbiBhY3RpdmUgdGV4dCBhcmVhLCBhcyBmb2xsb3dzOjwvcD48cD48bGk+PHN0cm9uZz5SZXNlYXJjaCBOYW1lPC9zdHJvbmc+IC0gMCU8YnIvPlJlc2VhcmNoIERlc2NyaXB0aW9uPGJyLz5Cb251czogPGk+QmlvbG9naXN0PC9pPiwgPGk+TWVkaWM8L2k+PC9saT48bGk+PHN0cm9uZz5SZXNlYXJjaCBOYW1lPC9zdHJvbmc+IC0gMCU8YnIvPlJlc2VhcmNoIERlc2NyaXB0aW9uPGJyLz5Cb251czogPGk+QmlvbG9naXN0PC9pPiwgPGk+TWVkaWM8L2k+PC9saT48bGk+PHN0cm9uZz5SZXNlYXJjaCBOYW1lPC9zdHJvbmc+IC0gMCU8YnIvPlJlc2VhcmNoIERlc2NyaXB0aW9uPGJyLz5Cb251czogPGk+QmlvbG9naXN0PC9pPiwgPGk+TWVkaWM8L2k+PC9saT4iCgojLCBmdXp6eQptc2dpZCAiVmV1aWxsZXogdXRpbGlzZXIgbCdpbnZlbnRhaXJlIGR1IGxhYm8gcydpbCB2b3VzIHBsYcODwq50Igptc2dzdHIgIlBsZWFzZSB1c2UgdGhlIGludmVudG9yeSBvZiBsYWIgcGxlYXNlIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwcm9qZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48L3A+Igptc2dzdHIgIkluc2VydHMgcHJvamVjdCBsaXN0IGluIGFjdGl2ZSB0ZXh0IGFyZWEsIGFzIGZvbGxvd3M6PC9wPjxwPjxsaT48c3Ryb25nPlByb2plY3QgTmFtZTwvc3Ryb25nPiAtIDAlPGJyLz5Qcm9qZWN0IERlc2NyaXB0aW9uPGJyLz5Cb251czogPGk+U2hvb3RlcjwvaT4sIDxpPlBpbG90PC9pPjwvbGk+PGxpPjxzdHJvbmc+UHJvamVjdCBOYW1lPC9zdHJvbmc+IC0gMCU8YnIvPlByb2plY3QgRGVzY3JpcHRpb248YnIvPkJvbnVzOiA8aT5TaG9vdGVyPC9pPiwgPGk+UGlsb3Q8L2k+PC9saT48bGk+PHN0cm9uZz5Qcm9qZWN0IE5hbWU8L3N0cm9uZz4gLSAwJTxici8+UHJvamVjdCBEZXNjcmlwdGlvbjxici8+Qm9udXM6IDxpPlNob290ZXI8L2k+LCA8aT5QaWxvdDwvaT48L2xpPiIKCiMsIGZ1enp5Cm1zZ2lkICJQYXJ0YWdlciBsYSBwbGFuw4PCqHRlIgptc2dzdHIgIlNoYXJlIHRoZSBwbGFuZXQiCgojLCBmdXp6eQptc2dpZCAiUGFydGFnZSB1bmlxdWVtZW50IGNldHRlIHBsYW7Dg8KodGUgZGFucyBsJ2ludmVudGFpcmUiCm1zZ3N0ciAiU2hhcmUgb25seSB0aGlzIHBsYW5ldCBpbiB0aGUgaW52ZW50b3J5IgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwbGFuw4PCqHRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+VE9ETzogYXBlcsODwqd1Igptc2dzdHIgIkluc2VydHMgcGxhbmV0IGxpc3QgaW4gYWN0aXZlIHRleHQgYXJlYSwgYXMgZm9sbG93czo8L3A+PHA+VE9ETzogYXBlcsODwqd1IgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyBwYXJhbcODwqh0cmVzIgptc2dzdHIgIlNoYXJlIEJJT1MgcGFyYW1ldGVycyIKCm1zZ2lkICJDb20uIgptc2dzdHIgIkNvbS4iCgptc2dpZCAiUGxhbnRlcyIKbXNnc3RyICJQbGFudHMiCgptc2dpZCAiUGFydGFnZXIgbCfDg8KpdGF0IGRlcyBwbGFudGVzLiIKbXNnc3RyICJTaGFyZSBzdGF0ZSBvZiBwbGFudHMiCgptc2dpZCAiKFswLTldK3x1bnxhKSsgYXBwYXJlaWwiCm1zZ3N0ciAiIgoKbXNnaWQgImNvbm5lY3TDg8KpKGUpIgptc2dzdHIgImNvbm5lY3RlZCIKCm1zZ2lkICJDYW5hbCBwcml2w4PCqSIKbXNnc3RyICJQcml2YXRlIGNoYW5uZWwiCg=="},{"meta":{"name":"ctrl-w.po","url":"https://raw.github.com/badconker/ctrl-w/release/translations/es/LC_MESSAGES/ctrl-w.po","ts":1544430113041,"mimetype":"text/plain"},"source":"bXNnaWQgIiIKbXNnc3RyICIiCiJQcm9qZWN0LUlkLVZlcnNpb246IENUUkwrV1xuIgoiUmVwb3J0LU1zZ2lkLUJ1Z3MtVG86IGh0dHA6Ly90d2QuaW8vZS8wZmRiMHdcbiIKIlBPVC1DcmVhdGlvbi1EYXRlOiAyMDE2LTEwLTAxIDA5OjI0KzAyMDBcbiIKIkxhbmd1YWdlOiBlc1xuIgoiTUlNRS1WZXJzaW9uOiAxLjBcbiIKIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFxuIgoiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogOGJpdFxuIgoiWC1HZW5lcmF0b3I6IFBvZWRpdCAyLjBiZXRhM1xuIgoiUGx1cmFsLUZvcm1zOiBucGx1cmFscz0yOyBwbHVyYWw9KG4gIT0gMSk7XG4iCiJQTy1SZXZpc2lvbi1EYXRlOiBcbiIKIkxhc3QtVHJhbnNsYXRvcjogXG4iCiJMYW5ndWFnZS1UZWFtOiBcbiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDptdXNoIgptc2dzdHIgIjM0MDgwNjYxIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNvbW1hbmRhbnQgc3VwcsODwqptZSBkdSBEYWVkYWx1cy4iCm1zZ3N0ciAiUmVjb25vY2lkbyBuYXZlZ2FudGUgeSBjb21hbmRhbnRlIHN1cHJlbW8gZGVsIERhZWRhbHVzLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpqaW5fc3UiCm1zZ3N0ciAiMzE0NDc3MjAiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiU2NpZW50aWZpcXVlIG1pbGzDg8KpbmFpcmUuIgptc2dzdHIgIkV4cGVydGEgZW4gYXN0cm9mw4PCrXNpY2EgeSBsb3MgbWlzdGVyaW9zIGRlbCB1bml2ZXJzby4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6ZnJpZWRhIgptc2dzdHIgIjM0MzIxNzY5IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkdyYW5kIGFyY2hpdGVjdGUgZHUgRGFlZGFsdXMuIgptc2dzdHIgIkluZ2VuaWVybyBjcmVhZG9yIGRlbCBEYWVkYWx1cywgaG9tYnJlIGNsYXZlIGVuIGxhIG1pc2nDg8Kzbi4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6a3Vhbl90aSIKbXNnc3RyICIzNDg3NzEyMCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJQc3ljaG9sb2d1ZSBEaWdpdGFsZSBhdXggYXRvdXRzIGNlcnRhaW5zLiIKbXNnc3RyICJFbmNhcmdhZGEgZGVsIHNvcG9ydGUgcHNpY29sw4PCs2dpY28gZSBpbmZvcm3Dg8KhdGljbyBkZWwgZXF1aXBvLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpqYW5pY2UiCm1zZ3N0ciAiMzQwOTMyMjMiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiSHVtb3Jpc3RlIHBpbG90ZSBkZSBjaGFzc2Ugw4PCoCBzZXMgaGV1cmVzLiIKbXNnc3RyICJIdW1vcmlzdGEgeSBwaWxvdG8gZGUgY29tYmF0ZSBlbiBzdXMgaG9yYXMgbGlicmVzLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpyb2xhbmQiCm1zZ3N0ciAiMzQxNzc2MzIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRXhwbG9yYXRyaWNlIGRlIGwnRVhUUsODwopNRS4iCm1zZ3N0ciAiRXhwbG9yYWRvcmEgZGUgbG8gZXh0cmVtby4gRXhwZXJ0YSBlbiBhdGVycml6YWplcyBwZWxpZ3Jvc29zLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpodWEiCm1zZ3N0ciAiMzQ3OTY2OTIiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiT2ZmaWNpZXIgcHJpbmNpcGFsIGRlcyBDb21tdW5pY2F0aW9ucyBkdSBEYWVkYWx1cy4iCm1zZ3N0ciAiT2ZpY2lhbCBkZSBjb211bmljYWNpb25lcyBkZWwgRGFlZGFsdXMuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOnBhb2xhIgptc2dzdHIgIjMxMjQ5NjAzIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNoZWYgZGUgbGEgc8ODwqljdXJpdMODwqkgZHUgRGFlZGFsdXMuIgptc2dzdHIgIkplZmUgZGUgc2VndXJpZGFkIGRlbCBEYWVkYWx1cy4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Y2hhbyIKbXNnc3RyICIzMzg1Njc5OSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJCaW9sb2dpc3RlIGRlIHJlbm9tbcODwqllIGludGVybmF0aW9uYWxlLCBwaW9ubmnDg8KocmUgZGFucyBsJ8ODwql0dWRlIGR1IE11c2guIgptc2dzdHIgIkJpw4PCs2xvZ2EgZGUgcmVub21icmUsIHBpb25lcmEgZW4gZWwgZXN0dWRpbyBkZWwgTXVzaC4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6Zmlub2xhIgptc2dzdHIgIjMzODQ0ODA2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkN1aXNpbmllciBsZSBwbHVzIGRhbmdlcmV1eCBkZSBsYSBnYWxheGllLiIKbXNnc3RyICJNdWx0aW9maWNpb3MgeSBjb2NpbmVybyBlbiBlbCBEYWVkYWx1cy4iCgojLiBUcmFuc2xhdG9yczogVGhyZWFkIGlkIGZvciB0aGlzIGNoYXJhY3RlcidzIHR1dG9yaWFsLgptc2dpZCAidHV0b3JpYWxfaWQ6c3RlcGhlbiIKbXNnc3RyICIzMzkwMjg5NyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJDaGVyY2hldXIgZnJ1Z2l2b3JlIGZsZXhpYmxlLiIKbXNnc3RyICJDaWVudMODwq1maWNvIGJvdMODwqFuaWNvIG9ic2VzaXZvLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDppYW4iCm1zZ3N0ciAiMzE0MTkyNDkiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRGVybmllciBlc3BvaXIgZGUgbCdIdW1hbml0w4PCqS4iCm1zZ3N0ciAiw4PCmmx0aW1hIGVzcGVyYW56YSBwYXJhIGxhIGh1bWFuaWRhZCIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpjaHVuIgptc2dzdHIgIjMzODU3ODU2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkfDg8KpbmllIGRlIGxhIHBoeXNpcXVlIHF1YW50aXF1ZSBmw4PCqWxpbm9waGlsZS4iCm1zZ3N0ciAiR2VuaW8gZGUgbGEgZsODwq1zaWNhIGN1w4PCoW50aWNhIHkgYW1hbnRlIGRlIGxvcyBmZWxpbm9zLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDpyYWx1Y2EiCm1zZ3N0ciAiMzM4Mzg0MTkiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQXJtYXRldXIgcGhpbGFudHJvcGhvYmUuIgptc2dzdHIgIk1hZ25hdGUsIGZpbMODwqFudHJvcG8geSBjb25zdHJ1Y3RvciBkZWwgRGFlZGFsdXMuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmdpb2VsZSIKbXNnc3RyICIzMzg2NzQxNyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJJbnZlc3RpZ2F0cmljZSBkw4PCqWNodWUgZGUgcHJlbWllciBwbGFuLiIKbXNnc3RyICJQZXJpb2Rpc3RhIGludmVzdGlnYWRvcmEgZGUgbGFzIGNvbnNwaXJhY2lvbmVzIGVudHJlIGh1bWFub3MgeSBNdXNoLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDplbGVlc2hhIgptc2dzdHIgIjMxMjI5MjY2IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlRlY2hub3BoaWxlIG1vdG9yaXPDg8KpLiIKbXNnc3RyICJUw4PCqWNuaWNvIGVuIGFybWFtZW50bywgY29uIHVuYSByZXZhbmNoYSBwb3IgY29icmFyc2UuIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOnRlcnJlbmNlIgptc2dzdHIgIjM0OTA0Mzk3IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkZheW90IGRlIGxhIGbDg8KpZMODwqlyYXRpb24uIgptc2dzdHIgIlVubyBkZSBsb3MgbWVqb3JlcyBhZ2VudGVzIGRlIGxhIEZEUywgYWwgc2VydmljaW8gZGVsIERhZWRhbHVzLiIKCiMuIFRyYW5zbGF0b3JzOiBUaHJlYWQgaWQgZm9yIHRoaXMgY2hhcmFjdGVyJ3MgdHV0b3JpYWwuCm1zZ2lkICJ0dXRvcmlhbF9pZDphbmRpZSIKbXNnc3RyICIzODAwODc2NiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJIw4PCqXJvcyBtYWxncsODwqkgbHVpLiIKbXNnc3RyICJIw4PCqXJvZSB5IG11amVyaWVnbyBnYWzDg8KhY3RpY28uIgoKIy4gVHJhbnNsYXRvcnM6IFRocmVhZCBpZCBmb3IgdGhpcyBjaGFyYWN0ZXIncyB0dXRvcmlhbC4KbXNnaWQgInR1dG9yaWFsX2lkOmRlcmVrIgptc2dzdHIgIjM4NzkxMjQ1IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlZvdXMgbmUgdm91cyDDg8KqdGVzIHBhcyBjb25uZWN0w4PCqSBkZXB1aXMgMjRoLiBCb25uZSBjaGFuY2UgcG91ciBsYSBzdWl0ZS4uLiIKbXNnc3RyICJTaSB0dXMgYmFycmFzIGRlIDxpbWcgY2xhc3M9J3Bhc2xvdCcgc3JjPScvaW1nL2ljb25zL3VpL3BhX3Nsb3QxLnBuZycgYWx0PSdwYScgLz4gZXN0w4PCoW4gbGxlbmFzLCBlcmVzIGNvbnNpZGVyYWRvIGNvbW8gaW5hY3Rpdm8geSB0ZSB2dWVsdmVzIHVuIGJsYW5jbyBmw4PCoWNpbC4gTm8gcXVlcmVtb3MgaW1hZ2luYXIgbG8gcXVlIHBhc2Fyw4PCoS4uLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJJbmFjdGlmIgptc2dzdHIgIkluYWN0aXZvIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkRlc2NyaXB0aW9uIGdyYW5kIGluYWN0aWYiCm1zZ3N0ciAiTm8gaGFzIHNpZG8gbXV5IGFjdGl2bywgbm8gdGUgaGFzIGNvbmVjdGFkbyBoYWNlIG3Dg8KhcyBkZSA0OGgsIHR1IHRyaXB1bGFjacODwrNuIHNlIHZlcsODwqEgcGVyanVkaWNhZGEgeSBwb2Ryw4PCrWFuIHRvbWFyIHVuYSBkZWNpc2nDg8KzbiByYWRpY2FsLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJHcmFuZCBpbmFjdGlmIgptc2dzdHIgIkdyYW4gaW5hY3Rpdm8iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiVm91cyBmYWl0ZXMgcGFydGllIGR1IE11c2guIgptc2dzdHIgIkFob3JhIGVyZXMgdW4gTXVzaC4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTXVzaCIKbXNnc3RyICJNdXNoIgoKIy4gVHJhbnNsYXRvcnM6IGRvbWFpbiBuYW1lCm1zZ2lkICJtdXNoLnZnIgptc2dzdHIgIm11c2gudHdpbm9pZC5lcyIKCm1zZ2lkICJKb3VlciIKbXNnc3RyICJKdWdhciIKCm1zZ2lkICJNb24gY29tcHRlIgptc2dzdHIgIk1pIGN1ZW50YSIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBDYXN0aW5ncyBpZAptc2dpZCAiRm9ydW1DYXN0aW5nc0lkIgptc2dzdHIgIjEwOTgyMCIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBDYXN0aW5ncyBsYWJlbAptc2dpZCAiQ2FzdGluZ3MiCm1zZ3N0ciAiUmVhbGl0eSBTaG93cyIKCm1zZ2lkICJDbGFzc2VtZW50cyIKbXNnc3RyICJDbGFzaWZpY2FjacODwrNuIgoKbXNnaWQgIkZvcnVtIgptc2dzdHIgIkZvcm8iCgptc2dpZCAiQWlkZSIKbXNnc3RyICJBeXVkYSIKCm1zZ2lkICJFeHDDg8KpcmllbmNlIgptc2dzdHIgIkV4cGVyaWVuY2lhIgoKbXNnaWQgIk1hIGZpY2hlIgptc2dzdHIgIk1pIGZpY2hhIgoKbXNnaWQgIk1lcyByw4PCqWdsYWdlcyIKbXNnc3RyICJNaXMgb3BjaW9uZXMiCgptc2dpZCAiTmV3cyIKbXNnc3RyICJOb3RpY2lhcyIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGlkCm1zZ2lkICJGb3J1bURpc2N1c3Npb25JZCIKbXNnc3RyICI5MDk3MSIKCiMuIFRyYW5zbGF0b3JzOiBGb3J1bSBEaXNjdXNzaW9uIGxhYmVsCm1zZ2lkICJEaXNjdXNzaW9uIgptc2dzdHIgIkZvcm8gZGVsIGp1ZWdvIgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIEFkdmljZSBpZAptc2dpZCAiRm9ydW1BZHZpY2VJZCIKbXNnc3RyICIxMDk4MTUiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gQWR2aWNlIGxhYmVsCm1zZ2lkICJFbnRyYWlkZSIKbXNnc3RyICJGb3JvIGRlIGF5dWRhIgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIExvdW5nZSBpZAptc2dpZCAiRm9ydW1Mb3VuZ2VJZCIKbXNnc3RyICIxMDUzMDYiCgojLiBUcmFuc2xhdG9yczogRm9ydW0gTG91bmdlIGxhYmVsCm1zZ2lkICJEw4PCqXRlbnRlIgptc2dzdHIgIkJldGEtdGVzdCBNdXNoIgoKIy4gVHJhbnNsYXRvcnM6IEZvcnVtIE9mZmljZXJzIGlkCm1zZ2lkICJGb3J1bU9mZmljZXJzSWQiCm1zZ3N0ciAiMTE1NDUxIgoKbXNnaWQgIk9mZmljaWVycyIKbXNnc3RyICJCYXIgZGUgb2ZpY2lhbGVzIgoKbXNnaWQgIkFpZGUgTXVzaCIKbXNnc3RyICJBeXVkYSBNdXNoIgoKbXNnaWQgIlBhdGNobG9nIgptc2dzdHIgIlBhdGNobG9nIgoKbXNnaWQgIlR1dG8gJTEiCm1zZ3N0ciAiR3XDg8KtYSBkZSAlMSIKCiMuIFRyYW5zbGF0b3JzOiBXaWtpIHVybAptc2dpZCAiaHR0cDovL3d3dy50d2lucGVkaWEuY29tL211c2giCm1zZ3N0ciAiaHR0cDovL3d3dy5tdXNocGVkaWEuY29tL3dpa2kvTWFpbl9QYWdlIgoKIy4gVHJhbnNsYXRvcnM6IFdpa2kgZmF2aWNvbiB1cmwKbXNnaWQgImh0dHA6Ly93d3cudHdpbnBlZGlhLmNvbS9fbWVkaWEvZmF2aWNvbi5pY28iCm1zZ3N0ciAiaHR0cDovL3d3dy5tdXNocGVkaWEuY29tL2Zhdmljb24uaWNvIgoKbXNnaWQgIlR3aW5wZWRpYSIKbXNnc3RyICJNdXNocGVkaWEiCgptc2dpZCAibXVzaF9nYW1lX2lkIgptc2dzdHIgIjc2IgoKbXNnaWQgIkZvcnVtRkRTSWQiCm1zZ3N0ciAiMTA5ODIyIgoKbXNnaWQgIk1hZ2lzdHJhdHVyZSIKbXNnc3RyICJUcmlidW5hbCBGRFMiCgptc2dpZCAiTm9tIGNvbXBsZXQiCm1zZ3N0ciAiTm9tYnJlIGNvbXBsZXRvIgoKbXNnaWQgIk3Dg8KpbW9pcmUiCm1zZ3N0ciAiSGlzdG9yaWEiCgptc2dpZCAiTmV4dXMiCm1zZ3N0ciAiTmV4dXMiCgptc2dpZCAiTWVtYnJlcyIKbXNnc3RyICJNaWVtYnJvcyIKCm1zZ2lkICJIaXN0b3JpcXVlIgptc2dzdHIgIkhpc3RvcmlhbCIKCm1zZ2lkICJvayIKbXNnc3RyICJvayIKCm1zZ2lkICJ2YWxpZGVyIgptc2dzdHIgInZhbGlkYXIiCgptc2dpZCAiYW5udWxlciIKbXNnc3RyICJjYW5jZWxhciIKCm1zZ2lkICJTYWlzaXNzZXogbGUgdGl0cmUgZHUgbWVzc2FnZSIKbXNnc3RyICJJbnRyb2R1emNhIGVsIHTDg8KtdHVsbyBkZWwgbWVuc2FqZSIKCm1zZ2lkICJBc3Ryb3BhZCBzeW5jaHJvbmlzw4PCqS4iCm1zZ3N0ciAiw4LCoUFzdHJvUGFkIHNpbmNyb25pemFkbyEiCgptc2dpZCAiKH4lMSBqb3VyKSIKbXNnaWRfcGx1cmFsICIofiUxIGpvdXJzKSIKbXNnc3RyWzBdICIofiUxIGTDg8KtYSkiCm1zZ3N0clsxXSAiKH4lMSBkw4PCrWFzKSIKCm1zZ2lkICJJbmZvcyBkdSBqb3VldXIgbWlzZXMgw4PCoCBqb3VyLiIKbXNnc3RyICJJbmZvcm1hY2nDg8KzbiBkZSBqdWdhZG9yZXMgYWN0dWFsaXphZGEuIgoKbXNnaWQgIkFjdGl2ZXIgbGEgbWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8ODwqllIGRlcyBtZXNzYWdlcyAoYm9yZHVyZSArIGNvdWxldXIgbm9tICsgaW1hZ2UgZGUgZm9uZCkuIgptc2dzdHIgIlV0aWxpemEgZWwgZXN0aWxvIHBlcnNvbmFsaXphZG8gcGFyYSBsb3MgbWVuc2FqZXMgKG5vbWJyZSB5IGJvcmRlcyBjb2xvcmVhZG9zIG3Dg8KhcyBpbcODwqFnZW5lcyBkZSBmb25kbykuIgoKbXNnaWQgIlNpbXBsaWZpZXIgbGEgbWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8ODwqllIGRlcyBtZXNzYWdlcyAoc3VwcHJlc3Npb24gZGUgbCdpbWFnZSBkZSBmb25kKS4iCm1zZ3N0ciAiU2ltcGxpZmljYSBlbCBkaXNlw4PCsW8gZGUgaW50ZXJmYXogcGVyc29uYWxpemFkbyAob2N1bHRhIGxhcyBpbcODwqFnZW5lcyBkZSBmb25kbykuIgoKbXNnaWQgIkFmZmljaGVyIGxlIGxvZ28gTXVzaCBhdSBkZXNzdXMgZGVzIG9uZ2xldHMuIgptc2dzdHIgIk1vc3RyYXIgZWwgbG9nbyBkZSBNdXNoIHNvYnJlIGxhcyBwZXN0YcODwrFhcy4iCgptc2dpZCAiU8ODwqlwYXJlciBsZXMgcHJvamV0cyAvIHJlY2hlcmNoZXMgLyBwaWxncmVkIHNvdXMgbGEgem9uZSBkZSBqZXUuIgptc2dzdHIgIlNlcGFyYXIgbG9zIHByb3llY3RvcyBORVJPTiBkZSBsb3MgZGUgaW52ZXN0aWdhY2nDg8KzbiB5IFBpbGdyZWQuIgoKbXNnaWQgIlBsdXMgZCdvcHRpb25zIGRpc3BvbmlibGVzIHByb2NoYWluZW1lbnQuIgptc2dzdHIgIk3Dg8KhcyBvcGNpb25lcyBkaXNwb25pYmxlcyBwcsODwrN4aW1hbWVudGUuIgoKbXNnaWQgIk7Dg8KpY2Vzc2l0ZSB1biByZWNoYXJnZW1lbnQgZGUgbGEgcGFnZS4iCm1zZ3N0ciAiRXMgbmVjZXNhcmlvIHJlZnJlc2NhciBsYSBww4PCoWdpbmEuIgoKbXNnaWQgIlZpZGVyIGxlIGNhY2hlIGR1IHNjcmlwdCIKbXNnc3RyICJBY3R1YWxpemFyIHNjcmlwdCIKCm1zZ2lkICJDZSBib3V0b24gdm91cyBwZXJtZXQgZGUgdmlkZXIgbGUgY2FjaGUgZHUgc2NyaXB0IHBvdXIsIHBhciBleGVtcGxlLCBwcmVuZHJlIGVuIGNvbXB0ZSB0b3V0IGRlIHN1aXRlIHZvdHJlIG1vZGUgT3Igb3UgZm9yY2VyIHVuZSB2w4PCqXJpZmljYXRpb24gZGUgbWlzZSDDg8KgIGpvdXIuIEEgdXRpbGlzZXIgYXZlYyBwYXJjaW1vbmllIHN2cC4iCm1zZ3N0ciAiRXN0ZSBib3TDg8KzbiBsZSBwZXJtaXRlIGRlc2NhcmdhciBsYSBtZW1vcmlhIGFzb2NpYWRhIGFsIGd1acODwrNuIHBhcmEsIHBvciBlamVtcGxvLCB0b21hciBlbiBjdWVudGEgZW4gc2VndWlkYSBzdSBtb2RvIE9STyBvIGZvcnphciB1bmEgdmVyaWZpY2FjacODwrNuIGRlIGFjdHVhbGl6YWNpw4PCs24uIFV0aWxpemFyIGNvbiBwYXJzaW1vbmlhIHBvciBmYXZvci4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiQ3ljbGUgSHVtYWluIgptc2dzdHIgIkNpY2xvIGh1bWFubyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZWNoZXJjaGUgTWluZXVyIgptc2dzdHIgIkludmVzdGlnYWNpw4PCs24gbWVub3IiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiUmVjaGVyY2hlIgptc2dzdHIgIkludmVzdGlnYWNpw4PCs24iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRMODwqlmZW5zZXVyIER1IERhZWRhbHVzIgptc2dzdHIgIkRlZmVuc29yIGRlbCBEYWVkYWx1cyIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJFeHDDg8KpZGl0aW9uIgptc2dzdHIgIkV4cGVkaWNpw4PCs24iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTm91dmVsIFBsYW7Dg8KodGUiCm1zZ3N0ciAiTnVldm8gcGxhbmV0YSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJOb3V2ZWxsZSBQbGFuw4PCqHRlIgptc2dzdHIgIk51ZXZvIHBsYW5ldGEiCgptc2dpZCAiR2FnbsODwqkgw4PCoCBjaGFxdWUgcGxhbsODwqh0ZSAoYXJyaXbDg8KpZSBlbiBvcmJpdGUpLiIKbXNnc3RyICJDb25zZWd1aWRvIGFsIGxsZWdhciBhIGxhIMODwrNyYml0YSBkZSBjYWRhIHBsYW5ldGEuIgoKbXNnaWQgIkdhZ27Dg8KpIMODwqAgY2hhcXVlIGV4cGxvcmF0aW9uLiIKbXNnc3RyICJDb25zZWd1aWRvIGVuIGNhZGEgZXhwbG9yYWNpw4PCs24uIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIlJlY2hlcmNoZSBNaW5ldXJlIgptc2dzdHIgIkludmVzdGlnYWNpw4PCs24gbWVub3IiCgptc2dpZCAiR2FnbsODwqkgbG9yc3F1ZSBsYSByZWNoZXJjaGUgZXN0IHRlcm1pbsODwqllIGFpbnNpIHF1J3VuZSBzZWNvbmRlIGZvaXMgbG9ycyBkdSByZXRvdXIgc3VyIFNPTC4iCm1zZ3N0ciAiQ29uc2VndWlkbyBhbCBmaW5hbGl6YXIgbGEgaW52ZXN0aWdhY2nDg8KzbiwgeSBwb3Igc2VndW5kYSB2ZXogYWwgcmVncmVzYXIgYWwgU2lzdGVtYSBTb2xhci4iCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiRMODwqlmZW5zZXVyIGR1IERhZWRhbHVzIgptc2dzdHIgIkRlZmVuc29yIGRlbCBEYWVkYWx1cyIKCm1zZ2lkICJHYWduw4PCqSBwb3VyIGNoYXF1ZSBIdW50ZXIgYWJhdHR1LiIKbXNnc3RyICJDb25zZWd1aWRvIHBvciBjYWRhIEh1bnRlciBhYmF0aWRvLiIKCm1zZ2lkICJHYWduw4PCqSDDg8KgIGNoYXF1ZSBjeWNsZS4iCm1zZ3N0ciAiQ29uc2VndWlkbyBlbiBjYWRhIGNpY2xvLiIKCm1zZ2lkICJDbGlxdWV6IHBvdXIgcGx1cyBkJ2luZm9ybWF0aW9ucyIKbXNnc3RyICJIYXogY2xpY2sgYXF1w4PCrSBwYXJhIG3Dg8KhcyBpbmZvcm1hY2nDg8KzbiBzb2JyZSBDdHJsK1cuIgoKbXNnaWQgIlBhcnRhZ2VyIHNvbiDDg8KpdGF0IGRlIHNhbnTDg8KpIgptc2dzdHIgIkNvbXBhcnRpciBzYWx1ZCIKCm1zZ2lkICI8cD5JbnPDg8KocmUgdm90cmUgbm9tYnJlIGRlIHBvaW50cyBkZSB2aWUgZXQgZGUgbW9yYWwgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPlRPRE86IGV4YW1wbGU8L3A+Igptc2dzdHIgIjxwPkNvcGlhIHR1cyBwdW50b3MgZGUgdmlkYSB5IG1vcmFsIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8sIGNvbiBlbCBmb3JtYXRvJm5ic3A7OjwvcD48cD5UT0RPOiBFamVtcGxvPC9wPiIKCm1zZ2lkICJQYXJ0YWdlciBsJ2ludmVudGFpcmUiCm1zZ3N0ciAiQ29tcGFydGlyIGVsIGludmVudGFyaW8iCgptc2dpZCAiSW5zw4PCqHJlIGwnaW52ZW50YWlyZSBkZSBsYSBwacODwqhjZSBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+PHN0cm9uZz5Db3Vsb2lyIGNlbnRyYWwgOjwvc3Ryb25nPiA8aT5Db21iaW5haXNvbjwvaT4sIDxpPkNvdXRlYXU8L2k+LCA8aT5Nw4PCqWRpa2l0PC9pPiwgPGk+RXh0aW5jdGV1cjwvaT48L3A+PHA+PHN0cm9uZz5QYXJ0YWdlIGF1c3NpIHN1ciBBc3Ryb3BhZCBzaSBjZWx1aS1jaSBlc3QgaW5zdGFsbMODwqkuPC9zdHJvbmc+PC9wPiIKbXNnc3RyICJDb3BpYSBlbCBpbnZlbnRhcmlvIGRlIGxhIHNhbGEgYWwgY3VhZHJvIGRlIHRleHRvIGFjdGl2bywgY29uIGVsIHNpZ3VpZW50ZSBmb3JtYXRvJm5ic3A7OjwvcD48cD48c3Ryb25nPlBhc2lsbG8gY2VudHJhbCA6PC9zdHJvbmc+IDxpPkV4dGludG9yPC9pPiwgPGk+Q3VjaGlsbG88L2k+LCA8aT5Nw4PCqWRpa2l0PC9pPiwgPGk+VmVuZGFqZTwvaT48L3A+PHA+PHN0cm9uZz5TaSBoYXMgaW5zdGFsYWRvIEFzdHJvUGFkLCB0YW1iacODwqluIHNpbmNyb25pemFyw4PCoSBsYSBpbmZvcm1hY2nDg8Kzbi48L3N0cm9uZz48L3A+IgoKbXNnaWQgIlBhcnRhZ2VyIGwnw4PCqXRhdCBkZXMgcGxhbnRlcyIKbXNnc3RyICJDb21wYXJ0aXIgbGFzIHBsYW50YXMiCgptc2dpZCAiPHA+SW5zw4PCqHJlIGwnw4PCqXRhdCBkZXMgcGxhbnRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLjwvcD48cD5UT0RPOiBFeGVtcGxlPC9wPiIKbXNnc3RyICI8cD5Db3BpYSBsYSBsaXN0YSBkZSBwbGFudGFzIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8uPC9wPjxwPlRPRE86IEVqZW1wbG88L3A+IgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyBwcm9qZXRzIgptc2dzdHIgIkNvbXBhcnRpciBsb3MgcHJveWVjdG9zIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwcm9qZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT4iCm1zZ3N0ciAiQ29waWEgbGEgbGlzdGEgZGUgcHJveWVjdG9zIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8sIGNvbiBlbCBzaWd1aWVudGUgZm9ybWF0byAmbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPlByb3llY3RvPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz4gQm9udXMgOiA8aT5BcnRpbGxlcm88L2k+LCA8aT5QaWxvdG88L2k+PC9saT48bGk+PHN0cm9uZz5Qcm95ZWN0bzwvc3Ryb25nPiAgLSAwJTxici8+RGVzY3JpcGNpw4PCs248YnIvPkJvbnVzIDogPGk+QXJ0aWxsZXJvPC9pPiwgPGk+UGlsb3RvPC9pPjwvbGk+IDxsaT48c3Ryb25nPlByb3llY3RvPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz4gQm9udXMgOiA8aT5BcnRpbGxlcm88L2k+LCA8aT5QaWxvdG88L2k+PC9saT4gIgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyByZWNoZXJjaGVzIgptc2dzdHIgIkNvbXBhcnRpciBsYXMgaW52ZXN0aWdhY2lvbmVzIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSByZWNoZXJjaGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT4iCm1zZ3N0ciAiQ29waWEgbGEgbGlzdGEgZGUgaW52ZXN0aWdhY2lvbmVzIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8sIGNvbiBlbCBzaWd1aWVudGUgZm9ybWF0byZuYnNwOzo8L3A+PHA+PGxpPjxzdHJvbmc+SW52ZXN0aWdhY2nDg8Kzbjwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwY2nDg8Kzbjxici8+Qm9uaWZpY2FjacODwrNuOiA8aT5CacODwrNsb2dvPC9pPiwgPGk+TcODwqlkaWNvPC9pPjwvbGk+PGxpPjxzdHJvbmc+SW52ZXN0aWdhY2nDg8Kzbjwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwY2nDg8Kzbjxici8+Qm9udXM6IDxpPkJpw4PCs2xvZ288L2k+LCA8aT5Nw4PCqWRpY288L2k+PC9saT48bGk+PHN0cm9uZz5JbnZlc3RpZ2FjacODwrNuPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz5Cb251czogPGk+QmnDg8KzbG9nbzwvaT4sIDxpPk3Dg8KpZGljbzwvaT48L2xpPiIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGFyYW3Dg8KodHJlcyBCSU9TIgptc2dzdHIgIkNvbXBhcnRpciBsb3MgcGFyw4PCoW1ldHJvcyBkZSBsYSBCSU9TIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwYXJhbcODwqh0cmVzIEJJT1MgTmVyb24gZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPlRPRE86IGFwZXLDg8KndSIKbXNnc3RyICJDb3BpYSBsYSBsaXN0YSBkZSBwYXLDg8KhbWV0cm9zIGRlIGxhIEJJT1MgTkVST04gYWwgY3VhZHJvIGRlIHRleHRvIGFjdGl2bywgY29uIGVsIHNpZ3VpZW50ZSBmb3JtYXRvJm5ic3A7OjwvcD48cD5UT0RPOiBlbiBlc3R1ZGlvIgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyBwbGFuw4PCqHRlcyIKbXNnc3RyICJDb21wYXJ0aXIgbG9zIHBsYW5ldGFzIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsZXMgZMODwql0YWlscyBkZXMgcGxhbsODwqh0ZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZS48L3A+PHA+VE9ETzogRXhlbXBsZTwvcD4iCm1zZ3N0ciAiPHA+Q29waWEgbGEgaW5mb3JtYWNpw4PCs24gZGVsIHBsYW5ldGEgYWwgY3VhZHJvIGRlIHRleHRvIGFjdGl2by48L3A+PHA+VE9ETzogRWplbXBsbzwvcD4iCgptc2dpZCAiSW5zw4PCqXJlciB1biBzbWlsZXkiCm1zZ3N0ciAiSW5zZXRhciB1biBpY29uby4iCgptc2dpZCAiQmllbnTDg8K0dCBkaXNwb25pYmxlLiIKbXNnc3RyICJEaXNwb25pYmxlIHByw4PCs3hpbWFtZW50ZS4iCgptc2dpZCAiVmlkZXIgbGEgem9uZSBkZSB0ZXh0ZS4iCm1zZ3N0ciAiQ3VhZHJvIGRlIHRleHRvIHZhY8ODwq1vLiIKCm1zZ2lkICJGZXJtZXIgbGEgem9uZSBkZSB0ZXh0ZS4iCm1zZ3N0ciAiQ2VycmFyIGVsIGN1YWRybyBkZSB0ZXh0by4iCgptc2dpZCAiT3V2cmlyIGxlIG1hbmFnZXIuIgptc2dzdHIgIkFicmlyIGVsIGdlc3Rvci4iCgptc2dpZCAiVmVyc2lvbiAiCm1zZ3N0ciAiVmVyc2nDg8KzbiIKCm1zZ2lkICJNZXR0cmUgw4PCoCBqb3VyIgptc2dzdHIgIkFjdHVhbGl6YXIiCgptc2dpZCAiUG91ciBmaW5hbGlzZXIgbGEgbWlzZSDDg8KgIGpvdXIsIGFwcsODwqhzIGF2b2lyIGluc3RhbGzDg8KpIGxlIHNjcmlwdCwgdmV1aWxsZXogY2xpcXVlciBzdXIgbGUgYm91dG9uIGNpLWRlc3NvdXMuIgptc2dzdHIgIlBhcmEgdGVybWluYXIgbGEgYWN0dWFsaXphY2nDg8KzbiwgaGF6IGNsaWNrIGVuIGVsIGJvdMODwrNuIHRyYXMgaW5zdGFsYXIgZWwgc2NyaXB0LiIKCm1zZ2lkICJGaW5hbGlzZXIgbGEgbWlzZSDDg8KgIGpvdXIiCm1zZ3N0ciAiVGVybWluYSBsYSBhY3R1YWxpemFjacODwrNuIgoKbXNnaWQgIkRlcm5pw4PCqHJlIHZlcnNpb24gZGUgQ1RSTCtXIGluc3RhbGzDg8KpZSAoJTEpIDoiCm1zZ3N0ciAiw4PCmmx0aW1hIHZlcnNpw4PCs24gZGUgQ1RSTCtXIGluc3RhbGFkYSAoJTEpICIKCm1zZ2lkICJUcsODwqhzIGJpZW4sIG1lcmNpICEiCm1zZ3N0ciAiw4LCoU11eSBiaWVuLCBncmFjaWFzISIKCm1zZ2lkICJhcHByZW50cm9uIgptc2dzdHIgImxpYnJvdHJvbiIKCm1zZ2lkICJjaGFyZ2VzIgptc2dzdHIgImNhcmdhcyIKCm1zZ2lkICJ2aWRlIgptc2dzdHIgInZhY8ODwq1vIgoKbXNnaWQgImNhbcODwqlyYSIKbXNnc3RyICJjw4PCoW1hcmEiCgptc2dpZCAiZHJvbmUiCm1zZ3N0ciAiZHJvbiIKCm1zZ2lkICJwbGFudGVzIgptc2dzdHIgInBsYW50YXMiCgptc2dpZCAibWFsYWRlIgptc2dzdHIgImVuZmVybWEiCgptc2dpZCAic29pZiIKbXNnc3RyICJzZWRpZW50YSIKCm1zZ2lkICJkZXNzw4PCqWNow4PCqSIKbXNnc3RyICJzZWNhIgoKbXNnaWQgIlJBUyIKbXNnc3RyICJuYWRhIHF1ZSBpbmZvcm1hciIKCm1zZ2lkICJQcm9qZXRzIgptc2dzdHIgIlByb3llY3RvcyIKCm1zZ2lkICJSZWNoZXJjaGVzIgptc2dzdHIgIkludmVzdGlnYWNpb25lcyIKCm1zZ2lkICJQbGFuw4PCqHRlcyIKbXNnc3RyICJQbGFuZXRhcyIKCm1zZ2lkICIoTm9yZHxFc3R8T3Vlc3R8U3VkKSIKbXNnc3RyICIoTm9ydGV8RXN0ZXxPZXN0ZXxTdXIpIgoKbXNnaWQgImNhc2VzIgptc2dzdHIgInpvbmFzIgoKbXNnaWQgIlBhcmFtw4PCqHRyZXMgQklPUzoiCm1zZ3N0ciAiUGFyw4PCoW1ldHJvcyBCSU9TOiIKCm1zZ2lkICJDb21tdW5pY2F0aW9uczoiCm1zZ3N0ciAiT2ZpY2lhbCBkZSBDb211bmljYWNpb25lcyIKCm1zZ2lkICJEw4PCqWNvZGFnZTogIgptc2dzdHIgIkRlc2NpZnJhbWllbnRvOiAiCgptc2dpZCAiQmFzZShzKSBkw4PCqWNvZMODwqllKHMpOiAiCm1zZ3N0ciAiQmFzZShzKSBkZXNjaWZyYWRhKHMpOiAiCgptc2dpZCAiQmFzZShzKSBwZXJkdWUocyk6ICIKbXNnc3RyICJCYXNlKHMpIHBlcmRpZGEocyk6ICIKCm1zZ2lkICJDb25zb21tYWJsZXMgOiIKbXNnc3RyICJDb25zdW1pYmxlcyA6IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikKbXNnaWQgIkd1w4PCqXJpZSBsYSBtYWxhZGllIgptc2dzdHIgIkN1cmEgbGEgZW5mZXJtZWRhZCIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuIChDb25zdW1tYWJsZXMgZGVzY3JpcHRpb24pCm1zZ2lkICJzYXRpw4PCqXTDg8KpIgptc2dzdHIgInNhY2llZGFkIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikKbXNnaWQgIlByb3ZvcXVlIGxhIG1hbGFkaWUiCm1zZ3N0ciAiUHJvdm9jYSBsYSBlbmZlcm1lZGFkIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4gKENvbnN1bW1hYmxlcyBkZXNjcmlwdGlvbikKbXNnaWQgIkltcMODwqlyaXNzYWJsZSIKbXNnc3RyICJObyBwZXJlY2libGUiCgptc2dpZCAiVHJpb21waGUgcmV0b3VyIHN1ciBzb2wiCm1zZ3N0ciAiR2xvcmlhIHZ1ZWx0YSBhbCBTaXN0ZW1hIFNvbGFyIgoKbXNnaWQgIlJldG91ciBzdXIgU29sIDoiCm1zZ3N0ciAiVnVlbHRhIGFsIFNpc3RlbWEgU29sYXI6ICIKCm1zZ2lkICJCb251cyByZWNoZXJjaGVzIDogIgptc2dzdHIgIkJvbnVzIGludmVzdGlnYWNpb25lczogIgoKbXNnaWQgIk1hbHVzIG11c2ggZW4gdmllIDogIgptc2dzdHIgIk11c2ggY29uIHZpZGE6ICIKCm1zZ2lkICJUb3RhbCA6Igptc2dzdHIgIlRvdGFsOiAiCgptc2dpZCAiTmUgdGllbnQgcGFzIGNvbXB0ZSBkZXMgbXVzaHMgYW5vbnltZXMuIgptc2dzdHIgIklnbm9yYSBsb3MgbXVzaCBlc2NvbmRpZG9zLiIKCm1zZ2lkICLDg8KgIGwnaW5zdGFudCIKbXNnc3RyICJoYWNlIHVuIGluc3RhbnRlIgoKIyBtc2dpZCAiXH4oWzAtOV0rKWoiCiMgbXNnc3RyICJcfihbMC05XSspZCIKbXNnaWQgIkNoYW4gSVJDIgptc2dzdHIgIklSQyIKCm1zZ2lkICJWZW5leiBkaXNjdXRlciBzdXIgSVJDIGF2ZWMgbGVzIGF1dHJlcyB1dGlsaXNhdGV1cnMgZHUgc2NyaXB0LiBcdFx0XHRWb3VzIHBvdXJyZXogw4PCqWdhbGVtZW50IHkgdHJvdXZlciBkZSBsJ2FpZGUgb3UgZmFpcmUgZGVzIHN1Z2dlc3Rpb25zLjwvcD48cD48c3Ryb25nPkNoYW4gI2N0cmx3IHN1ciBRdWFrZW5ldDwvc3Ryb25nPiIKbXNnc3RyICJIYWJsYSBjb24gb3Ryb3MgdXN1YXJpb3MgZGUgQ3RybCtXIGVuIElSQy4gXHRcdFx0VGFtYmnDg8KpbiBwb2Ryw4PCoXMgZW5jb250cmFyIGF5dWRhIHkgb2ZyZWNlciBjb25zZWpvLjwvcD48cD48c3Ryb25nPkNoYW4gI2N0cmx3IGVuIFF1YWtlbmV0PC9zdHJvbmc+IgoKbXNnaWQgIlRvcGljIChGb3J1bSBNdXNoKSIKbXNnc3RyICJUZW1hIChGb3JvIGRlIE11c2gpIgoKIy4gVHJhbnNsYXRvcnM6IFNjcmlwdCB0b3BpYyAoTXVzaCBmb3J1bSkKbXNnaWQgImh0dHA6Ly90d2QuaW8vZS8wZmRiMHciCm1zZ3N0ciAiaHR0cDovL3R3ZC5pby9lL1R3bEcwdy8wIgoKbXNnaWQgIkNvbnRyaWJ1dGV1cnMgOiAiCm1zZ3N0ciAiQ29udHJpYnVpZG9yZXMgOiAiCgptc2dpZCAiVHJhZHVjdGV1cnMgOiAiCm1zZ3N0ciAiVHJhZHVjdG9yZXMgOiIKCm1zZ2lkICJTY3JpcHQgZMODwql2ZWxvcHDDg8KpIHBhciA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci84Mjk3Jz5raWxsMHU8L2E+LCBtYWludGVudSBwYXIgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMTI0NDE0Myc+YmFkY29ua2VyPC9hPjxici8+TGUgbG9nbywgbGVzIGltYWdlcyAobWlzZSBlbiBmb3JtZSBwZXJzb25uYWxpc8ODwqllIGRlcyBtZXNzYWdlcykgZXQgbGUgZGVzaWduIGR1IHNpdGUgd2ViIG9udCDDg8KpdMODwqkgZmFpdHMgcGFyIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzI5OTIwNTInPkdudXg8L2E+Ljxici8+Igptc2dzdHIgIlNjcmlwdCBkZXNhcnJvbGxhZG8gcG9yIDxhIGhyZWY9J2h0dHA6Ly90d2lub2lkLmNvbS91c2VyLzgyOTcnPmtpbGwwdTwvYT4sIG1hbnRlbmlkbyBwb3IgPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvMTI0NDE0Myc+YmFkY29ua2VyPC9hPjxici8+TG9nbywgaW3Dg8KhZ2VuZXMgeSBkaXNlw4PCsW8gd2ViIHBvciA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci8yOTkyMDUyJz5HbnV4PC9hPi48YnI+Q29udHJpYnVpZG9yZXMgOiA8YSBocmVmPSdodHRwOi8vdHdpbm9pZC5jb20vdXNlci84MDExNTY1Jz5OaWdodEV4Y2Vzc2l2ZTwvYT48YnIvPlRyYWR1Y2NjacODwrNuIGFsIGVzcGHDg8Kxb2wgcG9yIDogPGEgaHJlZj0naHR0cDovL3R3aW5vaWQuY29tL3VzZXIvNjAzMTY4Mic+S29oYWt1PC9hPjxicj4iCgptc2dpZCAiUmV0b3VyIGF1IGpldSIKbXNnc3RyICJWb2x2ZXIgYWwganVlZ28iCgptc2dpZCAiQ2zDg8KpIDoiCm1zZ3N0ciAiQ2xhdmUgOiIKCm1zZ2lkICJDb2xsZXogdm90cmUgY2zDg8KpIGljaSIKbXNnc3RyICJQZWd1ZSBzdSBjbGF2ZSBhcXXDg8KtIgoKbXNnaWQgIkfDg8KpbsODwqlyZXIgdW5lIG5vdXZlbGxlIGNsw4PCqSIKbXNnc3RyICJHZW5lcmFyIHVuYSBudWV2YSBjbGF2ZSIKCm1zZ2lkICJTdXBwcmltZXIgbGEgY2zDg8KpIgptc2dzdHIgIlN1cHJpbWlyIGxhIGNsYXZlIgoKbXNnaWQgIlNpIHZvdXMgc3VwcHJpbWV6IGxhIGNsw4PCqSwgdm91cyBuZSBwb3VycmV6IHBsdXMgc3luY2hyb25pc2VyIHZvcyBkb25uw4PCqWVzLCB2b3VsZXogdm91cyBjb250aW51ZXIgPyIKbXNnc3RyICJTaSBzdXByaW1lIGxhIGNsYXZlLCB1c3RlZCBubyBwb2Ryw4PCoSBzaW5jcm9uaXphciBzdXMgZGF0b3MsIMOCwr9kZXNlYSBjb250aW51YXI/IgoKbXNnaWQgIkFmaW4gZGUgcG91dm9pciBzeW5jaHJvbmlzZXIgdm9zIGRvbm7Dg8KpZXMgdm91cyBkZXZleiBlbnRyZXIgdm90cmUgY2zDg8KpIGQnYXV0aGVudGlmaWNhdGlvbi4gU2kgdm91cyBuJ2VuIG4nYXZleiBwYXMsIGNsaXF1ZXogc3VyIGxlIGJvdXRvbiBcIkfDg8KpbsODwqlyZXIgdW5lIG5vdXZlbGxlIGNsw4PCqVwiIgptc2dzdHIgIkNvbiBlbCBmaW4gZGUgcG9kZXIgc2luY3JvbmlzYXIgc3VzIGRhdG9zLCB1c3RlZCB0aWVuZSBxdWUgZW50cmFyIHN1IGNsYXZlIGRlIGF1dGVudGlmaWNhY2nDg8Kzbi4gU2kgbm8gbGEgdGllbmUsIHB1bHNlIGVsIGJvdMODwrNuIFwiR2VuZXJhciB1bmEgbnVldmEgY2xhdmVcIiIKCm1zZ2lkICJDb25zZXJ2ZXogcHLDg8KpY2lldXNlbWVudCB2b3RyZSBjbMODwqkgKGRhbnMgdm90cmUgYmxvYy1ub3RlIFR3aW5vaWQgcGFyIGV4ZW1wbGUpIGFmaW4gZGUgcG91dm9pciByw4PCqWN1cMODwqlyZXIgdm9zIGRvbm7Dg8KpZXMuIgptc2dzdHIgIkNvbnNlcnZlIHByZWNpb3NhbWVudGUgc3UgY2xhdmUgKGVuIHN1IGJsb2MgZGUgbm90YXMgVHdpbm/Dg8KvZCBwb3IgZWplbXBsbykgY29uIGVsIGZpbiBkZSBwb2RlciByZWN1cGVyYXIgc3VzIGRhdG9zLiIKCm1zZ2lkICJTeW5jaHJvbmlzYXRpb24gZWZmZWN0dcODwqllIgptc2dzdHIgIlNpbmNyb25pemFjacODwrNuIGNvbXBsZXRhZGEiCgptc2dpZCAiU3luY2hyb25pc2F0aW9uIGltcG9zc2libGUsIGNsw4PCqSBpbmNvcnJlY3RlIgptc2dzdHIgIlNpbmNyb25pemFjacODwrNuIGltcG9zaWJsZSwgY2xhdmUgaW5jb3JlY3RhIgoKbXNnaWQgIkxlcyBkb25uw4PCqWVzIGRpc3RhbnRlcyBzb250IHBsdXMgcsODwqljZW50ZXMgcXVlIGxlcyBkb25uw4PCqWVzIGxvY2FsZXMuIDxici8+IFF1ZSB2b3VsZXogdm91cyBmYWlyZSA/Igptc2dzdHIgIkxvcyBkYXRvcyByZW1vdG9zIHNvbiBtw4PCoXMgcmVjaWVudGVzIHF1ZSBsb3MgZGF0b3MgbG9jYWxlcy4gPGJyLz4gw4LCv1F1w4PCqSBkZXNlYSBoYWNlcj8iCgptc2dpZCAiRGF0ZSBzeW5jaHJvIHNlcnZldXIgOiAiCm1zZ3N0ciAiRmVjaGEgZGUgc2luY3JvIGRlbCBzZXJ2aWRvciA6ICIKCm1zZ2lkICJEYXRlIHN5bmNocm8gbG9jYWxlIDogIgptc2dzdHIgIkZlY2hhIGRlIHNpbmNybyBsb2NhbCA6IgoKbXNnaWQgIkVjcmFzZXIgbGVzIGRvbm7Dg8KpZXMgbG9jYWxlcyIKbXNnc3RyICJTb2JyZXNjcml0dXJhIGRlIGRhdG9zIGxvY2FsZXMiCgptc2dpZCAiRWNyYXNlciBsZXMgZG9ubsODwqllcyBkaXN0YW50ZXMiCm1zZ3N0ciAiU29icmVzY3JpdHVyYSBkZSBkYXRvcyByZW1vdG9zIgoKbXNnaWQgIkVzcGlvbm5hZ2UiCm1zZ3N0ciAiRXNwaW9uYWplIgoKbXNnaWQgIjxwPlZvdXMgw4PCqnRlcyBkYW5zIGxhIG3Dg8KqbWUgcGnDg8KoY2UgcXVlIGNldHRlIHBlcnNvbm5lIDsgdm91cyBwb3V2ZXogZG9uYyBsJ2V4YW1pbmVyIGRlIHBsdXMgcHLDg8Kocy48L3A+PHA+PHN0cm9uZz5DbGlxdWV6IGljaSBwb3VyIGVucmVnaXN0cmVyIGxlcyBjb21ww4PCqXRlbmNlcyB2aXNpYmxlcywgc3RhdHV0cyBwdWJsaXF1ZXMgZXQgdGl0cmVzIGRlIGNlIHBlcnNvbm5hZ2UuPC9zdHJvbmc+PHA+Igptc2dzdHIgIjxwPiBVc3RlZCBlc3TDg8KhIGVuIGVsIG1pc21vIGN1YXJ0byBxdWUgZXNhIHBlcnNvbmEgOyB1c3RlZCBwdWVkZSBleGFtaW5hcmxhIGRlIG3Dg8KhcyBjZXJjYS4gPC9wPjxwPjxzdHJvbmc+UHVsc2UgYXF1w4PCrSBwYXJhIHJlZ2lzdHJhciBsYXMgaGFiaWxpZGFkZXMgdmlzaWJsZXMsIGxvcyBlc3RhZG9zIHDDg8K6YmxpY29zIHkgbG9zIHTDg8KtdHVsb3MgIGRlIGVzdGUgcGVyc29uYWplLiA8L3N0cm9uZz48cD4iCgptc2dpZCAiTm90ZXMgcsODwqlzdW3Dg8KpZXMgOiIKbXNnc3RyICJOb3RhcyByZXN1bWlkYXMgOiIKCm1zZ2lkICJDZSB0ZXh0ZSBhcHBhcmFpdHJhIGF1IHN1cnZvbCBkZSBsYSBzb3VyaXMgc3VyIGwnaWNvbmUgZHUgcGVyc29ubmFnZSDDg8KgIGxhIHBsYWNlIGRlIGxhIGRlc2NyaXB0aW9uIG9yaWdpbmFsZSBkdSBqZXUiCm1zZ3N0ciAiRXN0ZSB0ZXh0byBhcGFyZWNlcsODwqEgYWwgZWNoYXIgdW4gdmlzdGF6byBjb24gZWwgcmF0w4PCs24gc29icmUgZWwgaWNvbm8gZGVsIHBlcnNvbmFqZSBlbiBsdWdhciB5IHBsYXphIGRlIGxhIGRlc2NyaXBjacODwrNuIG9yaWdpbmFsIGRlbCBqdWVnby4iCgptc2dpZCAiTm90ZXMgZMODwql0YWlsbMODwqllcyA6Igptc2dzdHIgIk5vdGFzIGRldGFsbGFkYXMgOiAiCgptc2dpZCAiRW5yZWdpc3RyZXIiCm1zZ3N0ciAiUmVnaXN0cmFyIgoKbXNnaWQgIkNvbXDDg8KpdGVuY2UgaW5hY3RpdmUgbXVzaCIKbXNnc3RyICJIYWJpbGlkYWQgaW5hY3RpdmEgYWwganVnYXIgY29tbyBNdXNoLiIKCm1zZ2lkICJDZXR0ZSBjb21ww4PCqXRlbmNlIGVzdCBpbmFjdGl2ZSBxdWFuZCBvbiBlc3QgbXVzaCAoc291cmNlIDogVHdpbnBlZGlhKS4iCm1zZ3N0ciAiRXN0YSBoYWJpbGlkYWQgZXN0w4PCoSBkZXNhY3RpdmFkYSBhbCBqdWdhciBjb21vIE11c2guIgoKbXNnaWQgIkF1Y3VuZSBkb25uw4PCqWUgZW5yZWdpc3Ryw4PCqWUiCm1zZ3N0ciAiSW5mb3JtYWNpw4PCs24gbm8gZGlzcG9uaWJsZSIKCm1zZ2lkICJNb3J0Igptc2dzdHIgIkZhbGxlY2lkby9hIgoKbXNnaWQgIlN0YXRpc3RpcXVlcyIKbXNnc3RyICJFc3RhZMODwq1zdGljYXMiCgptc2dpZCAiQWZmaWNoZSBsZXMgc3RhdGlzdGlxdWVzLCBldCBwZXJtZXQgZGUgZ8ODwqlyZXIgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw4PCqXMgZGFucyBsYSBwYWdlLiIKbXNnc3RyICJNdWVzdHJhIGRpdmVyc2FzIGVzdGFkw4PCrXN0aWNhcyB5IHRlIHBlcm1pdGUgZGVmaW5pciBlbCBuw4PCum1lcm8gZGUgbWVuc2FqZXMgcXVlIGNhcmdhbiBwb3IgcMODwqFnaW5hLiIKCm1zZ2lkICJOb3V2ZWF1eCBNZXNzYWdlcyIKbXNnc3RyICJOdWV2b3MgTWVuc2FqZXMiCgptc2dpZCAiQmVhdWNvdXAgZGUgbWVzc2FnZXMgw4PCoCBsaXJlID8gTGUgbWFuYWdlciBwZXJtZXQgZGUgcmF0dHJhcGVyIHNvbiByZXRhcmQgcGx1cyBmYWNpbGVtZW50LiBFbiBjaGFyZ2VhbnQgdG91cyBsZXMgbWVzc2FnZXMgZGFucyBsJ29uZ2xldCBTdGF0aXN0aXF1ZXMsIHZvdXMgcG91dmV6IGF1c3NpIHZvaXIgbGVzIG1lc3NhZ2VzIG5vbiBsdXMgbWFucXXDg8KpcyDDg8KgIGNhdXNlIGR1IGJ1ZyAoTXVzaCkgZGVzIG1lc3NhZ2VzLiIKbXNnc3RyICLDgsK/VGllbmVzIHVuIG1vbnTDg8KzbiBkZSBtZW5zYWplcyBzaW4gbGVlcj8gRWwgZ2VzdG9yIGRlIG1lbnNhamVyw4PCrWEgdGUgcGVybWl0ZSBwb25lcnRlIGFsIGTDg8KtYSBmw4PCoWNpbG1lbnRlLiBDdWFuZG8gY2FyZ3VlcyB0b2RvcyBsb3MgbWVuc2FqZXMgZW4gbGEgcGVzdGHDg8KxYSBkZSBFc3RhZMODwq1zdGljYXMsIHBvZHLDg8KhcyBsZWVyIGluY2x1c28gbG9zIG1lbnNhamVzIG5vIGxlw4PCrWRvcyBkZWJpZG8gYSBmYWxsb3MgZGVsIGp1ZWdvLiIKCm1zZ2lkICJSZWNoZXJjaGUgZGUgTWVzc2FnZXMiCm1zZ3N0ciAiQsODwrpzcXVlZGEgZGUgTWVuc2FqZXMiCgptc2dpZCAiVW5lIGRpc2N1c3Npb24gw4PCoCByZXRyb3V2ZXIgPyBFbnZpZSBkZSBzYXZvaXIgY29tYmllbiBkJ2luY2VuZGllcyBzZSBzb250IGTDg8KpY2xhcsODwqlzID8gKEBuZXJvbiBpbmNlbmRpZSBkYWVkYWx1cykiCm1zZ3N0ciAiw4LCv0J1c2NhcyB1biB0ZW1hIGVzcGVjw4PCrWZpY28/IMOCwr9RdWllcmVzIHNhYmVyIGN1w4PCoW50b3MgaW5jZW5kaW9zIGhhIGhhYmlkbz8gKEBuZXJvbiBpbmNlbmRpbykiCgojLiBUcmFuc2xhdG9yczogVGhpcyB0cmFuc2xhdGlvbiBtdXN0IGJlIGNvcGllZCBmcm9tIHRoZSBnYW1lLgptc2dpZCAiTGUgY2FuYWwgZGUgZGlzY3Vzc2lvbiBlc3QgaW5kaXNwZW5zYWJsZSBwb3VyIHMnb3JnYW5pc2VyIGF2ZWMgbCfDg8KpcXVpcGFnZS48L3A+PHA+UG91ciBwYXJ0aWNpcGVyIHZvdXMgZGV2ZXogcG9zc8ODwqlkZXIgdW4gPHN0cm9uZz50YWxraWUtd2Fsa2llPC9zdHJvbmc+LiIKbXNnc3RyICJFbCBjYW5hbCBkZSBjaGF0IGVzIGluZGlzcGVuc2FibGUgcGFyYSBsYSBvcmdhbml6YWNpw4PCs24uIDwvcD48cD5QYXJhIHBhcnRpY2lwYXIgZGViZXMgdGVuZXIgZWwgPGltZyBzcmM9Jy9pbWcvaWNvbnMvdWkvdGFsa2llLnBuZycvPiA8c3Ryb25nPndhbGtpZSB0YWxraWU8L3N0cm9uZz4uIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkZhdm9yaXMiCm1zZ3N0ciAiRmF2b3JpdG9zIgoKbXNnaWQgIlZvdHJlIHPDg8KpbGVjdGlvbiBkZSBzdWpldHMgZmF2b3Jpcy4iCm1zZ3N0ciAiVHVzIHRlbWFzIGZhdm9yaXRvcy4iCgptc2dpZCAiQXVjdW4gdG9waWMgc8ODwqlsZWN0aW9ubsODwqkuIgptc2dzdHIgIk5vIGhhcyBzZWxlY2Npb25hZG8gbmluZ8ODwrpuIHRlbWEuIgoKIy4gVHJhbnNsYXRvcnM6IFRoZSBiZWdpbm5pbmcgbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNhbmFsIE11c2giCm1zZ3N0ciAiQ2FuYWwgTXVzaCIKCm1zZ2lkICJTc3NoaCwgcGVyc29ubmUgbm91cyBlbnRlbmQgaWNpLi4uIExlIENhbmFsIE11c2ggZXN0IGxlIDxlbT5jYW5hbCBwcml2w4PCqTwvZW0+IHBvdXIgbGVzIGFkaMODwqlyZW50cyBhdXggPHN0cm9uZz5NdXNoPC9zdHJvbmc+IDxpbWcgc3JjPScvaW1nL2ljb25zL3VpL211c2gucG5nJyAvPi48L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICJTc3NoaCwgbmFkaWUgcHVlZGUgb2lybm9zIGFxdcODwq0uLi4gZWwgQ2FuYWwgTXVzaCBlcyBlbCA8ZW0+Y2FuYWwgcHJpdmFkbzwvZW0+IHBhcmEgbG9zIDxzdHJvbmc+TXVzaDwvc3Ryb25nPiA8aW1nIHNyYz0nL2ltZy9pY29ucy91aS9tdXNoLnBuZycgLz4uPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBDYXJhY3RlcsODwq1zdGljYSBubyBkZXNhcnJvbGxhZGE8L3N0cm9uZz4iCgptc2dpZCAiRGlzcG9uaWJsZSBwcm9jaGFpbmVtZW50LiIKbXNnc3RyICJEaXNwb25pYmxlIHByw4PCs3hpbWFtZW50ZS4iCgptc2dpZCAiQ2hhdCBwcml2w4PCqSIKbXNnc3RyICJDaGF0IHByaXZhZG8iCgptc2dpZCAiQ2hhdCBwcml2w4PCqSBvdXZlcnQgYXZlYyA6PGJyLz5bbGlzdGUgZGVzIHBhcnRpY2lwYW50c108L3A+PHA+PHN0cm9uZz4vISYjOTI7IEZvbmN0aW9ubmFsaXTDg8KpIG5vbiBjb2TDg8KpZTwvc3Ryb25nPiIKbXNnc3RyICJDb252ZXJzYWNpw4PCs24gcHJpdmFkYSBjb246IDxici8+W2xpc3RhIGRlIHBhcnRpY2lwYW50ZXNdPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBDYXJhY3RlcsODwq1zdGljYSBlbiBkZXNhcnJvbGxvPC9zdHJvbmc+IgoKbXNnaWQgIk5vdXZlYXUgbWVzc2FnZSIKbXNnc3RyICJOdWV2byBtZW5zYWplIgoKbXNnaWQgIlLDg8KpcG9uZGV6IMODwqAgdW4gdG9waWMgLyB1bmUgZGlzY3Vzc2lvbiBvdSBjcsODwqlleiB1biBub3V2ZWF1IHRvcGljLiIKbXNnc3RyICJSZXNwb25kZXIgYWwgdGVtYSBvIGNyZWFyIHVubyBudWV2by4iCgptc2dpZCAiQW5ub25jZXMgdm9jb2TDg8KpZXMiCm1zZ3N0ciAiQW51bmNpb3MgZGUgTkVST04iCgptc2dpZCAiQXNzaXN0YW50IHBvdXIgbGVzIEFkbWluLiBOw4PCqXJvbiBwb3VyIGZhY2lsaXRlciBsYSBjcsODwqlhdGlvbiBkJ2Fubm9uY2VzIHZvY29kw4PCqWVzLjwvcD48cD48c3Ryb25nPi8hJiM5MjsgRm9uY3Rpb25uYWxpdMODwqkgbm9uIGNvZMODwqllPC9zdHJvbmc+Igptc2dzdHIgIkFzaXN0ZW50ZSBwYXJhIGxvcyBBZG1pbmlzdHJhZG9yZXMgZGUgTmVyb24gZW4gbGEgY3JlYWNpw4PCs24gZGUgYW51bmNpb3Mgdm9jYWxlcy48L3A+PHA+PHN0cm9uZz4vISYjOTI7IENhcmFjdGVyw4PCrXN0aWNhIG5vIGRlc2Fycm9sbGFkYTwvc3Ryb25nPiIKCm1zZ2lkICJNZXNzYWdlcyBwcsODwqktZW5yZWdpc3Ryw4PCqXMiCm1zZ3N0ciAiTWVuc2FqZXMgcHJlLWdyYWJhZG9zIgoKbXNnaWQgIk1lc3NhZ2VzIHLDg8KpY3VycmVudHMgJiBhdXRyZXMgKMODwqAgZMODwqlmaW5pcikuPC9wPjxwPjxzdHJvbmc+LyEmIzkyOyBGb25jdGlvbm5hbGl0w4PCqSBub24gY29kw4PCqWU8L3N0cm9uZz4iCm1zZ3N0ciAiTWVuc2FqZXMgcmVwZXRpZG9zICYgbcODwqFzIChhIGRlZmluaXIpLjwvcD48cD48c3Ryb25nPi8hJiM5MjsgQ2FyYWN0ZXLDg8Ktc3RpY2Egbm8gZGVzYXJyb2xsYWRhPC9zdHJvbmc+IgoKbXNnaWQgIkZlcm1lciBsZSBNYW5hZ2VyIgptc2dzdHIgIkNlcnJhciBlbCBnZXN0b3IiCgptc2dpZCAiUsODwqlkdWlyZSBsZSBNYW5hZ2VyIgptc2dzdHIgIlJlZHVjaXIgZWwgdGFtYcODwrFvIGRlbCBnZXN0b3IiCgptc2dpZCAiQ2hhcmdlbWVudCBlbiBjb3Vycy4uLiIKbXNnc3RyICJDYXJnYW5kby4uLiIKCm1zZ2lkICJHw4PCqXJleiBsZSBub21icmUgZGUgbWVzc2FnZXMgY2hhcmfDg8Kpcy5MZSBtYW5hZ2VyIGVzdCBwbHVzIGNvbXBsZXQgbG9yc3F1ZSB0b3VzIGxlcyBtZXNzYWdlcyBzb250IGNoYXJnw4PCqXMsIG1haXMgbGUgamV1IGRldmllbnQgYmVhdWNvdXAgcGx1cyBsZW50IMODwqAgY2F1c2UgZHUgY2hhcmdlbWVudCBkZSBjZXMgbWVzc2FnZXMgw4PCoCBjaGFxdWUgYWN0aW9uIChwYXJ0aWN1bGFyaXTDg8KpIGRlIG11c2guLi4pLiIKbXNnc3RyICJHZXN0aW9uYSBlbCBuw4PCum1lcm8gZGUgbWVuc2FqZXMgY2FyZ2Fkb3MuIEVsIGdlc3RvciBzZXLDg8KhIG3Dg8KhcyDDg8K6dGlsIGNvbiBlbCBoaXN0b3JpYWwgZGUgbWVuc2FqZXMgY29tcGxldG8sIHBlcm8gZWwganVlZ28gc2UgcmFsZW50aXphcsODwqEgZGViaWRvIGEgcXVlIHJlY2FyZ2EgZWwgaGlzdG9yaWFsIGVuIGNhZGEgYWNjacODwrNuLiIKCm1zZ2lkICJUb3V0IGNoYXJnZXIiCm1zZ3N0ciAiQ2FyZ2FyIgoKbXNnaWQgIkNoYXJnZXIgdG91cyBsZXMgbWVzc2FnZXMiCm1zZ3N0ciAiQ2FyZ2FyIHRvZG9zIGxvcyBtZXNhamVzIgoKbXNnaWQgIkNoYXJnZXogdG91cyBsZXMgbWVzc2FnZXMgcG91ciBwcm9maXRlciBwbGVpbmVtZW50IGR1IG1hbmFnZXIgOiByZWNoZXJjaGVzIGRhbnMgdG91cyBsZXMgbWVzc2FnZXMgZGVwdWlzIGxlIGTDg8KpYnV0IGRlIGxhIHBhcnRpZSwgbm91dmVhdXggbWVzc2FnZXMgbWFucXXDg8KpcyDDg8KgIGNhdXNlIGR1IGJ1ZyBkZSBtdXNoLCBzdGF0aXN0aXF1ZXMgY29tcGzDg8KodGVzLCBldGMuPC9wPjxwPjxzdHJvbmc+Q2V0dGUgYWN0aW9uIHBldXQgcHJlbmRyZSB1biBjZXJ0YWluIHRlbXBzLCBzdWl2YW50IGxlIG5vbWJyZSBkZSBtZXNzYWdlcyBwb3N0w4PCqXMgc3VyIHZvdHJlIHZhaXNzZWF1Ljwvc3Ryb25nPiIKbXNnc3RyICJDYXJnYSB0b2RvcyBsb3MgbWVuc2FqZXMgcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBiZW5lZmljaW9zIGRlbCBnZXN0b3I6IGJ1c2NhciBjdWFscXVpZXIgbWVuc2FqZSBkZXNkZSBlbCBpbmljaW8gZGUgbGEgcGFydGlkYSwgbWVuc2FqZXMgbnVldm9zIG5vIGxlw4PCrWRvcyBhIGNhdXNhIGRlIGZhbGxvcywgZXN0YWTDg8Ktc3RpY2FzIGNvbXBsZXRhcywgZXRjLjwvcD48cD48c3Ryb25nPkVzdGEgYWNjacODwrNuIHB1ZWRlIHRhcmRhciB1biB0aWVtcG8gY29uc2lkZXJhYmxlIGRlcGVuZGllbmRvIGRlbCB0YW1hw4PCsW8gZGVsIGhpc3RvcmlhbCBkZSBtZW5zYWplcy48L3N0cm9uZz4iCgptc2dpZCAiRMODwqljaGFyZ2VyIgptc2dzdHIgIlZhY2lhciIKCm1zZ2lkICJEw4PCqWNoYXJnZXIgbGVzIG1lc3NhZ2VzIgptc2dzdHIgIkRlc2NhcmdhciBsb3MgbWVzYWplcyIKCm1zZ2lkICJEw4PCqWNoYXJnZXogbGEgbGlzdGUgZGUgbWVzc2FnZXMgcG91ciBhbGzDg8KpZ2VyIGxlIGpldS4gTG9yc3F1ZSB2b3VzIGNoYXJnZXogZGVzIG1lc3NhZ2VzIChlbiBzY3JvbGxhbnQgc3VyIGxlIGNoYXQsIHBhciBleGVtcGxlKSwgY2V1eC1jaSByZXN0ZW50IGNoYXJnw4PCqXMuIE11c2ggY2hhcmdlYW50IHRvdXRlIGxhIHBhZ2UgKGRvbnQgbGVzIG1lc3NhZ2VzKSDDg8KgIGNoYXF1ZSBhY3Rpb24sIHZvdHJlIGpldSBlc3QgZ3JhbmRlbWVudCByYWxlbnRpIGxvcnNxdWUgbGUgbm9tYnJlIGRlIG1lc3NhZ2VzIGNoYXJnw4PCqXMgZXN0IGNvbnPDg8KpcXVlbnQuPC9wPjxwPjxzdHJvbmc+Q2V0dGUgYWN0aW9uIGZlcm1lcmEgbGUgTWVzc2FnZSBNYW5hZ2VyIGV0IHJhZnJhw4PCrmNoaXJhIGxhIHBhZ2UuPC9zdHJvbmc+Igptc2dzdHIgIkRlc2NhcmdhIGVsIGhpc3RvcmlhbCBkZSBtZW5zYWplcyBwYXJhIGF1bWVudGFyIGVsIHJlbmRpbWllbnRvIGRlbCBqdWVnby4gQ3VhbmRvIHVuIG1lbnNhamUgY2FyZ2EsIChhbCBkZXNwbGF6YXJ0ZSBwb3IgbGEgcMODwqFnaW5hKSwgcGVybWFuZWNlbiBjYXJnYWRvcy4gRW4gY2FkYSBhY2Npw4PCs24sIGVsIGp1ZWdvIHJlY2FyZ2EgbGEgcMODwqFnaW5hIGNvbXBsZXRhLCBpbmNsdXllbmRvIGxvcyBtZW5zYWplcywgbG8gcXVlIHJhbGVudGl6YSBlbCBqdWVnbyBzaWduaWZpY2F0aXZhbWVudGUgc2kgZWwgaGlzdG9yaWFsIGRlIG1lbnNhamVzIHRpZW5lIHVuIHRhbWHDg8KxbyBjb25zaWRlcmFibGUuPC9wPjxwPjxzdHJvbmc+RXN0YSBhY2Npw4PCs24gY2VycmFyw4PCoSBlbCBHZXN0b3IgZGUgTWVuc2FqZXMgeSByZWNhcmdhcsODwqEgbGEgcMODwqFnaW5hLjwvc3Ryb25nPiIKCm1zZ2lkICJUb3RhbCA6IDxiPiUxPC9iPiBtZXNzYWdlIGNoYXJnw4PCqSIKbXNnaWRfcGx1cmFsICJUb3RhbCA6IDxiPiUxPC9iPiBtZXNzYWdlcyBjaGFyZ8ODwqlzIgptc2dzdHJbMF0gIlRvdGFsOiA8Yj4lMTwvYj4gbWVuc2FqZSBjYXJnYWRvIgptc2dzdHJbMV0gIlRvdGFsOiA8Yj4lMTwvYj4gbWVuc2FqZXMgY2FyZ2Fkb3MiCgptc2dpZCAiZW4gPGI+JTE8L2I+IHRvcGljLiA8YnIvPiAoZGVwdWlzICUyKSIKbXNnaWRfcGx1cmFsICJlbiA8Yj4lMTwvYj4gdG9waWNzLiA8YnIvPiAoZGVwdWlzICUyKSIKbXNnc3RyWzBdICJlbiA8Yj4lMTwvYj4gdGVtYS4gPGJyLz4gKGVuICUyKSIKbXNnc3RyWzFdICJlbiA8Yj4lMTwvYj4gdGVtYXMuIDxici8+IChlbiAlMikiCgptc2dpZCAiVG90YWwgOiAlMSBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIlRvdGFsIDogJTEgbWVzc2FnZXMiCm1zZ3N0clswXSAiVG90YWw6ICUxIG1lbnNhamUiCm1zZ3N0clsxXSAiVG90YWw6ICUxIG1lbnNhamVzIgoKbXNnaWQgIjxiPiUxPC9iPiBtZXNzYWdlIgptc2dpZF9wbHVyYWwgIjxiPiUxPC9iPiBtZXNzYWdlcyIKbXNnc3RyWzBdICI8Yj4lMTwvYj4gbWVuc2FqZSIKbXNnc3RyWzFdICI8Yj4lMTwvYj4gbWVuc2FnZXMiCgptc2dpZCAiZG9udCA8Yj4lMTwvYj4gdG9waWMuIgptc2dpZF9wbHVyYWwgImRvbnQgPGI+JTE8L2I+IHRvcGljcy4iCm1zZ3N0clswXSAiZGVsIGN1YWwgPGI+JTE8L2I+IHRlbWEuIgptc2dzdHJbMV0gImRlIGxvcyBjdWFsZXMgPGI+JTE8L2I+IHRlbWFzLiIKCiMuIFRyYW5zbGF0b3JzOiAlMSA9IGNoYXJhY3RlciBuYW1lLCAlMiA9IG1lc3NhZ2UgY291bnQKbXNnaWQgIioqJTEgOiAqKiAvLyUyLy8gbWVzc2FnZSIKbXNnaWRfcGx1cmFsICIqKiUxIDogKiogLy8lMi8vIG1lc3NhZ2VzIgptc2dzdHJbMF0gIioqJTEgOiAqKiAvLyUyLy8gbWVuc2FqZSIKbXNnc3RyWzFdICIqKiUxIDogKiogLy8lMi8vIG1lbnNhamVzIgoKbXNnaWQgIiUxIHLDg8KpcG9uc2UiCm1zZ2lkX3BsdXJhbCAiJTEgcsODwqlwb25zZXMiCm1zZ3N0clswXSAiJTEgcmVzcHVlc3RhIgptc2dzdHJbMV0gIiUxIHJlc3B1ZXN0YXMiCgptc2dpZCAiJTEgbWVzc2FnZSBub24gbHUiCm1zZ2lkX3BsdXJhbCAiJTEgbWVzc2FnZXMgbm9uIGx1cyIKbXNnc3RyWzBdICIlMSBtZW5zYWplIHNpbiBsZWVyIgptc2dzdHJbMV0gIiUxIG1lbnNhamVzIHNpbiBsZWVyIgoKbXNnaWQgIkF1Y3VuIG1lc3NhZ2Ugbm9uIGx1LiIKbXNnc3RyICJObyBoYXkgbWVuc2FqZXMgc2luIGxlZXIuIgoKbXNnaWQgIlZvdXMgbidhdmV6IHBhcyBkZSBmYXZvcmlzLiIKbXNnc3RyICJObyB0aWVuZXMgZmF2b3JpdG9zLiIKCm1zZ2lkICJGb25jdGlvbiBkZSByZWNoZXJjaGUiCm1zZ3N0ciAiQnVzY2FyIgoKbXNnaWQgIi0gVm91cyBwb3V2ZXogcmVjaGVyY2hlciBwbHVzaWV1cnMgbW90cywgZGFucyBsZSBkw4PCqXNvcmRyZSwgY29tcGxldHMgb3Ugbm9uLCBxdSdpbXBvcnRlIGxlIGNvbnRlbnUgZW50cmUgZXV4IGRhbnMgbGUgbWVzc2FnZS4iCm1zZ3N0ciAiLSBQdWVkZXMgYnVzY2FyIHZhcmlhcyBwYWxhYnJhcywgaW5jbHVzbyBkZXNvcmRlbmFkYXMsIGNvbXBsZXRhcyBvIG5vLiIKCm1zZ2lkICItIFBvdXIgcmVjaGVyY2hlciBsZXMgbWVzc2FnZXMgZCd1biBqb3VldXIgZW4gcGFydGljdWxpZXIsIHV0aWxpc2V6IDxpPkBwZXJzb25uYWdlPC9pPiAobGUgcHLDg8Kpbm9tIGVuIG1pbnVzY3VsZSwgYXZlYyB1biBfIHBvdXIga3Vhbl90aSBldCBqaW5fc3UpLiIKbXNnc3RyICItIFBhcmEgYnVzY2FyIG1lbnNhamVzIGRlIHVuIGp1Z2Fkb3IgZW4gY29uY3JldG8sIHVzYSA8aT5AcGVyc29uYWplPC9pPiAobm9tYnJlIGVuIG1pbsODwrpzY3VsYXMsIGNvbiB1biBfIHBhcmEga3Vhbl90aSB5IGppbl9zdSkuIgoKbXNnaWQgIi0gUG91ciByZWNoZXJjaGVyIHVuaXF1ZW1lbnQgZGFucyBsZSBwcmVtaWVyIG1lc3NhZ2UgZGVzIHRvcGljcywgdXRpbGlzZXogPGk+QHRvcGljPC9pPi4iCm1zZ3N0ciAiLSBQYXJhIGxpbWl0YXIgbGEgYsODwrpzcXVlZGEgYWwgcHJpbWVyIG1lbnNhamUgZGUgbG9zIHRlbWFzLCB1c2EgPGk+QHRvcGljPC9pPi4iCgptc2dpZCAiJTEgcsODwqlzdWx0YXQgKG1heGltdW0gOiAlMikuIgptc2dpZF9wbHVyYWwgIiUxIHLDg8Kpc3VsdGF0cyAobWF4aW11bSA6ICUyKS4iCm1zZ3N0clswXSAiJTEgcmVzdWx0YWRvIChtw4PCoXhpbW86ICUyKS4iCm1zZ3N0clsxXSAiJTEgcmVzdWx0YWRvcyhtw4PCoXhpbW86ICUyKS4iCgptc2dpZCAiQXVjdW4gcsODwqlzdWx0YXQuIgptc2dzdHIgIk5pbmfDg8K6biByZXN1bHRhZG8gb2J0ZW5pZG8uIgoKbXNnaWQgIkxlIHRleHRlIHJlY2hlcmNow4PCqSBlc3QgdHJvcCBjb3VydC4iCm1zZ3N0ciAiRWwgdGV4dG8gZGUgYsODwrpzcXVlZGEgZXMgZGVtYXNpYWRvIGNvcnRvLiIKCm1zZ2lkICJDaGFyZ2VtZW50w6LCgMKmIgptc2dzdHIgIkNhcmdhbmRvLi4uIgoKbXNnaWQgIlLDg8KpcG9uZHJlIGF1IHRvcGljIgptc2dzdHIgIlJlc3BvbmRlciBhbCB0ZW1hIgoKbXNnaWQgIkVudm95ZXIgY2UgbWVzc2FnZSBlbiB0YW50IHF1ZSByw4PCqXBvbnNlIGF1IHRvcGljIGFmZmljaMODwqkgY2ktY29udHJlLiIKbXNnc3RyICJFbnZpYXIgZXN0ZSBtZW5zYWplIGNvbW8gcmVzcHVlc3RhIGFsIHRlbWEgYWN0dWFsLiIKCm1zZ2lkICJOb3V2ZWF1IHRvcGljIgptc2dzdHIgIk51ZXZvIHRlbWEiCgptc2dpZCAiUG9zdGVyIGNlIG1lc3NhZ2UgZW4gdGFudCBxdWUgbm91dmVhdSB0b3BpYy4iCm1zZ3N0ciAiRW52aWFyIGVzdGUgbWVuc2FqZSBjb21vIHVuIG51ZXZvIHRlbWEuIgoKbXNnaWQgIkFqb3V0ZXIgYXV4IGZhdm9yaXMiCm1zZ3N0ciAiQWdyZWdhciBhIGxvcyBmYXZvcml0b3MiCgptc2dpZCAiTGUgbWVzc2FnZSBleGlzdGUgZMODwqlqw4PCoC4iCm1zZ3N0ciAiRWwgbWVuc2FqZSBleGlzdGUgeWEuIgoKbXNnaWQgIkxlIHRpdHJlIGVzdCB2aWRlLiIKbXNnc3RyICJFbCB0w4PCrXR1bG8gZXN0w4PCoSB2YWPDg8Ktby4iCgptc2dpZCAiTGUgbWVzc2FnZSBlc3QgdmlkZS4iCm1zZ3N0ciAiRWwgbWVuc2FqZSBlc3TDg8KhIHZhY8ODwq1vLiIKCm1zZ2lkICJBam91dGVyIHVuIG1lc3NhZ2Ugw4PCoCB2b3RyZSBsaXN0ZSBkZXMgbWVzc2FnZXMgcHLDg8KpLWVucmVnaXN0csODwqlzLiIKbXNnc3RyICJBw4PCsWFkaXIgdW4gbWVuc2FqZSBhIHN1IGxpc3RhIGRlIG1lbnNhamVzIGdyYWJhZG9zIHByZXZpYW1lbnRlLiIKCm1zZ2lkICJTdXBwcmltZXIgdW4gZmF2b3JpIgptc2dzdHIgIlN1cHJpbWlyIHVuIGZhdm9yaXRvIgoKbXNnaWQgIkxlIG1lc3NhZ2UgcXVlIHZvdXMgdm91bGV6IHN1cHByaW1lciBuJ2V4aXN0ZSBwYXMuIgptc2dzdHIgIkVsIG1lbnNhamUgcXVlIHF1aWVyZSBlbGltaW5hciBubyBleGlzdGUuIgoKbXNnaWQgIlN1cHByaW1lciB1bmUgbWVzc2FnZSBkZSB2b3RyZSBsaXN0ZSBkZXMgbWVzc2dlcyBwcsODwqktZW5yZWdpc3Ryw4PCqXMuIgptc2dzdHIgIlN1cHJpbWlyIHVuIG1lbnNhamUgZGUgc3UgbGlzdGEgZGUgbWVuc2FqZXMgZ3JhYmFkb3MgcHJldmlhbWVudGUuIgoKbXNnaWQgIsODwqAgcHJvcG9zIgptc2dzdHIgIkFjZXJjYSBkZS4uLiIKCm1zZ2lkICJDbGlxdWV6IGljaSBwb3VyIHBsdXMgZCdpbmZvcm1hdGlvbnMgc3VyIGxlIHNjcmlwdC4iCm1zZ3N0ciAiSGF6IGNsaWNrIGFxdcODwq0gcGFyYSBtw4PCoXMgaW5mb3JtYWNpw4PCs24gc29icmUgQ3RybCtXLiIKCm1zZ2lkICJDVFJMK1cgOiBWZXVpbGxleiBhdHRlbmRyZSBsYSBmaW4gZGUgbGEgc3luY2hyb25pc2F0aW9uIGF2YW50IGRlIHF1aXR0ZXIgY2V0dGUgcGFnZS4iCm1zZ3N0ciAiQ1RSTCtXIDogRXNwZXJlIGVsIGZpbmFsIGRlIGxhIHNpbmNyb25pemFjacODwrNuIGFudGVzIGRlIHNhbGlyIGRlIGVzdGEgcMODwqFnaW5hLiIKCm1zZ2lkICJvdXRpbHMiCm1zZ3N0ciAiaGVycmFtaWVudGFzIgoKbXNnaWQgIk1pc2Ugw4PCoCBqb3VyIgptc2dzdHIgIkFjdHVhbGl6YXIiCgptc2dpZCAiTWlzZSDDg8KgIGpvdXIgZHUgc2NyaXB0Igptc2dzdHIgIkFjdHVhbGl6YXIgc2NyaXB0IgoKbXNnaWQgIk1zZyBNYW5hZ2VyIgptc2dzdHIgIk1lbnNhamVyw4PCrWEiCgptc2dpZCAiTWVzc2FnZSBNYW5hZ2VyIgptc2dzdHIgIkdlc3RvciBkZSBtZW5zYWplcyIKCm1zZ2lkICJOZSBtYW5xdWV6IHBsdXMgZGUgbWVzc2FnZXMgISBUb3VzIGxlcyB0b3BpY3MgYXZlYyBkZXMgbWVzc2FnZXMgbm9uIGx1cyBzZXJvbnQgbWlzIGVuIMODwql2aWRlbmNlLCBldCB2b3VzIHBvdXJyZXogZWZmZWN0dWVyIGRlcyByZWNoZXJjaGVzIHBhciBhdXRldXIgb3UgY29udGVudS4iCm1zZ3N0ciAiw4LCoU5vIHZ1ZWx2YXMgYSBwZXJkZXJ0ZSB1biBtZW5zYWplIG51bmNhIG3Dg8KhcyEgVG9kb3MgbG9zIG1lbnNhamVzIG5vIGxlw4PCrWRvcyBzZXLDg8KhbiByZXNhbHRhZG9zLCB5IHBvZHLDg8KhcyBoYWNlciBiw4PCunNxdWVkYXMgcG9yIGF1dG9yIG8gY29udGVuaWRvLiIKCm1zZ2lkICJPcHRpb25zIgptc2dzdHIgIk9wY2lvbmVzIgoKbXNnaWQgIkfDg8KpcmVyIGxlcyBvcHRpb25zIgptc2dzdHIgIkdlc3Rpb25hciBsYXMgb3BjaW9uZXMiCgptc2dpZCAiQ2VydGFpbmVzIGZvbmN0aW9ubmFsaXTDg8KpZXMgZGUgQ3RybCtXIHNvbnQgY29uZmlndXJhYmxlcy4gQ2xpcXVleiBpY2kgcG91ciBzcMODwqljaWZpZXIgdm9zIHByw4PCqWbDg8KpcmVuY2VzLiIKbXNnc3RyICJBbGd1bmFzIGNhcmFjdGVyw4PCrXN0aWNhcyBkZSBDdHJsK1cgc29uIGNvbmZpZ3VyYWJsZXMuIEhheiBjbGljayBhcXXDg8KtIHBhcmEgZXN0YWJsZWNlciB0dXMgcHJlZmVyZW5jaWFzLiIKCm1zZ2lkICJTeW5jIgptc2dzdHIgIlN5bmMiCgptc2dpZCAiUGVybWV0IGRlIHN5bmNocm9uaXNlciBsZXMgZG9ubsODwqllcyBkdSBzY3JpcHQgZW50cmUgdm9zIGRpZmbDg8KpcmVudHMgbmF2aWdhdGV1cnMiCm1zZ3N0ciAiRXN0byBwZXJtaXRlIGRlIHNpbmNyb25pemFyIGxvcyBkYXRvcyBkZWwgZ3Vpw4PCs24gZW50cmUgc3VzIGRpZmVyZW50ZXMgbmF2ZWdhZG9yZXMuIgoKbXNnaWQgIkFjdHVhbGlzZXIiCm1zZ3N0ciAiQWN0dWFsaXphciIKCm1zZ2lkICJBY3R1YWxpc2VyIGxhIHBhZ2Ugc2FucyB0b3V0IHJlY2hhcmdlci4gPHN0cm9uZz5Gb25jdGlvbm5hbGl0w4PCqSBlbiBjb3VycyBkJ29wdGltaXNhdGlvbi48L3N0cm9uZz4iCm1zZ3N0ciAiQWN0dWFsaXphIGxhIHDDg8KhZ2luYSBzaW4gcmVjYXJnYXJsYS4gPHA+PHN0cm9uZz5DYXJhY3RlcsODwq1zdGljYSBlbiBvcHRpbWl6YWNpw4PCs24uPC9zdHJvbmc+PC9wPiIKCm1zZ2lkICJOb3V2ZWxsZSBwYXJ0aWUgPyIKbXNnc3RyICLDgsK/TnVldm8ganVlZ28/IgoKbXNnaWQgIk5vdXZlbGxlIHBhcnRpZSIKbXNnc3RyICJOdWV2byBqdWVnbyIKCm1zZ2lkICJWb3VzIHZlbmV6IGRlIGNvbW1lbmNlciB1bmUgbm91dmVsbGUgcGFydGllID8gVXRpbGlzZXogY2UgYm91dG9uIHBvdXIgc3VwcHJpbWVyIGxlcyBpbmZvcm1hdGlvbnMgZGUgdm90cmUgYW5jaWVubmUgcGFydGllIgptc2dzdHIgIsOCwr9Vc3RlZCBhY2FiYSBkZSBlbXBlemFyIHVuYSBudWV2YSBwYXJ0aWRhPyBVdGlsaWNlIGVzdGUgYm90w4PCs24gcGFyYSBzdXByaW1pciBsYXMgaW5mb3JtYWNpb25lcyBkZSBzdSDDg8K6bHRpbWEgcGFydGlkYS4iCgptc2dpZCAiw4PCinRlcyB2b3VzIHPDg8K7ciBkZSB2b3Vsb2lyIGVmZmFjZXIgbGVzIGluZm9ybWF0aW9ucyBkZSBsYSBwYXJ0aWUgcHLDg8KpY8ODwqlkZW50ZSA/Igptc2dzdHIgIsOCwr9Fc3TDg8KhIHNlZ3VybyhhKSBkZSBxdWVyZXIgYm9ycmFyIGxhcyBpbmZvcm1hY2lvbmVzIGRlIGxhIHBhcnRpZGEgYW50ZXJpb3I/IgoKbXNnaWQgInRpdHJlcyIKbXNnc3RyICJ0w4PCrXR1bG9zIgoKbXNnaWQgIlByw4PCqXNlbnQocykiCm1zZ3N0ciAiUHJlc2VudGUocykiCgptc2dpZCAiw4PCqXF1aXBhZ2UiCm1zZ3N0ciAidHJpcHVsYWNpw4PCs24iCgptc2dpZCAiaW52ZW50YWlyZSIKbXNnc3RyICJpbnZlbnRhcmlvIgoKbXNnaWQgIlBhcnRhZ2VyIgptc2dzdHIgIkNvbXBhcnRpciIKCm1zZ2lkICI8cD5JbnPDg8KocmUgbCdpbnZlbnRhaXJlIGRlIGxhIHBpw4PCqGNlIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48c3Ryb25nPkNvdWxvaXIgY2VudHJhbCA6PC9zdHJvbmc+IDxpPkNvbWJpbmFpc29uPC9pPiwgPGk+Q291dGVhdTwvaT4sIDxpPk3Dg8KpZGlraXQ8L2k+LCA8aT5FeHRpbmN0ZXVyPC9pPjwvcD48cD48c3Ryb25nPlBhcnRhZ2UgYXVzc2kgc3VyIEFzdHJvcGFkIHNpIGNlbHVpLWNpIGVzdCBpbnN0YWxsw4PCqS48L3N0cm9uZz48L3A+Igptc2dzdHIgIjxwPkNvcGlhIGVsIGludmVudGFyaW8gZGUgbGEgc2FsYSBhbCBjdWFkcm8gZGUgdGV4dG8gYWN0aXZvLCBjb24gZWwgc2lndWllbnRlIGZvcm1hdG8mbmJzcDs6PC9wPjxwPjxzdHJvbmc+UGFzaWxsbyBjZW50cmFsIDo8L3N0cm9uZz4gPGk+RXh0aW50b3I8L2k+LCA8aT5DdWNoaWxsbzwvaT4sIDxpPk3Dg8KpZGlraXQ8L2k+LCA8aT5WZW5kYWplPC9pPjwvcD48cD48c3Ryb25nPlNpIGhhcyBpbnN0YWxhZG8gQXN0cm9QYWQsIHRhbWJpw4PCqW4gc2luY3Jvbml6YXLDg8KhIGxhIGluZm9ybWFjacODwrNuLjwvc3Ryb25nPjwvcD4iCgptc2dpZCAiQ29uc29tbWFibGVzIgptc2dzdHIgIkNvbnN1bWlibGVzIgoKbXNnaWQgIlBhcnRhZ2VyIGxlcyBlZmZldHMgZGVzIGNvbnNvbW1hYmxlcyIKbXNnc3RyICJDb21wYXJ0aXIgbGFzIHByb3BpZWRhZGVzIGRlbCBjb25zdW1pYmxlIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZXMgY29uc29tbWFibGVzIGF2ZWMgbGV1cnMgZWZmZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD5UT0RPOiBhcGVyw4PCp3U8L3A+Igptc2dzdHIgIkNvcGlhIGxhIGxpc3RhIGRlIGNvbnN1bWlibGVzIGp1bnRvIGNvbiBzdXMgZWZlY3RvcyBhbCBjdWFkcm8gYWN0aXZvIGRlIHRleHRvLCBjb24gZWwgc2lndWllbnRlIGZvcm1hdG8mbmJzcDs6PC9wPjxwPlRPRE86IGVuIGVzdHVkaW88L3A+IgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkNvbW1hbmRhbnQiCm1zZ3N0ciAiQ29tYW5kYW50ZSIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJMZSBDb21tYW5kYW50IGTDg8KpY2lkZSBkZXMgcGxhbsODwqh0ZXMgcXVlIGxlIERhZWRhbHVzIGV4cGxvcmVyYS4iCm1zZ3N0ciAiRWwgQ29tYW5kYW50ZSBnb2JpZXJuYSBlbCBEYWVkYWx1cyB5IGhhY2lhIGTDg8KzbmRlIHZhLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJBZG1pbmlzdHJhdGV1ciBORVJPTiIKbXNnc3RyICJBZG1pbmlzdHJhZG9yIGRlIE5FUk9OIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkxlIHJlc3BvbnNhYmxlIE5FUk9OIHNlbWJsZSBhdm9pciB1bmUgY2VydGFpbmUgaW5mbHVlbmNlIGF1cHLDg8KocyBkZSBsJ29yZGluYXRldXIgZGUgYm9yZC4gSWwgZXN0IG5vdGFtbWVudCBsZSBzZXVsIMODwqAgYXZvaXIgbGEgcG9zc2liaWxpdMODwqkgZGUgdHJhbnNtZXR0cmUgZGVzIG1lc3NhZ2VzIMODwqAgdG91dCBsJ8ODwqlxdWlwYWdlLiIKbXNnc3RyICJFbCBBZG1pbmlzdHJhZG9yIGRlIE5FUk9OIHRpZW5lIGluZmx1ZW5jaWEgZGlyZWN0YSBzb2JyZSBORVJPTiwgbGEgaW50ZWxpZ2VuY2lhIGFydGlmaWNpYWwgZGVsIERhZWRhbHVzLiBBZGljaW9uYWxtZW50ZSBwdWVkZSBlbnZpYXIgbWVuc2FqZXMgYSB0b2RhIGxhIHRyaXB1bGFjacODwrNuIGhhY2nDg8KpbmRvc2UgcGFzYXIgcG9yIE5FUk9OLiIKCiMuIFRyYW5zbGF0b3JzOiBUaGlzIHRyYW5zbGF0aW9uIG11c3QgYmUgY29waWVkIGZyb20gdGhlIGdhbWUuCm1zZ2lkICJSZXNwb25zYWJsZSBkZSBDb21tdW5pY2F0aW9ucyIKbXNnc3RyICJPZmljaWFsIGRlIENvbXVuaWNhY2lvbmVzIgoKIy4gVHJhbnNsYXRvcnM6IFRoaXMgdHJhbnNsYXRpb24gbXVzdCBiZSBjb3BpZWQgZnJvbSB0aGUgZ2FtZS4KbXNnaWQgIkxlIFJlc3BvbnNhYmxlIGRlIENvbW11bmljYXRpb25zIGVzdCBsYSBzZXVsZSBwZXJzb25uZSBoYWJpbGl0w4PCqWUgw4PCoCBkw4PCqWNpZGVyIHF1ZWxzIHNlcm9udCBsZXMgdMODwqlsw4PCqWNoYXJnZW1lbnRzIHByaW9yaXRhaXJlcyBkdSBDZW50cmUgZGUgQ29tbXVuaWNhdGlvbi4iCm1zZ3N0ciAiRWwgT2ZpY2lhbCBkZSBDb211bmljYWNpb25lcyBwdWVkZSBlc3RhYmxlY2VyIGNvbnRhY3RvIHVuYSB2ZXogcXVlIGVsIGVubGFjZSBjb24gZWwgU2lzdGVtYSBTb2xhciBoYSBzaWRvIHJlZXN0YWJsZWNpZG8uIEFkaWNpb25hbG1lbnRlLCBwdWVkZSByZWFsaXphciBjb211bmljYWRvcyBhIHRvZGEgbGEgdHJpcHVsYWNpw4PCs24uIgoKbXNnaWQgIkF0dGVudGlvbiIKbXNnc3RyICJBdGVuY2nDg8KzbiIKCm1zZ2lkICJWb3VzIHBvdXZleiBhdXNzaSBtb2RpZmllciBsZSBkdW8gQW5kcmVrL0NoYW9sYSBlbiBjbGlxdWFudCBzdXIgbCdpY29uZSIKbXNnc3RyICJQdWVkZXMgY2FtYmlhciBlbCBkw4PCum8gQW5kcmVrL0NoYW9sYSBoYWNpZW5kbyBjbGljayBlbiBlbCBpY29ubyIKCm1zZ2lkICJQb3VyIGF2b2lyIHVuZSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIGNvcnJlY3RlLCB2b3VzIGRldmV6IG1ldHRyZSDDg8KgIGpvdXIgY2V0dGUgbGlzdGUgdmlhIGxlIG1vZHVsZSBDcnlvLiA8YnIvPlBvdXIgY2UgZmFpcmUsIHZldWlsbGV6IHZvdXMgcmVuZHJlIGF1IGxhYm8sIGxpc3RleiBsJ8ODwqlxdWlwYWdlIHZpYSBsZSBtb2R1bGUgQ3J5byBldCBjbGlxdWV6IHN1ciBsZSBib3V0b24gYXUgYmFzIGRlIGxhIGxpc3RlIGRlcyBwZXJzb25uYWdlcy48YnIvPkF0dGVudGlvbiwgbGUgYm91dG9uIG4nYXBwYXJhaXQgcXVlIGxvcnNxdWUgbCfDg8KpcXVpcGFnZSBlc3QgYXUgY29tcGxldC48cD48c3Ryb25nPiIKbXNnc3RyICJQYXJhIHVuYSBjb3JyZWN0YSBsaXN0YSBkZSB0cmlwdWxhY2nDg8KzbiwgZXMgbmVjZXNhcmlvIGFjdHVhbGl6YXJsYSBhIHRyYXbDg8KpcyBkZWwgbcODwrNkdWxvIENyeW8uIDxici8+IFBhcmEgZWxsbywgcG9yIGZhdm9yIHZheWEgYWwgbGFib3JhdG9yaW8sIHBhc2UgcmV2aXN0YSBhIHRyYXbDg8KpcyBkZWwgbcODwrNkdWxvIENyeW8geSBoYWdhIGNsaWMgZW4gZWwgYm90w4PCs24gZW4gbGEgcGFydGUgaW5mZXJpb3IgZGUgbGEgdGFibGEgZGUgcGVyc29uYWplcy4gPGJyLz48ZW0+QXRlbmNpw4PCs24sIGVsIGJvdMODwrNuIG5vIGFwYXJlY2Vyw4PCoSBoYXN0YSBxdWUgbGEgdHJpcHVsYWNpw4PCs24gZXN0w4PCqSBjb21wbGV0YS48cD48c3Ryb25nPiIKCm1zZ2lkICI8cD5Wb3VzIMODwqp0ZXMgZGFucyBsYSBtw4PCqm1lIHBpw4PCqGNlIHF1ZSBjZXR0ZSBwZXJzb25uZSA7IHZvdXMgcG91dmV6IGRvbmMgbCdleGFtaW5lciBkZSBwbHVzIHByw4PCqHMuPC9wPjxwPjxzdHJvbmc+Q2xpcXVleiBpY2kgcG91ciBlbnJlZ2lzdHJlciBsZXMgY29tcMODwql0ZW5jZXMgdmlzaWJsZXMsIHN0YXR1dHMgcHVibGlxdWVzIGV0IHRpdHJlcyBkZSBjZSBwZXJzb25uYWdlLjwvc3Ryb25nPjwvcD4iCm1zZ3N0ciAiPHA+VXN0ZWQgZXN0w4PCoSBlbiBlbCBtaXNtbyBjdWFydG8gcXVlIGVzYSBwZXJzb25hOyB1c3RlZCBwdWVkZSBleGFtaW5hcmxhIG3Dg8KhcyBkZSBjZXJjYS4gPC9wPjxwPjxzdHJvbmc+UHVsc2UgYXF1w4PCrSBwYXJhIHJlZ2lzdHJhciBsYXMgaGFiaWxpZGFkZXMgdmlzaWJsZXMsIGxvcyBlc3RhZG9zIHDDg8K6YmxpY29zIHkgbG9zIHTDg8KtdHVsb3MgIGRlIGVzdGUgcGVyc29uYWplLjwvc3Ryb25nPjwvcD4iCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgQ3J5b2dlbml6ZWQgcGVvcGxlIGZyb20gQ3J5b01vZHVsZSAgVXNlbGVzcyB0byB0cmFuc2xhdGUgaW4gRW5nbGlzaAptc2dpZCAiQ3J5byIKbXNnc3RyICJDcmlvIgoKbXNnaWQgIlRvdXQgbGUgbW9uZGUgZG9pdCDDg8KqdHJlIGTDg8KpY3J5b2fDg8Kpbmlzw4PCqSBwb3VyIHBvdXZvaXIgbWV0dHJlIMODwqAgam91ciBsYSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIgptc2dzdHIgIlRvZG8gZWwgbXVuZG8gZGViZSBlc3RhciBkZXNjcmlvZ2VuaXphZG8gcGFyYSBhY3R1YWxpemFyIGxhIGxpc3RhIGRlIHBhc2FqZXJvcyIKCm1zZ2lkICJNZXR0cmUgw4PCoCBqb3VyIGxhIGxpc3RlIGQnw4PCqXF1aXBhZ2UiCm1zZ3N0ciAiQWN0dWFsaXphIGxhIGxpc3RhIGRlIGxhIHRyaXB1bGFjacODwrNuIgoKbXNnaWQgIkNsaXF1ZXIgaWNpIHBvdXIgbWV0dHJlIMODwqAgam91ciBsYSBsaXN0ZSBkJ8ODwqlxdWlwYWdlIGRlIENUUkwrVyIKbXNnc3RyICJIYXogY2xpYyBhcXXDg8KtIHBhcmEgYWN0dWFsaXphciBsYSBsaXN0YSBkZSBsYSB0cmlwdWxhY2nDg8KzbiBlbiBDVFJMK1ciCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgaWRsZSBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlLiBSZWdleCBhbGxvd2VkCm1zZ2lkICJJbmFjdGl2ZSIKbXNnc3RyICJJbmFjdGl2W298YV0iCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgYXdha2UgcGVvcGxlIGZyb20gQ3J5b01vZHVsZS4gUmVnZXggYWxsb3dlZAptc2dpZCAiRXZlaWxsw4PCqWU/Igptc2dzdHIgIkRlc3BpZXJ0W298YV0iCgojLiBUcmFuc2xhdG9yczogVGV4dCBmb3IgZGVhZCBwZW9wbGUgZnJvbSBDcnlvTW9kdWxlLiBSZWdleCBhbGxvd2VkCm1zZ2lkICJNb3J0ZT8iCm1zZ3N0ciAiTXVlcnRbb3xhXSIKCm1zZ2lkICJDb2V1ciBkZSBORVJPTiIKbXNnc3RyICJOw4PCumNsZW8gZGUgTkVST04iCgptc2dpZCAiTGFib3JhdG9pcmUiCm1zZ3N0ciAiTGFib3JhdG9yaW8iCgptc2dpZCAiPHA+SW5zw4PCqHJlIGxhIGxpc3RlIGRlIHJlY2hlcmNoZXMgZGFucyBsYSB6b25lIGRlIHRleHRlIGFjdGl2ZSwgZGUgbGEgZm9ybWUmbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTxici8+RGVzY3JpcHRpb24gZGUgbGEgcmVjaGVyY2hlPGJyLz5Cb251cyA6IDxpPkJpb2xvZ2lzdGU8L2k+LCA8aT5Nw4PCqWRlY2luPC9pPjwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwdGlvbiBkZSBsYSByZWNoZXJjaGU8YnIvPkJvbnVzIDogPGk+QmlvbG9naXN0ZTwvaT4sIDxpPk3Dg8KpZGVjaW48L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGRlIGxhIHJlY2hlcmNoZTxici8+Qm9udXMgOiA8aT5CaW9sb2dpc3RlPC9pPiwgPGk+TcODwqlkZWNpbjwvaT48L2xpPjwvcD4iCm1zZ3N0ciAiPHA+Q29waWEgbGEgbGlzdGEgZGUgaW52ZXN0aWdhY2lvbmVzIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8sIGNvbiBlbCBzaWd1aWVudGUgZm9ybWF0bzo8L3A+PHA+PGxpPjxzdHJvbmc+SW52ZXN0aWdhY2nDg8Kzbjwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwY2nDg8Kzbjxici8+Qm9uaWZpY2FjacODwrNuOiA8aT5CacODwrNsb2dvPC9pPiwgPGk+TcODwqlkaWNvPC9pPjwvbGk+PGxpPjxzdHJvbmc+SW52ZXN0aWdhY2nDg8Kzbjwvc3Ryb25nPiAtIDAlPGJyLz5EZXNjcmlwY2nDg8Kzbjxici8+Qm9udXM6IDxpPkJpw4PCs2xvZ288L2k+LCA8aT5Nw4PCqWRpY288L2k+PC9saT48bGk+PHN0cm9uZz5JbnZlc3RpZ2FjacODwrNuPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz5Cb251czogPGk+QmnDg8KzbG9nbzwvaT4sIDxpPk3Dg8KpZGljbzwvaT48L2xpPjwvcD4iCgptc2dpZCAiUGFydGFnZXIgdjIiCm1zZ3N0ciAiQ29tcGFydGlyIHYyIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsYSBsaXN0ZSBkZSByZWNoZXJjaGVzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZGUgbGEgcmVjaGVyY2hlPC9zdHJvbmc+IC0gMCU8L2xpPjxsaT48c3Ryb25nPk5vbSBkZSBsYSByZWNoZXJjaGU8L3N0cm9uZz4gLSAwJTwvbGk+PGxpPjxzdHJvbmc+Tm9tIGRlIGxhIHJlY2hlcmNoZTwvc3Ryb25nPiAtIDAlPC9saT48L3A+Igptc2dzdHIgIjxwPkNvcGlhIGxhIGxpc3RhIGRlIGludmVzdGlnYWNpb25lcyBhbCBjdWFkcm8gZGUgdGV4dG8gYWN0aXZvLCBjb24gZWwgc2lndWllbnRlIGZvcm1hdG8mbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPkludmVzdGlnYWNpw4PCs248L3N0cm9uZz4gLSAwJTwvbGk+PGxpPjxzdHJvbmc+SW52ZXN0aWdhY2nDg8Kzbjwvc3Ryb25nPiAtIDAlPC9saT48bGk+PHN0cm9uZz5JbnZlc3RpZ2FjacODwrNuPC9zdHJvbmc+IC0gMCU8L2xpPjwvcD4iCgptc2dpZCAiVmV1aWxsZXogdXRpbGlzZXIgbCdpbnZlbnRhaXJlIGR1IGxhYm8gcydpbCB2b3VzIHBsYcODwq50Igptc2dzdHIgIlV0aWxpY2UgZWwgaW52ZW50YXJpbyBkZWwgbGFib3JhdG9yaW8gcG9yIGZhdm9yIgoKbXNnaWQgIjxwPkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwcm9qZXRzIGRhbnMgbGEgem9uZSBkZSB0ZXh0ZSBhY3RpdmUsIGRlIGxhIGZvcm1lJm5ic3A7OjwvcD48cD48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48bGk+PHN0cm9uZz5Ob20gZHUgcHJvamV0PC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXB0aW9uIGR1IHByb2pldDxici8+Qm9udXMgOiA8aT5UaXJldXI8L2k+LCA8aT5QaWxvdGU8L2k+PC9saT48L3A+Igptc2dzdHIgIjxwPkNvcGlhIGxhIGxpc3RhIGRlIHByb3llY3RvcyBhbCBjdWFkcm8gZGUgdGV4dG8gYWN0aXZvLCBjb24gZWwgc2lndWllbnRlIGZvcm1hdG8mbmJzcDs6PC9wPjxwPjxsaT48c3Ryb25nPlByb3llY3RvPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz5Cb251cyA6IDxpPkFydGlsbGVybzwvaT4sIDxpPlBpbG90bzwvaT48L2xpPjxsaT48c3Ryb25nPlByb3llY3RvPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz5Cb251cyA6IDxpPkFydGlsbGVybzwvaT4sIDxpPlBpbG90bzwvaT48L2xpPjxsaT48c3Ryb25nPlByb3llY3RvPC9zdHJvbmc+IC0gMCU8YnIvPkRlc2NyaXBjacODwrNuPGJyLz5Cb251cyA6IDxpPkFydGlsbGVybzwvaT4sIDxpPlBpbG90bzwvaT48L2xpPjwvcD4iCgptc2dpZCAiUGFydGFnZXIgbGEgcGxhbsODwqh0ZSIKbXNnc3RyICJDb21wYXJ0aXIgZWwgcGxhbmV0YSIKCm1zZ2lkICJQYXJ0YWdlIHVuaXF1ZW1lbnQgY2V0dGUgcGxhbsODwqh0ZSBkYW5zIGwnaW52ZW50YWlyZSIKbXNnc3RyICJDb21wYXJ0ZSDDg8K6bmljYW1lbnRlIGVzdGUgcGxhbmV0YSBlbiBlbCBpbnZlbnRhcmlvIgoKbXNnaWQgIkluc8ODwqhyZSBsYSBsaXN0ZSBkZSBwbGFuw4PCqHRlcyBkYW5zIGxhIHpvbmUgZGUgdGV4dGUgYWN0aXZlLCBkZSBsYSBmb3JtZSZuYnNwOzo8L3A+PHA+VE9ETzogYXBlcsODwqd1Igptc2dzdHIgIkNvcGlhIGxhIGxpc3RhIGRlIHBsYW5ldGFzIGFsIGN1YWRybyBkZSB0ZXh0byBhY3Rpdm8sIGNvbiBlbCBzaWd1aWVudGUgZm9ybWF0byZuYnNwOzo8L3A+PHA+VE9ETzogZW4gZXN0dWRpbyIKCm1zZ2lkICJQYXJ0YWdlciBsZXMgcGFyYW3Dg8KodHJlcyIKbXNnc3RyICJDb21wYXJ0aXIgbG9zIHBhcsODwqFtZXRyb3MiCgptc2dpZCAiQ29tLiIKbXNnc3RyICJDb20uIgoKbXNnaWQgIlBsYW50ZXMiCm1zZ3N0ciAiUGxhbnRhcyIKCm1zZ2lkICJQYXJ0YWdlciBsJ8ODwql0YXQgZGVzIHBsYW50ZXMuIgptc2dzdHIgIkNvbXBhcnRpciBlbCBlc3RhZG8gZGUgbGFzIHBsYW50YXMuIgoKbXNnaWQgIihbMC05XSt8dW58YSkrIGFwcGFyZWlsIgptc2dzdHIgIihbMC05XSt8dW58YSkrIG5hdmUiCgptc2dpZCAiY29ubmVjdMODwqkoZSkiCm1zZ3N0ciAiY29uZWN0YWRvKGEpIgoKbXNnaWQgIkNhbmFsIHByaXbDg8KpIgptc2dzdHIgIkNhbmFsIHByaXZhZG8iCgojfiBtc2dpZCAiRGVzY3JpcHRpb24gaW5hY3RpZiIKI34gbXNnc3RyICJTaSB0dXMgYmFycmFzIGRlIDxpbWcgc3JjPVwiL2ltZy9pY29ucy91aS9wYV9zbG90MS5wbmdcIiBhbHQ9XCJwYVwiPiBlc3TDg8KhbiBsbGVuYXMsIGVyZXMgY29uc2lkZXJhZG8gY29tbyBpbmFjdGl2byB5IHRlIHZ1ZWx2ZXMgdW4gYmxhbmNvIGbDg8KhY2lsLiBObyBxdWVyZW1vcyBpbWFnaW5hciBsbyBxdWUgcGFzYXLDg8KhLi4uIgoKI34gbXNnaWQgIkRpc3RyaWJ1dGV1ciIKI34gbXNnc3RyICJFeHBlbmRlZG9yYSIK"}],"requires":[{"meta":{"name":"jquery-1.11.1.min.js","url":"https://github.com/badconker/ctrl-w/raw/release/lib/jquery-1.11.1.min.js","ts":1544430113395,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMS4xIHwgKGMpIDIwMDUsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9IjEuMTEuMSIsbT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbS5mbi5pbml0KGEsYil9LG49L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLG89L14tbXMtLyxwPS8tKFtcZGEtel0pL2dpLHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTttLmZuPW0ucHJvdG90eXBlPXtqcXVlcnk6bCxjb25zdHJ1Y3RvcjptLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1tLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobS5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbS5leHRlbmQ9bS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG0uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihtLmlzUGxhaW5PYmplY3QoYyl8fChiPW0uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbS5pc0FycmF5KGEpP2E6W10pOmY9YSYmbS5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1tLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbS5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGwrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW0udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bS50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbS5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSk+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1tLnR5cGUoYSl8fGEubm9kZVR5cGV8fG0uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFqLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWouY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKGsub3duTGFzdClmb3IoYiBpbiBhKXJldHVybiBqLmNhbGwoYSxiKTtmb3IoYiBpbiBhKTtyZXR1cm4gdm9pZCAwPT09Ynx8ai5jYWxsKGEsYil9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/YSsiIjoib2JqZWN0Ij09dHlwZW9mIGF8fCJmdW5jdGlvbiI9PXR5cGVvZiBhP2hbaS5jYWxsKGEpXXx8Im9iamVjdCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYil7YiYmbS50cmltKGIpJiYoYS5leGVjU2NyaXB0fHxmdW5jdGlvbihiKXthLmV2YWwuY2FsbChhLGIpfSkoYil9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKG8sIm1zLSIpLnJlcGxhY2UocCxxKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPTAsZj1hLmxlbmd0aCxnPXIoYSk7aWYoYyl7aWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgaWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6KGErIiIpLnJlcGxhY2UobiwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocihPYmplY3QoYSkpP20ubWVyZ2UoYywic3RyaW5nIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihiKXtpZihnKXJldHVybiBnLmNhbGwoYixhLGMpO2ZvcihkPWIubGVuZ3RoLGM9Yz8wPmM/TWF0aC5tYXgoMCxkK2MpOmM6MDtkPmM7YysrKWlmKGMgaW4gYiYmYltjXT09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO3doaWxlKGM+ZClhW2UrK109YltkKytdO2lmKGMhPT1jKXdoaWxlKHZvaWQgMCE9PWJbZF0pYVtlKytdPWJbZCsrXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1yKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBiJiYoZj1hW2JdLGI9YSxhPWYpLG0uaXNGdW5jdGlvbihhKT8oYz1kLmNhbGwoYXJndW1lbnRzLDIpLGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGMuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LGUuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxtLmd1aWQrKyxlKTp2b2lkIDB9LG5vdzpmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0sc3VwcG9ydDprfSksbS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7aFsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiByKGEpe3ZhciBiPWEubGVuZ3RoLGM9bS50eXBlKGEpO3JldHVybiJmdW5jdGlvbiI9PT1jfHxtLmlzV2luZG93KGEpPyExOjE9PT1hLm5vZGVUeXBlJiZiPyEwOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciBzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9InNpenpsZSIrLW5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2IoKSx6PWdiKCksQT1nYigpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPSJ1bmRlZmluZWQiLEQ9MTw8MzEsRT17fS5oYXNPd25Qcm9wZXJ0eSxGPVtdLEc9Ri5wb3AsSD1GLnB1c2gsST1GLnB1c2gsSj1GLnNsaWNlLEs9Ri5pbmRleE9mfHxmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9LEw9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixNPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixOPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsTz1OLnJlcGxhY2UoInciLCJ3IyIpLFA9IlxcWyIrTSsiKigiK04rIikoPzoiK00rIiooWypeJHwhfl0/PSkiK00rIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitPKyIpKXwpIitNKyIqXFxdIixRPSI6KCIrTisiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrUCsiKSopfC4qKVxcKXwpIixSPW5ldyBSZWdFeHAoIl4iK00rIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTSsiKyQiLCJnIiksUz1uZXcgUmVnRXhwKCJeIitNKyIqLCIrTSsiKiIpLFQ9bmV3IFJlZ0V4cCgiXiIrTSsiKihbPit+XXwiK00rIikiK00rIioiKSxVPW5ldyBSZWdFeHAoIj0iK00rIiooW15cXF0nXCJdKj8pIitNKyIqXFxdIiwiZyIpLFY9bmV3IFJlZ0V4cChRKSxXPW5ldyBSZWdFeHAoIl4iK08rIiQiKSxYPXtJRDpuZXcgUmVnRXhwKCJeIygiK04rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTisiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTi5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrUCksUFNFVURPOm5ldyBSZWdFeHAoIl4iK1EpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK0wrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxkJC9pLCQ9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLF89L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxhYj0vWyt+XS8sYmI9Lyd8XFwvZyxjYj1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK00rIj98KCIrTSsiKXwuKSIsImlnIiksZGI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3RyeXtJLmFwcGx5KEY9Si5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxGW3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGViKXtJPXthcHBseTpGLmxlbmd0aD9mdW5jdGlvbihhLGIpe0guYXBwbHkoYSxKLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBmYihhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShrPWIubm9kZVR5cGUpJiY5IT09aylyZXR1cm5bXTtpZihwJiYhZSl7aWYoZj1fLmV4ZWMoYSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1iLmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lmKGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChiLGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTk9PT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bz1nKGEpLChyPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXIucmVwbGFjZShiYiwiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscykscz0iW2lkPSciK3MrIiddICIsbD1vLmxlbmd0aDt3aGlsZShsLS0pb1tsXT1zK3FiKG9bbF0pO3c9YWIudGVzdChhKSYmb2IoYi5wYXJlbnROb2RlKXx8Yix4PW8uam9pbigiLCIpfWlmKHgpdHJ5e3JldHVybiBJLmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFIsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGdiKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYihhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGliKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamIoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24ga2IoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEQpLSh+YS5zb3VyY2VJbmRleHx8RCk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGxiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYihhKXtyZXR1cm4gaGIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaGIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DJiZhfWM9ZmIuc3VwcG9ydD17fSxmPWZiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxtPWZiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dixnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1uJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KG49ZSxvPWUuZG9jdW1lbnRFbGVtZW50LHA9IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe20oKX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe20oKX0pKSxjLmF0dHJpYnV0ZXM9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT0kLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QyYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PUMmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Qz9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUMmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT0kLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYihmdW5jdGlvbihhKXthLmlubmVySFRNTD0iPHNlbGVjdCBtc2FsbG93Y2xpcD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsYS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NsaXBePScnXSIpLmxlbmd0aCYmcS5wdXNoKCJbKl4kXT0iK00rIiooPzonJ3xcIlwiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8cS5wdXNoKCJcXFsiK00rIiooPzp2YWx1ZXwiK0wrIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIil9KSxpYihmdW5jdGlvbihhKXt2YXIgYj1lLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZxLnB1c2goIm5hbWUiK00rIipbKl4kfCF+XT89IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8cS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHEucHVzaCgiLC4qOiIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj0kLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmliKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsImRpdiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixRKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09ZXx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1lfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0suY2FsbChrLGEpLUsuY2FsbChrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGY9YS5wYXJlbnROb2RlLGc9Yi5wYXJlbnROb2RlLGg9W2FdLGk9W2JdO2lmKCFmfHwhZylyZXR1cm4gYT09PWU/LTE6Yj09PWU/MTpmPy0xOmc/MTprP0suY2FsbChrLGEpLUsuY2FsbChrLGIpOjA7aWYoZj09PWcpcmV0dXJuIGtiKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaS51bnNoaWZ0KGMpO3doaWxlKGhbZF09PT1pW2RdKWQrKztyZXR1cm4gZD9rYihoW2RdLGlbZF0pOmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZSk6bn0sZmIubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYihhLG51bGwsbnVsbCxiKX0sZmIubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFUsIj0nJDEnXSIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZFLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGZiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYi5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmIuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGIsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGNiLGRiKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShjYixkYiksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZiLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmZiLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlYudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2ErIigiK00rInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdldEF0dHJpYnV0ZSE9PUMmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZiLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtpZihxKXtpZihmKXt3aGlsZShwKXtsPWI7d2hpbGUobD1sW3BdKWlmKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9Im9ubHkiPT09YSYmIW8mJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlbYV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkpW2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGZiLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsIiIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGIoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUsuY2FsbChhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYihmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUiwiJDEiKSk7cmV0dXJuIGRbdV0/aGIoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmIoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHwiIil8fGZiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKGNiLGRiKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGIuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErIi0iKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYiYnV0dG9uIj09PWEudHlwZXx8ImJ1dHRvbiI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYihmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmIoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5iKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYihiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYihiKTtmdW5jdGlvbiBwYigpe31wYi5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBiLGc9ZmIudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZiLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gcWIoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPSIiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYihhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiYicGFyZW50Tm9kZSI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gc2IoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdGIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWIoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB2YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12YihkKSksZSYmIWVbdV0mJihlPXZiKGUsZikpLGhiKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRiKGJ8fCIqIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnViKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11YihyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/Sy5jYWxsKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj11YihyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SS5hcHBseShnLHIpfSl9ZnVuY3Rpb24gd2IoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVsiICJdLGk9Zz8xOjAsaz1yYihmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9cmIoZnVuY3Rpb24oYSl7cmV0dXJuIEsuY2FsbChiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7cmV0dXJuIWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSl9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3JiKHNiKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB2YihpPjEmJnNiKG0pLGk+MSYmcWIoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZToiICI9PT1hW2ktMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShSLCIkMSIpLGMsZT5pJiZ3YihhLnNsaWNlKGksZSkpLGY+ZSYmd2IoYT1hLnNsaWNlKGUpKSxmPmUmJnFiKGEpKX1tLnB1c2goYyl9cmV0dXJuIHNiKG0pfWZ1bmN0aW9uIHhiKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT0iMCIscj1mJiZbXSxzPVtdLHQ9aix1PWZ8fGUmJmQuZmluZC5UQUcoIioiLGspLHY9dys9bnVsbD09dD8xOk1hdGgucmFuZG9tKCl8fC4xLHg9dS5sZW5ndGg7Zm9yKGsmJihqPWchPT1uJiZnKTtxIT09eCYmbnVsbCE9KGw9dVtxXSk7cSsrKXtpZihlJiZsKXttPTA7d2hpbGUobz1hW20rK10paWYobyhsLGcsaCkpe2kucHVzaChsKTticmVha31rJiYodz12KX1jJiYoKGw9IW8mJmwpJiZwLS0sZiYmci5wdXNoKGwpKX1pZihwKz1xLGMmJnEhPT1wKXttPTA7d2hpbGUobz1iW20rK10pbyhyLHMsZyxoKTtpZihmKXtpZihwPjApd2hpbGUocS0tKXJbcV18fHNbcV18fChzW3FdPUcuY2FsbChpKSk7cz11YihzKX1JLmFwcGx5KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZmIudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2hiKGYpOmZ9cmV0dXJuIGg9ZmIuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYSsiICJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXdiKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx4YihlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9ZmIuc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj0iZnVuY3Rpb24iPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJiJJRCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShjYixkYiksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVgubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxhYi50ZXN0KGpbMF0udHlwZSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYihqKSwhYSlyZXR1cm4gSS5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSxhYi50ZXN0KGEpJiZvYihiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGpiKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGpiKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGliKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYihMLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYn0oYSk7bS5maW5kPXMsbS5leHByPXMuc2VsZWN0b3JzLG0uZXhwclsiOiJdPW0uZXhwci5wc2V1ZG9zLG0udW5pcXVlPXMudW5pcXVlU29ydCxtLnRleHQ9cy5nZXRUZXh0LG0uaXNYTUxEb2M9cy5pc1hNTCxtLmNvbnRhaW5zPXMuY29udGFpbnM7dmFyIHQ9bS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx1PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdj0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHcoYSxiLGMpe2lmKG0uaXNGdW5jdGlvbihiKSlyZXR1cm4gbS5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbS5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10eXBlb2YgYil7aWYodi50ZXN0KGIpKXJldHVybiBtLmZpbHRlcihiLGEsYyk7Yj1tLmZpbHRlcihiLGEpfXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gbS5pbkFycmF5KGEsYik+PTAhPT1jfSl9bS5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bS5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTptLmZpbmQubWF0Y2hlcyhhLG0uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPXRoaXMsZT1kLmxlbmd0aDtpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG0oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtlPmI7YisrKWlmKG0uY29udGFpbnMoZFtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2U+YjtiKyspbS5maW5kKGEsZFtiXSxjKTtyZXR1cm4gYz10aGlzLnB1c2hTdGFjayhlPjE/bS51bmlxdWUoYyk6YyksYy5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxjfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXcodGhpcywic3RyaW5nIj09dHlwZW9mIGEmJnQudGVzdChhKT9tKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHgseT1hLmRvY3VtZW50LHo9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxBPW0uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhKXtpZihjPSI8Ij09PWEuY2hhckF0KDApJiYiPiI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eCkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2YgbT9iWzBdOmIsbS5tZXJnZSh0aGlzLG0ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6eSwhMCkpLHUudGVzdChjWzFdKSYmbS5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpbS5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9aWYoZD15LmdldEVsZW1lbnRCeUlkKGNbMl0pLGQmJmQucGFyZW50Tm9kZSl7aWYoZC5pZCE9PWNbMl0pcmV0dXJuIHguZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZH1yZXR1cm4gdGhpcy5jb250ZXh0PXksdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTptLmlzRnVuY3Rpb24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB4LnJlYWR5P3gucmVhZHkoYSk6YShtKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxtLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9bS5mbix4PW0oeSk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTttLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWFbYl07d2hpbGUoZSYmOSE9PWUubm9kZVR5cGUmJih2b2lkIDA9PT1jfHwxIT09ZS5ub2RlVHlwZXx8IW0oZSkuaXMoYykpKTE9PT1lLm5vZGVUeXBlJiZkLnB1c2goZSksZT1lW2JdO3JldHVybiBkfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pLG0uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGIsYz1tKGEsdGhpcyksZD1jLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2Q+YjtiKyspaWYobS5jb250YWlucyh0aGlzLGNbYl0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXQudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP20oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm0uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9tLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP20uaW5BcnJheSh0aGlzWzBdLG0oYSkpOm0uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobS51bmlxdWUobS5tZXJnZSh0aGlzLmdldCgpLG0oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe2RvIGE9YVtiXTt3aGlsZShhJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBtLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBtLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBtLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBtLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG0ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDptLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe20uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1tLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW0uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHwoZT1tLnVuaXF1ZShlKSksQi50ZXN0KGEpJiYoZT1lLnJldmVyc2UoKSkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBFPS9cUysvZyxGPXt9O2Z1bmN0aW9uIEcoYSl7dmFyIGI9RlthXT17fTtyZXR1cm4gbS5lYWNoKGEubWF0Y2goRSl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bS5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/RlthXXx8RyhhKTptLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmLGcsaD1bXSxpPSFhLm9uY2UmJltdLGo9ZnVuY3Rpb24obCl7Zm9yKGM9YS5tZW1vcnkmJmwsZD0hMCxmPWd8fDAsZz0wLGU9aC5sZW5ndGgsYj0hMDtoJiZlPmY7ZisrKWlmKGhbZl0uYXBwbHkobFswXSxsWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtjPSExO2JyZWFrfWI9ITEsaCYmKGk/aS5sZW5ndGgmJmooaS5zaGlmdCgpKTpjP2g9W106ay5kaXNhYmxlKCkpfSxrPXthZGQ6ZnVuY3Rpb24oKXtpZihoKXt2YXIgZD1oLmxlbmd0aDshZnVuY3Rpb24gZihiKXttLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPW0udHlwZShjKTsiZnVuY3Rpb24iPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmInN0cmluZyIhPT1kJiZmKGMpfSl9KGFyZ3VtZW50cyksYj9lPWgubGVuZ3RoOmMmJihnPWQsaihjKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBoJiZtLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYyl7dmFyIGQ7d2hpbGUoKGQ9bS5pbkFycmF5KGMsaCxkKSk+LTEpaC5zcGxpY2UoZCwxKSxiJiYoZT49ZCYmZS0tLGY+PWQmJmYtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bS5pbkFycmF5KGEsaCk+LTE6ISghaHx8IWgubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gaD1bXSxlPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBoPWk9Yz12b2lkIDAsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPXZvaWQgMCxjfHxrLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4haHx8ZCYmIWl8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sYj9pLnB1c2goYyk6aihjKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBrLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBrfSxtLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG0uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbS5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBtLkRlZmVycmVkKGZ1bmN0aW9uKGMpe20uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bS5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZtLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5kb25lKGMucmVzb2x2ZSkuZmFpbChjLnJlamVjdCkucHJvZ3Jlc3MoYy5ub3RpZnkpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP20uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbS5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1kLmNhbGwoYXJndW1lbnRzKSxlPWMubGVuZ3RoLGY9MSE9PWV8fGEmJm0uaXNGdW5jdGlvbihhLnByb21pc2UpP2U6MCxnPTE9PT1mP2E6bS5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihlKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZC5jYWxsKGFyZ3VtZW50cyk6ZSxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGU+MSlmb3IoaT1uZXcgQXJyYXkoZSksaj1uZXcgQXJyYXkoZSksaz1uZXcgQXJyYXkoZSk7ZT5iO2IrKyljW2JdJiZtLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5kb25lKGgoYixrLGMpKS5mYWlsKGcucmVqZWN0KS5wcm9ncmVzcyhoKGIsaixpKSk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEg7bS5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbS5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxtLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9tLnJlYWR5V2FpdCsrOm0ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXtpZihhPT09ITA/IS0tbS5yZWFkeVdhaXQ6IW0uaXNSZWFkeSl7aWYoIXkuYm9keSlyZXR1cm4gc2V0VGltZW91dChtLnJlYWR5KTttLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW0ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKHksW21dKSxtLmZuLnRyaWdnZXJIYW5kbGVyJiYobSh5KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxtKHkpLm9mZigicmVhZHkiKSkpfX19KTtmdW5jdGlvbiBJKCl7eS5hZGRFdmVudExpc3RlbmVyPyh5LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEosITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsSiwhMSkpOih5LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEopLGEuZGV0YWNoRXZlbnQoIm9ubG9hZCIsSikpfWZ1bmN0aW9uIEooKXsoeS5hZGRFdmVudExpc3RlbmVyfHwibG9hZCI9PT1ldmVudC50eXBlfHwiY29tcGxldGUiPT09eS5yZWFkeVN0YXRlKSYmKEkoKSxtLnJlYWR5KCkpfW0ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtpZighSClpZihIPW0uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09eS5yZWFkeVN0YXRlKXNldFRpbWVvdXQobS5yZWFkeSk7ZWxzZSBpZih5LmFkZEV2ZW50TGlzdGVuZXIpeS5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixKLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEosITEpO2Vsc2V7eS5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixKKSxhLmF0dGFjaEV2ZW50KCJvbmxvYWQiLEopO3ZhciBjPSExO3RyeXtjPW51bGw9PWEuZnJhbWVFbGVtZW50JiZ5LmRvY3VtZW50RWxlbWVudH1jYXRjaChkKXt9YyYmYy5kb1Njcm9sbCYmIWZ1bmN0aW9uIGUoKXtpZighbS5pc1JlYWR5KXt0cnl7Yy5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGEpe3JldHVybiBzZXRUaW1lb3V0KGUsNTApfUkoKSxtLnJlYWR5KCl9fSgpfXJldHVybiBILnByb21pc2UoYil9O3ZhciBLPSJ1bmRlZmluZWQiLEw7Zm9yKEwgaW4gbShrKSlicmVhaztrLm93bkxhc3Q9IjAiIT09TCxrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9ITEsbShmdW5jdGlvbigpe3ZhciBhLGIsYyxkO2M9eS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLGMmJmMuc3R5bGUmJihiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksZD15LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZCkuYXBwZW5kQ2hpbGQoYiksdHlwZW9mIGIuc3R5bGUuem9vbSE9PUsmJihiLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6aW5saW5lO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGsuaW5saW5lQmxvY2tOZWVkc0xheW91dD1hPTM9PT1iLm9mZnNldFdpZHRoLGEmJihjLnN0eWxlLnpvb209MSkpLGMucmVtb3ZlQ2hpbGQoZCkpfSksZnVuY3Rpb24oKXt2YXIgYT15LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKG51bGw9PWsuZGVsZXRlRXhwYW5kbyl7ay5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2suZGVsZXRlRXhwYW5kbz0hMX19YT1udWxsfSgpLG0uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXt2YXIgYj1tLm5vRGF0YVsoYS5ub2RlTmFtZSsiICIpLnRvTG93ZXJDYXNlKCldLGM9K2Eubm9kZVR5cGV8fDE7cmV0dXJuIDEhPT1jJiY5IT09Yz8hMTohYnx8YiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn07dmFyIE09L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxOPS8oW0EtWl0pL2c7ZnVuY3Rpb24gTyhhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE4sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpNLnRlc3QoYyk/bS5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bS5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwfXJldHVybiBjfWZ1bmN0aW9uIFAoYSl7dmFyIGI7Zm9yKGIgaW4gYSlpZigoImRhdGEiIT09Ynx8IW0uaXNFbXB0eU9iamVjdChhW2JdKSkmJiJ0b0pTT04iIT09YilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBRKGEsYixkLGUpe2lmKG0uYWNjZXB0RGF0YShhKSl7dmFyIGYsZyxoPW0uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP20uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoOwppZihrJiZqW2tdJiYoZXx8altrXS5kYXRhKXx8dm9pZCAwIT09ZHx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBrfHwoaz1pP2FbaF09Yy5wb3AoKXx8bS5ndWlkKys6aCksaltrXXx8KGpba109aT97fTp7dG9KU09OOm0ubm9vcH0pLCgib2JqZWN0Ij09dHlwZW9mIGJ8fCJmdW5jdGlvbiI9PXR5cGVvZiBiKSYmKGU/altrXT1tLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1tLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbS5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbS5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFIoYSxiLGMpe2lmKG0uYWNjZXB0RGF0YShhKSl7dmFyIGQsZSxmPWEubm9kZVR5cGUsZz1mP20uY2FjaGU6YSxoPWY/YVttLmV4cGFuZG9dOm0uZXhwYW5kbztpZihnW2hdKXtpZihiJiYoZD1jP2dbaF06Z1toXS5kYXRhKSl7bS5pc0FycmF5KGIpP2I9Yi5jb25jYXQobS5tYXAoYixtLmNhbWVsQ2FzZSkpOmIgaW4gZD9iPVtiXTooYj1tLmNhbWVsQ2FzZShiKSxiPWIgaW4gZD9bYl06Yi5zcGxpdCgiICIpKSxlPWIubGVuZ3RoO3doaWxlKGUtLSlkZWxldGUgZFtiW2VdXTtpZihjPyFQKGQpOiFtLmlzRW1wdHlPYmplY3QoZCkpcmV0dXJufShjfHwoZGVsZXRlIGdbaF0uZGF0YSxQKGdbaF0pKSkmJihmP20uY2xlYW5EYXRhKFthXSwhMCk6ay5kZWxldGVFeHBhbmRvfHxnIT1nLndpbmRvdz9kZWxldGUgZ1toXTpnW2hdPW51bGwpfX19bS5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP20uY2FjaGVbYVttLmV4cGFuZG9dXTphW20uZXhwYW5kb10sISFhJiYhUChhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFIoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBRKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUihhLGIsITApfX0pLG0uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bS5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbS5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW0uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLE8oZixkLGVbZF0pKSk7bS5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhLGIpfSk6Zj9PKGYsYSxtLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXttLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG0uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1tLl9kYXRhKGEsYiksYyYmKCFkfHxtLmlzQXJyYXkoYyk/ZD1tLl9kYXRhKGEsYixtLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW0ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bS5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXttLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbS5fZGF0YShhLGMpfHxtLl9kYXRhKGEsYyx7ZW1wdHk6bS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bS5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbS5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxtLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bS5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1tLnF1ZXVlKHRoaXMsYSxiKTttLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm0uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1tLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW0uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsVD1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLFU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLCJub25lIj09PW0uY3NzKGEsImRpc3BsYXkiKXx8IW0uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxWPW0uYWNjZXNzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1tLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYyltLmFjY2VzcyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxtLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwobShhKSxjKX0pKSxiKSlmb3IoO2k+aDtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxXPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBhPXkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksYz15LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixrLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1iLmZpcnN0Q2hpbGQubm9kZVR5cGUsay50Ym9keT0hYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsay5odG1sU2VyaWFsaXplPSEhYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxrLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09eS5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxhLnR5cGU9ImNoZWNrYm94IixhLmNoZWNrZWQ9ITAsYy5hcHBlbmRDaGlsZChhKSxrLmFwcGVuZENoZWNrZWQ9YS5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYy5hcHBlbmRDaGlsZChiKSxiLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IixrLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsay5ub0Nsb25lRXZlbnQ9ITAsYi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7ay5ub0Nsb25lRXZlbnQ9ITF9KSxiLmNsb25lTm9kZSghMCkuY2xpY2soKSksbnVsbD09ay5kZWxldGVFeHBhbmRvKXtrLmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goZCl7ay5kZWxldGVFeHBhbmRvPSExfX19KCksZnVuY3Rpb24oKXt2YXIgYixjLGQ9eS5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoYiBpbntzdWJtaXQ6ITAsY2hhbmdlOiEwLGZvY3VzaW46ITB9KWM9Im9uIitiLChrW2IrIkJ1YmJsZXMiXT1jIGluIGEpfHwoZC5zZXRBdHRyaWJ1dGUoYywidCIpLGtbYisiQnViYmxlcyJdPWQuYXR0cmlidXRlc1tjXS5leHBhbmRvPT09ITEpO2Q9bnVsbH0oKTt2YXIgWD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksWT0vXmtleS8sWj0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLywkPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxfPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gYWIoKXtyZXR1cm4hMH1mdW5jdGlvbiBiYigpe3JldHVybiExfWZ1bmN0aW9uIGNiKCl7dHJ5e3JldHVybiB5LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1tLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbixvLHAscSxyPW0uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW0uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgbT09PUt8fGEmJm0uZXZlbnQudHJpZ2dlcmVkPT09YS50eXBlP3ZvaWQgMDptLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpfSxrLmVsZW09YSksYj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGg9Yi5sZW5ndGg7d2hpbGUoaC0tKWY9Xy5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW0uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm0uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChuPWdbb10pfHwobj1nW29dPVtdLG4uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP24uc3BsaWNlKG4uZGVsZWdhdGVDb3VudCsrLDAsbCk6bi5wdXNoKGwpLG0uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxuLG8scCxxLHI9bS5oYXNEYXRhKGEpJiZtLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9Xy5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7bD1tLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbj1rW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaT1mPW4ubGVuZ3RoO3doaWxlKGYtLSlnPW5bZl0sIWUmJnEhPT1nLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1nLmd1aWR8fGgmJiFoLnRlc3QoZy5uYW1lc3BhY2UpfHxkJiZkIT09Zy5zZWxlY3RvciYmKCIqKiIhPT1kfHwhZy5zZWxlY3Rvcil8fChuLnNwbGljZShmLDEpLGcuc2VsZWN0b3ImJm4uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsZykpO2kmJiFuLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG0ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUga1tvXSl9ZWxzZSBmb3IobyBpbiBrKW0uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bS5pc0VtcHR5T2JqZWN0KGspJiYoZGVsZXRlIHIuaGFuZGxlLG0uX3JlbW92ZURhdGEoYSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLGwsbixvPVtkfHx5XSxwPWouY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscT1qLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihoPWw9ZD1kfHx5LDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmISQudGVzdChwK20uZXZlbnQudHJpZ2dlcmVkKSYmKHAuaW5kZXhPZigiLiIpPj0wJiYocT1wLnNwbGl0KCIuIikscD1xLnNoaWZ0KCkscS5zb3J0KCkpLGc9cC5pbmRleE9mKCI6Iik8MCYmIm9uIitwLGI9YlttLmV4cGFuZG9dP2I6bmV3IG0uRXZlbnQocCwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/MjozLGIubmFtZXNwYWNlPXEuam9pbigiLiIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Euam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm0ubWFrZUFycmF5KGMsW2JdKSxrPW0uZXZlbnQuc3BlY2lhbFtwXXx8e30sZXx8IWsudHJpZ2dlcnx8ay50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhay5ub0J1YmJsZSYmIW0uaXNXaW5kb3coZCkpe2ZvcihpPWsuZGVsZWdhdGVUeXBlfHxwLCQudGVzdChpK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGw9aDtsPT09KGQub3duZXJEb2N1bWVudHx8eSkmJm8ucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8YSl9bj0wO3doaWxlKChoPW9bbisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPW4+MT9pOmsuYmluZFR5cGV8fHAsZj0obS5fZGF0YShoLCJldmVudHMiKXx8e30pW2IudHlwZV0mJm0uX2RhdGEoaCwiaGFuZGxlIiksZiYmZi5hcHBseShoLGMpLGY9ZyYmaFtnXSxmJiZmLmFwcGx5JiZtLmFjY2VwdERhdGEoaCkmJihiLnJlc3VsdD1mLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtpZihiLnR5cGU9cCwhZSYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJighay5fZGVmYXVsdHx8ay5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpPT09ITEpJiZtLmFjY2VwdERhdGEoZCkmJmcmJmRbcF0mJiFtLmlzV2luZG93KGQpKXtsPWRbZ10sbCYmKGRbZ109bnVsbCksbS5ldmVudC50cmlnZ2VyZWQ9cDt0cnl7ZFtwXSgpfWNhdGNoKHIpe31tLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbCYmKGRbZ109bCl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1tLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShtLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1tLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1tLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGc9MDt3aGlsZSgoZT1mLmhhbmRsZXJzW2crK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZS5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWUsYS5kYXRhPWUuZGF0YSxjPSgobS5ldmVudC5zcGVjaWFsW2Uub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxlLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1jJiYoYS5yZXN1bHQ9Yyk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHwiY2xpY2siIT09YS50eXBlKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZT1bXSxmPTA7aD5mO2YrKylkPWJbZl0sYz1kLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1lW2NdJiYoZVtjXT1kLm5lZWRzQ29udGV4dD9tKGMsdGhpcykuaW5kZXgoaSk+PTA6bS5maW5kKGMsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxlW2NdJiZlLnB1c2goZCk7ZS5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmV9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW20uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1aLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlkudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBtLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9Zi5zcmNFbGVtZW50fHx5KSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxhLm1ldGFLZXk9ISFhLm1ldGFLZXksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b24sZz1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihkPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fHksZT1kLmRvY3VtZW50RWxlbWVudCxjPWQuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmcmJihhLnJlbGF0ZWRUYXJnZXQ9Zz09PWEudGFyZ2V0P2IudG9FbGVtZW50OmcpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09Y2IoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1jYigpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBtLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbS5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5leHRlbmQobmV3IG0uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtkP20uZXZlbnQudHJpZ2dlcihlLG51bGwsYik6bS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbS5yZW1vdmVFdmVudD15LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKHR5cGVvZiBhW2RdPT09SyYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbS5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbS5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/YWI6YmIpOnRoaXMudHlwZT1hLGImJm0uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG0ubm93KCksdm9pZCh0aGlzW20uZXhwYW5kb109ITApKTpuZXcgbS5FdmVudChhLGIpfSxtLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmJiLGlzUHJvcGFnYXRpb25TdG9wcGVkOmJiLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmJiLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWFiLGEmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9YWIsYSYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9YWIsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG0uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXttLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFtLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLnN1Ym1pdEJ1YmJsZXN8fChtLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBtLm5vZGVOYW1lKHRoaXMsImZvcm0iKT8hMTp2b2lkIG0uZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1tLm5vZGVOYW1lKGIsImlucHV0Iil8fG0ubm9kZU5hbWUoYiwiYnV0dG9uIik/Yi5mb3JtOnZvaWQgMDtjJiYhbS5fZGF0YShjLCJzdWJtaXRCdWJibGVzIikmJihtLmV2ZW50LmFkZChjLCJzdWJtaXQuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZT0hMH0pLG0uX2RhdGEoYywic3VibWl0QnViYmxlcyIsITApKX0pfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBhLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZtLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG0ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbS5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxrLmNoYW5nZUJ1YmJsZXN8fChtLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBYLnRlc3QodGhpcy5ub2RlTmFtZSk/KCgiY2hlY2tib3giPT09dGhpcy50eXBlfHwicmFkaW8iPT09dGhpcy50eXBlKSYmKG0uZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpeyJjaGVja2VkIj09PWEub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUmJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksbS5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpLG0uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxhLCEwKX0pKSwhMSk6dm9pZCBtLmV2ZW50LmFkZCh0aGlzLCJiZWZvcmVhY3RpdmF0ZS5fY2hhbmdlIixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtYLnRlc3QoYi5ub2RlTmFtZSkmJiFtLl9kYXRhKGIsImNoYW5nZUJ1YmJsZXMiKSYmKG0uZXZlbnQuYWRkKGIsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXshdGhpcy5wYXJlbnROb2RlfHxhLmlzU2ltdWxhdGVkfHxhLmlzVHJpZ2dlcnx8bS5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLnBhcmVudE5vZGUsYSwhMCl9KSxtLl9kYXRhKGIsImNoYW5nZUJ1YmJsZXMiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBtLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFYLnRlc3QodGhpcy5ub2RlTmFtZSl9fSksay5mb2N1c2luQnViYmxlc3x8bS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe20uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxtLmV2ZW50LmZpeChhKSwhMCl9O20uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1tLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbS5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW0uX2RhdGEoZCxiKS0xO2U/bS5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG0uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG0uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7aWYoIm9iamVjdCI9PXR5cGVvZiBhKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihmIGluIGEpdGhpcy5vbihmLGIsYyxhW2ZdLGUpO3JldHVybiB0aGlzfWlmKG51bGw9PWMmJm51bGw9PWQ/KGQ9YixjPWI9dm9pZCAwKTpudWxsPT1kJiYoInN0cmluZyI9PXR5cGVvZiBiPyhkPWMsYz12b2lkIDApOihkPWMsYz1iLGI9dm9pZCAwKSksZD09PSExKWQ9YmI7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihnPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbSgpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1tLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixtKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWJiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXttLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP20uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO2Z1bmN0aW9uIGRiKGEpe3ZhciBiPWViLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfXZhciBlYj0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsZmI9LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyxnYj1uZXcgUmVnRXhwKCI8KD86IitlYisiKVtcXHMvPl0iLCJpIiksaGI9L15ccysvLGliPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksamI9LzwoW1x3Ol0rKS8sa2I9Lzx0Ym9keS9pLGxiPS88fCYjP1x3KzsvLG1iPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksbmI9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksb2I9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLHBiPS9edHJ1ZVwvKC4qKS8scWI9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLHJiPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0scGFyYW06WzEsIjxvYmplY3Q+IiwiPC9vYmplY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDprLmh0bWxTZXJpYWxpemU/WzAsIiIsIiJdOlsxLCJYPGRpdj4iLCI8L2Rpdj4iXX0sc2I9ZGIoeSksdGI9c2IuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmIub3B0Z3JvdXA9cmIub3B0aW9uLHJiLnRib2R5PXJiLnRmb290PXJiLmNvbGdyb3VwPXJiLmNhcHRpb249cmIudGhlYWQscmIudGg9cmIudGQ7ZnVuY3Rpb24gdWIoYSxiKXt2YXIgYyxkLGU9MCxmPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Sz9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbCE9PUs/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fCIqIik6dm9pZCAwO2lmKCFmKWZvcihmPVtdLGM9YS5jaGlsZE5vZGVzfHxhO251bGwhPShkPWNbZV0pO2UrKykhYnx8bS5ub2RlTmFtZShkLGIpP2YucHVzaChkKTptLm1lcmdlKGYsdWIoZCxiKSk7cmV0dXJuIHZvaWQgMD09PWJ8fGImJm0ubm9kZU5hbWUoYSxiKT9tLm1lcmdlKFthXSxmKTpmfWZ1bmN0aW9uIHZiKGEpe1cudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIHdiKGEsYil7cmV0dXJuIG0ubm9kZU5hbWUoYSwidGFibGUiKSYmbS5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiB4YihhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bS5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24geWIoYSl7dmFyIGI9cGIuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiB6YihhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW0uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG0uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBBYihhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZtLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW0uX2RhdGEoYSksZz1tLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyltLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW0uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBCYihhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWsubm9DbG9uZUV2ZW50JiZiW20uZXhwYW5kb10pe2U9bS5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyltLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobS5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oeGIoYikudGV4dD1hLnRleHQseWIoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGsuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFtLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmVy50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOigiaW5wdXQiPT09Y3x8InRleHRhcmVhIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfX1tLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1tLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihrLmh0bWw1Q2xvbmV8fG0uaXNYTUxEb2MoYSl8fCFnYi50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KHRiLmlubmVySFRNTD1hLm91dGVySFRNTCx0Yi5yZW1vdmVDaGlsZChmPXRiLmZpcnN0Q2hpbGQpKSwhKGsubm9DbG9uZUV2ZW50JiZrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxtLmlzWE1MRG9jKGEpKSlmb3IoZD11YihmKSxoPXViKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmQmIoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8dWIoYSksZD1kfHx1YihmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUFiKGUsZFtnXSk7ZWxzZSBBYihhLGYpO3JldHVybiBkPXViKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJnpiKGQsIWkmJnViKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlLGYsZyxoLGksaixsLG49YS5sZW5ndGgsbz1kYihiKSxwPVtdLHE9MDtuPnE7cSsrKWlmKGY9YVtxXSxmfHwwPT09ZilpZigib2JqZWN0Ij09PW0udHlwZShmKSltLm1lcmdlKHAsZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihsYi50ZXN0KGYpKXtoPWh8fG8uYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaT0oamIuZXhlYyhmKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxsPXJiW2ldfHxyYi5fZGVmYXVsdCxoLmlubmVySFRNTD1sWzFdK2YucmVwbGFjZShpYiwiPCQxPjwvJDI+IikrbFsyXSxlPWxbMF07d2hpbGUoZS0tKWg9aC5sYXN0Q2hpbGQ7aWYoIWsubGVhZGluZ1doaXRlc3BhY2UmJmhiLnRlc3QoZikmJnAucHVzaChiLmNyZWF0ZVRleHROb2RlKGhiLmV4ZWMoZilbMF0pKSwhay50Ym9keSl7Zj0idGFibGUiIT09aXx8a2IudGVzdChmKT8iPHRhYmxlPiIhPT1sWzFdfHxrYi50ZXN0KGYpPzA6aDpoLmZpcnN0Q2hpbGQsZT1mJiZmLmNoaWxkTm9kZXMubGVuZ3RoO3doaWxlKGUtLSltLm5vZGVOYW1lKGo9Zi5jaGlsZE5vZGVzW2VdLCJ0Ym9keSIpJiYhai5jaGlsZE5vZGVzLmxlbmd0aCYmZi5yZW1vdmVDaGlsZChqKX1tLm1lcmdlKHAsaC5jaGlsZE5vZGVzKSxoLnRleHRDb250ZW50PSIiO3doaWxlKGguZmlyc3RDaGlsZCloLnJlbW92ZUNoaWxkKGguZmlyc3RDaGlsZCk7aD1vLmxhc3RDaGlsZH1lbHNlIHAucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtoJiZvLnJlbW92ZUNoaWxkKGgpLGsuYXBwZW5kQ2hlY2tlZHx8bS5ncmVwKHViKHAsImlucHV0IiksdmIpLHE9MDt3aGlsZShmPXBbcSsrXSlpZigoIWR8fC0xPT09bS5pbkFycmF5KGYsZCkpJiYoZz1tLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxoPXViKG8uYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGcmJnpiKGgpLGMpKXtlPTA7d2hpbGUoZj1oW2UrK10pb2IudGVzdChmLnR5cGV8fCIiKSYmYy5wdXNoKGYpfXJldHVybiBoPW51bGwsb30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkLGUsZixnLGg9MCxpPW0uZXhwYW5kbyxqPW0uY2FjaGUsbD1rLmRlbGV0ZUV4cGFuZG8sbj1tLmV2ZW50LnNwZWNpYWw7bnVsbCE9KGQ9YVtoXSk7aCsrKWlmKChifHxtLmFjY2VwdERhdGEoZCkpJiYoZj1kW2ldLGc9ZiYmaltmXSkpe2lmKGcuZXZlbnRzKWZvcihlIGluIGcuZXZlbnRzKW5bZV0/bS5ldmVudC5yZW1vdmUoZCxlKTptLnJlbW92ZUV2ZW50KGQsZSxnLmhhbmRsZSk7altmXSYmKGRlbGV0ZSBqW2ZdLGw/ZGVsZXRlIGRbaV06dHlwZW9mIGQucmVtb3ZlQXR0cmlidXRlIT09Sz9kLnJlbW92ZUF0dHJpYnV0ZShpKTpkW2ldPW51bGwsYy5wdXNoKGYpKX19fSksbS5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9tLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHx5KS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj13Yih0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXdiKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9YT9tLmZpbHRlcihhLHRoaXMpOnRoaXMsZT0wO251bGwhPShjPWRbZV0pO2UrKylifHwxIT09Yy5ub2RlVHlwZXx8bS5jbGVhbkRhdGEodWIoYykpLGMucGFyZW50Tm9kZSYmKGImJm0uY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpJiZ6Yih1YihjLCJzY3JpcHQiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm0uY2xlYW5EYXRhKHViKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbS5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbS5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gVih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UoZmIsIiIpOnZvaWQgMDtpZighKCJzdHJpbmciIT10eXBlb2YgYXx8bWIudGVzdChhKXx8IWsuaHRtbFNlcmlhbGl6ZSYmZ2IudGVzdChhKXx8IWsubGVhZGluZ1doaXRlc3BhY2UmJmhiLnRlc3QoYSl8fHJiWyhqYi5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSkpe2E9YS5yZXBsYWNlKGliLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihtLmNsZWFuRGF0YSh1YihiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7YT10aGlzLnBhcmVudE5vZGUsbS5jbGVhbkRhdGEodWIodGhpcykpLGEmJmEucmVwbGFjZUNoaWxkKGIsdGhpcyl9KSxhJiYoYS5sZW5ndGh8fGEubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxiKXthPWUuYXBwbHkoW10sYSk7dmFyIGMsZCxmLGcsaCxpLGo9MCxsPXRoaXMubGVuZ3RoLG49dGhpcyxvPWwtMSxwPWFbMF0scT1tLmlzRnVuY3Rpb24ocCk7aWYocXx8bD4xJiYic3RyaW5nIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJm5iLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1uLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoaT1tLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksYz1pLmZpcnN0Q2hpbGQsMT09PWkuY2hpbGROb2Rlcy5sZW5ndGgmJihpPWMpLGMpKXtmb3IoZz1tLm1hcCh1YihpLCJzY3JpcHQiKSx4YiksZj1nLmxlbmd0aDtsPmo7aisrKWQ9aSxqIT09byYmKGQ9bS5jbG9uZShkLCEwLCEwKSxmJiZtLm1lcmdlKGcsdWIoZCwic2NyaXB0IikpKSxiLmNhbGwodGhpc1tqXSxkLGopO2lmKGYpZm9yKGg9Z1tnLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG0ubWFwKGcseWIpLGo9MDtmPmo7aisrKWQ9Z1tqXSxvYi50ZXN0KGQudHlwZXx8IiIpJiYhbS5fZGF0YShkLCJnbG9iYWxFdmFsIikmJm0uY29udGFpbnMoaCxkKSYmKGQuc3JjP20uX2V2YWxVcmwmJm0uX2V2YWxVcmwoZC5zcmMpOm0uZ2xvYmFsRXZhbCgoZC50ZXh0fHxkLnRleHRDb250ZW50fHxkLmlubmVySFRNTHx8IiIpLnJlcGxhY2UocWIsIiIpKSk7aT1jPW51bGx9cmV0dXJuIHRoaXN9fSksbS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXttLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPTAsZT1bXSxnPW0oYSksaD1nLmxlbmd0aC0xO2g+PWQ7ZCsrKWM9ZD09PWg/dGhpczp0aGlzLmNsb25lKCEwKSxtKGdbZF0pW2JdKGMpLGYuYXBwbHkoZSxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIENiLERiPXt9O2Z1bmN0aW9uIEViKGIsYyl7dmFyIGQsZT1tKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTptLmNzcyhlWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGUuZGV0YWNoKCksZn1mdW5jdGlvbiBGYihhKXt2YXIgYj15LGM9RGJbYV07cmV0dXJuIGN8fChjPUViKGEsYiksIm5vbmUiIT09YyYmY3x8KENiPShDYnx8bSgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj0oQ2JbMF0uY29udGVudFdpbmRvd3x8Q2JbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9RWIoYSxiKSxDYi5kZXRhY2goKSksRGJbYV09YyksY30hZnVuY3Rpb24oKXt2YXIgYTtrLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxkO3JldHVybiBjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksZD15LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZCkuYXBwZW5kQ2hpbGQoYiksdHlwZW9mIGIuc3R5bGUuem9vbSE9PUsmJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChkKSxhKTp2b2lkIDB9fSgpO3ZhciBHYj0vXm1hcmdpbi8sSGI9bmV3IFJlZ0V4cCgiXigiK1MrIikoPyFweClbYS16JV0rJCIsImkiKSxJYixKYixLYj0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhJYj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxudWxsKX0sSmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxJYihhKSxnPWM/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdOnZvaWQgMCxjJiYoIiIhPT1nfHxtLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bS5zdHlsZShhLGIpKSxIYi50ZXN0KGcpJiZHYi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDA9PT1nP2c6ZysiIn0pOnkuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKEliPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN1cnJlbnRTdHlsZX0sSmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxJYihhKSxnPWM/Y1tiXTp2b2lkIDAsbnVsbD09ZyYmaCYmaFtiXSYmKGc9aFtiXSksSGIudGVzdChnKSYmIUtiLnRlc3QoYikmJihkPWgubGVmdCxlPWEucnVudGltZVN0eWxlLGY9ZSYmZS5sZWZ0LGYmJihlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdCksaC5sZWZ0PSJmb250U2l6ZSI9PT1iPyIxZW0iOmcsZz1oLnBpeGVsTGVmdCsicHgiLGgubGVmdD1kLGYmJihlLmxlZnQ9ZikpLHZvaWQgMD09PWc/ZzpnKyIifHwiYXV0byJ9KTtmdW5jdGlvbiBMYihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXt2YXIgYz1hKCk7aWYobnVsbCE9YylyZXR1cm4gYz92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGg7aWYoYj15LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGIuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLGQ9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGM9ZCYmZC5zdHlsZSl7Yy5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGsub3BhY2l0eT0iMC41Ij09PWMub3BhY2l0eSxrLmNzc0Zsb2F0PSEhYy5jc3NGbG9hdCxiLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsYi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGsuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1iLnN0eWxlLmJhY2tncm91bmRDbGlwLGsuYm94U2l6aW5nPSIiPT09Yy5ib3hTaXppbmd8fCIiPT09Yy5Nb3pCb3hTaXppbmd8fCIiPT09Yy5XZWJraXRCb3hTaXppbmcsbS5leHRlbmQoayx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWcmJmkoKSxnfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1mJiZpKCksZn0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1lJiZpKCksZX0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1oJiZpKCksaH19KTtmdW5jdGlvbiBpKCl7dmFyIGIsYyxkLGk7Yz15LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9eS5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksZC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKSxiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixlPWY9ITEsaD0hMCxhLmdldENvbXB1dGVkU3R5bGUmJihlPSIxJSIhPT0oYS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl8fHt9KS50b3AsZj0iNHB4Ij09PShhLmdldENvbXB1dGVkU3R5bGUoYixudWxsKXx8e3dpZHRoOiI0cHgifSkud2lkdGgsaT1iLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudCgiZGl2IikpLGkuc3R5bGUuY3NzVGV4dD1iLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsaS5zdHlsZS5tYXJnaW5SaWdodD1pLnN0eWxlLndpZHRoPSIwIixiLnN0eWxlLndpZHRoPSIxcHgiLGg9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpfHx7fSkubWFyZ2luUmlnaHQpKSxiLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsaT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGlbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZz0wPT09aVswXS5vZmZzZXRIZWlnaHQsZyYmKGlbMF0uc3R5bGUuZGlzcGxheT0iIixpWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGc9MD09PWlbMF0ub2Zmc2V0SGVpZ2h0KSxjLnJlbW92ZUNoaWxkKGQpKX19fSgpLG0uc3dhcD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07dmFyIE1iPS9hbHBoYVwoW14pXSpcKS9pLE5iPS9vcGFjaXR5XHMqPVxzKihbXildKikvLE9iPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxQYj1uZXcgUmVnRXhwKCJeKCIrUysiKSguKikkIiwiaSIpLFFiPW5ldyBSZWdFeHAoIl4oWystXSk9KCIrUysiKSIsImkiKSxSYj17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sU2I9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LFRiPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07ZnVuY3Rpb24gVWIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9Yi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPVRiLmxlbmd0aDt3aGlsZShlLS0paWYoYj1UYltlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBWYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1tLl9kYXRhKGQsIm9sZGRpc3BsYXkiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHwibm9uZSIhPT1jfHwoZC5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PWQuc3R5bGUuZGlzcGxheSYmVShkKSYmKGZbZ109bS5fZGF0YShkLCJvbGRkaXNwbGF5IixGYihkLm5vZGVOYW1lKSkpKTooZT1VKGQpLChjJiYibm9uZSIhPT1jfHwhZSkmJm0uX2RhdGEoZCwib2xkZGlzcGxheSIsZT9jOm0uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkPVBiLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fCJweCIpOmJ9ZnVuY3Rpb24gWGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW0uY3NzKGEsYytUW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bS5jc3MoYSwicGFkZGluZyIrVFtmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bS5jc3MoYSwiYm9yZGVyIitUW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bS5jc3MoYSwicGFkZGluZyIrVFtmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bS5jc3MoYSwiYm9yZGVyIitUW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBZYihhLGIsYyl7dmFyIGQ9ITAsZT0id2lkdGgiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9SWIoYSksZz1rLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bS5jc3MoYSwiYm94U2l6aW5nIiwhMSxmKTtpZigwPj1lfHxudWxsPT1lKXtpZihlPUpiKGEsYixmKSwoMD5lfHxudWxsPT1lKSYmKGU9YS5zdHlsZVtiXSksSGIudGVzdChlKSlyZXR1cm4gZTtkPWcmJihrLmJveFNpemluZ1JlbGlhYmxlKCl8fGU9PT1hLnN0eWxlW2JdKSxlPXBhcnNlRmxvYXQoZSl8fDB9cmV0dXJuIGUrWGIoYSxiLGN8fChnPyJib3JkZXIiOiJjb250ZW50IiksZCxmKSsicHgifW0uZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9SmIoYSwib3BhY2l0eSIpO3JldHVybiIiPT09Yz8iMSI6Y319fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjprLmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW0uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtpZihiPW0uY3NzUHJvcHNbaF18fChtLmNzc1Byb3BzW2hdPVViKGksaCkpLGc9bS5jc3NIb29rc1tiXXx8bS5jc3NIb29rc1toXSx2b2lkIDA9PT1jKXJldHVybiBnJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTtpZihmPXR5cGVvZiBjLCJzdHJpbmciPT09ZiYmKGU9UWIuZXhlYyhjKSkmJihjPShlWzFdKzEpKmVbMl0rcGFyc2VGbG9hdChtLmNzcyhhLGIpKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiIT09Znx8bS5jc3NOdW1iZXJbaF18fChjKz0icHgiKSxrLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1jfHwwIT09Yi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChpW2JdPSJpbmhlcml0IiksIShnJiYic2V0ImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSkpKSl0cnl7aVtiXT1jfWNhdGNoKGope319fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bS5jYW1lbENhc2UoYik7cmV0dXJuIGI9bS5jc3NQcm9wc1toXXx8KG0uY3NzUHJvcHNbaF09VWIoYS5zdHlsZSxoKSksZz1tLmNzc0hvb2tzW2JdfHxtLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGY9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZiYmKGY9SmIoYSxiLGQpKSwibm9ybWFsIj09PWYmJmIgaW4gU2ImJihmPVNiW2JdKSwiIj09PWN8fGM/KGU9cGFyc2VGbG9hdChmKSxjPT09ITB8fG0uaXNOdW1lcmljKGUpP2V8fDA6Zik6Zn19KSxtLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bS5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9PYi50ZXN0KG0uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP20uc3dhcChhLFJiLGZ1bmN0aW9uKCl7cmV0dXJuIFliKGEsYixkKX0pOlliKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmSWIoYSk7cmV0dXJuIFdiKGEsYyxkP1hiKGEsYixkLGsuYm94U2l6aW5nJiYiYm9yZGVyLWJveCI9PT1tLmNzcyhhLCJib3hTaXppbmciLCExLGUpLGUpOjApfX19KSxrLm9wYWNpdHl8fChtLmNzc0hvb2tzLm9wYWNpdHk9e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBOYi50ZXN0KChiJiZhLmN1cnJlbnRTdHlsZT9hLmN1cnJlbnRTdHlsZS5maWx0ZXI6YS5zdHlsZS5maWx0ZXIpfHwiIik/LjAxKnBhcnNlRmxvYXQoUmVnRXhwLiQxKSsiIjpiPyIxIjoiIn0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdHlsZSxkPWEuY3VycmVudFN0eWxlLGU9bS5pc051bWVyaWMoYik/ImFscGhhKG9wYWNpdHk9IisxMDAqYisiKSI6IiIsZj1kJiZkLmZpbHRlcnx8Yy5maWx0ZXJ8fCIiO2Muem9vbT0xLChiPj0xfHwiIj09PWIpJiYiIj09PW0udHJpbShmLnJlcGxhY2UoTWIsIiIpKSYmYy5yZW1vdmVBdHRyaWJ1dGUmJihjLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIiksIiI9PT1ifHxkJiYhZC5maWx0ZXIpfHwoYy5maWx0ZXI9TWIudGVzdChmKT9mLnJlcGxhY2UoTWIsZSk6ZisiICIrZSl9fSksbS5jc3NIb29rcy5tYXJnaW5SaWdodD1MYihrLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9tLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sSmIsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG0uZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7bS5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPSJzdHJpbmciPT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZDtkKyspZVthK1RbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sR2IudGVzdChhKXx8KG0uY3NzSG9va3NbYStiXS5zZXQ9V2IpfSksbS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobS5pc0FycmF5KGIpKXtmb3IoZD1JYihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1tLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bS5zdHlsZShhLGIsYyk6bS5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gVmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gVmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7VSh0aGlzKT9tKHRoaXMpLnNob3coKTptKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIFpiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBaYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW0uVHdlZW49WmIsWmIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpaYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobS5jc3NOdW1iZXJbY10/IiI6InB4IikKfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1aYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6WmIucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9WmIucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPWI9dGhpcy5vcHRpb25zLmR1cmF0aW9uP20uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6WmIucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sWmIucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVpiLnByb3RvdHlwZSxaYi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhiPW0uY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe20uZnguc3RlcFthLnByb3BdP20uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVttLmNzc1Byb3BzW2EucHJvcF1dfHxtLmNzc0hvb2tzW2EucHJvcF0pP20uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LFpiLnByb3BIb29rcy5zY3JvbGxUb3A9WmIucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbS5meD1aYi5wcm90b3R5cGUuaW5pdCxtLmZ4LnN0ZXA9e307dmFyICRiLF9iLGFjPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxiYz1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUysiKShbYS16JV0qKSQiLCJpIiksY2M9L3F1ZXVlSG9va3MkLyxkYz1baWNdLGVjPXsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGQ9Yy5jdXIoKSxlPWJjLmV4ZWMoYiksZj1lJiZlWzNdfHwobS5jc3NOdW1iZXJbYV0/IiI6InB4IiksZz0obS5jc3NOdW1iZXJbYV18fCJweCIhPT1mJiYrZCkmJmJjLmV4ZWMobS5jc3MoYy5lbGVtLGEpKSxoPTEsaT0yMDtpZihnJiZnWzNdIT09Zil7Zj1mfHxnWzNdLGU9ZXx8W10sZz0rZHx8MTtkbyBoPWh8fCIuNSIsZy89aCxtLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtmdW5jdGlvbiBmYygpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGI9dm9pZCAwfSksJGI9bS5ub3coKX1mdW5jdGlvbiBnYyhhLGIpe3ZhciBjLGQ9e2hlaWdodDphfSxlPTA7Zm9yKGI9Yj8xOjA7ND5lO2UrPTItYiljPVRbZV0sZFsibWFyZ2luIitjXT1kWyJwYWRkaW5nIitjXT1hO3JldHVybiBiJiYoZC5vcGFjaXR5PWQud2lkdGg9YSksZH1mdW5jdGlvbiBoYyhhLGIsYyl7Zm9yKHZhciBkLGU9KGVjW2JdfHxbXSkuY29uY2F0KGVjWyIqIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIGljKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixsLG49dGhpcyxvPXt9LHA9YS5zdHlsZSxxPWEubm9kZVR5cGUmJlUoYSkscj1tLl9kYXRhKGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW0uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxuLmFsd2F5cyhmdW5jdGlvbigpe24uYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG0ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLGo9bS5jc3MoYSwiZGlzcGxheSIpLGw9Im5vbmUiPT09aj9tLl9kYXRhKGEsIm9sZGRpc3BsYXkiKXx8RmIoYS5ub2RlTmFtZSk6aiwiaW5saW5lIj09PWwmJiJub25lIj09PW0uY3NzKGEsImZsb2F0IikmJihrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJiJpbmxpbmUiIT09RmIoYS5ub2RlTmFtZSk/cC56b29tPTE6cC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKHAub3ZlcmZsb3c9ImhpZGRlbiIsay5zaHJpbmtXcmFwQmxvY2tzKCl8fG4uYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxhYy5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fCJ0b2dnbGUiPT09ZSxlPT09KHE/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWV8fCFyfHx2b2lkIDA9PT1yW2RdKWNvbnRpbnVlO3E9ITB9b1tkXT1yJiZyW2RdfHxtLnN0eWxlKGEsZCl9ZWxzZSBqPXZvaWQgMDtpZihtLmlzRW1wdHlPYmplY3QobykpImlubGluZSI9PT0oIm5vbmUiPT09aj9GYihhLm5vZGVOYW1lKTpqKSYmKHAuZGlzcGxheT1qKTtlbHNle3I/ImhpZGRlbiJpbiByJiYocT1yLmhpZGRlbik6cj1tLl9kYXRhKGEsImZ4c2hvdyIse30pLGYmJihyLmhpZGRlbj0hcSkscT9tKGEpLnNob3coKTpuLmRvbmUoZnVuY3Rpb24oKXttKGEpLmhpZGUoKX0pLG4uZG9uZShmdW5jdGlvbigpe3ZhciBiO20uX3JlbW92ZURhdGEoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbyltLnN0eWxlKGEsYixvW2JdKX0pO2ZvcihkIGluIG8pZz1oYyhxP3JbZF06MCxkLG4pLGQgaW4gcnx8KHJbZF09Zy5zdGFydCxxJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIGpjKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bS5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxtLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW0uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24ga2MoYSxiLGMpe3ZhciBkLGUsZj0wLGc9ZGMubGVuZ3RoLGg9bS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9JGJ8fGZjKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm0uZXh0ZW5kKHt9LGIpLG9wdHM6bS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTokYnx8ZmMoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW0uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKGpjKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1kY1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG0ubWFwKGssaGMsaiksbS5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbS5meC50aW1lcihtLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1tLkFuaW1hdGlvbj1tLmV4dGVuZChrYyx7dHdlZW5lcjpmdW5jdGlvbihhLGIpe20uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxlY1tjXT1lY1tjXXx8W10sZWNbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9kYy51bnNoaWZ0KGEpOmRjLnB1c2goYSl9fSksbS5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP20uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bS5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFtLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW0uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBtLmZ4LnNwZWVkcz9tLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTptLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bS5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZtLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbS5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5pc0VtcHR5T2JqZWN0KGEpLGY9bS5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPWtjKHRoaXMsbS5leHRlbmQoe30sYSksZik7KGV8fG0uX2RhdGEodGhpcywiZmluaXNoIikpJiZiLnN0b3AoITApfTtyZXR1cm4gZy5maW5pc2g9ZyxlfHxmLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGcpOnRoaXMucXVldWUoZi5xdWV1ZSxnKX0sc3RvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdG9wO2RlbGV0ZSBhLnN0b3AsYihjKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYSsicXVldWVIb29rcyIsZj1tLnRpbWVycyxnPW0uX2RhdGEodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmY2MudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZtLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1tLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1tLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbS5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxtLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bS5mbltiXTttLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoZ2MoYiwhMCksYSxkLGUpfX0pLG0uZWFjaCh7c2xpZGVEb3duOmdjKCJzaG93Iiksc2xpZGVVcDpnYygiaGlkZSIpLHNsaWRlVG9nZ2xlOmdjKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bS5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxtLnRpbWVycz1bXSxtLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW0udGltZXJzLGM9MDtmb3IoJGI9bS5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxtLmZ4LnN0b3AoKSwkYj12b2lkIDB9LG0uZngudGltZXI9ZnVuY3Rpb24oYSl7bS50aW1lcnMucHVzaChhKSxhKCk/bS5meC5zdGFydCgpOm0udGltZXJzLnBvcCgpfSxtLmZ4LmludGVydmFsPTEzLG0uZnguc3RhcnQ9ZnVuY3Rpb24oKXtfYnx8KF9iPXNldEludGVydmFsKG0uZngudGljayxtLmZ4LmludGVydmFsKSl9LG0uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoX2IpLF9iPW51bGx9LG0uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG0uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1tLmZ4P20uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxjPXkuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksZT1jLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGE9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxkLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGsuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWIuY2xhc3NOYW1lLGsuc3R5bGU9L3RvcC8udGVzdChkLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksay5ocmVmTm9ybWFsaXplZD0iL2EiPT09ZC5nZXRBdHRyaWJ1dGUoImhyZWYiKSxrLmNoZWNrT249ISFhLnZhbHVlLGsub3B0U2VsZWN0ZWQ9ZS5zZWxlY3RlZCxrLmVuY3R5cGU9ISF5LmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGMuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hZS5kaXNhYmxlZCxhPXkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxrLmlucHV0PSIiPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYS52YWx1ZT0idCIsYS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGsucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBsYz0vXHIvZzttLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bS5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG0odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjptLmlzQXJyYXkoZSkmJihlPW0ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW0udmFsSG9va3NbdGhpcy50eXBlXXx8bS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW0udmFsSG9va3NbZS50eXBlXXx8bS52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UobGMsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLG0uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bS5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOm0udHJpbShtLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZtLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9bShjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW0ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWlmKGQ9ZVtnXSxtLmluQXJyYXkobS52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPj0wKXRyeXtkLnNlbGVjdGVkPWM9ITB9Y2F0Y2goaCl7ZC5zY3JvbGxIZWlnaHR9ZWxzZSBkLnNlbGVjdGVkPSExO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSksbS5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7bS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uaXNBcnJheShiKT9hLmNoZWNrZWQ9bS5pbkFycmF5KG0oYSkudmFsKCksYik+PTA6dm9pZCAwfX0say5jaGVja09ufHwobS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pO3ZhciBtYyxuYyxvYz1tLmV4cHIuYXR0ckhhbmRsZSxwYz0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLHFjPWsuZ2V0U2V0QXR0cmlidXRlLHJjPWsuaW5wdXQ7bS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLG0uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxtLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09Sz9tLnByb3AoYSxiLGMpOigxPT09ZiYmbS5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bS5hdHRySG9va3NbYl18fChtLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP25jOm1jKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW0uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBtLnJlbW92ZUF0dHIoYSxiKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1tLnByb3BGaXhbY118fGMsbS5leHByLm1hdGNoLmJvb2wudGVzdChjKT9yYyYmcWN8fCFwYy50ZXN0KGMpP2FbZF09ITE6YVttLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2MpXT1hW2RdPSExOm0uYXR0cihhLGMsIiIpLGEucmVtb3ZlQXR0cmlidXRlKHFjP2M6ZCl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWsucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm0ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksbmM9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9tLnJlbW92ZUF0dHIoYSxjKTpyYyYmcWN8fCFwYy50ZXN0KGMpP2Euc2V0QXR0cmlidXRlKCFxYyYmbS5wcm9wRml4W2NdfHxjLGMpOmFbbS5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtjXT0hMCxjfX0sbS5lYWNoKG0uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9b2NbYl18fG0uZmluZC5hdHRyO29jW2JdPXJjJiZxY3x8IXBjLnRlc3QoYik/ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPW9jW2JdLG9jW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCxvY1tiXT1mKSxlfTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmFbbS5jYW1lbENhc2UoImRlZmF1bHQtIitiKV0/Yi50b0xvd2VyQ2FzZSgpOm51bGx9fSkscmMmJnFjfHwobS5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0ubm9kZU5hbWUoYSwiaW5wdXQiKT92b2lkKGEuZGVmYXVsdFZhbHVlPWIpOm1jJiZtYy5zZXQoYSxiLGMpfX0pLHFjfHwobWM9e3NldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkfHxhLnNldEF0dHJpYnV0ZU5vZGUoZD1hLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKGMpKSxkLnZhbHVlPWIrPSIiLCJ2YWx1ZSI9PT1jfHxiPT09YS5nZXRBdHRyaWJ1dGUoYyk/Yjp2b2lkIDB9fSxvYy5pZD1vYy5uYW1lPW9jLmNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJiIiIT09ZC52YWx1ZT9kLnZhbHVlOm51bGx9LG0udmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZU5vZGUoYik7cmV0dXJuIGMmJmMuc3BlY2lmaWVkP2MudmFsdWU6dm9pZCAwfSxzZXQ6bWMuc2V0fSxtLmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e3NldDpmdW5jdGlvbihhLGIsYyl7bWMuc2V0KGEsIiI9PT1iPyExOmIsYyl9fSxtLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7bS5hdHRySG9va3NbYl09e3NldDpmdW5jdGlvbihhLGMpe3JldHVybiIiPT09Yz8oYS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpLGMpOnZvaWQgMH19fSkpLGsuc3R5bGV8fChtLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD1iKyIifX0pO3ZhciBzYz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSx0Yz0vXig/OmF8YXJlYSkkL2k7bS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLG0ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gYT1tLnByb3BGaXhbYV18fGEsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYV09dm9pZCAwLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGIpe319KX19KSxtLmV4dGVuZCh7cHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW0uaXNYTUxEb2MoYSksZiYmKGI9bS5wcm9wRml4W2JdfHxiLGU9bS5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW0uZmluZC5hdHRyKGEsInRhYmluZGV4Iik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6c2MudGVzdChhLm5vZGVOYW1lKXx8dGMudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX19KSxrLmhyZWZOb3JtYWxpemVkfHxtLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXttLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxrLm9wdFNlbGVjdGVkfHwobS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSxtLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe20ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxrLmVuY3R5cGV8fChtLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKTt2YXIgdWM9L1tcdFxyXG5cZl0vZzttLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9InN0cmluZyI9PXR5cGVvZiBhJiZhO2lmKG0uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoailmb3IoYj0oYXx8IiIpLm1hdGNoKEUpfHxbXTtpPmg7aCsrKWlmKGM9dGhpc1toXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KCIgIitjLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodWMsIiAiKToiICIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKCIgIitlKyIgIik8MCYmKGQrPWUrIiAiKTtnPW0udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgYSYmYTtpZihtLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXttKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGopZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aT5oO2grKylpZihjPXRoaXNbaF0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHVjLCIgIik6IiIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKCIgIitlKyIgIik+PTApZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP20udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG0uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXttKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKXt2YXIgYixkPTAsZT1tKHRoaXMpLGY9YS5tYXRjaChFKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09S3x8ImJvb2xlYW4iPT09YykmJih0aGlzLmNsYXNzTmFtZSYmbS5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjptLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodWMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pLG0uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe20uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG0uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGF8fCIqKiIsYyl9fSk7dmFyIHZjPW0ubm93KCksd2M9L1w/Lyx4Yz0vKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nO20ucGFyc2VKU09OPWZ1bmN0aW9uKGIpe2lmKGEuSlNPTiYmYS5KU09OLnBhcnNlKXJldHVybiBhLkpTT04ucGFyc2UoYisiIik7dmFyIGMsZD1udWxsLGU9bS50cmltKGIrIiIpO3JldHVybiBlJiYhbS50cmltKGUucmVwbGFjZSh4YyxmdW5jdGlvbihhLGIsZSxmKXtyZXR1cm4gYyYmYiYmKGQ9MCksMD09PWQ/YTooYz1lfHxiLGQrPSFmLSFlLCIiKX0pKT9GdW5jdGlvbigicmV0dXJuICIrZSkoKTptLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LG0ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGMsZDtpZighYnx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXthLkRPTVBhcnNlcj8oZD1uZXcgRE9NUGFyc2VyLGM9ZC5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKSk6KGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bS5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIHljLHpjLEFjPS8jLiokLyxCYz0vKFs/Jl0pXz1bXiZdKi8sQ2M9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxEYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxFYz0vXig/OkdFVHxIRUFEKSQvLEZjPS9eXC9cLy8sR2M9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sSGM9e30sSWM9e30sSmM9IiovIi5jb25jYXQoIioiKTt0cnl7emM9bG9jYXRpb24uaHJlZn1jYXRjaChLYyl7emM9eS5jcmVhdGVFbGVtZW50KCJhIiksemMuaHJlZj0iIix6Yz16Yy5ocmVmfXljPUdjLmV4ZWMoemMudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIExjKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXTtpZihtLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTWMoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SWM7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxtLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBOYyhhLGIpe3ZhciBjLGQsZT1tLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZtLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gT2MoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gUGMoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1tLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6emMsdHlwZToiR0VUIixpc0xvY2FsOkRjLnRlc3QoeWNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6SmMsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjptLnBhcnNlSlNPTiwidGV4dCB4bWwiOm0ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP05jKE5jKGEsbS5hamF4U2V0dGluZ3MpLGIpOk5jKG0uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOkxjKEhjKSxhamF4VHJhbnNwb3J0OkxjKEljKSxhamF4OmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1tLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxuPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9tKGwpOm0uZXZlbnQsbz1tLkRlZmVycmVkKCkscD1tLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PSJjYW5jZWxlZCIsdj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT10KXtpZighail7aj17fTt3aGlsZShiPUNjLmV4ZWMoZikpaltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1qW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZjpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gaSYmaS5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fHpjKSsiIikucmVwbGFjZShBYywiIikucmVwbGFjZShGYyx5Y1sxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1tLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihjPUdjLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFjfHxjWzFdPT09eWNbMV0mJmNbMl09PT15Y1syXSYmKGNbM118fCgiaHR0cDoiPT09Y1sxXT8iODAiOiI0NDMiKSk9PT0oeWNbM118fCgiaHR0cDoiPT09eWNbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1tLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksTWMoSGMsayxiLHYpLDI9PT10KXJldHVybiB2O2g9ay5nbG9iYWwsaCYmMD09PW0uYWN0aXZlKysmJm0uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0hRWMudGVzdChrLnR5cGUpLGU9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZT1rLnVybCs9KHdjLnRlc3QoZSk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPUJjLnRlc3QoZSk/ZS5yZXBsYWNlKEJjLCIkMV89Iit2YysrKTplKyh3Yy50ZXN0KGUpPyImIjoiPyIpKyJfPSIrdmMrKykpLGsuaWZNb2RpZmllZCYmKG0ubGFzdE1vZGlmaWVkW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixtLmxhc3RNb2RpZmllZFtlXSksbS5ldGFnW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG0uZXRhZ1tlXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK0pjKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoZCBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGQsay5oZWFkZXJzW2RdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihkIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbZF0oa1tkXSk7aWYoaT1NYyhJYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGgmJm4udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxpLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHgoYSxiLGMsZCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGk9dm9pZCAwLGY9ZHx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjAsaj1hPj0yMDAmJjMwMD5hfHwzMDQ9PT1hLGMmJih1PU9jKGssdixjKSksdT1QYyhrLHUsdixqKSxqPyhrLmlmTW9kaWZpZWQmJih3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSx3JiYobS5sYXN0TW9kaWZpZWRbZV09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksdyYmKG0uZXRhZ1tlXT13KSksMjA0PT09YXx8IkhFQUQiPT09ay50eXBlP3g9Im5vY29udGVudCI6MzA0PT09YT94PSJub3Rtb2RpZmllZCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9ImVycm9yIiwwPmEmJihhPTApKSksdi5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9KGJ8fHgpKyIiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxoJiZuLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt2LGssaj9yOnNdKSxwLmZpcmVXaXRoKGwsW3YseF0pLGgmJihuLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3Ysa10pLC0tbS5hY3RpdmV8fG0uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG0uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe21bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG0uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG0uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG0uZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGEsYil7bS5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG0uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG0uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbS5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7aWYobS5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bSh0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPW0oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJjE9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG0uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXttKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bSh0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1tLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXttKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bS5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG0odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG0uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB8fCFrLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiYibm9uZSI9PT0oYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxtLmNzcyhhLCJkaXNwbGF5IikpfSxtLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFtLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9O3ZhciBRYz0vJTIwL2csUmM9L1xbXF0kLyxTYz0vXHI/XG4vZyxUYz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksVWM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIFZjKGEsYixjLGQpe3ZhciBlO2lmKG0uaXNBcnJheShiKSltLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fFJjLnRlc3QoYSk/ZChhLGUpOlZjKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1tLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilWYyhhKyJbIitlKyJdIixiW2VdLGMsZCl9bS5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bS5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW0uYWpheFNldHRpbmdzJiZtLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbS5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW0uaXNQbGFpbk9iamVjdChhKSltLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKVZjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKFFjLCIrIil9LG0uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW0ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP20ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW0odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZVYy50ZXN0KHRoaXMubm9kZU5hbWUpJiYhVGMudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVcudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1tKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bS5pc0FycmF5KGMpP20ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShTYywiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoU2MsIlxyXG4iKX19KS5nZXQoKX19KSxtLmFqYXhTZXR0aW5ncy54aHI9dm9pZCAwIT09YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmWmMoKXx8JGMoKX06WmM7dmFyIFdjPTAsWGM9e30sWWM9bS5hamF4U2V0dGluZ3MueGhyKCk7YS5BY3RpdmVYT2JqZWN0JiZtKGEpLm9uKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFhjKVhjW2FdKHZvaWQgMCwhMCl9KSxrLmNvcnM9ISFZYyYmIndpdGhDcmVkZW50aWFscyJpbiBZYyxZYz1rLmFqYXg9ISFZYyxZYyYmbS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe2lmKCFhLmNyb3NzRG9tYWlufHxrLmNvcnMpe3ZhciBiO3JldHVybntzZW5kOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hLnhocigpLGc9KytXYztpZihmLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKSxhLnhockZpZWxkcylmb3IoZSBpbiBhLnhockZpZWxkcylmW2VdPWEueGhyRmllbGRzW2VdO2EubWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLGEuY3Jvc3NEb21haW58fGNbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGNbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZSBpbiBjKXZvaWQgMCE9PWNbZV0mJmYuc2V0UmVxdWVzdEhlYWRlcihlLGNbZV0rIiIpO2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCksYj1mdW5jdGlvbihjLGUpe3ZhciBoLGksajtpZihiJiYoZXx8ND09PWYucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIFhjW2ddLGI9dm9pZCAwLGYub25yZWFkeXN0YXRlY2hhbmdlPW0ubm9vcCxlKTQhPT1mLnJlYWR5U3RhdGUmJmYuYWJvcnQoKTtlbHNle2o9e30saD1mLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0JiYoai50ZXh0PWYucmVzcG9uc2VUZXh0KTt0cnl7aT1mLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1ofHwhYS5pc0xvY2FsfHxhLmNyb3NzRG9tYWluPzEyMjM9PT1oJiYoaD0yMDQpOmg9ai50ZXh0PzIwMDo0MDR9aiYmZChoLGksaixmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYS5hc3luYz80PT09Zi5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYik6Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9WGNbZ109YjpiKCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYih2b2lkIDAsITApfX19fSk7ZnVuY3Rpb24gWmMoKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319ZnVuY3Rpb24gJGMoKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1tLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBtLmdsb2JhbEV2YWwoYSksYX19fSksbS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG0uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPXkuaGVhZHx8bSgiaGVhZCIpWzBdfHx5LmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9eS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxlKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgX2M9W10sYWQ9Lyg9KVw/KD89JnwkKXxcP1w/LzttLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9X2MucG9wKCl8fG0uZXhwYW5kbysiXyIrdmMrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG0uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGFkLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmYWQudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW0uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGFkLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPSh3Yy50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bS5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssX2MucHVzaChlKSksZyYmbS5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbS5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fHk7dmFyIGQ9dS5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW0uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbShlKS5yZW1vdmUoKSxtLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgYmQ9bS5mbi5sb2FkO20uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhJiZiZClyZXR1cm4gYmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD49MCYmKGQ9bS50cmltKGEuc2xpY2UoaCxhLmxlbmd0aCkpLGE9YS5zbGljZSgwLGgpKSxtLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmIm9iamVjdCI9PXR5cGVvZiBiJiYoZj0iUE9TVCIpLGcubGVuZ3RoPjAmJm0uYWpheCh7dXJsOmEsdHlwZTpmLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2U9YXJndW1lbnRzLGcuaHRtbChkP20oIjxkaXY+IikuYXBwZW5kKG0ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxlfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxtLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbS5ncmVwKG0udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgY2Q9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gZGQoYSl7cmV0dXJuIG0uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1tLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW0uY3NzKGEsInBvc2l0aW9uIiksbD1tKGEpLG49e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1tLmNzcyhhLCJ0b3AiKSxpPW0uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZtLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbS5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG4udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG4ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG4pOmwuY3NzKG4pfX0sbS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9e3RvcDowLGxlZnQ6MH0sZT10aGlzWzBdLGY9ZSYmZS5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbS5jb250YWlucyhiLGUpPyh0eXBlb2YgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1LJiYoZD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPWRkKGYpLHt0b3A6ZC50b3ArKGMucGFnZVlPZmZzZXR8fGIuc2Nyb2xsVG9wKS0oYi5jbGllbnRUb3B8fDApLGxlZnQ6ZC5sZWZ0KyhjLnBhZ2VYT2Zmc2V0fHxiLnNjcm9sbExlZnQpLShiLmNsaWVudExlZnR8fDApfSk6ZH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9e3RvcDowLGxlZnQ6MH0sZD10aGlzWzBdO3JldHVybiJmaXhlZCI9PT1tLmNzcyhkLCJwb3NpdGlvbiIpP2I9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxtLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGM9YS5vZmZzZXQoKSksYy50b3ArPW0uY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksYy5sZWZ0Kz1tLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDpiLnRvcC1jLnRvcC1tLmNzcyhkLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1jLmxlZnQtbS5jc3MoZCwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxjZDt3aGlsZShhJiYhbS5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bS5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxjZH0pfX0pLG0uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO20uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9ZGQoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bShmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bShmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbS5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bS5jc3NIb29rc1tiXT1MYihrLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1KYihhLGIpLEhiLnRlc3QoYyk/bShhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxtLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe20uZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpiLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oYyxkKXttLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fCJib29sZWFuIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gVih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbS5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbInNjcm9sbCIrYV0sZVsic2Nyb2xsIithXSxiLmJvZHlbIm9mZnNldCIrYV0sZVsib2Zmc2V0IithXSxlWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09ZD9tLmNzcyhiLGMsZyk6bS5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxtLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG0uZm4uYW5kU2VsZj1tLmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG19KTt2YXIgZWQ9YS5qUXVlcnksZmQ9YS4kO3JldHVybiBtLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW0mJihhLiQ9ZmQpLGImJmEualF1ZXJ5PT09bSYmKGEualF1ZXJ5PWVkKSxtfSx0eXBlb2YgYj09PUsmJihhLmpRdWVyeT1hLiQ9bSksbX0pOwo="},{"meta":{"name":"Gettext.js","url":"https://raw.github.com/badconker/ctrl-w/release/lib/Gettext.js","ts":1544430113141,"mimetype":"text/javascript"},"source":"LyoKUHVyZSBKYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIFVuaWZvcnVtIG1lc3NhZ2UgdHJhbnNsYXRpb24uCkNvcHlyaWdodCAoQykgMjAwOCBKb3NodWEgSS4gTWlsbGVyIDx1bnJ0c3RAY3Bhbi5vcmc+LCBhbGwgcmlnaHRzIHJlc2VydmVkCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAp1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMaWJyYXJ5IEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkCmJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIsIG9yIChhdCB5b3VyIG9wdGlvbikKYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUKTGlicmFyeSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGlicmFyeSBHZW5lcmFsIFB1YmxpYwpMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCkZvdW5kYXRpb24sIEluYy4sIDU5IFRlbXBsZSBQbGFjZSAtIFN1aXRlIDMzMCwgQm9zdG9uLCBNQSAwMjExMS0xMzA3LApVU0EuCgo9aGVhZDEgTkFNRQoKSmF2YXNjcmlwdCBHZXR0ZXh0IC0gSmF2YXNjcmlwdCBpbXBsZW1lbmF0aW9uIG9mIEdOVSBHZXR0ZXh0IEFQSS4KCj1oZWFkMSBTWU5PUFNJUwoKIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KIC8vIE9wdGltdW0gY2FjaGluZyB3YXkKIDxzY3JpcHQgbGFuZ3VhZ2U9ImphdmFzY3JpcHQiIHNyYz0iL3BhdGgvTENfTUVTU0FHRVMvbXlEb21haW4uanNvbiI+PC9zY3JpcHQ+CiA8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiBzcmM9Ii9wYXRoL0dldHRleHQuanMnPjwvc2NyaXB0PgoKIC8vIGFzc3VtaW5nIG15RG9tYWluLmpzb24gZGVmaW5lcyB2YXJpYWJsZSBqc29uX2xvY2FsZV9kYXRhCiB2YXIgcGFyYW1zID0geyAgImRvbWFpbiIgOiAibXlEb21haW4iLAogICAgICAgICAgICAgICAgICJsb2NhbGVfZGF0YSIgOiBqc29uX2xvY2FsZV9kYXRhCiAgICAgICAgICAgICAgfTsKIHZhciBndCA9IG5ldyBHZXR0ZXh0KHBhcmFtcyk7CiAvLyBjcmVhdGUgYSBzaG9ydGN1dCBpZiB5b3UnZCBsaWtlCiBmdW5jdGlvbiBfIChtc2dpZCkgeyByZXR1cm4gZ3QuZ2V0dGV4dChtc2dpZCk7IH0KIGFsZXJ0KF8oInNvbWUgc3RyaW5nIikpOwogLy8gb3IgdXNlIGZ1bGx5IG5hbWVkIG1ldGhvZAogYWxlcnQoZ3QuZ2V0dGV4dCgic29tZSBzdHJpbmciKSk7CiAvLyBjaGFuZ2UgdG8gdXNlIGEgZGlmZmVyZW50ICJkb21haW4iCiBndC50ZXh0ZG9tYWluKCJhbm90aGVyRG9tYWluIik7CiBhbGVydChndC5nZXR0ZXh0KCJzb21lIHN0cmluZyIpKTsKCgogLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogLy8gVGhlIG90aGVyIHdheSB0byBsb2FkIHRoZSBsYW5ndWFnZSBsb29rdXAgaXMgYSAibGluayIgdGFnCiAvLyBEb3duc2lkZSBpcyB0aGF0IG5vdCBhbGwgYnJvd3NlcnMgY2FjaGUgWE1MSHR0cFJlcXVlc3RzIHRoZQogLy8gc2FtZSB3YXksIHNvIGNhY2hpbmcgb2YgdGhlIGxhbmd1YWdlIGRhdGEgaXNuJ3QgZ3VhcmVudGVlZAogLy8gYWNyb3NzIHBhZ2UgbG9hZHMuCiAvLyBVcHNpZGUgaXMgdGhhdCBpdCdzIGVhc3kgdG8gc3BlY2lmeSBtdWx0aXBsZSBmaWxlcwogPGxpbmsgcmVsPSJnZXR0ZXh0IiBocmVmPSIvcGF0aC9MQ19NRVNTQUdFUy9teURvbWFpbi5qc29uIiAvPgogPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIvcGF0aC9HZXR0ZXh0LmpzJz48L3NjcmlwdD4KCiB2YXIgZ3QgPSBuZXcgR2V0dGV4dCh7ICJkb21haW4iIDogIm15RG9tYWluIiB9KTsKIC8vIHJlc3QgaXMgdGhlIHNhbWUKCgogLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogLy8gVGhlIHJlc29uIHRoZSBzaG9ydGN1dHMgYXJlbid0IGV4cG9ydGVkIGJ5IGRlZmF1bHQgaXMgYmVjYXVzZSB0aGV5J2QgYmUKIC8vIGdsdWVkIHRvIHRoZSBzaW5nbGUgZG9tYWluIHlvdSBjcmVhdGVkLiBTbywgaWYgeW91J3JlIGFkZGluZyBpMThuIHN1cHBvcnQKIC8vIHRvIHNvbWUganMgbGlicmFyeSwgeW91IHNob3VsZCB1c2UgaXQgYXMgc286CgogaWYgKHR5cGVvZihNeU5hbWVzcGFjZSkgPT0gJ3VuZGVmaW5lZCcpIE15TmFtZXNwYWNlID0ge307CiBNeU5hbWVzcGFjZS5NeUNsYXNzID0gZnVuY3Rpb24gKCkgewogICAgIHZhciBndFBhcm1zID0geyAiZG9tYWluIiA6ICdNeU5hbWVzcGFjZV9NeUNsYXNzJyB9OwogICAgIHRoaXMuZ3QgPSBuZXcgR2V0dGV4dChndFBhcmFtcyk7CiAgICAgcmV0dXJuIHRoaXM7CiB9OwogTXlOYW1lc3BhY2UuTXlDbGFzcy5wcm90b3R5cGUuXyA9IGZ1bmN0aW9uIChtc2dpZCkgewogICAgIHJldHVybiB0aGlzLmd0LmdldHRleHQobXNnaWQpOwogfTsKIE15TmFtZXNwYWNlLk15Q2xhc3MucHJvdG90eXBlLnNvbWV0aGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgbXlTdHJpbmcgPSB0aGlzLl8oInRoaXMgd2lsbCBnZXQgdHJhbnNsYXRlZCIpOwogfTsKCiAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAvLyBBZGRpbmcgdGhlIHNob3J0Y3V0cyB0byBhIGdsb2JhbCBzY29wZSBpcyBlYXNpZXIuIElmIHRoYXQncwogLy8gb2sgaW4geW91ciBhcHAsIHRoaXMgaXMgY2VydGFpbmx5IGVhc2llci4KIHZhciBteUdldHRleHQgPSBuZXcgR2V0dGV4dCh7ICdkb21haW4nIDogJ215RG9tYWluJyB9KTsKIGZ1bmN0aW9uIF8gKG1zZ2lkKSB7CiAgICAgcmV0dXJuIG15R2V0dGV4dC5nZXR0ZXh0KG1zZ2lkKTsKIH0KIGFsZXJ0KCBfKCJ0ZXh0IikgKTsKCiAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAvLyBEYXRhIHN0cnVjdHVyZSBvZiB0aGUganNvbiBkYXRhCiAvLyBOT1RFOiBpZiB5b3UncmUgbG9hZGluZyB2aWEgdGhlIDxzY3JpcHQ+IHRhZywgeW91IGNhbiBvbmx5CiAvLyBsb2FkIG9uZSBmaWxlLCBidXQgaXQgY2FuIGNvbnRhaW4gbXVsdGlwbGUgZG9tYWlucy4KIHZhciBqc29uX2xvY2FsZV9kYXRhID0gewogICAgICJNeURvbWFpbiIgOiB7CiAgICAgICAgICIiIDogewogICAgICAgICAgICAgImhlYWRlcl9rZXkiIDogImhlYWRlciB2YWx1ZSIsCiAgICAgICAgICAgICAiaGVhZGVyX2tleSIgOiAiaGVhZGVyIHZhbHVlIiwKICAgICAgICAgIm1zZ2lkIiA6IFsgIm1zZ2lkX3BsdXJhbCIsICJtc2dzdHIiLCAibXNnc3RyX3BsdXJhbCIsICJtc2dzdHJfcGx1cmFsTiIgXSwKICAgICAgICAgIm1zZ2N0eHRcMDA0bXNnaWQiIDogWyBudWxsLCAibXNnc3RyIiBdLAogICAgICAgICB9LAogICAgICJBbm90aGVyRG9tYWluIiA6IHsKICAgICAgICAgfSwKICAgICB9Cgo9aGVhZDEgREVTQ1JJUFRJT04KClRoaXMgaXMgYSBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIEdOVSBHZXR0ZXh0LCBwcm92aWRpbmcgaW50ZXJuYXRpb25hbGl6YXRpb24gc3VwcG9ydCBmb3IgamF2YXNjcmlwdC4gSXQgZGlmZmVycyBmcm9tIGV4aXN0aW5nIGphdmFzY3JpcHQgaW1wbGVtZW50YXRpb25zIGluIHRoYXQgaXQgd2lsbCBzdXBwb3J0IGFsbCBjdXJyZW50IEdldHRleHQgZmVhdHVyZXMgKGV4LiBwbHVyYWwgYW5kIGNvbnRleHQgc3VwcG9ydCksIGFuZCB3aWxsIGFsc28gc3VwcG9ydCBsb2FkaW5nIGxhbmd1YWdlIGNhdGFsb2dzIGZyb20gLm1vLCAucG8sIG9yIHByZXByb2Nlc3NlZCBqc29uIGZpbGVzIChjb252ZXJ0ZXIgaW5jbHVkZWQpLgoKVGhlIGxvY2FsZSBpbml0aWFsaXphdGlvbiBkaWZmZXJzIGZyb20gdGhhdCBvZiBHTlUgR2V0dGV4dCAvIFBPU0lYLiBSYXRoZXIgdGhhbiBzZXR0aW5nIHRoZSBjYXRlZ29yeSwgZG9tYWluLCBhbmQgcGF0aHMsIGFuZCBsZXR0aW5nIHRoZSBsaWJzIGZpbmQgdGhlIHJpZ2h0IGZpbGUsIHlvdSBtdXN0IGV4cGxpY2l0bHkgbG9hZCB0aGUgZmlsZSBhdCBzb21lIHBvaW50LiBUaGUgImRvbWFpbiIgd2lsbCBzdGlsbCBiZSBob25vcmVkLiBGdXR1cmUgdmVyc2lvbnMgbWF5IGJlIGV4cGFuZGVkIHRvIGluY2x1ZGUgc3VwcG9ydCBmb3Igc2V0X2xvY2FsZSBsaWtlIGZlYXR1cmVzLgoKCj1oZWFkMSBJTlNUQUxMCgpUbyBpbnN0YWxsIHRoaXMgbW9kdWxlLCBzaW1wbHkgY29weSB0aGUgZmlsZSBsaWIvR2V0dGV4dC5qcyB0byBhIHdlYiBhY2Nlc3NhYmxlIGxvY2F0aW9uLCBhbmQgcmVmZXJlbmNlIGl0IGZyb20geW91ciBhcHBsaWNhdGlvbi4KCgo9aGVhZDEgQ09ORklHVVJBVElPTgoKQ29uZmlndXJlIGluIG9uZSBvZiB0d28gd2F5czoKCj1vdmVyCgo9aXRlbSAxLiBPcHRpbWFsLiBMb2FkIGxhbmd1YWdlIGRlZmluaXRpb24gZnJvbSBzdGF0aWNhbGx5IGRlZmluZWQganNvbiBkYXRhLgoKICAgIDxzY3JpcHQgbGFuZ3VhZ2U9ImphdmFzY3JpcHQiIHNyYz0iL3BhdGgvbG9jYWxlL2RvbWFpbi5qc29uIj48L3NjcmlwdD4KCiAgICAvLyBpbiBkb21haW4uanNvbgogICAganNvbl9sb2NhbGVfZGF0YSA9IHsKICAgICAgICAibXlkb21haW4iIDogewogICAgICAgICAgICAvLyBwbyBoZWFkZXIgZmllbGRzCiAgICAgICAgICAgICIiIDogewogICAgICAgICAgICAgICAgInBsdXJhbC1mb3JtcyIgOiAiLi4uIiwKICAgICAgICAgICAgICAgICJsYW5nIiA6ICJlbiIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAvLyBhbGwgdGhlIG1zZ2lkIHN0cmluZ3MgYW5kIHRyYW5zbGF0aW9ucwogICAgICAgICAgICAibXNnaWQiIDogWyAibXNnaWRfcGx1cmFsIiwgInRyYW5zbGF0aW9uIiwgInBsdXJhbF90cmFuc2xhdGlvbiIgXSwKICAgICAgICB9LAogICAgfTsKICAgIC8vIHBsZWFzZSBzZWUgdGhlIGluY2x1ZGVkIGJpbi9wbzJqc29uIHNjcmlwdCBmb3IgdGhlIGRldGFpbHMgb24gdGhpcyBmb3JtYXQKClRoaXMgbWV0aG9kIGFsc28gYWxsb3dzIHlvdSB0byB1c2UgdW5zdXBwb3J0ZWQgZmlsZSBmb3JtYXRzLCBzbyBsb25nIGFzIHlvdSBjYW4gcGFyc2UgdGhlbSBpbnRvIHRoZSBhYm92ZSBmb3JtYXQuCgo9aXRlbSAyLiBVc2UgQUpBWCB0byBsb2FkIGxhbmd1YWdlIGZpbGUuCgpVc2UgWE1MSHR0cFJlcXVlc3QgKGFjdHVhbGx5LCBTSkFYIC0gc3luY3Jvbm91cykgdG8gbG9hZCBhbiBleHRlcm5hbCByZXNvdXJjZS4KClN1cHBvcnRlZCBleHRlcm5hbCBmb3JtYXRzIGFyZToKCj1vdmVyCgo9aXRlbSAqIEphdmFzY3JpcHQgT2JqZWN0IE5vdGF0aW9uICguanNvbikKCihzZWUgYmluL3BvMmpzb24pCgogICAgdHlwZT1hcHBsaWNhdGlvbi9qc29uCgo9aXRlbSAqIFVuaWZvcnVtIFBvcnRhYmxlIE9iamVjdCAoLnBvKQoKKHNlZSBHTlUgR2V0dGV4dCdzIHhnZXR0ZXh0KQoKICAgIHR5cGU9YXBwbGljYXRpb24veC1wbwoKPWl0ZW0gKiBNYWNoaW5lIE9iamVjdCAoY29tcGlsZWQgLnBvKSAoLm1vKQoKTk9URTogLm1vIGZvcm1hdCBpc24ndCBhY3R1YWxseSBzdXBwb3J0ZWQganVzdCB5ZXQsIGJ1dCBzdXBwb3J0IGlzIHBsYW5uZWQuCgooc2VlIEdOVSBHZXR0ZXh0J3MgbXNnZm10KQoKICAgIHR5cGU9YXBwbGljYXRpb24veC1tbwoKPWJhY2sKCj1iYWNrCgo9aGVhZDEgTUVUSE9EUwoKVGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSBpbXBsZW1lbnRlZDoKCiAgbmV3IEdldHRleHQoYXJncykKICB0ZXh0ZG9tYWluICAoZG9tYWluKQogIGdldHRleHQgICAgIChtc2dpZCkKICBkZ2V0dGV4dCAgICAoZG9tYWlubmFtZSwgbXNnaWQpCiAgZGNnZXR0ZXh0ICAgKGRvbWFpbm5hbWUsIG1zZ2lkLCBMQ19NRVNTQUdFUykKICBuZ2V0dGV4dCAgICAobXNnaWQsIG1zZ2lkX3BsdXJhbCwgY291bnQpCiAgZG5nZXR0ZXh0ICAgKGRvbWFpbm5hbWUsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIGNvdW50KQogIGRjbmdldHRleHQgIChkb21haW5uYW1lLCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBjb3VudCwgTENfTUVTU0FHRVMpCiAgcGdldHRleHQgICAgKG1zZ2N0eHQsIG1zZ2lkKQogIGRwZ2V0dGV4dCAgIChkb21haW5uYW1lLCBtc2djdHh0LCBtc2dpZCkKICBkY3BnZXR0ZXh0ICAoZG9tYWlubmFtZSwgbXNnY3R4dCwgbXNnaWQsIExDX01FU1NBR0VTKQogIG5wZ2V0dGV4dCAgIChtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBjb3VudCkKICBkbnBnZXR0ZXh0ICAoZG9tYWlubmFtZSwgbXNnY3R4dCwgbXNnaWQsIG1zZ2lkX3BsdXJhbCwgY291bnQpCiAgZGNucGdldHRleHQgKGRvbWFpbm5hbWUsIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIGNvdW50LCBMQ19NRVNTQUdFUykKICBzdHJhcmdzICAgICAoc3RyaW5nLCBhcmdzX2FycmF5KQoKCj1oZWFkMiBuZXcgR2V0dGV4dCAoYXJncykKClNldmVyYWwgbWV0aG9kcyBvZiBsb2FkaW5nIGxvY2FsZSBkYXRhIGFyZSBpbmNsdWRlZC4gWW91IG1heSBzcGVjaWZ5IGEgcGx1Z2luIG9yIGFsdGVybmF0aXZlIG1ldGhvZCBvZiBsb2FkaW5nIGRhdGEgYnkgcGFzc2luZyB0aGUgZGF0YSBpbiBhcyB0aGUgImxvY2FsZV9kYXRhIiBvcHRpb24uIEZvciBleGFtcGxlOgoKICAgIHZhciBnZXRfbG9jYWxlX2RhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gcGx1Z2luIGRvZXMgd2hhdGV2ZXIgdG8gcG9wdWxhdGUgbG9jYWxlX2RhdGEKICAgICAgICByZXR1cm4gbG9jYWxlX2RhdGE7CiAgICB9OwogICAgdmFyIGd0ID0gbmV3IEdldHRleHQoICdkb21haW4nIDogJ21lc3NhZ2VzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9jYWxlX2RhdGEnIDogZ2V0X2xvY2FsZV9kYXRhKCkgKTsKClRoZSBhYm92ZSBjYW4gYWxzbyBiZSB1c2VkIGlmIGxvY2FsZSBkYXRhIGlzIHNwZWNpZmllZCBpbiBhIHN0YXRpY2FsbHkgaW5jbHVkZWQgPFNDUklQVD4gdGFnLiBKdXN0IHNwZWNpZnkgdGhlIHZhcmlhYmxlIG5hbWUgaW4gdGhlIGNhbGwgdG8gbmV3LiBFeDoKCiAgICB2YXIgZ3QgPSBuZXcgR2V0dGV4dCggJ2RvbWFpbicgOiAnbWVzc2FnZXMnLAogICAgICAgICAgICAgICAgICAgICAgICAgICdsb2NhbGVfZGF0YScgOiBqc29uX2xvY2FsZV9kYXRhX3ZhcmlhYmxlICk7CgpGaW5hbGx5LCB5b3UgbWF5IGxvYWQgdGhlIGxvY2FsZSBkYXRhIGJ5IHJlZmVyZW5jaW5nIGl0IGluIGEgPExJTks+IHRhZy4gU2ltcGx5IGV4Y2x1ZGUgdGhlICdsb2NhbGVfZGF0YScgb3B0aW9uLCBhbmQgYWxsIDxMSU5LIHJlbD0iZ2V0dGV4dCIgLi4uPiBpdGVtcyB3aWxsIGJlIHRyaWVkLiBUaGUgPExJTks+IHNob3VsZCBiZSBzcGVjaWZpZWQgYXM6CgogICAgPGxpbmsgcmVsPSJnZXR0ZXh0IiB0eXBlPSJhcHBsaWNhdGlvbi9qc29uIiBocmVmPSIvcGF0aC90by9maWxlLmpzb24iPgogICAgPGxpbmsgcmVsPSJnZXR0ZXh0IiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiICBocmVmPSIvcGF0aC90by9maWxlLmpzb24iPgogICAgPGxpbmsgcmVsPSJnZXR0ZXh0IiB0eXBlPSJhcHBsaWNhdGlvbi94LXBvIiBocmVmPSIvcGF0aC90by9maWxlLnBvIj4KICAgIDxsaW5rIHJlbD0iZ2V0dGV4dCIgdHlwZT0iYXBwbGljYXRpb24veC1tbyIgaHJlZj0iL3BhdGgvdG8vZmlsZS5tbyI+CgphcmdzOgoKPW92ZXIKCj1pdGVtIGRvbWFpbgoKVGhlIEdldHRleHQgZG9tYWluLCBub3Qgd3d3LndoYXRldi5jb20uIEl0J3MgdXN1YWxseSB5b3VyIGFwcGxpY2F0aW9ucyBiYXNlbmFtZS4gSWYgdGhlIC5wbyBmaWxlIHdhcyAibXlhcHAucG8iLCB0aGlzIHdvdWxkIGJlICJteWFwcCIuCgo9aXRlbSBsb2NhbGVfZGF0YQoKUmF3IGxvY2FsZSBkYXRhIChpbiBqc29uIHN0cnVjdHVyZSkuIElmIHNwZWNpZmllZCwgZnJvbV9saW5rIGRhdGEgd2lsbCBiZSBpZ25vcmVkLgoKPWJhY2sKCj1jdXQKCiovCgpHZXR0ZXh0ID0gZnVuY3Rpb24gKGFyZ3MpIHsKICAgIHRoaXMuZG9tYWluICAgICAgICAgPSAnbWVzc2FnZXMnOwogICAgLy8gbG9jYWxlX2RhdGEgd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbSA8bGluay4uLj4gaWYgbm90IHNwZWNpZmllZCBpbiBhcmdzCiAgICB0aGlzLmxvY2FsZV9kYXRhICAgID0gdW5kZWZpbmVkOwoKICAgIC8vIHNldCBvcHRpb25zCiAgICB2YXIgb3B0aW9ucyA9IFsgImRvbWFpbiIsICJsb2NhbGVfZGF0YSIgXTsKICAgIGlmICh0aGlzLmlzVmFsaWRPYmplY3QoYXJncykpIHsKICAgICAgICBmb3IgKHZhciBpIGluIGFyZ3MpIHsKICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPG9wdGlvbnMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChpID09IG9wdGlvbnNbal0pIHsKICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBzZXQgaXQgaWYgaXQncyBudWxsIG9yIHVuZGVmaW5lZAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRPYmplY3QoYXJnc1tpXSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBhcmdzW2ldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKCiAgICAvLyB0cnkgdG8gbG9hZCB0aGUgbGFuZyBmaWxlIGZyb20gc29tZXdoZXJlCiAgICB0aGlzLnRyeV9sb2FkX2xhbmcoKTsKCiAgICByZXR1cm4gdGhpczsKfQoKR2V0dGV4dC5jb250ZXh0X2dsdWUgPSAiXDAwNCI7CkdldHRleHQuX2xvY2FsZV9kYXRhID0ge307CgpHZXR0ZXh0LnByb3RvdHlwZS50cnlfbG9hZF9sYW5nID0gZnVuY3Rpb24oKSB7CiAgICAvLyBjaGVjayB0byBzZWUgaWYgbGFuZ3VhZ2UgaXMgc3RhdGljYWxseSBpbmNsdWRlZAogICAgaWYgKHR5cGVvZih0aGlzLmxvY2FsZV9kYXRhKSAhPSAndW5kZWZpbmVkJykgewogICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIHJlZm9ybWF0IGl0LCBhbmQgb3ZlcndyaXRlIHRoZSB2YXJpYWJsZQogICAgICAgIHZhciBsb2NhbGVfY29weSA9IHRoaXMubG9jYWxlX2RhdGE7CiAgICAgICAgdGhpcy5sb2NhbGVfZGF0YSA9IHVuZGVmaW5lZDsKICAgICAgICB0aGlzLnBhcnNlX2xvY2FsZV9kYXRhKGxvY2FsZV9jb3B5KTsKCiAgICAgICAgaWYgKHR5cGVvZihHZXR0ZXh0Ll9sb2NhbGVfZGF0YVt0aGlzLmRvbWFpbl0pID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3I6IEdldHRleHQgJ2xvY2FsZV9kYXRhJyBkb2VzIG5vdCBjb250YWluIHRoZSBkb21haW4gJyIrdGhpcy5kb21haW4rIiciKTsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIHRyeSBsb2FkaW5nIGZyb20gSlNPTgogICAgLy8gZ2V0IGxhbmcgbGlua3MKICAgIHZhciBsYW5nX2xpbmsgPSB0aGlzLmdldF9sYW5nX3JlZnMoKTsKCiAgICBpZiAodHlwZW9mKGxhbmdfbGluaykgPT0gJ29iamVjdCcgJiYgbGFuZ19saW5rLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyBOT1RFOiB0aGVyZSB3aWxsIGJlIGEgZGVsYXkgaGVyZSwgYXMgdGhpcyBpcyBhc3luYy4KICAgICAgICAvLyBTbywgYW55IGkxOG4gY2FsbHMgbWFkZSByaWdodCBhZnRlciBwYWdlIGxvYWQgbWF5IG5vdAogICAgICAgIC8vIGdldCB0cmFuc2xhdGVkLgogICAgICAgIC8vIFhYWDogd2UgbWF5IHdhbnQgdG8gc2VlIGlmIHdlIGNhbiAiZml4IiB0aGlzIGJlaGF2aW9yCiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGxhbmdfbGluay5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgbGluayA9IGxhbmdfbGlua1tpXTsKICAgICAgICAgICAgaWYgKGxpbmsudHlwZSA9PSAnYXBwbGljYXRpb24vanNvbicpIHsKICAgICAgICAgICAgICAgIGlmICghIHRoaXMudHJ5X2xvYWRfbGFuZ19qc29uKGxpbmsuaHJlZikgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvcjogR2V0dGV4dCAndHJ5X2xvYWRfbGFuZ19qc29uJyBmYWlsZWQuIFVuYWJsZSB0byBleGVjIHhtbGh0dHByZXF1ZXN0IGZvciBsaW5rIFsiK2xpbmsuaHJlZisiXSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmsudHlwZSA9PSAnYXBwbGljYXRpb24veC1wbycpIHsKICAgICAgICAgICAgICAgIGlmICghIHRoaXMudHJ5X2xvYWRfbGFuZ19wbyhsaW5rLmhyZWYpICkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3I6IEdldHRleHQgJ3RyeV9sb2FkX2xhbmdfcG8nIGZhaWxlZC4gVW5hYmxlIHRvIGV4ZWMgeG1saHR0cHJlcXVlc3QgZm9yIGxpbmsgWyIrbGluay5ocmVmKyJdIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhlIG90aGVyIHR5cGVzICgubW8pCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlRPRE86IGxpbmsgdHlwZSBbIitsaW5rLnR5cGUrIl0gZm91bmQsIGFuZCBzdXBwb3J0IGlzIHBsYW5uZWQsIGJ1dCBub3QgaW1wbGVtZW50ZWQgYXQgdGhpcyB0aW1lLiIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9OwoKLy8gVGhpcyB0YWtlcyB0aGUgYmluL3BvMmpzb24nZCBkYXRhLCBhbmQgbW92ZXMgaXQgaW50byBhbiBpbnRlcm5hbCBmb3JtCi8vIGZvciB1c2UgaW4gb3VyIGxpYiwgYW5kIHB1dHMgaXQgaW4gb3VyIG9iamVjdCBhczoKLy8gIEdldHRleHQuX2xvY2FsZV9kYXRhID0gewovLyAgICAgIGRvbWFpbiA6IHsKLy8gICAgICAgICAgaGVhZCA6IHsgaGVhZGZpZWxkIDogaGVhZHZhbHVlIH0sCi8vICAgICAgICAgIG1zZ3MgOiB7Ci8vICAgICAgICAgICAgICBtc2dpZCA6IFsgbXNnaWRfcGx1cmFsLCBtc2dzdHIsIG1zZ3N0cl9wbHVyYWwgXSwKLy8gICAgICAgICAgfSwKR2V0dGV4dC5wcm90b3R5cGUucGFyc2VfbG9jYWxlX2RhdGEgPSBmdW5jdGlvbihsb2NhbGVfZGF0YSkgewogICAgaWYgKHR5cGVvZihHZXR0ZXh0Ll9sb2NhbGVfZGF0YSkgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YSA9IHsgfTsKICAgIH0KCiAgICAvLyBzdWNrIGluIGV2ZXJ5IGRvbWFpbiBkZWZpbmVkIGluIHRoZSBzdXBwbGllZCBkYXRhCiAgICBmb3IgKHZhciBkb21haW4gaW4gbG9jYWxlX2RhdGEpIHsKICAgICAgICAvLyBza2lwIGVtcHR5IHNwZWNzIChmbGV4aWJseSkKICAgICAgICBpZiAoKCEgbG9jYWxlX2RhdGEuaGFzT3duUHJvcGVydHkoZG9tYWluKSkgfHwgKCEgdGhpcy5pc1ZhbGlkT2JqZWN0KGxvY2FsZV9kYXRhW2RvbWFpbl0pKSkKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgLy8gc2tpcCBpZiBpdCBoYXMgbm8gbXNnaWQncwogICAgICAgIHZhciBoYXNfbXNnaWRzID0gZmFsc2U7CiAgICAgICAgZm9yICh2YXIgbXNnaWQgaW4gbG9jYWxlX2RhdGFbZG9tYWluXSkgewogICAgICAgICAgICBoYXNfbXNnaWRzID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmICghIGhhc19tc2dpZHMpIGNvbnRpbnVlOwoKICAgICAgICAvLyBncmFiIHNob3J0Y3V0IHRvIGRhdGEKICAgICAgICB2YXIgZGF0YSA9IGxvY2FsZV9kYXRhW2RvbWFpbl07CgogICAgICAgIC8vIGlmIHRoZXkgc3BlY2lmY3kgYSBibGFuayBkb21haW4sIGRlZmF1bHQgdG8gIm1lc3NhZ2VzIgogICAgICAgIGlmIChkb21haW4gPT0gIiIpIGRvbWFpbiA9ICJtZXNzYWdlcyI7CiAgICAgICAgLy8gaW5pdCB0aGUgZGF0YSBzdHJ1Y3R1cmUKICAgICAgICBpZiAoISB0aGlzLmlzVmFsaWRPYmplY3QoR2V0dGV4dC5fbG9jYWxlX2RhdGFbZG9tYWluXSkgKQogICAgICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dID0geyB9OwogICAgICAgIGlmICghIHRoaXMuaXNWYWxpZE9iamVjdChHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWQpICkKICAgICAgICAgICAgR2V0dGV4dC5fbG9jYWxlX2RhdGFbZG9tYWluXS5oZWFkID0geyB9OwogICAgICAgIGlmICghIHRoaXMuaXNWYWxpZE9iamVjdChHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLm1zZ3MpICkKICAgICAgICAgICAgR2V0dGV4dC5fbG9jYWxlX2RhdGFbZG9tYWluXS5tc2dzID0geyB9OwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgICBpZiAoa2V5ID09ICIiKSB7CiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gZGF0YVtrZXldOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaGVhZCBpbiBoZWFkZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGhlYWQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWRbaF0gPSBoZWFkZXJbaGVhZF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLm1zZ3Nba2V5XSA9IGRhdGFba2V5XTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBidWlsZCB0aGUgcGx1cmFsIGZvcm1zIGZ1bmN0aW9uCiAgICBmb3IgKHZhciBkb21haW4gaW4gR2V0dGV4dC5fbG9jYWxlX2RhdGEpIHsKICAgICAgICBpZiAodGhpcy5pc1ZhbGlkT2JqZWN0KEdldHRleHQuX2xvY2FsZV9kYXRhW2RvbWFpbl0uaGVhZFsncGx1cmFsLWZvcm1zJ10pICYmCiAgICAgICAgICAgIHR5cGVvZihHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWQucGx1cmFsX2Z1bmMpID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIC8vIHVudGFpbnQgZGF0YQogICAgICAgICAgICB2YXIgcGx1cmFsX2Zvcm1zID0gR2V0dGV4dC5fbG9jYWxlX2RhdGFbZG9tYWluXS5oZWFkWydwbHVyYWwtZm9ybXMnXTsKICAgICAgICAgICAgdmFyIHBmX3JlID0gbmV3IFJlZ0V4cCgnXihcXHMqbnBsdXJhbHNcXHMqPVxccypbMC05XStcXHMqO1xccypwbHVyYWxcXHMqPVxccyooPzpcXHN8Wy1cXD9cXHwmPSE8PisqLyU6O2EtekEtWjAtOV9cKFwpXSkrKScsICdtJyk7CiAgICAgICAgICAgIGlmIChwZl9yZS50ZXN0KHBsdXJhbF9mb3JtcykpIHsKICAgICAgICAgICAgICAgIC8vZXggZW5nbGlzaDogIlBsdXJhbC1Gb3JtczogbnBsdXJhbHM9MjsgcGx1cmFsPShuICE9IDEpO1xuIgogICAgICAgICAgICAgICAgLy9wZiA9ICJucGx1cmFscz0yOyBwbHVyYWw9KG4gIT0gMSk7IjsKICAgICAgICAgICAgICAgIC8vZXggcnVzc2lhbjogbnBsdXJhbHM9MzsgcGx1cmFsPShuJTEwPT0xICYmIG4lMTAwIT0xMSA/IDAgOiBuJTEwPj0yICYmIG4lMTA8ID00ICYmIChuJTEwMDwxMCBvciBuJTEwMD49MjApID8gMSA6IDIpCiAgICAgICAgICAgICAgICAvL3BmID0gIm5wbHVyYWxzPTM7IHBsdXJhbD0obiUxMD09MSAmJiBuJTEwMCE9MTEgPyAwIDogbiUxMD49MiAmJiBuJTEwPD00ICYmIChuJTEwMDwxMCB8fCBuJTEwMD49MjApID8gMSA6IDIpIjsKCiAgICAgICAgICAgICAgICB2YXIgcGYgPSBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWRbJ3BsdXJhbC1mb3JtcyddOwogICAgICAgICAgICAgICAgaWYgKCEgLztccyokLy50ZXN0KHBmKSkgcGYgPSBwZi5jb25jYXQoJzsnKTsKICAgICAgICAgICAgICAgIC8qIFdlIHVzZWQgdG8gdXNlIGV2YWwsIGJ1dCBpdCBzZWVtcyBJRSBoYXMgaXNzdWVzIHdpdGggaXQuCiAgICAgICAgICAgICAgICAgKiBXZSBub3cgdXNlICJuZXcgRnVuY3Rpb24iLCB0aG91Z2ggaXQgY2FycmllcyBhIHNsaWdodGx5CiAgICAgICAgICAgICAgICAgKiBiaWdnZXIgcGVyZm9ybWFuY2UgaGl0LgogICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAnZnVuY3Rpb24gKG4pIHsgdmFyIHBsdXJhbDsgdmFyIG5wbHVyYWxzOyAnK3BmKycgcmV0dXJuIHsgIm5wbHVyYWwiIDogbnBsdXJhbHMsICJwbHVyYWwiIDogKHBsdXJhbCA9PT0gdHJ1ZSA/IDEgOiBwbHVyYWwgPyBwbHVyYWwgOiAwKSB9OyB9Oyc7CiAgICAgICAgICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWQucGx1cmFsX2Z1bmMgPSBldmFsKCIoIitjb2RlKyIpIik7CiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAndmFyIHBsdXJhbDsgdmFyIG5wbHVyYWxzOyAnK3BmKycgcmV0dXJuIHsgIm5wbHVyYWwiIDogbnBsdXJhbHMsICJwbHVyYWwiIDogKHBsdXJhbCA9PT0gdHJ1ZSA/IDEgOiBwbHVyYWwgPyBwbHVyYWwgOiAwKSB9Oyc7CiAgICAgICAgICAgICAgICBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWQucGx1cmFsX2Z1bmMgPSBuZXcgRnVuY3Rpb24oIm4iLCBjb2RlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yIGluIGxhbmd1YWdlIGZpbGUuIFBsdXJhbC1Gb3JtcyBoZWFkZXIgaXMgaW52YWxpZCBbIitwbHVyYWxfZm9ybXMrIl0iKTsKICAgICAgICAgICAgfSAgIAoKICAgICAgICAvLyBkZWZhdWx0IHRvIGVuZ2xpc2ggcGx1cmFsIGZvcm0KICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5dLmhlYWQucGx1cmFsX2Z1bmMpID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIEdldHRleHQuX2xvY2FsZV9kYXRhW2RvbWFpbl0uaGVhZC5wbHVyYWxfZnVuYyA9IGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICB2YXIgcCA9IChuICE9IDEpID8gMSA6IDA7CiAgICAgICAgICAgICAgICByZXR1cm4geyAnbnBsdXJhbCcgOiAyLCAncGx1cmFsJyA6IHAgfTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgfSAvLyBlbHNlLCBwbHVyYWxfZnVuYyBhbHJlYWR5IGNyZWF0ZWQKICAgIH0KCiAgICByZXR1cm47Cn07CgoKLy8gdHJ5X2xvYWRfbGFuZ19wbyA6IGRvIGFuIGFqYXh5IGNhbGwgdG8gbG9hZCBpbiB0aGUgLnBvIGxhbmcgZGVmcwpHZXR0ZXh0LnByb3RvdHlwZS50cnlfbG9hZF9sYW5nX3BvID0gZnVuY3Rpb24odXJpKSB7CiAgICB2YXIgZGF0YSA9IHRoaXMuc2pheCh1cmkpOwogICAgaWYgKCEgZGF0YSkgcmV0dXJuOwoKICAgIHZhciBkb21haW4gPSB0aGlzLnVyaV9iYXNlbmFtZSh1cmkpOwogICAgdmFyIHBhcnNlZCA9IHRoaXMucGFyc2VfcG8oZGF0YSk7CgogICAgdmFyIHJ2ID0ge307CiAgICAvLyBtdW5nZSBkb21haW4gaW50by9vdXRvZiBoZWFkZXIKICAgIGlmIChwYXJzZWQpIHsKICAgICAgICBpZiAoISBwYXJzZWRbIiJdKSBwYXJzZWRbIiJdID0ge307CiAgICAgICAgaWYgKCEgcGFyc2VkWyIiXVsiZG9tYWluIl0pIHBhcnNlZFsiIl1bImRvbWFpbiJdID0gZG9tYWluOwogICAgICAgIGRvbWFpbiA9IHBhcnNlZFsiIl1bImRvbWFpbiJdOwogICAgICAgIHJ2W2RvbWFpbl0gPSBwYXJzZWQ7CgogICAgICAgIHRoaXMucGFyc2VfbG9jYWxlX2RhdGEocnYpOwogICAgfQoKICAgIHJldHVybiAxOwp9OwoKR2V0dGV4dC5wcm90b3R5cGUudXJpX2Jhc2VuYW1lID0gZnVuY3Rpb24odXJpKSB7CiAgICB2YXIgcnY7CiAgICBpZiAocnYgPSB1cmkubWF0Y2goL14oLipcLyk/KC4qKS8pKSB7CiAgICAgICAgdmFyIGV4dF9zdHJpcDsKICAgICAgICBpZiAoZXh0X3N0cmlwID0gcnZbMl0ubWF0Y2goL14oLiopXC4uKyQvKSkKICAgICAgICAgICAgcmV0dXJuIGV4dF9zdHJpcFsxXTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBydlsyXTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgfQp9OwoKR2V0dGV4dC5wcm90b3R5cGUucGFyc2VfcG8gPSBmdW5jdGlvbihkYXRhKSB7CiAgICB2YXIgcnYgPSB7fTsKICAgIHZhciBidWZmZXIgPSB7fTsKICAgIHZhciBsYXN0YnVmZmVyID0gIiI7CiAgICB2YXIgZXJyb3JzID0gW107CiAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KCJcbiIpOwogICAgZm9yICh2YXIgaT0wOyBpPGxpbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gY2hvbXAKICAgICAgICBsaW5lc1tpXSA9IGxpbmVzW2ldLnJlcGxhY2UoLyhcbnxccikrJC8sICcnKTsKCiAgICAgICAgdmFyIG1hdGNoOwoKICAgICAgICAvLyBFbXB0eSBsaW5lIC8gRW5kIG9mIGFuIGVudHJ5LgogICAgICAgIGlmICgvXiQvLnRlc3QobGluZXNbaV0pKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YoYnVmZmVyWydtc2dpZCddKSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgdmFyIG1zZ19jdHh0X2lkID0gKHR5cGVvZihidWZmZXJbJ21zZ2N0eHQnXSkgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbJ21zZ2N0eHQnXS5sZW5ndGgpID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclsnbXNnY3R4dCddK0dldHRleHQuY29udGV4dF9nbHVlK2J1ZmZlclsnbXNnaWQnXSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbJ21zZ2lkJ107CiAgICAgICAgICAgICAgICB2YXIgbXNnaWRfcGx1cmFsID0gKHR5cGVvZihidWZmZXJbJ21zZ2lkX3BsdXJhbCddKSAhPSAndW5kZWZpbmVkJyAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbJ21zZ2lkX3BsdXJhbCddLmxlbmd0aCkgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclsnbXNnaWRfcGx1cmFsJ10gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7CgogICAgICAgICAgICAgICAgLy8gZmluZCBtc2dzdHJfKiB0cmFuc2xhdGlvbnMgYW5kIHB1c2ggdGhlbSBvbgogICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gW107CiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdHIgaW4gYnVmZmVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IHN0ci5tYXRjaCgvXm1zZ3N0cl8oXGQrKS8pKQogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc1twYXJzZUludChtYXRjaFsxXSldID0gYnVmZmVyW3N0cl07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0cmFucy51bnNoaWZ0KG1zZ2lkX3BsdXJhbCk7CgogICAgICAgICAgICAgICAgLy8gb25seSBhZGQgaXQgaWYgd2UndmUgZ290IGEgdHJhbnNsYXRpb24KICAgICAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgZG9lc24ndCBjb25mb3JtIHRvIG1zZ2ZtdCBzcGVjcwogICAgICAgICAgICAgICAgaWYgKHRyYW5zLmxlbmd0aCA+IDEpIHJ2W21zZ19jdHh0X2lkXSA9IHRyYW5zOwoKICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHt9OwogICAgICAgICAgICAgICAgbGFzdGJ1ZmZlciA9ICIiOwogICAgICAgICAgICB9CgogICAgICAgIC8vIGNvbW1lbnRzCiAgICAgICAgfSBlbHNlIGlmICgvXiMvLnRlc3QobGluZXNbaV0pKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAvLyBtc2djdHh0CiAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9IGxpbmVzW2ldLm1hdGNoKC9ebXNnY3R4dFxzKyguKikvKSkgewogICAgICAgICAgICBsYXN0YnVmZmVyID0gJ21zZ2N0eHQnOwogICAgICAgICAgICBidWZmZXJbbGFzdGJ1ZmZlcl0gPSB0aGlzLnBhcnNlX3BvX2RlcXVvdGUobWF0Y2hbMV0pOwoKICAgICAgICAvLyBtc2dpZAogICAgICAgIH0gZWxzZSBpZiAobWF0Y2ggPSBsaW5lc1tpXS5tYXRjaCgvXm1zZ2lkXHMrKC4qKS8pKSB7CiAgICAgICAgICAgIGxhc3RidWZmZXIgPSAnbXNnaWQnOwogICAgICAgICAgICBidWZmZXJbbGFzdGJ1ZmZlcl0gPSB0aGlzLnBhcnNlX3BvX2RlcXVvdGUobWF0Y2hbMV0pOwoKICAgICAgICAvLyBtc2dpZF9wbHVyYWwKICAgICAgICB9IGVsc2UgaWYgKG1hdGNoID0gbGluZXNbaV0ubWF0Y2goL15tc2dpZF9wbHVyYWxccysoLiopLykpIHsKICAgICAgICAgICAgbGFzdGJ1ZmZlciA9ICdtc2dpZF9wbHVyYWwnOwogICAgICAgICAgICBidWZmZXJbbGFzdGJ1ZmZlcl0gPSB0aGlzLnBhcnNlX3BvX2RlcXVvdGUobWF0Y2hbMV0pOwoKICAgICAgICAvLyBtc2dzdHIKICAgICAgICB9IGVsc2UgaWYgKG1hdGNoID0gbGluZXNbaV0ubWF0Y2goL15tc2dzdHJccysoLiopLykpIHsKICAgICAgICAgICAgbGFzdGJ1ZmZlciA9ICdtc2dzdHJfMCc7CiAgICAgICAgICAgIGJ1ZmZlcltsYXN0YnVmZmVyXSA9IHRoaXMucGFyc2VfcG9fZGVxdW90ZShtYXRjaFsxXSk7CgogICAgICAgIC8vIG1zZ3N0clswXSAodHJlYWsgbGlrZSBtc2dzdHIpCiAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9IGxpbmVzW2ldLm1hdGNoKC9ebXNnc3RyXFswXF1ccysoLiopLykpIHsKICAgICAgICAgICAgbGFzdGJ1ZmZlciA9ICdtc2dzdHJfMCc7CiAgICAgICAgICAgIGJ1ZmZlcltsYXN0YnVmZmVyXSA9IHRoaXMucGFyc2VfcG9fZGVxdW90ZShtYXRjaFsxXSk7CgogICAgICAgIC8vIG1zZ3N0cltuXQogICAgICAgIH0gZWxzZSBpZiAobWF0Y2ggPSBsaW5lc1tpXS5tYXRjaCgvXm1zZ3N0clxbKFxkKylcXVxzKyguKikvKSkgewogICAgICAgICAgICBsYXN0YnVmZmVyID0gJ21zZ3N0cl8nK21hdGNoWzFdOwogICAgICAgICAgICBidWZmZXJbbGFzdGJ1ZmZlcl0gPSB0aGlzLnBhcnNlX3BvX2RlcXVvdGUobWF0Y2hbMl0pOwoKICAgICAgICAvLyBjb250aW51ZWQgc3RyaW5nCiAgICAgICAgfSBlbHNlIGlmICgvXiIvLnRlc3QobGluZXNbaV0pKSB7CiAgICAgICAgICAgIGJ1ZmZlcltsYXN0YnVmZmVyXSArPSB0aGlzLnBhcnNlX3BvX2RlcXVvdGUobGluZXNbaV0pOwoKICAgICAgICAvLyBzb21ldGhpbmcgc3RyYW5nZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVycm9ycy5wdXNoKCJTdHJhbmdlIGxpbmUgWyIraSsiXSA6ICIrbGluZXNbaV0pOwogICAgICAgIH0KICAgIH0KCgogICAgLy8gaGFuZGxlIHRoZSBmaW5hbCBlbnRyeQogICAgaWYgKHR5cGVvZihidWZmZXJbJ21zZ2lkJ10pICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdmFyIG1zZ19jdHh0X2lkID0gKHR5cGVvZihidWZmZXJbJ21zZ2N0eHQnXSkgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyWydtc2djdHh0J10ubGVuZ3RoKSA/CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyWydtc2djdHh0J10rR2V0dGV4dC5jb250ZXh0X2dsdWUrYnVmZmVyWydtc2dpZCddIDoKICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbJ21zZ2lkJ107CiAgICAgICAgdmFyIG1zZ2lkX3BsdXJhbCA9ICh0eXBlb2YoYnVmZmVyWydtc2dpZF9wbHVyYWwnXSkgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclsnbXNnaWRfcGx1cmFsJ10ubGVuZ3RoKSA/CiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclsnbXNnaWRfcGx1cmFsJ10gOgogICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsOwoKICAgICAgICAvLyBmaW5kIG1zZ3N0cl8qIHRyYW5zbGF0aW9ucyBhbmQgcHVzaCB0aGVtIG9uCiAgICAgICAgdmFyIHRyYW5zID0gW107CiAgICAgICAgZm9yICh2YXIgc3RyIGluIGJ1ZmZlcikgewogICAgICAgICAgICB2YXIgbWF0Y2g7CiAgICAgICAgICAgIGlmIChtYXRjaCA9IHN0ci5tYXRjaCgvXm1zZ3N0cl8oXGQrKS8pKQogICAgICAgICAgICAgICAgdHJhbnNbcGFyc2VJbnQobWF0Y2hbMV0pXSA9IGJ1ZmZlcltzdHJdOwogICAgICAgIH0KICAgICAgICB0cmFucy51bnNoaWZ0KG1zZ2lkX3BsdXJhbCk7CgogICAgICAgIC8vIG9ubHkgYWRkIGl0IGlmIHdlJ3ZlIGdvdCBhIHRyYW5zbGF0aW9uCiAgICAgICAgLy8gTk9URTogdGhpcyBkb2Vzbid0IGNvbmZvcm0gdG8gbXNnZm10IHNwZWNzCiAgICAgICAgaWYgKHRyYW5zLmxlbmd0aCA+IDEpIHJ2W21zZ19jdHh0X2lkXSA9IHRyYW5zOwoKICAgICAgICBidWZmZXIgPSB7fTsKICAgICAgICBsYXN0YnVmZmVyID0gIiI7CiAgICB9CgoKICAgIC8vIHBhcnNlIG91dCB0aGUgaGVhZGVyCiAgICBpZiAocnZbIiJdICYmIHJ2WyIiXVsxXSkgewogICAgICAgIHZhciBjdXIgPSB7fTsKICAgICAgICB2YXIgaGxpbmVzID0gcnZbIiJdWzFdLnNwbGl0KC9cXG4vKTsKICAgICAgICBmb3IgKHZhciBpPTA7IGk8aGxpbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICghIGhsaW5lcy5sZW5ndGgpIGNvbnRpbnVlOwoKICAgICAgICAgICAgdmFyIHBvcyA9IGhsaW5lc1tpXS5pbmRleE9mKCc6JywgMCk7CiAgICAgICAgICAgIGlmIChwb3MgIT0gLTEpIHsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSBobGluZXNbaV0uc3Vic3RyaW5nKDAsIHBvcyk7CiAgICAgICAgICAgICAgICB2YXIgdmFsID0gaGxpbmVzW2ldLnN1YnN0cmluZyhwb3MgKzEpOwogICAgICAgICAgICAgICAgdmFyIGtleWxvdyA9IGtleS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgIGlmIChjdXJba2V5bG93XSAmJiBjdXJba2V5bG93XS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgiU0tJUFBJTkcgRFVQTElDQVRFIEhFQURFUiBMSU5FOiAiK2hsaW5lc1tpXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC8jLSMtIy0jLSMvLnRlc3Qoa2V5bG93KSkgewogICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJTS0lQUElORyBFUlJPUiBNQVJLRVIgSU4gSEVBREVSOiAiK2hsaW5lc1tpXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBiZWdpbmluZyBzcGFjZXMgaWYgYW55CiAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoL15ccysvLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgY3VyW2tleWxvd10gPSB2YWw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIlBST0JMRU0gTElORSBJTiBIRUFERVI6ICIraGxpbmVzW2ldKTsKICAgICAgICAgICAgICAgIGN1cltobGluZXNbaV1dID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHJlcGxhY2UgaGVhZGVyIHN0cmluZyB3aXRoIGFzc29jIGFycmF5CiAgICAgICAgcnZbIiJdID0gY3VyOwogICAgfSBlbHNlIHsKICAgICAgICBydlsiIl0gPSB7fTsKICAgIH0KCiAgICAvLyBUT0RPOiBYWFg6IGlmIHRoZXJlIGFyZSBlcnJvcnMgcGFyc2luZywgd2hhdCBkbyB3ZSB3YW50IHRvIGRvPwogICAgLy8gR05VIEdldHRleHQgc2lsZW50bHkgaWdub3JlcyBlcnJvcnMuIFNvIHdpbGwgd2UuCiAgICAvLyBhbGVydCggIkVycm9ycyBwYXJzaW5nIHBvIGZpbGU6XG4iICsgZXJyb3JzLmpvaW4oIlxuIikgKTsKCiAgICByZXR1cm4gcnY7Cn07CgoKR2V0dGV4dC5wcm90b3R5cGUucGFyc2VfcG9fZGVxdW90ZSA9IGZ1bmN0aW9uKHN0cikgewogICAgdmFyIG1hdGNoOwogICAgaWYgKG1hdGNoID0gc3RyLm1hdGNoKC9eIiguKikiLykpIHsKICAgICAgICBzdHIgPSBtYXRjaFsxXTsKICAgIH0KICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXCIvLCAiIik7CiAgICByZXR1cm4gc3RyOwp9OwoKCi8vIHRyeV9sb2FkX2xhbmdfanNvbiA6IGRvIGFuIGFqYXh5IGNhbGwgdG8gbG9hZCBpbiB0aGUgbGFuZyBkZWZzCkdldHRleHQucHJvdG90eXBlLnRyeV9sb2FkX2xhbmdfanNvbiA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIGRhdGEgPSB0aGlzLnNqYXgodXJpKTsKICAgIGlmICghIGRhdGEpIHJldHVybjsKCiAgICB2YXIgcnYgPSB0aGlzLkpTT04oZGF0YSk7CiAgICB0aGlzLnBhcnNlX2xvY2FsZV9kYXRhKHJ2KTsKCiAgICByZXR1cm4gMTsKfTsKCi8vIHRoaXMgZmluZHMgYWxsIDxsaW5rPiB0YWdzLCBmaWx0ZXJzIG91dCBvbmVzIHRoYXQgbWF0Y2ggb3VyCi8vIHNwZWNzLCBhbmQgcmV0dXJucyBhIGxpc3Qgb2YgaGFzaGVzIG9mIHRob3NlCkdldHRleHQucHJvdG90eXBlLmdldF9sYW5nX3JlZnMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBsYW5ncyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKTsKICAgIC8vIGZpbmQgYWxsIDxsaW5rPiB0YWdzIGluIGRvbTsgZmlsdGVyIG91cnMKICAgIGZvciAodmFyIGk9MDsgaTxsaW5rcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChsaW5rc1tpXS5yZWwgPT0gJ2dldHRleHQnICYmIGxpbmtzW2ldLmhyZWYpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZihsaW5rc1tpXS50eXBlKSA9PSAndW5kZWZpbmVkJyB8fAogICAgICAgICAgICAgICAgbGlua3NbaV0udHlwZSA9PSAnJykgewogICAgICAgICAgICAgICAgaWYgKC9cLmpzb24kL2kudGVzdChsaW5rc1tpXS5ocmVmKSkgewogICAgICAgICAgICAgICAgICAgIGxpbmtzW2ldLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9cLmpzJC9pLnRlc3QobGlua3NbaV0uaHJlZikpIHsKICAgICAgICAgICAgICAgICAgICBsaW5rc1tpXS50eXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXC5wbyQvaS50ZXN0KGxpbmtzW2ldLmhyZWYpKSB7CiAgICAgICAgICAgICAgICAgICAgbGlua3NbaV0udHlwZSA9ICdhcHBsaWNhdGlvbi94LXBvJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1wubW8kL2kudGVzdChsaW5rc1tpXS5ocmVmKSkgewogICAgICAgICAgICAgICAgICAgIGxpbmtzW2ldLnR5cGUgPSAnYXBwbGljYXRpb24veC1tbyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTElOSyB0YWcgd2l0aCByZWw9Z2V0dGV4dCBmb3VuZCwgYnV0IHRoZSB0eXBlIGFuZCBleHRlbnNpb24gYXJlIHVucmVjb2duaXplZC4iKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGlua3NbaV0udHlwZSA9IGxpbmtzW2ldLnR5cGUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgaWYgKGxpbmtzW2ldLnR5cGUgPT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7CiAgICAgICAgICAgICAgICBsaW5rc1tpXS50eXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nOwogICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtzW2ldLnR5cGUgPT0gJ3RleHQvamF2YXNjcmlwdCcpIHsKICAgICAgICAgICAgICAgIGxpbmtzW2ldLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua3NbaV0udHlwZSA9PSAnYXBwbGljYXRpb24veC1wbycpIHsKICAgICAgICAgICAgICAgIGxpbmtzW2ldLnR5cGUgPSAnYXBwbGljYXRpb24veC1wbyc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua3NbaV0udHlwZSA9PSAnYXBwbGljYXRpb24veC1tbycpIHsKICAgICAgICAgICAgICAgIGxpbmtzW2ldLnR5cGUgPSAnYXBwbGljYXRpb24veC1tbyc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkxJTksgdGFnIHdpdGggcmVsPWdldHRleHQgZm91bmQsIGJ1dCB0aGUgdHlwZSBhdHRyaWJ1dGUgWyIrbGlua3NbaV0udHlwZSsiXSBpcyB1bnJlY29nbml6ZWQuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxhbmdzLnB1c2gobGlua3NbaV0pOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBsYW5nczsKfTsKCgovKgoKPWhlYWQyIHRleHRkb21haW4oIGRvbWFpbiApCgpTZXQgZG9tYWluIGZvciBmdXR1cmUgZ2V0dGV4dCgpIGNhbGxzCgpBICBtZXNzYWdlICBkb21haW4gIGlzICBhICBzZXQgb2YgdHJhbnNsYXRhYmxlIG1zZ2lkIG1lc3NhZ2VzLiBVc3VhbGx5LApldmVyeSBzb2Z0d2FyZSBwYWNrYWdlIGhhcyBpdHMgb3duIG1lc3NhZ2UgZG9tYWluLiBUaGUgZG9tYWluICBuYW1lICBpcwp1c2VkIHRvIGRldGVybWluZSB0aGUgbWVzc2FnZSBjYXRhbG9nIHdoZXJlIGEgdHJhbnNsYXRpb24gaXMgbG9va2VkIHVwOwppdCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4KClRoZSBjdXJyZW50IG1lc3NhZ2UgZG9tYWluIGlzIHVzZWQgYnkgdGhlIGdldHRleHQsIG5nZXR0ZXh0LCBwZ2V0dGV4dCwKbnBnZXR0ZXh0IGZ1bmN0aW9ucywgYW5kIGJ5IHRoZSBkZ2V0dGV4dCwgZGNnZXR0ZXh0LCBkbmdldHRleHQsIGRjbmdldHRleHQsCmRwZ2V0dGV4dCwgZGNwZ2V0dGV4dCwgZG5wZ2V0dGV4dCBhbmQgZGNucGdldHRleHQgZnVuY3Rpb25zIHdoZW4gY2FsbGVkCndpdGggYSBOVUxMIGRvbWFpbm5hbWUgYXJndW1lbnQuCgpJZiBkb21haW5uYW1lIGlzIG5vdCBOVUxMLCB0aGUgY3VycmVudCBtZXNzYWdlIGRvbWFpbiBpcyBzZXQgdG8KZG9tYWlubmFtZS4KCklmIGRvbWFpbm5hbWUgaXMgdW5kZWZpbmVkLCBudWxsLCBvciBlbXB0eSBzdHJpbmcsIHRoZSBmdW5jdGlvbiByZXR1cm5zCnRoZSBjdXJyZW50IG1lc3NhZ2UgZG9tYWluLgoKSWYgIHN1Y2Nlc3NmdWwsICB0aGUgIHRleHRkb21haW4gIGZ1bmN0aW9uICByZXR1cm5zIHRoZSBjdXJyZW50IG1lc3NhZ2UKZG9tYWluLCBhZnRlciBwb3NzaWJseSBjaGFuZ2luZyBpdC4gKGllLiBpZiB5b3Ugc2V0IGEgbmV3IGRvbWFpbiwgdGhlIAp2YWx1ZSByZXR1cm5lZCB3aWxsIE5PVCBiZSB0aGUgcHJldmlvdXMgZG9tYWluKS4KCj1jdXQKCiovCkdldHRleHQucHJvdG90eXBlLnRleHRkb21haW4gPSBmdW5jdGlvbiAoZG9tYWluKSB7CiAgICBpZiAoZG9tYWluICYmIGRvbWFpbi5sZW5ndGgpIHRoaXMuZG9tYWluID0gZG9tYWluOwogICAgcmV0dXJuIHRoaXMuZG9tYWluOwp9CgovKgoKPWhlYWQyIGdldHRleHQoIE1TR0lEICkKClJldHVybnMgdGhlIHRyYW5zbGF0aW9uIGZvciBCPE1TR0lEPi4gIEV4YW1wbGU6CgogICAgYWxlcnQoIGd0LmdldHRleHQoIkhlbGxvIFdvcmxkIVxuIikgKTsKCklmIG5vIHRyYW5zbGF0aW9uIGNhbiBiZSBmb3VuZCwgdGhlIHVubW9kaWZpZWQgQjxNU0dJRD4gaXMgcmV0dXJuZWQsCmkuIGUuIHRoZSBmdW5jdGlvbiBjYW4gSTxuZXZlcj4gZmFpbCwgYW5kIHdpbGwgSTxuZXZlcj4gbWVzcyB1cCB5b3VyCm9yaWdpbmFsIG1lc3NhZ2UuCgpPbmUgY29tbW9uIG1pc3Rha2UgaXMgdG8gaW50ZXJwb2xhdGUgYSB2YXJpYWJsZSBpbnRvIHRoZSBzdHJpbmcgbGlrZSB0aGlzOgoKICB2YXIgdHJhbnNsYXRlZCA9IGd0LmdldHRleHQoIkhlbGxvICIgKyBmdWxsX25hbWUpOwoKVGhlIGludGVycG9sYXRpb24gd2lsbCBoYXBwZW4gYmVmb3JlIGl0J3MgcGFzc2VkIHRvIGdldHRleHQsIGFuZCBpdCdzIAp1bmxpa2VseSB5b3UnbGwgaGF2ZSBhIHRyYW5zbGF0aW9uIGZvciBldmVyeSAiSGVsbG8gVG9tIiBhbmQgIkhlbGxvIERpY2siCmFuZCAiSGVsbG93IEhhcnJ5IiB0aGF0IG1heSBhcmlzZS4KClVzZSBDPHN0cmFyZ3MoKT4gKHNlZSBiZWxvdykgdG8gc29sdmUgdGhpcyBwcm9ibGVtOgoKICB2YXIgdHJhbnNsYXRlZCA9IEdldHRleHQuc3RyYXJncyggZ3QuZ2V0dGV4dCgiSGVsbG8gJTEiKSwgW2Z1bGxfbmFtZV0gKTsKClRoaXMgaXMgZXNwZWljYWxseSB1c2VmdWwgd2hlbiBtdWx0aXBsZSByZXBsYWNlbWVudHMgYXJlIG5lZWRlZCwgYXMgdGhleSAKbWF5IG5vdCBhcHBlYXIgaW4gdGhlIHNhbWUgb3JkZXIgd2l0aGluIHRoZSB0cmFuc2xhdGlvbi4gQXMgYW4gRW5nbGlzaCB0bwpGcmVuY2ggZXhhbXBsZToKCiAgRXhwZWN0ZWQgcmVzdWx0OiAiVGhpcyBpcyB0aGUgcmVkIGJhbGwiCiAgRW5nbGlzaDogIlRoaXMgaXMgdGhlICUxICUyIgogIEZyZW5jaDogICJDJ2VzdCBsZSAlMiAlMSIKICBDb2RlOiBHZXR0ZXh0LnN0cmFyZ3MoIGd0LmdldHRleHQoIlRoaXMgaXMgdGhlICUxICUyIiksIFsicmVkIiwgImJhbGwiXSApOwoKKFRoZSBleGFtcGxlIGlzIHN0dXBpZCBiZWNhdXNlIG5laXRoZXIgY29sb3Igbm9yIHRoaW5nIHdpbGwgZ2V0CnRyYW5zbGF0ZWQgaGVyZSAuLi4pLgoKPWhlYWQyIGRnZXR0ZXh0KCBURVhURE9NQUlOLCBNU0dJRCApCgpMaWtlIGdldHRleHQoKSwgYnV0IHJldHJpZXZlcyB0aGUgbWVzc2FnZSBmb3IgdGhlIHNwZWNpZmllZCAKQjxURVhURE9NQUlOPiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGRvbWFpbi4gIEluIGNhc2UgeW91IHdvbmRlciB3aGF0CmEgdGV4dGRvbWFpbiBpcywgc2VlIGFib3ZlIHNlY3Rpb24gb24gdGhlIHRleHRkb21haW4oKSBjYWxsLgoKPWhlYWQyIGRjZ2V0dGV4dCggVEVYVERPTUFJTiwgTVNHSUQsIENBVEVHT1JZICkKCkxpa2UgZGdldHRleHQoKSBidXQgcmV0cmlldmVzIHRoZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCBCPENBVEVHT1JZPgppbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGNhdGVnb3J5IEM8TENfTUVTU0FHRVM+LgoKTk9URTogdGhlIGNhdGVnb3JpZXMgYXJlIHJlYWxseSB1c2VsZXNzIGluIGphdmFzY3JpcHQgY29udGV4dC4gVGhpcyBpcwpoZXJlIGZvciBHTlUgR2V0dGV4dCBBUEkgY29tcGF0YWJpbGl0eS4gSW4gcHJhY3RpY2UsIHlvdSdsbCBuZXZlciBuZWVkCnRvIHVzZSB0aGlzLiBUaGlzIGFwcGxpZXMgdG8gYWxsIHRoZSBjYWxscyBpbmNsdWRpbmcgdGhlIEI8Q0FURUdPUlk+LgoKCj1oZWFkMiBuZ2V0dGV4dCggTVNHSUQsIE1TR0lEX1BMVVJBTCwgQ09VTlQgKQoKUmV0cmlldmVzIHRoZSBjb3JyZWN0IHRyYW5zbGF0aW9uIGZvciBCPENPVU5UPiBpdGVtcy4gIEluIGxlZ2FjeSBzb2Z0d2FyZQp5b3Ugd2lsbCBvZnRlbiBmaW5kIHNvbWV0aGluZyBsaWtlOgoKICAgIGFsZXJ0KCBjb3VudCArICIgZmlsZShzKSBkZWxldGVkLlxuIiApOwoKb3IKCiAgICBwcmludGYoY291bnQgKyAiIGZpbGUlcyBkZWxldGVkLlxuIiwgJGNvdW50ID09IDEgPyAnJyA6ICdzJyk7CgpJPE5PVEU6IGphdmFzY3JpcHQgbGFja3MgYSBidWlsdGluIHByaW50Ziwgc28gdGhlIGFib3ZlIGlzbid0IGEgd29ya2luZyBleGFtcGxlPgoKVGhlIGZpcnN0IGV4YW1wbGUgbG9va3MgYXdrd2FyZCwgdGhlIHNlY29uZCB3aWxsIG9ubHkgd29yayBpbiBFbmdsaXNoCmFuZCBsYW5ndWFnZXMgd2l0aCBzaW1pbGFyIHBsdXJhbCBydWxlcy4gIEJlZm9yZSBuZ2V0dGV4dCgpIHdhcyBpbnRyb2R1Y2VkLAp0aGUgYmVzdCBwcmFjdGljZSBmb3IgaW50ZXJuYXRpb25hbGl6ZWQgcHJvZ3JhbXMgd2FzOgoKICAgIGlmIChjb3VudCA9PSAxKSB7CiAgICAgICAgYWxlcnQoIGdldHRleHQoIk9uZSBmaWxlIGRlbGV0ZWQuXG4iKSApOwogICAgfSBlbHNlIHsKICAgICAgICBwcmludGYoIGdldHRleHQoIiVkIGZpbGVzIGRlbGV0ZWQuXG4iKSwgY291bnQgKTsKICAgIH0KClRoaXMgaXMgYSBudWlzYW5jZSBmb3IgdGhlIHByb2dyYW1tZXIgYW5kIG9mdGVuIHN0aWxsIG5vdCBzdWZmaWNpZW50CmZvciBhbiBhZGVxdWF0ZSB0cmFuc2xhdGlvbi4gIE1hbnkgbGFuZ3VhZ2VzIGhhdmUgY29tcGxldGVseSBkaWZmZXJlbnQKaWRlYXMgb24gbnVtZXJhbHMuICBTb21lIChGcmVuY2gsIEl0YWxpYW4sIC4uLikgdHJlYXQgMCBhbmQgMSBhbGlrZSwKb3RoZXJzIG1ha2Ugbm8gZGlzdGluY3Rpb24gYXQgYWxsIChKYXBhbmVzZSwgS29yZWFuLCBDaGluZXNlLCAuLi4pLApvdGhlcnMgaGF2ZSB0d28gb3IgbW9yZSBwbHVyYWwgZm9ybXMgKFJ1c3NpYW4sIExhdHZpYW4sIEN6ZWNoLApQb2xpc2gsIC4uLikuICBUaGUgc29sdXRpb24gaXM6CgogICAgcHJpbnRmKCBuZ2V0dGV4dCgiT25lIGZpbGUgZGVsZXRlZC5cbiIsCiAgICAgICAgICAgICAgICAgICAgICIlZCBmaWxlcyBkZWxldGVkLlxuIiwKICAgICAgICAgICAgICAgICAgICAgY291bnQpLCAvLyBhcmd1bWVudCB0byBuZ2V0dGV4dCEKICAgICAgICAgICAgY291bnQpOyAgICAgICAgICAvLyBhcmd1bWVudCB0byBwcmludGYhCgpJbiBFbmdsaXNoLCBvciBpZiBubyB0cmFuc2xhdGlvbiBjYW4gYmUgZm91bmQsIHRoZSBmaXJzdCBhcmd1bWVudAooQjxNU0dJRD4pIGlzIHBpY2tlZCBpZiBDPGNvdW50PiBpcyBvbmUsIHRoZSBzZWNvbmQgb25lIG90aGVyd2lzZS4KRm9yIG90aGVyIGxhbmd1YWdlcywgdGhlIGNvcnJlY3QgcGx1cmFsIGZvcm0gKG9mIDEsIDIsIDMsIDQsIC4uLikKaXMgYXV0b21hdGljYWxseSBwaWNrZWQsIHRvby4gIFlvdSBkb24ndCBoYXZlIHRvIGtub3cgYW55dGhpbmcgYWJvdXQKdGhlIHBsdXJhbCBydWxlcyBpbiB0aGUgdGFyZ2V0IGxhbmd1YWdlLCBuZ2V0dGV4dCgpIHdpbGwgdGFrZSBjYXJlCm9mIHRoYXQuCgpUaGlzIGlzIG1vc3Qgb2YgdGhlIHRpbWUgc3VmZmljaWVudCBidXQgeW91IHdpbGwgaGF2ZSB0byBwcm92ZSB5b3VyCmNyZWF0aXZpdHkgaW4gY2FzZXMgbGlrZQoKICAgICIlZCBmaWxlKHMpIGRlbGV0ZWQsIGFuZCAlZCBmaWxlKHMpIGNyZWF0ZWQuXG4iCgpUaGF0IHNhaWQsIGphdmFzY3JpcHQgbGFja3MgQzxwcmludGYoKT4gc3VwcG9ydC4gU3VwcGxpZWQgd2l0aCBHZXR0ZXh0LmpzCmlzIHRoZSBDPHN0cmFyZ3MoKT4gbWV0aG9kLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgdGhlc2UgY2FzZXM6CgogICAgR2V0dGV4dC5zdHJhcmdzKCBndC5uZ2V0dGV4dCggIk9uZSBmaWxlIGRlbGV0ZWQuXG4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVkIGZpbGVzIGRlbGV0ZWQuXG4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQpLCAvLyBhcmd1bWVudCB0byBuZ2V0dGV4dCEKICAgICAgICAgICAgICAgICAgICAgY291bnQpOyAvLyBhcmd1bWVudCB0byBzdHJhcmdzIQoKTk9URTogdGhlIHZhcmlhYmxlIHJlcGxhY2VtZW50IGlzbid0IGRvbmUgZm9yIHlvdSwgc28geW91IG11c3QKZG8gaXQgeW91cnNlbGYgYXMgaW4gdGhlIGFib3ZlLgoKPWhlYWQyIGRuZ2V0dGV4dCggVEVYVERPTUFJTiwgTVNHSUQsIE1TR0lEX1BMVVJBTCwgQ09VTlQgKQoKTGlrZSBuZ2V0dGV4dCgpIGJ1dCByZXRyaWV2ZXMgdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIHNwZWNpZmllZAp0ZXh0ZG9tYWluIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgZG9tYWluLgoKPWhlYWQyIGRjbmdldHRleHQoIFRFWFRET01BSU4sIE1TR0lELCBNU0dJRF9QTFVSQUwsIENPVU5ULCBDQVRFR09SWSApCgpMaWtlIGRuZ2V0dGV4dCgpIGJ1dCByZXRyaWV2ZXMgdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIHNwZWNpZmllZApjYXRlZ29yeSwgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBjYXRlZ29yeSBDPExDX01FU1NBR0VTPi4KCgo9aGVhZDIgcGdldHRleHQoIE1TR0NUWFQsIE1TR0lEICkKClJldHVybnMgdGhlIHRyYW5zbGF0aW9uIG9mIE1TR0lELCBnaXZlbiB0aGUgY29udGV4dCBvZiBNU0dDVFhULgoKQm90aCBpdGVtcyBhcmUgdXNlZCBhcyBhIHVuaXF1ZSBrZXkgaW50byB0aGUgbWVzc2FnZSBjYXRhbG9nLgoKVGhpcyBhbGxvd3MgdGhlIHRyYW5zbGF0b3IgdG8gaGF2ZSB0d28gZW50cmllcyBmb3Igd29yZHMgdGhhdCBtYXkKdHJhbnNsYXRlIHRvIGRpZmZlcmVudCBmb3JlaWduIHdvcmRzIGJhc2VkIG9uIHRoZWlyIGNvbnRleHQuIEZvcgpleGFtcGxlLCB0aGUgd29yZCAiVmlldyIgbWF5IGJlIGEgbm91biBvciBhIHZlcmIsIHdoaWNoIG1heSBiZQp1c2VkIGluIGEgbWVudSBhcyBGaWxlLT5WaWV3IG9yIFZpZXctPlNvdXJjZS4KCiAgICBhbGVydCggcGdldHRleHQoICJWZXJiOiBUbyBWaWV3IiwgIlZpZXciICkgKTsKICAgIGFsZXJ0KCBwZ2V0dGV4dCggIk5vdW46IEEgVmlldyIsICJWaWV3IiAgKSApOwoKVGhlIGFib3ZlIHdpbGwgYm90aCBsb29rdXAgZGlmZmVyZW50IGVudHJpZXMgaW4gdGhlIG1lc3NhZ2UgY2F0YWxvZy4KCkluIEVuZ2xpc2gsIG9yIGlmIG5vIHRyYW5zbGF0aW9uIGNhbiBiZSBmb3VuZCwgdGhlIHNlY29uZCBhcmd1bWVudAooQjxNU0dJRD4pIGlzIHJldHVybmVkLgoKPWhlYWQyIGRwZ2V0dGV4dCggVEVYVERPTUFJTiwgTVNHQ1RYVCwgTVNHSUQgKQoKTGlrZSBwZ2V0dGV4dCgpLCBidXQgcmV0cmlldmVzIHRoZSBtZXNzYWdlIGZvciB0aGUgc3BlY2lmaWVkIApCPFRFWFRET01BSU4+IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgZG9tYWluLgoKPWhlYWQyIGRjcGdldHRleHQoIFRFWFRET01BSU4sIE1TR0NUWFQsIE1TR0lELCBDQVRFR09SWSApCgpMaWtlIGRwZ2V0dGV4dCgpIGJ1dCByZXRyaWV2ZXMgdGhlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIEI8Q0FURUdPUlk+Cmluc3RlYWQgb2YgdGhlIGRlZmF1bHQgY2F0ZWdvcnkgQzxMQ19NRVNTQUdFUz4uCgoKPWhlYWQyIG5wZ2V0dGV4dCggTVNHQ1RYVCwgTVNHSUQsIE1TR0lEX1BMVVJBTCwgQ09VTlQgKQoKTGlrZSBuZ2V0dGV4dCgpIHdpdGggdGhlIGFkZGl0aW9uIG9mIGNvbnRleHQgYXMgaW4gcGdldHRleHQoKS4KCkluIEVuZ2xpc2gsIG9yIGlmIG5vIHRyYW5zbGF0aW9uIGNhbiBiZSBmb3VuZCwgdGhlIHNlY29uZCBhcmd1bWVudAooTVNHSUQpIGlzIHBpY2tlZCBpZiBCPENPVU5UPiBpcyBvbmUsIHRoZSB0aGlyZCBvbmUgb3RoZXJ3aXNlLgoKPWhlYWQyIGRucGdldHRleHQoIFRFWFRET01BSU4sIE1TR0NUWFQsIE1TR0lELCBNU0dJRF9QTFVSQUwsIENPVU5UICkKCkxpa2UgbnBnZXR0ZXh0KCkgYnV0IHJldHJpZXZlcyB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgc3BlY2lmaWVkCnRleHRkb21haW4gaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBkb21haW4uCgo9aGVhZDIgZGNucGdldHRleHQoIFRFWFRET01BSU4sIE1TR0NUWFQsIE1TR0lELCBNU0dJRF9QTFVSQUwsIENPVU5ULCBDQVRFR09SWSApCgpMaWtlIGRucGdldHRleHQoKSBidXQgcmV0cmlldmVzIHRoZSB0cmFuc2xhdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQKY2F0ZWdvcnksIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgY2F0ZWdvcnkgQzxMQ19NRVNTQUdFUz4uCgo9Y3V0CgoqLwoKLy8gZ2V0dGV4dApHZXR0ZXh0LnByb3RvdHlwZS5nZXR0ZXh0ID0gZnVuY3Rpb24gKG1zZ2lkKSB7CiAgICB2YXIgbXNnY3R4dDsKICAgIHZhciBtc2dpZF9wbHVyYWw7CiAgICB2YXIgbjsKICAgIHZhciBjYXRlZ29yeTsKICAgIHJldHVybiB0aGlzLmRjbnBnZXR0ZXh0KG51bGwsIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4sIGNhdGVnb3J5KTsKfTsKCkdldHRleHQucHJvdG90eXBlLmRnZXR0ZXh0ID0gZnVuY3Rpb24gKGRvbWFpbiwgbXNnaWQpIHsKICAgIHZhciBtc2djdHh0OwogICAgdmFyIG1zZ2lkX3BsdXJhbDsKICAgIHZhciBuOwogICAgdmFyIGNhdGVnb3J5OwogICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSk7Cn07CgpHZXR0ZXh0LnByb3RvdHlwZS5kY2dldHRleHQgPSBmdW5jdGlvbiAoZG9tYWluLCBtc2dpZCwgY2F0ZWdvcnkpIHsKICAgIHZhciBtc2djdHh0OwogICAgdmFyIG1zZ2lkX3BsdXJhbDsKICAgIHZhciBuOwogICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSk7Cn07CgovLyBuZ2V0dGV4dApHZXR0ZXh0LnByb3RvdHlwZS5uZ2V0dGV4dCA9IGZ1bmN0aW9uIChtc2dpZCwgbXNnaWRfcGx1cmFsLCBuKSB7CiAgICB2YXIgbXNnY3R4dDsKICAgIHZhciBjYXRlZ29yeTsKICAgIHJldHVybiB0aGlzLmRjbnBnZXR0ZXh0KG51bGwsIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4sIGNhdGVnb3J5KTsKfTsKCkdldHRleHQucHJvdG90eXBlLmRuZ2V0dGV4dCA9IGZ1bmN0aW9uIChkb21haW4sIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4pIHsKICAgIHZhciBtc2djdHh0OwogICAgdmFyIGNhdGVnb3J5OwogICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSk7Cn07CgpHZXR0ZXh0LnByb3RvdHlwZS5kY25nZXR0ZXh0ID0gZnVuY3Rpb24gKGRvbWFpbiwgbXNnaWQsIG1zZ2lkX3BsdXJhbCwgbiwgY2F0ZWdvcnkpIHsKICAgIHZhciBtc2djdHh0OwogICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSwgY2F0ZWdvcnkpOwp9OwoKLy8gcGdldHRleHQKR2V0dGV4dC5wcm90b3R5cGUucGdldHRleHQgPSBmdW5jdGlvbiAobXNnY3R4dCwgbXNnaWQpIHsKICAgIHZhciBtc2dpZF9wbHVyYWw7CiAgICB2YXIgbjsKICAgIHZhciBjYXRlZ29yeTsKICAgIHJldHVybiB0aGlzLmRjbnBnZXR0ZXh0KG51bGwsIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4sIGNhdGVnb3J5KTsKfTsKCkdldHRleHQucHJvdG90eXBlLmRwZ2V0dGV4dCA9IGZ1bmN0aW9uIChkb21haW4sIG1zZ2N0eHQsIG1zZ2lkKSB7CiAgICB2YXIgbXNnaWRfcGx1cmFsOwogICAgdmFyIG47CiAgICB2YXIgY2F0ZWdvcnk7CiAgICByZXR1cm4gdGhpcy5kY25wZ2V0dGV4dChkb21haW4sIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4sIGNhdGVnb3J5KTsKfTsKCkdldHRleHQucHJvdG90eXBlLmRjcGdldHRleHQgPSBmdW5jdGlvbiAoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgY2F0ZWdvcnkpIHsKICAgIHZhciBtc2dpZF9wbHVyYWw7CiAgICB2YXIgbjsKICAgIHJldHVybiB0aGlzLmRjbnBnZXR0ZXh0KGRvbWFpbiwgbXNnY3R4dCwgbXNnaWQsIG1zZ2lkX3BsdXJhbCwgbiwgY2F0ZWdvcnkpOwp9OwoKLy8gbnBnZXR0ZXh0CkdldHRleHQucHJvdG90eXBlLm5wZ2V0dGV4dCA9IGZ1bmN0aW9uIChtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuKSB7CiAgICB2YXIgY2F0ZWdvcnk7CiAgICByZXR1cm4gdGhpcy5kY25wZ2V0dGV4dChudWxsLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSk7Cn07CgpHZXR0ZXh0LnByb3RvdHlwZS5kbnBnZXR0ZXh0ID0gZnVuY3Rpb24gKGRvbWFpbiwgbXNnY3R4dCwgbXNnaWQsIG1zZ2lkX3BsdXJhbCwgbikgewogICAgdmFyIGNhdGVnb3J5OwogICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQoZG9tYWluLCBtc2djdHh0LCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuLCBjYXRlZ29yeSk7Cn07CgovLyB0aGlzIGhhcyBhbGwgdGhlIG9wdGlvbnMsIHNvIHdlIHVzZSBpdCBmb3IgYWxsIG9mIHRoZW0uCkdldHRleHQucHJvdG90eXBlLmRjbnBnZXR0ZXh0ID0gZnVuY3Rpb24gKGRvbWFpbiwgbXNnY3R4dCwgbXNnaWQsIG1zZ2lkX3BsdXJhbCwgbiwgY2F0ZWdvcnkpIHsKICAgIGlmICghIHRoaXMuaXNWYWxpZE9iamVjdChtc2dpZCkpIHJldHVybiAnJzsKCiAgICB2YXIgcGx1cmFsID0gdGhpcy5pc1ZhbGlkT2JqZWN0KG1zZ2lkX3BsdXJhbCk7CiAgICB2YXIgbXNnX2N0eHRfaWQgPSB0aGlzLmlzVmFsaWRPYmplY3QobXNnY3R4dCkgPyBtc2djdHh0K0dldHRleHQuY29udGV4dF9nbHVlK21zZ2lkIDogbXNnaWQ7CgogICAgdmFyIGRvbWFpbm5hbWUgPSB0aGlzLmlzVmFsaWRPYmplY3QoZG9tYWluKSAgICAgID8gZG9tYWluIDoKICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkT2JqZWN0KHRoaXMuZG9tYWluKSA/IHRoaXMuZG9tYWluIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdlcyc7CgogICAgLy8gY2F0ZWdvcnkgaXMgYWx3YXlzIExDX01FU1NBR0VTLiBXZSBpZ25vcmUgYWxsIGVsc2UKICAgIHZhciBjYXRlZ29yeV9uYW1lID0gJ0xDX01FU1NBR0VTJzsKICAgIHZhciBjYXRlZ29yeSA9IDU7CgogICAgdmFyIGxvY2FsZV9kYXRhID0gbmV3IEFycmF5KCk7CiAgICBpZiAodHlwZW9mKEdldHRleHQuX2xvY2FsZV9kYXRhKSAhPSAndW5kZWZpbmVkJyAmJgogICAgICAgIHRoaXMuaXNWYWxpZE9iamVjdChHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5uYW1lXSkpIHsKICAgICAgICBsb2NhbGVfZGF0YS5wdXNoKCBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21haW5uYW1lXSApOwoKICAgIH0gZWxzZSBpZiAodHlwZW9mKEdldHRleHQuX2xvY2FsZV9kYXRhKSAhPSAndW5kZWZpbmVkJykgewogICAgICAgIC8vIGRpZG4ndCBmaW5kIGRvbWFpbiB3ZSdyZSBsb29raW5nIGZvci4gU2VhcmNoIGFsbCBvZiB0aGVtLgogICAgICAgIGZvciAodmFyIGRvbSBpbiBHZXR0ZXh0Ll9sb2NhbGVfZGF0YSkgewogICAgICAgICAgICBsb2NhbGVfZGF0YS5wdXNoKCBHZXR0ZXh0Ll9sb2NhbGVfZGF0YVtkb21dICk7CiAgICAgICAgfQogICAgfQoKICAgIHZhciB0cmFucyA9IFtdOwogICAgdmFyIGZvdW5kID0gZmFsc2U7CiAgICB2YXIgZG9tYWluX3VzZWQ7IC8vIHNvIHdlIGNhbiBmaW5kIHBsdXJhbC1mb3JtcyBpZiBuZWVkZWQKICAgIGlmIChsb2NhbGVfZGF0YS5sZW5ndGgpIHsKICAgICAgICBmb3IgKHZhciBpPTA7IGk8bG9jYWxlX2RhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGxvY2FsZSA9IGxvY2FsZV9kYXRhW2ldOwogICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkT2JqZWN0KGxvY2FsZS5tc2dzW21zZ19jdHh0X2lkXSkpIHsKICAgICAgICAgICAgICAgIC8vIG1ha2UgY29weSBvZiB0aGF0IGFycmF5IChjYXVzZSB3ZSdsbCBiZSBkZXN0cnVjdGl2ZSkKICAgICAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxsb2NhbGUubXNnc1ttc2dfY3R4dF9pZF0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICB0cmFuc1tqXSA9IGxvY2FsZS5tc2dzW21zZ19jdHh0X2lkXVtqXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyYW5zLnNoaWZ0KCk7IC8vIHRocm93IGF3YXkgdGhlIG1zZ2lkX3BsdXJhbAogICAgICAgICAgICAgICAgZG9tYWluX3VzZWQgPSBsb2NhbGU7CiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAvLyBvbmx5IGJyZWFrIGlmIGZvdW5kIHRyYW5zbGF0aW9uIGFjdHVhbGx5IGhhcyBhIHRyYW5zbGF0aW9uLgogICAgICAgICAgICAgICAgaWYgKCB0cmFucy5sZW5ndGggPiAwICYmIHRyYW5zWzBdLmxlbmd0aCAhPSAwICkKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBkZWZhdWx0IHRvIGVuZ2xpc2ggaWYgd2UgbGFjayBhIG1hdGNoLCBvciBtYXRjaCBoYXMgemVybyBsZW5ndGgKICAgIGlmICggdHJhbnMubGVuZ3RoID09IDAgfHwgdHJhbnNbMF0ubGVuZ3RoID09IDAgKSB7CiAgICAgICAgdHJhbnMgPSBbIG1zZ2lkLCBtc2dpZF9wbHVyYWwgXTsKICAgIH0KCiAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc1swXTsKICAgIGlmIChwbHVyYWwpIHsKICAgICAgICB2YXIgcDsKICAgICAgICBpZiAoZm91bmQgJiYgdGhpcy5pc1ZhbGlkT2JqZWN0KGRvbWFpbl91c2VkLmhlYWQucGx1cmFsX2Z1bmMpICkgewogICAgICAgICAgICB2YXIgcnYgPSBkb21haW5fdXNlZC5oZWFkLnBsdXJhbF9mdW5jKG4pOwogICAgICAgICAgICBpZiAoISBydi5wbHVyYWwpIHJ2LnBsdXJhbCA9IDA7CiAgICAgICAgICAgIGlmICghIHJ2Lm5wbHVyYWwpIHJ2Lm5wbHVyYWwgPSAwOwogICAgICAgICAgICAvLyBpZiBwbHVyYWxzIHJldHVybmVkIGlzIG91dCBvZiBib3VuZCBmb3IgdG90YWwgcGx1cmFsIGZvcm1zCiAgICAgICAgICAgIGlmIChydi5ucGx1cmFsIDw9IHJ2LnBsdXJhbCkgcnYucGx1cmFsID0gMDsKICAgICAgICAgICAgcCA9IHJ2LnBsdXJhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwID0gKG4gIT0gMSkgPyAxIDogMDsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZE9iamVjdCh0cmFuc1twXSkpCiAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdHJhbnNbcF07CiAgICB9CgogICAgcmV0dXJuIHRyYW5zbGF0aW9uOwp9OwoKCi8qCgo9aGVhZDIgc3RyYXJncyAoc3RyaW5nLCBhcmd1bWVudF9hcnJheSkKCiAgc3RyaW5nIDogYSBzdHJpbmcgdGhhdCBwb3RlbnRpYWxseSBjb250YWlucyBmb3JtYXR0aW5nIGNoYXJhY3RlcnMuCiAgYXJndW1lbnRfYXJyYXkgOiBhbiBhcnJheSBvZiBwb3NpdGlvbmFsIHJlcGxhY2VtZW50IHZhbHVlcwoKVGhpcyBpcyBhIHV0aWxpdHkgbWV0aG9kIHRvIHByb3ZpZGUgc29tZSB3YXkgdG8gc3VwcG9ydCBwb3NpdGlvbmFsIHBhcmFtZXRlcnMgd2l0aGluIGEgc3RyaW5nLCBhcyBqYXZhc2NyaXB0IGxhY2tzIGEgcHJpbnRmKCkgbWV0aG9kLgoKVGhlIGZvcm1hdCBpcyBzaW1pbGFyIHRvIHByaW50ZigpLCBidXQgZ3JlYXRseSBzaW1wbGlmaWVkIChpZS4gZmV3ZXIgZmVhdHVyZXMpLgoKQW55IHBlcmNlbnQgc2lnbnMgZm9sbG93ZWQgYnkgbnVtYmVycyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgY29ycm9zcG9uZGluZyBpdGVtIGZyb20gdGhlIEI8YXJndW1lbnRfYXJyYXk+LgoKRXhhbXBsZToKCiAgICB2YXIgc3RyaW5nID0gIiUyIHJvc2VzIGFyZSByZWQsICUxIHZpb2xldHMgYXJlIGJsdWUiOwogICAgdmFyIGFyZ3MgICA9IG5ldyBBcnJheSgiMTAiLCAiMTUiKTsKICAgIHZhciByZXN1bHQgPSBHZXR0ZXh0LnN0cmFyZ3Moc3RyaW5nLCBhcmdzKTsKICAgIC8vIHJlc3VsdCBpcyAiMTUgcm9zZXMgYXJlIHJlZCwgMTAgdmlvbGV0cyBhcmUgYmx1ZSIKClRoZSBmb3JtYXQgbnVtYmVycyBhcmUgMSBiYXNlZCwgc28gdGhlIGZpcnN0IGl0bWUgaXMgJTEuCgpBIGxvbmUgcGVyY2VudCBzaWduIG1heSBiZSBlc2NhcGVkIGJ5IHByZWNlZWRpbmcgaXQgd2l0aCBhbm90aGVyIHBlcmNlbnQgc2lnbi4KCkEgcGVyY2VudCBzaWduIGZvbGxvd2VkIGJ5IGFueXRoaW5nIG90aGVyIHRoYW4gYSBudW1iZXIgb3IgYW5vdGhlciBwZXJjZW50IHNpZ24gd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCBhcyBpcy4KClNvbWUgbW9yZSBleGFtcGxlcyBzaG91bGQgY2xlYXIgdXAgYW55IGFibWlndWl0eS4gVGhlIGZvbGxvd2luZyB3ZXJlIGNhbGxlZCB3aXRoIHRoZSBvcmlnIHN0cmluZywgYW5kIHRoZSBhcnJheSBhcyBBcnJheSgiW29uZV0iLCAiW3R3b10iKSA6CgogIG9yaWcgc3RyaW5nICJibGFoIiBiZWNvbWVzICJibGFoIgogIG9yaWcgc3RyaW5nICIiIGJlY29tZXMgIiIKICBvcmlnIHN0cmluZyAiJSUiIGJlY29tZXMgIiUiCiAgb3JpZyBzdHJpbmcgIiUlJSIgYmVjb21lcyAiJSUiCiAgb3JpZyBzdHJpbmcgIiUlJSUiIGJlY29tZXMgIiUlIgogIG9yaWcgc3RyaW5nICIlJSUlJSIgYmVjb21lcyAiJSUlIgogIG9yaWcgc3RyaW5nICJ0b20lJWRpY2siIGJlY29tZXMgInRvbSVkaWNrIgogIG9yaWcgc3RyaW5nICJ0aGluZyUxYm9iIiBiZWNvbWVzICJ0aGluZ1tvbmVdYm9iIgogIG9yaWcgc3RyaW5nICJ0aGluZyUxJTJib2IiIGJlY29tZXMgInRoaW5nW29uZV1bdHdvXWJvYiIKICBvcmlnIHN0cmluZyAidGhpbmclMWFzZGYlMmFzZGYiIGJlY29tZXMgInRoaW5nW29uZV1hc2RmW3R3b11hc2RmIgogIG9yaWcgc3RyaW5nICIlMSUyJTMiIGJlY29tZXMgIltvbmVdW3R3b10iCiAgb3JpZyBzdHJpbmcgInRvbSUxJSUyJWFEaWNrIiBiZWNvbWVzICJ0b21bb25lXSUyJWFEaWNrIgoKVGhpcyBpcyBlc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHVzaW5nIHBsdXJhbHMsIGFzIHRoZSBzdHJpbmcgd2lsbCBuZWFybHkgYWx3YXlzIGNvbnRhaW4gdGhlIG51bWJlci4KCkl0J3MgYWxzbyB1c2VmdWwgaW4gdHJhbnNsYXRlZCBzdHJpbmdzIHdoZXJlIHRoZSB0cmFuc2xhdG9yIG1heSBoYXZlIG5lZWRlZCB0byBtb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGFyYW1ldGVycy4KCkZvciBleGFtcGxlOgoKICB2YXIgY291bnQgPSAxNDsKICBHZXR0ZXh0LnN0cmFyZ3MoIGd0Lm5nZXR0ZXh0KCdvbmUgYmFuYW5hJywgJyUxIGJhbmFuYXMnLCBjb3VudCksIFtjb3VudF0gKTsKCk5PVEU6IHRoaXMgbWF5IGJlIGNhbGxlZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QsIG9yIGFzIGEgY2xhc3MgbWV0aG9kLgoKICAvLyBpbnN0YW5jZSBtZXRob2Q6CiAgdmFyIGd0ID0gbmV3IEdldHRleHQocGFyYW1zKTsKICBndC5zdHJhcmdzKHN0cmluZywgYXJncyk7CgogIC8vIGNsYXNzIG1ldGhvZDoKICBHZXR0ZXh0LnN0cmFyZ3Moc3RyaW5nLCBhcmdzKTsKCj1jdXQKCiovCi8qIHV0aWxpdHkgbWV0aG9kLCBzaW5jZSBqYXZhc2NyaXB0IGxhY2tzIGEgcHJpbnRmICovCkdldHRleHQuc3RyYXJncyA9IGZ1bmN0aW9uIChzdHIsIGFyZ3MpIHsKICAgIC8vIG1ha2Ugc3VyZSBhcmdzIGlzIGFuIGFycmF5CiAgICBpZiAoIG51bGwgPT0gYXJncyB8fAogICAgICAgICAndW5kZWZpbmVkJyA9PSB0eXBlb2YoYXJncykgKSB7CiAgICAgICAgYXJncyA9IFtdOwogICAgfSBlbHNlIGlmIChhcmdzLmNvbnN0cnVjdG9yICE9IEFycmF5KSB7CiAgICAgICAgYXJncyA9IFthcmdzXTsKICAgIH0KCiAgICAvLyBOT1RFOiBqYXZhc2NyaXB0IGxhY2tzIHN1cHBvcnQgZm9yIHplcm8gbGVuZ3RoIG5lZ2F0aXZlIGxvb2stYmVoaW5kCiAgICAvLyBpbiByZWdleCwgc28gd2UgbXVzdCBzdGVwIHRocm91Z2ggdy8gaW5kZXguCiAgICAvLyBUaGUgcGVybCBlcXVpdiB3b3VsZCBzaW1wbHkgYmU6CiAgICAvLyAgICAkc3RyaW5nID1+IHMvKD88IVwlKVwlKFswLTldKykvJGFyZ3NbJDFdL2c7CiAgICAvLyAgICAkc3RyaW5nID1+IHMvXCVcJS9cJS9nOyAjIHJlc3RvcmUgZXNjYXBlZCBwZXJjZW50IHNpZ25zCgogICAgdmFyIG5ld3N0ciA9ICIiOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgICB2YXIgaSA9IHN0ci5pbmRleE9mKCclJyk7CiAgICAgICAgdmFyIG1hdGNoX247CgogICAgICAgIC8vIG5vIG1vcmUgZm91bmQuIEFwcGVuZCB3aGF0ZXZlciByZW1haW5zCiAgICAgICAgaWYgKGkgPT0gLTEpIHsKICAgICAgICAgICAgbmV3c3RyICs9IHN0cjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICAvLyB3ZSBmb3VuZCBpdCwgYXBwZW5kIGV2ZXJ5dGhpbmcgdXAgdG8gdGhhdAogICAgICAgIG5ld3N0ciArPSBzdHIuc3Vic3RyKDAsIGkpOwoKICAgICAgICAvLyBjaGVjayBmb3IgZXNjcGFlZCAlJQogICAgICAgIGlmIChzdHIuc3Vic3RyKGksIDIpID09ICclJScpIHsKICAgICAgICAgICAgbmV3c3RyICs9ICclJzsKICAgICAgICAgICAgc3RyID0gc3RyLnN1YnN0cigoaSsyKSk7CgogICAgICAgIC8vICUgZm9sbG93ZWQgYnkgbnVtYmVyCiAgICAgICAgfSBlbHNlIGlmICggbWF0Y2hfbiA9IHN0ci5zdWJzdHIoaSkubWF0Y2goL14lKFxkKykvKSApIHsKICAgICAgICAgICAgdmFyIGFyZ19uID0gcGFyc2VJbnQobWF0Y2hfblsxXSk7CiAgICAgICAgICAgIHZhciBsZW5ndGhfbiA9IG1hdGNoX25bMV0ubGVuZ3RoOwogICAgICAgICAgICBpZiAoIGFyZ19uID4gMCAmJiBhcmdzW2FyZ19uIC0xXSAhPSBudWxsICYmIHR5cGVvZihhcmdzW2FyZ19uIC0xXSkgIT0gJ3VuZGVmaW5lZCcgKQogICAgICAgICAgICAgICAgbmV3c3RyICs9IGFyZ3NbYXJnX24gLTFdOwogICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKCAoaSArIDEgKyBsZW5ndGhfbikgKTsKCiAgICAgICAgLy8gJSBmb2xsb3dlZCBieSBzb21lIG90aGVyIGdhcmJhZ2UgLSBqdXN0IHJlbW92ZSB0aGUgJQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld3N0ciArPSAnJSc7CiAgICAgICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoKGkrMSkpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbmV3c3RyOwp9CgovKiBpbnN0YW5jZSBtZXRob2Qgd3JhcHBlciBvZiBzdHJhcmdzICovCkdldHRleHQucHJvdG90eXBlLnN0cmFyZ3MgPSBmdW5jdGlvbiAoc3RyLCBhcmdzKSB7CiAgICByZXR1cm4gR2V0dGV4dC5zdHJhcmdzKHN0ciwgYXJncyk7Cn0KCi8qIHZlcmlmeSB0aGF0IHNvbWV0aGluZyBpcyBhbiBhcnJheSAqLwpHZXR0ZXh0LnByb3RvdHlwZS5pc0FycmF5ID0gZnVuY3Rpb24gKHRoaXNPYmplY3QpIHsKICAgIHJldHVybiB0aGlzLmlzVmFsaWRPYmplY3QodGhpc09iamVjdCkgJiYgdGhpc09iamVjdC5jb25zdHJ1Y3RvciA9PSBBcnJheTsKfTsKCi8qIHZlcmlmeSB0aGF0IGFuIG9iamVjdCBleGlzdHMgYW5kIGlzIHZhbGlkICovCkdldHRleHQucHJvdG90eXBlLmlzVmFsaWRPYmplY3QgPSBmdW5jdGlvbiAodGhpc09iamVjdCkgewogICAgaWYgKG51bGwgPT0gdGhpc09iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSBpZiAoJ3VuZGVmaW5lZCcgPT0gdHlwZW9mKHRoaXNPYmplY3QpICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn07CgpHZXR0ZXh0LnByb3RvdHlwZS5zamF4ID0gZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIHhtbGh0dHA7CiAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7CiAgICAgICAgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignbXNpZSA1JykgIT0gLTEpIHsKICAgICAgICB4bWxodHRwID0gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7CiAgICB9IGVsc2UgewogICAgICAgIHhtbGh0dHAgPSBuZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKTsKICAgIH0KCiAgICBpZiAoISB4bWxodHRwKQogICAgICAgIHRocm93IG5ldyBFcnJvcigiWW91ciBicm93c2VyIGRvZXNuJ3QgZG8gQWpheC4gVW5hYmxlIHRvIHN1cHBvcnQgZXh0ZXJuYWwgbGFuZ3VhZ2UgZmlsZXMuIik7CgogICAgeG1saHR0cC5vcGVuKCdHRVQnLCB1cmksIGZhbHNlKTsKICAgIHRyeSB7IHhtbGh0dHAuc2VuZChudWxsKTsgfQogICAgY2F0Y2ggKGUpIHsgcmV0dXJuOyB9CgogICAgLy8gd2UgY29uc2lkZXIgc3RhdHVzIDIwMCBhbmQgMCBhcyBvay4KICAgIC8vIDAgaGFwcGVucyB3aGVuIHdlIHJlcXVlc3QgbG9jYWwgZmlsZSwgYWxsb3dpbmcgdGhpcyB0byBydW4gb24gbG9jYWwgZmlsZXMKICAgIHZhciBzamF4X3N0YXR1cyA9IHhtbGh0dHAuc3RhdHVzOwogICAgaWYgKHNqYXhfc3RhdHVzID09IDIwMCB8fCBzamF4X3N0YXR1cyA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHhtbGh0dHAucmVzcG9uc2VUZXh0OwogICAgfSBlbHNlIHsKICAgICAgICB2YXIgZXJyb3IgPSB4bWxodHRwLnN0YXR1c1RleHQgKyAiIChFcnJvciAiICsgeG1saHR0cC5zdGF0dXMgKyAiKSI7CiAgICAgICAgaWYgKHhtbGh0dHAucmVzcG9uc2VUZXh0Lmxlbmd0aCkgewogICAgICAgICAgICBlcnJvciArPSAiXG4iICsgeG1saHR0cC5yZXNwb25zZVRleHQ7CiAgICAgICAgfQogICAgICAgIGFsZXJ0KGVycm9yKTsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCkdldHRleHQucHJvdG90eXBlLkpTT04gPSBmdW5jdGlvbiAoZGF0YSkgewogICAgcmV0dXJuIGV2YWwoJygnICsgZGF0YSArICcpJyk7Cn0KCgovKgoKPWhlYWQxIE5PVEVTCgpUaGVzZSBhcmUgc29tZSBub3RlcyBvbiB0aGUgaW50ZXJuYWxzCgo9b3ZlcgoKPWl0ZW0gTE9DQUxFIENBQ0hJTkcKCkxvYWRlZCBsb2NhbGUgZGF0YSBpcyBjdXJyZW50bHkgY2FjaGVkIGNsYXNzLXdpZGUuIFRoaXMgbWVhbnMgdGhhdCBpZiB0d28gc2NyaXB0cyBhcmUgYm90aCB1c2luZyBHZXR0ZXh0LmpzLCBhbmQgYm90aCBzaGFyZSB0aGUgc2FtZSBnZXR0ZXh0IGRvbWFpbiwgdGhhdCBkb21haW4gd2lsbCBvbmx5IGJlIGxvYWRlZCBvbmNlLiBUaGlzIHdpbGwgYWxsb3cgeW91IHRvIGdyYWIgYSBuZXcgb2JqZWN0IG1hbnkgdGltZXMgZnJvbSBkaWZmZXJlbnQgcGxhY2VzLCB1dGlsaXplIHRoZSBzYW1lIGRvbWFpbiwgYW5kIHNoYXJlIGEgc2luZ2xlIHRyYW5zbGF0aW9uIGZpbGUuIFRoZSBkb3duc2lkZSBpcyB0aGF0IGEgZG9tYWluIHdvbid0IGJlIFJFLWxvYWRlZCBpZiBhIG5ldyBvYmplY3QgaXMgaW5zdGFudGlhdGVkIG9uIGEgZG9tYWluIHRoYXQgaGFkIGFscmVhZHkgYmVlbiBpbnN0YW50aWF0ZWQuCgo9YmFjawoKPWhlYWQxIEJVR1MgLyBUT0RPCgo9b3ZlcgoKPWl0ZW0gZXJyb3IgaGFuZGxpbmcKCkN1cnJlbnRseSwgdGhlcmUgYXJlIHNldmVyYWwgcGxhY2VzIHRoYXQgdGhyb3cgZXJyb3JzLiBJbiBHTlUgR2V0dGV4dCwgdGhlcmUgYXJlIG5vIGZhdGFsIGVycm9ycywgd2hpY2ggYWxsb3dzIHRleHQgdG8gc3RpbGwgYmUgZGlzcGxheWVkIHJlZ2FyZGxlc3Mgb2YgaG93IGJyb2tlbiB0aGUgZW52aXJvbm1lbnQgYmVjb21lcy4gV2Ugc2hvdWxkIGV2YWx1YXRlIGFuZCBkZXRlcm1pbmUgd2hlcmUgd2Ugd2FudCB0byBzdGFuZCBvbiB0aGF0IGlzc3VlLgoKPWl0ZW0gc3luY3Jvbm91cyBvbmx5IHN1cHBvcnQgKG5vIGFqYXggc3VwcG9ydCkKCkN1cnJlbnRseSwgZmV0Y2hpbmcgbGFuZ3VhZ2UgZGF0YSBpcyBkb25lIHB1cmVseSBzeW5jcm9ub3VzLCB3aGljaCBtZWFucyB0aGUgcGFnZSB3aWxsIGhhbHQgd2hpbGUgdGhvc2UgZmlsZXMgYXJlIGZldGNoZWQvbG9hZGVkLgoKVGhpcyBpcyBvZnRlbiB3aGF0IHlvdSB3YW50LCBhcyB0aGVuIGZvbGxvd2luZyB0cmFuc2xhdGlvbiByZXF1ZXN0cyB3aWxsIGFjdHVhbGx5IGJlIHRyYW5zbGF0ZWQuIEhvd2V2ZXIsIGlmIGFsbCB5b3VyIGNhbGxzIGFyZSBkb25lIGR5bmFtaWNhbGx5IChpZS4gZXJyb3IgaGFuZGxpbmcgb25seSBvciBzb21ldGhpbmcpLCBsb2FkaW5nIGluIHRoZSBiYWNrZ3JvdW5kIG1heSBiZSBtb3JlIGFkdmVudGFnb3VzLgoKSXQncyBzdGlsbCByZWNvbW1lbmRlZCB0byB1c2UgdGhlIHN0YXRpY2FsbHkgZGVmaW5lZCA8c2NyaXB0IC4uLj4gbWV0aG9kLCB3aGljaCBzaG91bGQgaGF2ZSB0aGUgc2FtZSBkZWxheSwgYnV0IGl0IHdpbGwgY2FjaGUgdGhlIHJlc3VsdC4KCj1pdGVtIGRvbWFpbiBzdXBwb3J0Cgpkb21haW4gc3VwcG9ydCB3aGlsZSB1c2luZyBzaG9ydGN1dCBtZXRob2RzIGxpa2UgQzxfKCdzdHJpbmcnKT4gb3IgQzxpMThuKCdzdHJpbmcnKT4uCgpVbmRlciBub3JtYWwgYXBwcywgdGhlIGRvbWFpbiBpcyB1c3VhbGx5IHNldCBnbG9iYWxseSB0byB0aGUgYXBwLCBhbmQgYSBzaW5nbGUgbGFuZ3VhZ2UgZmlsZSBpcyB1c2VkLiBVbmRlciBqYXZhc2NyaXB0LCB5b3UgbWF5IGhhdmUgbXVsdGlwbGUgbGlicmFyaWVzIG9yIGFwcGxpY2F0aW9ucyBuZWVkaW5nIHRyYW5zbGF0aW9uIHN1cHBvcnQsIGJ1dCB0aGUgbmFtZXNwYWNlIGlzIGVzc2VudGlhbGx5IGdsb2JhbC4KCkl0J3MgcmVjb21tZW5kZWQgdGhhdCB5b3VyIGFwcCBpbml0aWFsaXplIGl0J3Mgb3duIHNob3J0Y3V0IHdpdGggaXQncyBvd24gZG9tYWluLiAgKFNlZSBleGFtcGxlcy93cmFwcGVyL2kxOG4uanMgZm9yIGFuIGV4YW1wbGUuKQoKQmFzaWNhbGx5LCB5b3UnbGwgd2FudCB0byBhY2NvbXBsaXNoIHNvbWV0aGluZyBsaWtlIHRoaXM6CgogICAgLy8gaW4gc29tZSBvdGhlciAuanMgZmlsZSB0aGF0IG5lZWRzIGkxOG4KICAgIHRoaXMuaTE4bk9iaiA9IG5ldyBpMThuOwogICAgdGhpcy5pMThuID0gdGhpcy5pMThuT2JqLmluaXQoJ2RvbWFpbicpOwogICAgLy8gZG8gdHJhbnNsYXRpb24KICAgIGFsZXJ0KCB0aGlzLmkxOG4oInN0cmluZyIpICk7CgpJZiB5b3UgdXNlIHRoaXMgcmF3IEdldHRleHQgb2JqZWN0LCB0aGVuIHRoaXMgaXMgYWxsIGhhbmRsZWQgZm9yIHlvdSwgYXMgeW91IGhhdmUgeW91ciBvd24gb2JqZWN0IHRoZW4sIGFuZCB3aWxsIGJlIGNhbGxpbmcgQzxteUdldHRleHRPYmplY3QuZ2V0dGV4dCgnc3RyaW5nJyk+IGFuZCBzdWNoLgoKCj1pdGVtIGVuY29kaW5nCgpNYXkgd2FudCB0byBhZGQgZW5jb2RpbmcvcmVlbmNvZGluZyBzdHVmZi4gU2VlIEdOVSBpY29udiwgb3IgdGhlIHBlcmwgbW9kdWxlIExvY2FsZTo6UmVjb2RlIGZyb20gbGliaW50bC1wZXJsLgoKPWJhY2sKCgo9aGVhZDEgQ09NUEFUQUJJTElUWQoKVGhpcyBoYXMgYmVlbiB0ZXN0ZWQgb24gdGhlIGZvbGxvd2luZyBicm93c2Vycy4gSXQgbWF5IHdvcmsgb24gb3RoZXJzLCBidXQgdGhlc2UgYXJlIGFsbCB0aG9zZSB0byB3aGljaCBJIGhhdmUgYWNjZXNzLgoKICAgIEZGMS41LCBGRjIsIEZGMywgSUU2LCBJRTcsIE9wZXJhOSwgT3BlcmExMCwgU2FmYXJpMy4xLCBDaHJvbWUKCiAgICAqRkYgPSBGaXJlZm94CiAgICAqSUUgPSBJbnRlcm5ldCBFeHBsb3JlcgoKCj1oZWFkMSBSRVFVSVJFUwoKYmluL3BvMmpzb24gcmVxdWlyZXMgcGVybCwgYW5kIHRoZSBwZXJsIG1vZHVsZXMgTG9jYWxlOjpQTyBhbmQgSlNPTi4KCj1oZWFkMSBTRUUgQUxTTwoKYmluL3BvMmpzb24gKGluY2x1ZGVkKSwKZXhhbXBsZXMvbm9ybWFsL2luZGV4Lmh0bWwsCmV4YW1wbGVzL3dyYXBwZXIvaTE4bi5odG1sLCBleGFtcGxlcy93cmFwcGVyL2kxOG4uanMsCkxvY2FsZTo6Z2V0dGV4dF9wcCgzcG0pLCBQT1NJWCgzcG0pLCBnZXR0ZXh0KDEpLCBnZXR0ZXh0KDMpCgo9aGVhZDEgQVVUSE9SCgpDb3B5cmlnaHQgKEMpIDIwMDgsIEpvc2h1YSBJLiBNaWxsZXIgRTxsdD51bnJ0c3RAY3Bhbi5vcmdFPGd0PiwgYWxsIHJpZ2h0cyByZXNlcnZlZC4gU2VlIHRoZSBzb3VyY2UgY29kZSBmb3IgZGV0YWlscy4KCj1jdXQKCiovCgo="}]}]}